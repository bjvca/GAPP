GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
  20  101
  21  102
  22  103
  23  105
  24  106
  25  107
  26  108
  27  109
  28  110
  29  111
  30  112
  31  113
  32  114
  33  115
  34  116
  35  117
  36  118
  37  119
  38  121
  39  122
  40  123
  41  125
  42  127
  43  131
  44  132
  45  134
  46  135
  47  136
  48  138
  49  139
  50  140
  51  141
  52  143
  53  144
  54  145
  55  146
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  147
  57  150
  58  154
  59  /
  60   
  61   reg        4 spatial domains /1*4/
  62   r(reg)     all included spatial regions /1*4/
  63   
  64   ptit       price table titles
  65  /
  66    count      number of observations making up the price average
  67    price_uw5  average price
  68  /
  69   
  70   qtit       quantity table titles
  71  /
  72    calperg          calories per gram
  73    quan5            quantities in grams
  74    calpp            calories per person by region
  75    povline_a_flex5    value of flexible food bundle
  76  /
  77   
  78   
  79    posquan(cod,reg)  mark positive quantities in each region
  80    posprice(cod,reg) mark the existence of acceptable price info in each region
  81    chkprice(cod,reg) ensure that prices exist once all estimated
  82  ;
  83   
  84  alias(reg,regq);
  85  alias(r,rq);
  86   
  87  SCALAR
  88     caltarg single level of calories to target across regions / 2150 /
  89   ;
  90   
  91  PARAMETERS
  92   
  93    shr(cod,reg)         shares in each basket by region
  94    chkshr(reg)          check that the calculated shares sum to .9
  95    shrmiss(regq,reg)    shares missing in each region pair
  96    povline_ali(reg)       food poverty line
  97    perc_chng(reg)       percent change in line
  98    finmiss(reg)         final missing shares post optimization procedure
  99   ;
 100   
 101  Table  price(cod,reg,ptit)  price and related information
 102                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
 104  101     .       1       345     1.748068
 105  101     .       2       103     1.515606
 106  101     .       3       1       .4996984
 107  101     .       4       659     1.892602
 108  102     .       1       43      1.673133
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  102     .       2       25      1.715292
 110  102     .       4       208     1.721154
 111  103     .       1       38      1.735894
 112  103     .       2       18      2.082498
 113  103     .       4       92      1.375625
 114  105     .       1       496     1.21075
 115  105     .       2       381     1.161536
 116  105     .       3       65      .2088975
 117  105     .       4       595     1.411573
 118  106     .       1       8       .7938022
 119  106     .       2       42      1.377411
 120  106     .       3       3       .2814613
 121  106     .       4       18      1.085719
 122  107     .       1       442     .8370818
 123  107     .       2       217     .7425298
 124  107     .       3       63      .2483673
 125  107     .       4       521     .9629437
 126  108     .       1       77      .5079367
 127  108     .       2       234     1.535511
 128  108     .       3       34      2.028648
 129  108     .       4       269     .6566074
 130  109     .       1       41      1.303952
 131  109     .       2       7       .4002436
 132  109     .       4       243     1.592876
 133  110     .       1       149     1.093431
 134  110     .       2       125     .9784701
 135  110     .       3       2       .4544556
 136  110     .       4       165     1.050264
 137  111     .       1       16      .5003034
 138  111     .       2       46      .2314947
 139  111     .       3       19      .4337797
 140  111     .       4       58      .2784002
 141  112     .       1       133     .1241812
 142  112     .       2       92      .2128799
 143  112     .       3       9       .0939457
 144  112     .       4       119     .4568802
 145  113     .       1       577     .5555845
 146  113     .       2       394     .5089238
 147  113     .       3       113     .1468531
 148  113     .       4       651     .5167469
 149  114     .       1       142     .3110377
 150  114     .       2       32      .2747008
 151  114     .       3       2       .0484249
 152  114     .       4       168     .3269046
 153  115     .       1       47      .6160229
 154  115     .       2       128     .5267504
 155  115     .       3       19      .1151132
 156  115     .       4       386     .4970633
 157  116     .       1       5       .3943025
 158  116     .       2       138     .3913395
 159  116     .       3       100     .4020457
 160  116     .       4       86      .3136738
 161  117     .       1       173     2.142356
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  117     .       2       133     2.60186
 163  117     .       3       14      2.153752
 164  117     .       4       398     2.215678
 165  118     .       1       62      1.757614
 166  118     .       2       32      2.099968
 167  118     .       4       58      2.095537
 168  119     .       1       13      2.905285
 169  119     .       2       36      2.720159
 170  119     .       3       7       1.248977
 171  119     .       4       76      2.541301
 172  121     .       1       29      3.345839
 173  121     .       2       47      3.361212
 174  121     .       3       3       1.275079
 175  121     .       4       49      4.015878
 176  122     .       1       187     .8065314
 177  122     .       2       111     .9634506
 178  122     .       3       11      .342896
 179  122     .       4       82      1.192348
 180  123     .       1       197     .4332347
 181  123     .       2       206     .4723359
 182  123     .       3       59      .2834365
 183  123     .       4       121     1.055757
 184  125     .       1       257     .2878802
 185  125     .       2       155     .2567209
 186  125     .       3       12      .1646439
 187  125     .       4       396     .1906786
 188  127     .       1       456     .1356522
 189  127     .       2       425     .0930064
 190  127     .       3       115     .1722288
 191  127     .       4       323     .4518026
 192  131     .       1       100     .3522081
 193  131     .       2       27      .3016087
 194  131     .       3       3       .3529238
 195  131     .       4       269     .4098689
 196  132     .       1       75      .262513
 197  132     .       2       72      .479302
 198  132     .       3       9       .1786427
 199  132     .       4       78      .2484293
 200  134     .       1       266     .3851112
 201  134     .       2       90      .3570987
 202  134     .       3       9       .1571461
 203  134     .       4       218     .1710545
 204  135     .       1       552     .2080946
 205  135     .       2       414     .1041066
 206  135     .       3       104     .0883476
 207  135     .       4       709     .1406048
 208  136     .       1       580     .1332681
 209  136     .       2       461     .1416276
 210  136     .       3       66      .1192018
 211  136     .       4       730     .2100663
 212  138     .       1       249     .1158006
 213  138     .       2       299     .1202114
 214  138     .       3       38      .0824965
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  138     .       4       482     .1066527
 216  139     .       1       165     .1382682
 217  139     .       2       316     .1202919
 218  139     .       3       175     .089439
 219  139     .       4       113     .1819945
 220  140     .       1       138     .3779417
 221  140     .       2       54      .3384507
 222  140     .       3       4       .2213157
 223  140     .       4       238     .3889804
 224  141     .       1       482     .5253056
 225  141     .       2       308     .6274816
 226  141     .       3       146     .2292456
 227  141     .       4       883     .398907
 228  143     .       1       57      .76836
 229  143     .       2       91      .853075
 230  143     .       3       2       .2634305
 231  143     .       4       166     .6424828
 232  144     .       1       296     .9960631
 233  144     .       2       158     .6917264
 234  144     .       3       1       .119488
 235  144     .       4       279     .6917185
 236  145     .       1       5       .76367
 237  145     .       2       44      .3715828
 238  145     .       3       70      .1709436
 239  145     .       4       52      .5214094
 240  146     .       1       7       1.095627
 241  146     .       2       21      .5343095
 242  146     .       3       79      .2665432
 243  146     .       4       15      .367378
 244  147     .       1       542     1.545667
 245  147     .       2       415     1.552586
 246  147     .       3       40      .6824116
 247  147     .       4       525     1.686828
 248  150     .       1       791     .1888247
 249  150     .       2       655     .1750379
 250  150     .       3       215     .1567154
 251  150     .       4       1145    .2290161
 252  154     .       1       18      .2150307
 253  154     .       2       28      .5269596
 254  154     .       3       16      .2560094
 255  154     .       4       100     1.035972
 256  ;
 257   
 258  Table   quan(cod,reg,qtit)   quantity and related information
 259                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc
 261  101     .       1       6.8900000e-01   2.6123213e+01   2.0082173e+03   519.9971
 262  102     .       1       6.8900000e-01   2.6185408e+00   2.0082173e+03   519.9971
 263  103     .       1       6.8900000e-01   3.0592625e+00   2.0082173e+03   519.9971
 264  105     .       1       1.0164000e+00   5.4044064e+01   2.0082173e+03   519.9971
 265  107     .       1       1.3440000e+00   5.4054501e+01   2.0082173e+03   519.9971
 266  108     .       1       3.1400000e+00   1.3187472e+01   2.0082173e+03   519.9971
 267  110     .       1       3.6100000e+00   1.0795612e+01   2.0082173e+03   519.9971
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  112     .       1       9.4600000e-01   8.2736542e+01   2.0082173e+03   519.9971
 269  113     .       1       3.6500000e+00   1.0970820e+02   2.0082173e+03   519.9971
 270  114     .       1       2.6600000e+00   1.5226004e+01   2.0082173e+03   519.9971
 271  117     .       1       1.7982000e+00   7.5434232e+00   2.0082173e+03   519.9971
 272  118     .       1       2.3534000e+00   2.7338772e+00   2.0082173e+03   519.9971
 273  122     .       1       6.1610000e-01   1.7462721e+01   2.0082173e+03   519.9971
 274  123     .       1       3.7500000e+00   1.8712238e+01   2.0082173e+03   519.9971
 275  125     .       1       6.0000000e-01   6.3260586e+01   2.0082173e+03   519.9971
 276  127     .       1       8.8400000e+00   6.5575912e+01   2.0082173e+03   519.9971
 277  132     .       1       4.3310000e-01   1.4557354e+01   2.0082173e+03   519.9971
 278  134     .       1       4.9400000e-01   4.2287899e+01   2.0082173e+03   519.9971
 279  135     .       1       3.6400000e-01   2.4899429e+01   2.0082173e+03   519.9971
 280  136     .       1       1.6380000e-01   7.9928398e+01   2.0082173e+03   519.9971
 281  138     .       1       2.0160000e-01   5.5259766e+01   2.0082173e+03   519.9971
 282  140     .       1       1.0300000e+00   3.1888699e+01   2.0082173e+03   519.9971
 283  141     .       1       3.1300000e+00   6.1479343e+01   2.0082173e+03   519.9971
 284  144     .       1       5.8800000e+00   1.1627099e+01   2.0082173e+03   519.9971
 285  147     .       1       3.8700000e+00   2.2227512e+01   2.0082173e+03   519.9971
 286  150     .       1       0.0000000e+00   2.4388651e+01   2.0082173e+03   519.9971
 287  101     .       2       6.8900000e-01   6.9203086e+00   2.0029237e+03   360.9998
 288  102     .       2       6.8900000e-01   2.0009637e+00   2.0029237e+03   360.9998
 289  105     .       2       1.0164000e+00   4.5932354e+01   2.0029237e+03   360.9998
 290  106     .       2       3.4300000e+00   3.2866199e+00   2.0029237e+03   360.9998
 291  107     .       2       1.3440000e+00   2.0809435e+01   2.0029237e+03   360.9998
 292  108     .       2       3.1400000e+00   1.7969803e+01   2.0029237e+03   360.9998
 293  110     .       2       3.6100000e+00   7.9407673e+00   2.0029237e+03   360.9998
 294  112     .       2       9.4600000e-01   2.9223900e+01   2.0029237e+03   360.9998
 295  113     .       2       3.6500000e+00   9.2374138e+01   2.0029237e+03   360.9998
 296  115     .       2       3.7800000e+00   1.8350922e+01   2.0029237e+03   360.9998
 297  116     .       2       3.3900000e+00   1.1949077e+01   2.0029237e+03   360.9998
 298  117     .       2       1.7982000e+00   3.7077544e+00   2.0029237e+03   360.9998
 299  121     .       2       1.4835000e+00   1.3483399e+00   2.0029237e+03   360.9998
 300  122     .       2       6.1610000e-01   8.3984928e+00   2.0029237e+03   360.9998
 301  123     .       2       3.7500000e+00   1.7269489e+01   2.0029237e+03   360.9998
 302  125     .       2       6.0000000e-01   2.8681852e+01   2.0029237e+03   360.9998
 303  127     .       2       8.8400000e+00   1.0161735e+02   2.0029237e+03   360.9998
 304  132     .       2       4.3310000e-01   7.3668532e+00   2.0029237e+03   360.9998
 305  134     .       2       4.9400000e-01   9.9760303e+00   2.0029237e+03   360.9998
 306  136     .       2       1.6380000e-01   6.3931583e+01   2.0029237e+03   360.9998
 307  138     .       2       2.0160000e-01   9.0638008e+01   2.0029237e+03   360.9998
 308  139     .       2       2.6100000e-01   9.5694839e+01   2.0029237e+03   360.9998
 309  140     .       2       1.0300000e+00   9.3423891e+00   2.0029237e+03   360.9998
 310  141     .       2       3.1300000e+00   2.2913042e+01   2.0029237e+03   360.9998
 311  143     .       2       5.6700000e+00   4.1584983e+00   2.0029237e+03   360.9998
 312  144     .       2       5.8800000e+00   7.1180143e+00   2.0029237e+03   360.9998
 313  147     .       2       3.8700000e+00   1.2456279e+01   2.0029237e+03   360.9998
 314  150     .       2       0.0000000e+00   2.0359484e+01   2.0029237e+03   360.9998
 315  105     .       3       1.0164000e+00   4.4780342e+01   1.9871310e+03   152.7741
 316  107     .       3       1.3440000e+00   3.3541733e+01   1.9871310e+03   152.7741
 317  108     .       3       3.1400000e+00   3.1629474e+00   1.9871310e+03   152.7741
 318  111     .       3       3.6500000e+00   5.0891657e+00   1.9871310e+03   152.7741
 319  113     .       3       3.6500000e+00   1.4345508e+02   1.9871310e+03   152.7741
 320  115     .       3       3.7800000e+00   1.8341986e+01   1.9871310e+03   152.7741
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  116     .       3       3.3900000e+00   4.1285149e+01   1.9871310e+03   152.7741
 322  123     .       3       3.7500000e+00   1.5470366e+01   1.9871310e+03   152.7741
 323  127     .       3       8.8400000e+00   5.5764851e+01   1.9871310e+03   152.7741
 324  135     .       3       3.6400000e-01   2.2514315e+01   1.9871310e+03   152.7741
 325  136     .       3       1.6380000e-01   1.9752052e+01   1.9871310e+03   152.7741
 326  138     .       3       2.0160000e-01   2.3985580e+01   1.9871310e+03   152.7741
 327  139     .       3       2.6100000e-01   1.3843016e+02   1.9871310e+03   152.7741
 328  141     .       3       3.1300000e+00   8.5810692e+01   1.9871310e+03   152.7741
 329  145     .       3       8.1000000e-01   4.8235485e+01   1.9871310e+03   152.7741
 330  146     .       3       5.7300000e+00   1.9312674e+01   1.9871310e+03   152.7741
 331  147     .       3       3.8700000e+00   3.6384211e+00   1.9871310e+03   152.7741
 332  150     .       3       0.0000000e+00   2.0229908e+01   1.9871310e+03   152.7741
 333  101     .       4       6.8900000e-01   5.8021793e+01   2.0768691e+03   721.0607
 334  102     .       4       6.8900000e-01   1.7938169e+01   2.0768691e+03   721.0607
 335  103     .       4       6.8900000e-01   1.0626798e+01   2.0768691e+03   721.0607
 336  105     .       4       1.0164000e+00   4.3866127e+01   2.0768691e+03   721.0607
 337  107     .       4       1.3440000e+00   4.1453197e+01   2.0768691e+03   721.0607
 338  108     .       4       3.1400000e+00   3.4502888e+01   2.0768691e+03   721.0607
 339  109     .       4       6.4680000e-01   1.4229808e+01   2.0768691e+03   721.0607
 340  110     .       4       3.6100000e+00   7.4033742e+00   2.0768691e+03   721.0607
 341  112     .       4       9.4600000e-01   1.5044901e+01   2.0768691e+03   721.0607
 342  113     .       4       3.6500000e+00   9.2798347e+01   2.0768691e+03   721.0607
 343  115     .       4       3.7800000e+00   5.1040813e+01   2.0768691e+03   721.0607
 344  117     .       4       1.7982000e+00   1.5893396e+01   2.0768691e+03   721.0607
 345  119     .       4       1.2210000e+00   2.8099213e+00   2.0768691e+03   721.0607
 346  121     .       4       1.4835000e+00   1.2792335e+00   2.0768691e+03   721.0607
 347  123     .       4       3.7500000e+00   7.5701771e+00   2.0768691e+03   721.0607
 348  125     .       4       6.0000000e-01   1.0286847e+02   2.0768691e+03   721.0607
 349  127     .       4       8.8400000e+00   1.3370466e+01   2.0768691e+03   721.0607
 350  131     .       4       6.2080000e-01   1.3863841e+01   2.0768691e+03   721.0607
 351  134     .       4       4.9400000e-01   3.3025555e+01   2.0768691e+03   721.0607
 352  135     .       4       3.6400000e-01   3.4728008e+01   2.0768691e+03   721.0607
 353  136     .       4       1.6380000e-01   5.4429249e+01   2.0768691e+03   721.0607
 354  138     .       4       2.0160000e-01   8.3964134e+01   2.0768691e+03   721.0607
 355  140     .       4       1.0300000e+00   4.2624115e+01   2.0768691e+03   721.0607
 356  141     .       4       3.1300000e+00   1.8137247e+02   2.0768691e+03   721.0607
 357  143     .       4       5.6700000e+00   1.0055145e+01   2.0768691e+03   721.0607
 358  144     .       4       5.8800000e+00   1.7006762e+01   2.0768691e+03   721.0607
 359  147     .       4       3.8700000e+00   1.1227709e+01   2.0768691e+03   721.0607
 360  150     .       4       0.0000000e+00   3.4840622e+01   2.0768691e+03   721.0607
 361  154     .       4       8.1000000e-01   6.4685264e+00   2.0768691e+03   721.0607
 362  ;
 363   
 364    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 365                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 366                         quan(cod,reg,'povline_a_flex5');
 367   
 368    chkshr(reg)=sum(cod,shr(cod,reg));
 369   
 370  loop(reg,
 371    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 372  );
 373   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375  *turn on dynamic sets to indicate positive quantities and existence of
 376  *price info for each region
 377   
 378   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 379                        AND price(cod,reg,'count') gt 4) = yes;
 380   
 381   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 382   
 383   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 384   display shrmiss;
 385   
 386    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 387                                             quan(cod,reg,'quan5'))/.9;
 388   
 389    display povline_ali;
 390   
 391   
 392  *boost values so shares sum to one;
 393  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 394   
 395  *fill out price matrix with maximum observed price outside of Maputo
 396   
 397  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 398           loop(r,
 399                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 400                                                price(cod,r,'price_uw5'));
 401           );
 402  );
 403   
 404  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 405   
 406  display 'should be an empty set', chkprice;
 407   
 408   
 409   
 410   
 411  Variables
 412     z                objective value
 413     q(cod,reg)       revised maximum entropy quanties in grams
 414     s(cod,reg)       derived maximum entropy shares
 415     povline(regq,reg)  estimated revealed preference matrix
 416  ;
 417   
 418   
 419  Equations
 420     obj              objective equation
 421     rev(regq,reg)    revealed preference tests
 422     deflin(regq,reg) define revealed preference matrix
 423     defshr(cod,regq) define the endogenous budget shares
 424     cals(regq)       ensure that each bundle hits the calorie
 425   
 426  ;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/30/13 21:06:05 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427   
 428     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 429                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 430   
 431     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 432                            q(cod,rq)*price(cod,r,'price_uw5'));
 433   
 434     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 435   
 436     defshr(cod,rq)$posquan(cod,rq) ..
 437               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 438   
 439     cals(rq) .. sum(cod$posquan(cod,rq),
 440                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 441   
 442  *set bounds and starting values for variables
 443   
 444    q.lo(cod,reg)=.00001;
 445    q.up(cod,reg)=inf;
 446    q.l(cod,reg)=quan(cod,reg,'quan5');
 447    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 448   
 449    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 450                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 451   
 452   
 453    display povline.l;
 454   
 455  *print the revealed preference matrix prior to optimisation;
 456  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv"/;
 457  put povline_rp;
 458  povline_rp.pc=5;
 459  povline_rp.nd=0;
 460  put " ";
 461  loop(reg,
 462        put reg.tl;
 463  );
 464  put /;
 465  loop(regq,
 466       put regq.tl;
 467       loop(reg,
 468           put povline.l(regq,reg);
 469       );
 470       put /;
 471  );
 472  put /; put /; put /;
 473   
 474     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 475     s.lo(cod,regq)=.0001;
 476     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 477   
 478   
 479     model revpref /obj, deflin, rev, defshr, cals/;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480   
 481     revpref.holdfixed=1;
 482   
 483     option limrow=100;
 484   
 485     option nlp=conopt;
 486   
 487     solve revpref using nlp minimizing z;
 488   
 489     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 490     display "this is without adjustment for calorie target or 90%", povline.l;
 491   
 492  put /;
 493  loop(rq,
 494       put rq.tl;
 495       loop(r,
 496           put povline.l(rq,r);
 497       );
 498       put /;
 499  );
 500  put /;
 501   
 502   
 503  PARAMETERS
 504     qent(cod,reg)  entropy quantities with all adjustments accounted for
 505     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 506    ;
 507  *readjust quantities to hit regional calorie target and calculate line;
 508     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 509   
 510     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 511                                             qent(cod,r))/.9;
 512   
 513     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 514   
 515     display perc_chng, povline_ent, povline_ali;
 516   
 517     file res/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv"/;
 518   
 519     put res;
 520     res.pc=5;
 521     res.nd=6;
 522   
 523  *recall that the basket reflects 90% of expenditure and 95% of calories";
 524     put "spdomain" ;
 525     put "product" ;
 526     put "quan5";
 527     put "qent";
 528     put "price";
 529     put "calperg";
 530   
 531     put /;
 532   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533     loop(reg,
 534         loop(cod,
 535             put reg.tl;
 536             put cod.tl;
 537             put quan(cod,reg,'quan5');
 538             put qent(cod,reg);
 539             put price(cod,reg,'price_uw5')
 540             put quan(cod,reg,'calperg');
 541             put /;
 542         );
 543     );
 544   
 545     file lin/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv"/;
 546   
 547     put lin;
 548     lin.pc=5;
 549  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 550   
 551     put "spdomain";
 552     put "flex";
 553     put "ent";
 554     put /;
 555   
 556     loop(reg,
 557           put reg.tl;
 558           put povline_ali(reg);
 559           put povline_ent(reg);
 560           put /;
 561     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
     3      103 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
     4      260 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc


COMPILATION TIME     =        0.004 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    384 PARAMETER shrmiss  shares missing in each region pair

            3

1       0.193
2       0.117
4       0.321


----    389 PARAMETER povline_ali  food poverty line

1 519.997,    2 361.000,    3 152.774,    4 721.061


----    406 should be an empty set

----    406 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    453 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     467.997     474.003     210.360     535.757
2     315.588     324.900     169.638     382.429
3     349.745     310.228     137.497     349.041
4     651.120     663.235     300.521     648.955

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


---- obj  =E=  objective equation

obj..  z - (1)*s(101,1) - (1)*s(101,2) - (1)*s(101,4) - (1)*s(102,1) - (1)*s(102,2) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3)
     
      - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3)
     
      - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2)
     
      - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(127,4) - (1)*s(131,4) - (1)*s(132,1) - (1)*s(132,2) - (1)*s(134,1) - (1)*s(134,2)
     
      - (1)*s(134,4) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2)
     
      - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(143,4) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4)
     
      - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 1.748068*q(101,1) - 1.673133*q(102,1) - 1.735894*q(103,1) - 1.21075*q(105,1) - 0.8370818*q(107,1) - 0.5079367*q(108,1) - 1.093431*q(110,1) - 0.1241812*q(112,1) - 0.5555845*q(113,1) - 0.3110377*q(114,1) - 2.142356*q(117,1)
     
      - 1.757614*q(118,1) - 0.8065314*q(122,1) - 0.4332347*q(123,1) - 0.2878802*q(125,1) - 0.1356522*q(127,1) - 0.262513*q(132,1) - 0.3851112*q(134,1) - 0.2080946*q(135,1) - 0.1332681*q(136,1) - 0.1158006*q(138,1) - 0.3779417*q(140,1) - 0.5253056*q(141,1)
     
      - 0.9960631*q(144,1) - 1.545667*q(147,1) - 0.1888247*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 1.515606*q(101,1) - 1.715292*q(102,1) - 2.082498*q(103,1) - 1.161536*q(105,1) - 0.7425298*q(107,1) - 1.535511*q(108,1) - 0.9784701*q(110,1) - 0.2128799*q(112,1) - 0.5089238*q(113,1) - 0.2747008*q(114,1) - 2.60186*q(117,1)
     
      - 2.099968*q(118,1) - 0.9634506*q(122,1) - 0.4723359*q(123,1) - 0.2567209*q(125,1) - 0.0930064*q(127,1) - 0.479302*q(132,1) - 0.3570987*q(134,1) - 0.1041066*q(135,1) - 0.1416276*q(136,1) - 0.1202114*q(138,1) - 0.3384507*q(140,1) - 0.6274816*q(141,1)
     
      - 0.6917264*q(144,1) - 1.552586*q(147,1) - 0.1750379*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.4996984*q(101,1) - 0.2088975*q(105,1) - 0.2483673*q(107,1) - 2.028648*q(108,1) - 0.4544556*q(110,1) - 0.0939457*q(112,1) - 0.1468531*q(113,1) - 0.0484249*q(114,1) - 2.153752*q(117,1) - 0.342896*q(122,1) - 0.2834365*q(123,1)
     
      - 0.1646439*q(125,1) - 0.1722288*q(127,1) - 0.1786427*q(132,1) - 0.1571461*q(134,1) - 0.0883476*q(135,1) - 0.1192018*q(136,1) - 0.0824965*q(138,1) - 0.2213157*q(140,1) - 0.2292456*q(141,1) - 0.119488*q(144,1) - 0.6824116*q(147,1)
     
      - 0.1567154*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 1.892602*q(101,1) - 1.721154*q(102,1) - 1.375625*q(103,1) - 1.411573*q(105,1) - 0.9629437*q(107,1) - 0.6566074*q(108,1) - 1.050264*q(110,1) - 0.4568802*q(112,1) - 0.5167469*q(113,1) - 0.3269046*q(114,1) - 2.215678*q(117,1)
     
      - 2.095537*q(118,1) - 1.192348*q(122,1) - 1.055757*q(123,1) - 0.1906786*q(125,1) - 0.4518026*q(127,1) - 0.2484293*q(132,1) - 0.1710545*q(134,1) - 0.1406048*q(135,1) - 0.2100663*q(136,1) - 0.1066527*q(138,1) - 0.3889804*q(140,1) - 0.398907*q(141,1)
     
      - 0.6917185*q(144,1) - 1.686828*q(147,1) - 0.2290161*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 1.748068*q(101,2) - 1.673133*q(102,2) - 1.21075*q(105,2) - 0.7938022*q(106,2) - 0.8370818*q(107,2) - 0.5079367*q(108,2) - 1.093431*q(110,2) - 0.1241812*q(112,2) - 0.5555845*q(113,2) - 0.6160229*q(115,2) - 0.3943025*q(116,2)
     
      - 2.142356*q(117,2) - 3.345839*q(121,2) - 0.8065314*q(122,2) - 0.4332347*q(123,2) - 0.2878802*q(125,2) - 0.1356522*q(127,2) - 0.262513*q(132,2) - 0.3851112*q(134,2) - 0.1332681*q(136,2) - 0.1158006*q(138,2) - 0.1382682*q(139,2) - 0.3779417*q(140,2)
     
      - 0.5253056*q(141,2) - 0.76836*q(143,2) - 0.9960631*q(144,2) - 1.545667*q(147,2) - 0.1888247*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 1.515606*q(101,2) - 1.715292*q(102,2) - 1.161536*q(105,2) - 1.377411*q(106,2) - 0.7425298*q(107,2) - 1.535511*q(108,2) - 0.9784701*q(110,2) - 0.2128799*q(112,2) - 0.5089238*q(113,2) - 0.5267504*q(115,2) - 0.3913395*q(116,2)
     
      - 2.60186*q(117,2) - 3.361212*q(121,2) - 0.9634506*q(122,2) - 0.4723359*q(123,2) - 0.2567209*q(125,2) - 0.0930064*q(127,2) - 0.479302*q(132,2) - 0.3570987*q(134,2) - 0.1416276*q(136,2) - 0.1202114*q(138,2) - 0.1202919*q(139,2) - 0.3384507*q(140,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


     deflin  =E=  define revealed preference matrix     
     
      - 0.6274816*q(141,2) - 0.853075*q(143,2) - 0.6917264*q(144,2) - 1.552586*q(147,2) - 0.1750379*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 0.4996984*q(101,2) - 0.2088975*q(105,2) - 0.2814613*q(106,2) - 0.2483673*q(107,2) - 2.028648*q(108,2) - 0.4544556*q(110,2) - 0.0939457*q(112,2) - 0.1468531*q(113,2) - 0.1151132*q(115,2) - 0.4020457*q(116,2) - 2.153752*q(117,2)
     
      - 1.275079*q(121,2) - 0.342896*q(122,2) - 0.2834365*q(123,2) - 0.1646439*q(125,2) - 0.1722288*q(127,2) - 0.1786427*q(132,2) - 0.1571461*q(134,2) - 0.1192018*q(136,2) - 0.0824965*q(138,2) - 0.089439*q(139,2) - 0.2213157*q(140,2) - 0.2292456*q(141,2)
     
      - 0.2634305*q(143,2) - 0.119488*q(144,2) - 0.6824116*q(147,2) - 0.1567154*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 1.892602*q(101,2) - 1.721154*q(102,2) - 1.411573*q(105,2) - 1.085719*q(106,2) - 0.9629437*q(107,2) - 0.6566074*q(108,2) - 1.050264*q(110,2) - 0.4568802*q(112,2) - 0.5167469*q(113,2) - 0.4970633*q(115,2) - 0.3136738*q(116,2)
     
      - 2.215678*q(117,2) - 4.015878*q(121,2) - 1.192348*q(122,2) - 1.055757*q(123,2) - 0.1906786*q(125,2) - 0.4518026*q(127,2) - 0.2484293*q(132,2) - 0.1710545*q(134,2) - 0.2100663*q(136,2) - 0.1066527*q(138,2) - 0.1819945*q(139,2) - 0.3889804*q(140,2)
     
      - 0.398907*q(141,2) - 0.6424828*q(143,2) - 0.6917185*q(144,2) - 1.686828*q(147,2) - 0.2290161*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 1.21075*q(105,3) - 0.8370818*q(107,3) - 0.5079367*q(108,3) - 0.5003034*q(111,3) - 0.5555845*q(113,3) - 0.6160229*q(115,3) - 0.3943025*q(116,3) - 0.4332347*q(123,3) - 0.1356522*q(127,3) - 0.2080946*q(135,3) - 0.1332681*q(136,3)
     
      - 0.1158006*q(138,3) - 0.1382682*q(139,3) - 0.5253056*q(141,3) - 0.76367*q(145,3) - 1.095627*q(146,3) - 1.545667*q(147,3) - 0.1888247*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 1.161536*q(105,3) - 0.7425298*q(107,3) - 1.535511*q(108,3) - 0.2314947*q(111,3) - 0.5089238*q(113,3) - 0.5267504*q(115,3) - 0.3913395*q(116,3) - 0.4723359*q(123,3) - 0.0930064*q(127,3) - 0.1041066*q(135,3) - 0.1416276*q(136,3)
     
      - 0.1202114*q(138,3) - 0.1202919*q(139,3) - 0.6274816*q(141,3) - 0.3715828*q(145,3) - 0.5343095*q(146,3) - 1.552586*q(147,3) - 0.1750379*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.2088975*q(105,3) - 0.2483673*q(107,3) - 2.028648*q(108,3) - 0.4337797*q(111,3) - 0.1468531*q(113,3) - 0.1151132*q(115,3) - 0.4020457*q(116,3) - 0.2834365*q(123,3) - 0.1722288*q(127,3) - 0.0883476*q(135,3) - 0.1192018*q(136,3)
     
      - 0.0824965*q(138,3) - 0.089439*q(139,3) - 0.2292456*q(141,3) - 0.1709436*q(145,3) - 0.2665432*q(146,3) - 0.6824116*q(147,3) - 0.1567154*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.411573*q(105,3) - 0.9629437*q(107,3) - 0.6566074*q(108,3) - 0.2784002*q(111,3) - 0.5167469*q(113,3) - 0.4970633*q(115,3) - 0.3136738*q(116,3) - 1.055757*q(123,3) - 0.4518026*q(127,3) - 0.1406048*q(135,3) - 0.2100663*q(136,3)
     
      - 0.1066527*q(138,3) - 0.1819945*q(139,3) - 0.398907*q(141,3) - 0.5214094*q(145,3) - 0.367378*q(146,3) - 1.686828*q(147,3) - 0.2290161*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 1.748068*q(101,4) - 1.673133*q(102,4) - 1.735894*q(103,4) - 1.21075*q(105,4) - 0.8370818*q(107,4) - 0.5079367*q(108,4) - 1.303952*q(109,4) - 1.093431*q(110,4) - 0.1241812*q(112,4) - 0.5555845*q(113,4) - 0.6160229*q(115,4)
     
      - 2.142356*q(117,4) - 2.905285*q(119,4) - 3.345839*q(121,4) - 0.4332347*q(123,4) - 0.2878802*q(125,4) - 0.1356522*q(127,4) - 0.3522081*q(131,4) - 0.3851112*q(134,4) - 0.2080946*q(135,4) - 0.1332681*q(136,4) - 0.1158006*q(138,4) - 0.3779417*q(140,4)
     
      - 0.5253056*q(141,4) - 0.76836*q(143,4) - 0.9960631*q(144,4) - 1.545667*q(147,4) - 0.1888247*q(150,4) - 0.2150307*q(154,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 1.515606*q(101,4) - 1.715292*q(102,4) - 2.082498*q(103,4) - 1.161536*q(105,4) - 0.7425298*q(107,4) - 1.535511*q(108,4) - 0.4002436*q(109,4) - 0.9784701*q(110,4) - 0.2128799*q(112,4) - 0.5089238*q(113,4) - 0.5267504*q(115,4)
     
      - 2.60186*q(117,4) - 2.720159*q(119,4) - 3.361212*q(121,4) - 0.4723359*q(123,4) - 0.2567209*q(125,4) - 0.0930064*q(127,4) - 0.3016087*q(131,4) - 0.3570987*q(134,4) - 0.1041066*q(135,4) - 0.1416276*q(136,4) - 0.1202114*q(138,4) - 0.3384507*q(140,4)
     
      - 0.6274816*q(141,4) - 0.853075*q(143,4) - 0.6917264*q(144,4) - 1.552586*q(147,4) - 0.1750379*q(150,4) - 0.5269596*q(154,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
deflin(4,3)..  - 0.4996984*q(101,4) - 0.2088975*q(105,4) - 0.2483673*q(107,4) - 2.028648*q(108,4) - 0.4544556*q(110,4) - 0.0939457*q(112,4) - 0.1468531*q(113,4) - 0.1151132*q(115,4) - 2.153752*q(117,4) - 1.248977*q(119,4) - 1.275079*q(121,4)
     
      - 0.2834365*q(123,4) - 0.1646439*q(125,4) - 0.1722288*q(127,4) - 0.3529238*q(131,4) - 0.1571461*q(134,4) - 0.0883476*q(135,4) - 0.1192018*q(136,4) - 0.0824965*q(138,4) - 0.2213157*q(140,4) - 0.2292456*q(141,4) - 0.2634305*q(143,4)
     
      - 0.119488*q(144,4) - 0.6824116*q(147,4) - 0.1567154*q(150,4) - 0.2560094*q(154,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


     deflin  =E=  define revealed preference matrix

deflin(4,4)..  - 1.892602*q(101,4) - 1.721154*q(102,4) - 1.375625*q(103,4) - 1.411573*q(105,4) - 0.9629437*q(107,4) - 0.6566074*q(108,4) - 1.592876*q(109,4) - 1.050264*q(110,4) - 0.4568802*q(112,4) - 0.5167469*q(113,4) - 0.4970633*q(115,4)
     
      - 2.215678*q(117,4) - 2.541301*q(119,4) - 4.015878*q(121,4) - 1.055757*q(123,4) - 0.1906786*q(125,4) - 0.4518026*q(127,4) - 0.4098689*q(131,4) - 0.1710545*q(134,4) - 0.1406048*q(135,4) - 0.2100663*q(136,4) - 0.1066527*q(138,4) - 0.3889804*q(140,4)
     
      - 0.398907*q(141,4) - 0.6424828*q(143,4) - 0.6917185*q(144,4) - 1.686828*q(147,4) - 0.2290161*q(150,4) - 1.035972*q(154,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -152.409638549393, INFES = 152.409638549393 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -118.25202305768, INFES = 118.25202305768 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 183.122827923659)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 149.103131675061)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -14.6719436579245, INFES = 14.6719436579245 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 338.335554020151)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 72.8629266348851)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 32.1415883254008)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 163.024166721498)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -113.197895832418, INFES = 113.197895832418 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -266.525926618976, INFES = 266.525926618976 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -299.913844137796, INFES = 299.913844137796 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(101,1)..  - 1.748068*q(101,1) + (467.997434304602)*s(101,1) + (0.0975756475467391)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(101,2)..  - 1.515606*q(101,2) + (324.899780423879)*s(101,2) + (0.0322821431960584)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(101,4)..  - 1.892602*q(101,4) + (648.954676776105)*s(101,4) + (0.169213914939197)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(102,1)..  - 1.673133*q(102,1) + (467.997434304602)*s(102,1) + (0.00936151932293472)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,2)..  - 1.715292*q(102,2) + (324.899780423879)*s(102,2) + (0.0105639869082784)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 1.721154*q(102,4) + (648.954676776105)*s(102,4) + (0.0475755124847924)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


     defshr  =E=  define the endogenous budget shares

defshr(103,1)..  - 1.735894*q(103,1) + (467.997434304602)*s(103,1) + (0.0113474028464835)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 1.375625*q(103,4) + (648.954676776105)*s(103,4) + (0.0225262094902715)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.21075*q(105,1) + (467.997434304602)*s(105,1) + (0.139816686356899)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 1.161536*q(105,2) + (324.899780423879)*s(105,2) + (0.164210891943782)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.2088975*q(105,3) + (137.496698320051)*s(105,3) + (0.0680343717866629)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 1.411573*q(105,4) + (648.954676776105)*s(105,4) + (0.0954153544210207)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 1.377411*q(106,2) + (324.899780423879)*s(106,2) + (0.0139336086874935)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.8370818*q(107,1) + (467.997434304602)*s(107,1) + (0.0966843740552038)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.7425298*q(107,2) + (324.899780423879)*s(107,2) + (0.0475581288128422)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.2483673*q(107,3) + (137.496698320051)*s(107,3) + (0.060588143310464)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.9629437*q(107,4) + (648.954676776105)*s(107,4) + (0.0615098346995666)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.5079367*q(108,1) + (467.997434304602)*s(108,1) + (0.0143129011358269)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 1.535511*q(108,2) + (324.899780423879)*s(108,2) + (0.0849272047470581)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 2.028648*q(108,3) + (137.496698320051)*s(108,3) + (0.0466666254209209)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.6566074*q(108,4) + (648.954676776105)*s(108,4) + (0.0349097593297526)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.592876*q(109,4) + (648.954676776105)*s(109,4) + (0.0349274309269337)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.093431*q(110,1) + (467.997434304602)*s(110,1) + (0.0252229092715262)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 0.9784701*q(110,2) + (324.899780423879)*s(110,2) + (0.0239144617579331)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.050264*q(110,4) + (648.954676776105)*s(110,4) + (0.0119815723332423)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.4337797*q(111,3) + (137.496698320051)*s(111,3) + (0.0160554893140613)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.1241812*q(112,1) + (467.997434304602)*s(112,1) + (0.0219538021285887)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.2128799*q(112,2) + (324.899780423879)*s(112,2) + (0.0191479997354679)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.4568802*q(112,4) + (648.954676776105)*s(112,4) + (0.010591983729908)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 0.5555845*q(113,1) + (467.997434304602)*s(113,1) + (0.130240405128436)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


     defshr  =E=  define the endogenous budget shares

defshr(113,2)..  - 0.5089238*q(113,2) + (324.899780423879)*s(113,2) + (0.144695072650869)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.1468531*q(113,3) + (137.496698320051)*s(113,3) + (0.153216938778491)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.5167469*q(113,4) + (648.954676776105)*s(113,4) + (0.0738930773649676)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.3110377*q(114,1) + (467.997434304602)*s(114,1) + (0.0101194171531898)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.5267504*q(115,2) + (324.899780423879)*s(115,2) + (0.0297518068225766)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.1151132*q(115,3) + (137.496698320051)*s(115,3) + (0.015356039298489)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.4970633*q(115,4) + (648.954676776105)*s(115,4) + (0.0390944327121568)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.3913395*q(116,2) + (324.899780423879)*s(116,2) + (0.0143925791902376)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.4020457*q(116,3) + (137.496698320051)*s(116,3) + (0.120719383316921)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 2.142356*q(117,1) + (467.997434304602)*s(117,1) + (0.0345315951936198)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.60186*q(117,2) + (324.899780423879)*s(117,2) + (0.0296924111509032)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.215678*q(117,4) + (648.954676776105)*s(117,4) + (0.0542636475592229)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 1.757614*q(118,1) + (467.997434304602)*s(118,1) + (0.0102673657776366)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 2.541301*q(119,4) + (648.954676776105)*s(119,4) + (0.0110036279345205)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.361212*q(121,2) + (324.899780423879)*s(121,2) + (0.0139490899195009)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 4.015878*q(121,4) + (648.954676776105)*s(121,4) + (0.00791618560333666)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.8065314*q(122,1) + (467.997434304602)*s(122,1) + (0.0300946795506843)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.9634506*q(122,2) + (324.899780423879)*s(122,2) + (0.0249047042035519)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.4332347*q(123,1) + (467.997434304602)*s(123,1) + (0.0173222975640977)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.4723359*q(123,2) + (324.899780423879)*s(123,2) + (0.0251062023455759)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.2834365*q(123,3) + (137.496698320051)*s(123,3) + (0.0318907031683942)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 1.055757*q(123,4) + (648.954676776105)*s(123,4) + (0.0123156019219538)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.2878802*q(125,1) + (467.997434304602)*s(125,1) + (0.0389136110903207)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.2567209*q(125,2) + (324.899780423879)*s(125,2) + (0.0226630835191713)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


     defshr  =E=  define the endogenous budget shares

defshr(125,4)..  - 0.1906786*q(125,4) + (648.954676776105)*s(125,4) + (0.0302252476878432)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.1356522*q(127,1) + (467.997434304602)*s(127,1) + (0.0190076185845426)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0930064*q(127,2) + (324.899780423879)*s(127,2) + (0.0290891667846304)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.1722288*q(127,3) + (137.496698320051)*s(127,3) + (0.0698512290640814)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 0.4518026*q(127,4) + (648.954676776105)*s(127,4) + (0.00930852572327748)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.4098689*q(131,4) + (648.954676776105)*s(131,4) + (0.00875616967378041)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,1)..  - 0.262513*q(132,1) + (467.997434304602)*s(132,1) + (0.00816563166907179)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.479302*q(132,2) + (324.899780423879)*s(132,2) + (0.0108678050439424)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.3851112*q(134,1) + (467.997434304602)*s(134,1) + (0.03479836070804)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.3570987*q(134,2) + (324.899780423879)*s(134,2) + (0.0109646963954328)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,4)..  - 0.1710545*q(134,4) + (648.954676776105)*s(134,4) + (0.0087050297962434)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.2080946*q(135,1) + (467.997434304602)*s(135,1) + (0.0110715066754212)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.0883476*q(135,3) + (137.496698320051)*s(135,3) + (0.0144664251592718)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.1406048*q(135,4) + (648.954676776105)*s(135,4) + (0.0075242922101986)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1332681*q(136,1) + (467.997434304602)*s(136,1) + (0.0227606071245486)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1416276*q(136,2) + (324.899780423879)*s(136,2) + (0.0278685219567644)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1192018*q(136,3) + (137.496698320051)*s(136,3) + (0.0171239031981195)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.2100663*q(136,4) + (648.954676776105)*s(136,4) + (0.0176187203180499)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.1158006*q(138,1) + (467.997434304602)*s(138,1) + (0.0136733955992046)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.1202114*q(138,2) + (324.899780423879)*s(138,2) + (0.0335356392690575)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.0824965*q(138,3) + (137.496698320051)*s(138,3) + (0.0143910830197836)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1066527*q(138,4) + (648.954676776105)*s(138,4) + (0.0137991171259428)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.1202919*q(139,2) + (324.899780423879)*s(139,2) + (0.0354303532876689)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.089439*q(139,3) + (137.496698320051)*s(139,3) + (0.090046199156147)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


     defshr  =E=  define the endogenous budget shares

defshr(140,1)..  - 0.3779417*q(140,1) + (467.997434304602)*s(140,1) + (0.0257524256062568)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.3384507*q(140,2) + (324.899780423879)*s(140,2) + (0.00973204145118892)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.3889804*q(140,4) + (648.954676776105)*s(140,4) + (0.0255486953029021)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 0.5253056*q(141,1) + (467.997434304602)*s(141,1) + (0.0690077355022441)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.6274816*q(141,2) + (324.899780423879)*s(141,2) + (0.0442521451884937)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.2292456*q(141,3) + (137.496698320051)*s(141,3) + (0.143070515978248)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.398907*q(141,4) + (648.954676776105)*s(141,4) + (0.111488136967771)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 0.853075*q(143,2) + (324.899780423879)*s(143,2) + (0.0109187852717052)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,4)..  - 0.6424828*q(143,4) + (648.954676776105)*s(143,4) + (0.00995486733541924)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 0.9960631*q(144,1) + (467.997434304602)*s(144,1) + (0.0247465550557037)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 0.6917264*q(144,2) + (324.899780423879)*s(144,2) + (0.0151545759755941)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.6917185*q(144,4) + (648.954676776105)*s(144,4) + (0.0181274476037957)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.1709436*q(145,3) + (137.496698320051)*s(145,3) + (0.0599690578347767)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.2665432*q(146,3) + (137.496698320051)*s(146,3) + (0.0374384402782864)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 1.545667*q(147,1) + (467.997434304602)*s(147,1) + (0.0734113678241722)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.552586*q(147,2) + (324.899780423879)*s(147,2) + (0.059524338127477)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.6824116*q(147,3) + (137.496698320051)*s(147,3) + (0.0180578937142571)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.686828*q(147,4) + (648.954676776105)*s(147,4) + (0.0291841858835793)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.1888247*q(150,1) + (467.997434304602)*s(150,1) + (0.00984018152860719)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.1750379*q(150,2) + (324.899780423879)*s(150,2) + (0.0109685556567452)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.1567154*q(150,3) + (137.496698320051)*s(150,3) + (0.0230575582026239)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(150,4)..  - 0.2290161*q(150,4) + (648.954676776105)*s(150,4) + (0.0122952552120478)*povline(4,4) =E= 0 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 487


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(101,1) + 0.689*q(102,1) + 0.689*q(103,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1) + 3.75*q(123,1)
     
      + 0.6*q(125,1) + 8.84*q(127,1) + 0.4331*q(132,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 1907.80636760252
     , INFES = 134.69363239748 ****)
     
cals(2)..  0.689*q(101,2) + 0.689*q(102,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.4835*q(121,2) + 0.6161*q(122,2)
     
      + 3.75*q(123,2) + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1902.77753853243, INFES = 139.72246146757 ****)
     
cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 3.75*q(123,3) + 8.84*q(127,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 3.13*q(141,3)
     
      + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) =E= 2042.5 ; (LHS = 1887.7743798844, INFES = 154.7256201156 ****)
     
cals(4)..  0.689*q(101,4) + 0.689*q(102,4) + 0.689*q(103,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 1.4835*q(121,4)
     
      + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4) + 0.6208*q(131,4) + 0.494*q(134,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.67*q(143,4) + 5.88*q(144,4) + 3.87*q(147,4) + 0.81*q(154,4) =E= 2042.5 ;
     
      (LHS = 1973.02585242935, INFES = 69.4741475706503 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 487


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(101,1)
                (.LO, .L, .UP, .M = 1E-5, 26.123213, +INF, 0)
       -1.7481  deflin(1,1)
       -1.5156  deflin(1,2)
       -0.4997  deflin(1,3)
       -1.8926  deflin(1,4)
       -1.7481  defshr(101,1)
        0.689   cals(1)

q(101,2)
                (.LO, .L, .UP, .M = 1E-5, 6.9203086, +INF, 0)
       -1.7481  deflin(2,1)
       -1.5156  deflin(2,2)
       -0.4997  deflin(2,3)
       -1.8926  deflin(2,4)
       -1.5156  defshr(101,2)
        0.689   cals(2)

q(101,4)
                (.LO, .L, .UP, .M = 1E-5, 58.021793, +INF, 0)
       -1.7481  deflin(4,1)
       -1.5156  deflin(4,2)
       -0.4997  deflin(4,3)
       -1.8926  deflin(4,4)
       -1.8926  defshr(101,4)
        0.689   cals(4)

REMAINING 98 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(101,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0975756475467391, +INF, 0)
      (-1)      obj
     (467.9974) defshr(101,1)

s(101,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0322821431960584, +INF, 0)
      (-1)      obj
     (324.8998) defshr(101,2)

s(101,4)
                (.LO, .L, .UP, .M = 0.0001, 0.169213914939197, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 487


     s  derived maximum entropy shares

     (648.9547) defshr(101,4)

REMAINING 98 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 467.997434304602, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.0976) defshr(101,1)
       (0.0094) defshr(102,1)
       (0.0113) defshr(103,1)
       (0.1398) defshr(105,1)
       (0.0967) defshr(107,1)
       (0.0143) defshr(108,1)
       (0.0252) defshr(110,1)
       (0.022)  defshr(112,1)
       (0.1302) defshr(113,1)
       (0.0101) defshr(114,1)
       (0.0345) defshr(117,1)
       (0.0103) defshr(118,1)
       (0.0301) defshr(122,1)
       (0.0173) defshr(123,1)
       (0.0389) defshr(125,1)
       (0.019)  defshr(127,1)
       (0.0082) defshr(132,1)
       (0.0348) defshr(134,1)
       (0.0111) defshr(135,1)
       (0.0228) defshr(136,1)
       (0.0137) defshr(138,1)
       (0.0258) defshr(140,1)
       (0.069)  defshr(141,1)
       (0.0247) defshr(144,1)
       (0.0734) defshr(147,1)
       (0.0098) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 474.00291209894, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 210.359624954936, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 487


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          134
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          219
NON ZERO ELEMENTS           939     NON LINEAR N-Z            303
DERIVATIVE POOL              10     CONSTANT POOL             117
CODE LENGTH                 911


GENERATION TIME      =        0.009 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.010 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  487

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0790

 RESOURCE USAGE, LIMIT          0.041      1000.000
 ITERATION COUNT, LIMIT        46    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 219 variables and 134 constraints
    with 939 Jacobian elements, 303 of which are nonlinear.
    The Hessian of the Lagrangian has 101 elements on the diagonal,
    101 elements below the diagonal, and 105 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.041 seconds
   of which: Function evaluations             0.010 = 24.4%
             1st Derivative evaluations       0.001 =  2.4%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0018      
1.2          .              .              .            -0.0003      
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .            -0.0004      
2.2          .              .              .            -0.0018      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .       -6.095726E-5      
3.1          .              .              .             EPS         
3.2          .              .              .       -2.984382E-5      
3.3          .              .              .            -0.0055      
3.4          .              .              .            -0.0004      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0015      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF            0.0004      
1.3          .            68.8331        +INF             .          
1.4          .            82.2481        +INF             .          
2.1          .              .            +INF            0.0003      
2.3          .              .            +INF      2.9843817E-5      
2.4          .            86.1313        +INF             .          
3.1          .            24.2757        +INF             .          
3.2          .            36.8953        +INF             .          
3.4          .            60.6736        +INF             .          
4.1          .             3.8848        +INF            EPS         
4.2          .              .            +INF      6.0957264E-5      
4.3          .              .            +INF            0.0004      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1          .              .              .             0.0021      
101.2          .              .              .             0.0024      
101.4          .              .              .             0.0015      
102.1          .              .              .             0.0022      
102.2          .              .              .             0.0023      
102.4          .              .              .             0.0015      
103.1          .              .              .             0.0022      
103.4          .              .              .             0.0016      
105.1          .              .              .             0.0022      
105.2          .              .              .             0.0023      
105.3          .              .              .             0.0080      
105.4          .              .              .             0.0016      
106.2          .              .              .             0.0021      
107.1          .              .              .             0.0022      
107.2          .              .              .             0.0023      
107.3          .              .              .             0.0066      
107.4          .              .              .             0.0017      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

108.1          .              .              .             0.0029      
108.2          .              .              .             0.0019      
108.3          .              .              .             0.0055      
108.4          .              .              .             0.0021      
109.4          .              .              .             0.0015      
110.1          .              .              .             0.0022      
110.2          .              .              .             0.0023      
110.4          .              .              .             0.0019      
111.3          .              .              .             0.0048      
112.1          .              .              .             0.0025      
112.2          .              .              .             0.0021      
112.4          .              .              .             0.0018      
113.1          .              .              .             0.0022      
113.2          .              .              .             0.0022      
113.3          .              .              .             0.0042      
113.4          .              .              .             0.0024      
114.1          .              .              .             0.0022      
115.2          .              .              .             0.0022      
115.3          .              .              .             0.0037      
115.4          .              .              .             0.0024      
116.2          .              .              .             0.0021      
116.3          .              .              .             0.0049      
117.1          .              .              .             0.0023      
117.2          .              .              .             0.0022      
117.4          .              .              .             0.0016      
118.1          .              .              .             0.0023      
119.4          .              .              .             0.0016      
121.2          .              .              .             0.0023      
121.4          .              .              .             0.0015      
122.1          .              .              .             0.0022      
122.2          .              .              .             0.0022      
123.1          .              .              .             0.0023      
123.2          .              .              .             0.0022      
123.3          .              .              .             0.0056      
123.4          .              .              .             0.0019      
125.1          .              .              .             0.0022      
125.2          .              .              .             0.0023      
125.4          .              .              .             0.0019      
127.1          .              .              .             0.0029      
127.2          .              .              .             0.0006      
127.3          .              .              .             0.0007      
127.4          .              .              .             0.0039      
131.4          .              .              .             0.0017      
132.1          .              .              .             0.0025      
132.2          .              .              .             0.0021      
134.1          .              .              .             0.0022      
134.2          .              .              .             0.0023      
134.4          .              .              .             0.0019      
135.1          .              .              .             0.0020      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

135.3          .              .              .             0.0057      
135.4          .              .              .             0.0018      
136.1          .              .              .             0.0022      
136.2          .              .              .             0.0023      
136.3          .              .              .             0.0061      
136.4          .              .              .             0.0016      
138.1          .              .              .             0.0022      
138.2          .              .              .             0.0022      
138.3          .              .              .             0.0058      
138.4          .              .              .             0.0017      
139.2          .              .              .             0.0023      
139.3          .              .              .             0.0061      
140.1          .              .              .             0.0022      
140.2          .              .              .             0.0023      
140.4          .              .              .             0.0018      
141.1          .              .              .             0.0023      
141.2          .              .              .             0.0021      
141.3          .              .              .             0.0047      
141.4          .              .              .             0.0025      
143.2          .              .              .             0.0021      
143.4          .              .              .             0.0026      
144.1          .              .              .             0.0021      
144.2          .              .              .             0.0023      
144.4          .              .              .             0.0026      
145.3          .              .              .             0.0063      
146.3          .              .              .             0.0037      
147.1          .              .              .             0.0022      
147.2          .              .              .             0.0022      
147.3          .              .              .             0.0060      
147.4          .              .              .             0.0018      
150.1          .              .              .             0.0021      
150.2          .              .              .             0.0023      
150.3          .              .              .             0.0062      
150.4          .              .              .             0.0015      
154.4          .              .              .             0.0016      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   1.3157474E-5      
2      2042.5000      2042.5000      2042.5000   -2.194427E-5      
3      2042.5000      2042.5000      2042.5000        -0.0001      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0790        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

101.1   1.0000000E-5        23.8315        +INF             .          
101.2   1.0000000E-5        10.6227        +INF            EPS         
101.4   1.0000000E-5        37.9654        +INF             .          
102.1   1.0000000E-5         2.4463        +INF            EPS         
102.2   1.0000000E-5         2.9530        +INF             .          
102.4   1.0000000E-5        11.7652        +INF             .          
103.1   1.0000000E-5         2.9334        +INF             .          
103.4   1.0000000E-5         7.0155        +INF            EPS         
105.1   1.0000000E-5        50.1199        +INF             .          
105.2   1.0000000E-5        68.7135        +INF             .          
105.3   1.0000000E-5       103.0026        +INF             .          
105.4   1.0000000E-5        29.3741        +INF             .          
106.2   1.0000000E-5         4.3842        +INF             .          
107.1   1.0000000E-5        49.8140        +INF            EPS         
107.2   1.0000000E-5        31.3998        +INF             .          
107.3   1.0000000E-5        59.4166        +INF             .          
107.4   1.0000000E-5        29.0032        +INF             .          
108.1   1.0000000E-5        17.1863        +INF             .          
108.2   1.0000000E-5        22.7759        +INF             .          
108.3   1.0000000E-5         4.5089        +INF            EPS         
108.4   1.0000000E-5        30.0767        +INF             .          
109.4   1.0000000E-5         9.3364        +INF             .          
110.1   1.0000000E-5        10.0602        +INF             .          
110.2   1.0000000E-5        11.6627        +INF             .          
110.4   1.0000000E-5         5.9140        +INF             .          
111.3   1.0000000E-5         6.3942        +INF             .          
112.1   1.0000000E-5        89.3991        +INF             .          
112.2   1.0000000E-5        39.7555        +INF             .          
112.4   1.0000000E-5        10.9978        +INF             .          
113.1   1.0000000E-5       104.5492        +INF             .          
113.2   1.0000000E-5       130.1570        +INF             .          
113.3   1.0000000E-5       161.4036        +INF             .          
113.4   1.0000000E-5        93.8081        +INF             .          
114.1   1.0000000E-5        14.6082        +INF             .          
115.2   1.0000000E-5        26.1788        +INF             .          
115.3   1.0000000E-5        18.5972        +INF             .          
115.4   1.0000000E-5        53.4416        +INF             .          
116.2   1.0000000E-5        16.2315        +INF             .          
116.3   1.0000000E-5        52.5704        +INF            EPS         
117.1   1.0000000E-5         7.2679        +INF             .          
117.2   1.0000000E-5         5.2818        +INF             .          
117.4   1.0000000E-5        10.7061        +INF             .          
118.1   1.0000000E-5         2.6340        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

119.4   1.0000000E-5         1.8526        +INF             .          
121.2   1.0000000E-5         2.0072        +INF             .          
121.4   1.0000000E-5         0.8373        +INF            EPS         
122.1   1.0000000E-5        16.7674        +INF             .          
122.2   1.0000000E-5        12.1311        +INF             .          
123.1   1.0000000E-5        18.5293        +INF             .          
123.2   1.0000000E-5        24.1888        +INF             .          
123.3   1.0000000E-5        22.6230        +INF             .          
123.4   1.0000000E-5         6.0925        +INF             .          
125.1   1.0000000E-5        58.5036        +INF             .          
125.2   1.0000000E-5        42.3403        +INF             .          
125.4   1.0000000E-5        80.6382        +INF             .          
127.1   1.0000000E-5        85.2160        +INF             .          
127.2   1.0000000E-5        70.4171        +INF             .          
127.3   1.0000000E-5        32.0617        +INF             .          
127.4   1.0000000E-5        30.4358        +INF             .          
131.4   1.0000000E-5         9.7752        +INF             .          
132.1   1.0000000E-5        15.4427        +INF             .          
132.2   1.0000000E-5         9.8577        +INF            EPS         
134.1   1.0000000E-5        39.1314        +INF             .          
134.2   1.0000000E-5        14.6425        +INF             .          
134.4   1.0000000E-5        25.4574        +INF             .          
135.1   1.0000000E-5        21.6741        +INF             .          
135.3   1.0000000E-5        33.7118        +INF             .          
135.4   1.0000000E-5        26.2548        +INF             .          
136.1   1.0000000E-5        75.4530        +INF             .          
136.2   1.0000000E-5        94.2972        +INF             .          
136.3   1.0000000E-5        31.8578        +INF             .          
136.4   1.0000000E-5        36.5891        +INF             .          
138.1   1.0000000E-5        52.1304        +INF             .          
138.2   1.0000000E-5       131.3324        +INF             .          
138.3   1.0000000E-5        36.4241        +INF             .          
138.4   1.0000000E-5        60.6632        +INF             .          
139.2   1.0000000E-5       145.3408        +INF             .          
139.3   1.0000000E-5       220.8643        +INF            EPS         
140.1   1.0000000E-5        29.6188        +INF             .          
140.2   1.0000000E-5        13.8382        +INF             .          
140.4   1.0000000E-5        32.3483        +INF             .          
141.1   1.0000000E-5        60.8623        +INF             .          
141.2   1.0000000E-5        31.1490        +INF             .          
141.3   1.0000000E-5       106.3983        +INF             .          
141.4   1.0000000E-5       192.9080        +INF             .          
143.2   1.0000000E-5         5.6440        +INF             .          
143.4   1.0000000E-5        11.3963        +INF             .          
144.1   1.0000000E-5        10.6771        +INF             .          
144.2   1.0000000E-5        10.5517        +INF             .          
144.4   1.0000000E-5        18.8732        +INF             .          
145.3   1.0000000E-5        80.6955        +INF            EPS         
146.3   1.0000000E-5        19.4875        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

147.1   1.0000000E-5        20.9574        +INF             .          
147.2   1.0000000E-5        18.1092        +INF             .          
147.3   1.0000000E-5         5.6921        +INF             .          
147.4   1.0000000E-5         8.3275        +INF             .          
150.1   1.0000000E-5        22.3976        +INF             .          
150.2   1.0000000E-5        31.0157        +INF             .          
150.3   1.0000000E-5        32.8013        +INF             .          
150.4   1.0000000E-5        22.2648        +INF             .          
154.4   1.0000000E-5         4.3489        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1         0.0001         0.0932        +INF             .          
101.2         0.0001         0.0351        +INF             .          
101.4         0.0001         0.1384        +INF            EPS         
102.1         0.0001         0.0092        +INF             .          
102.2         0.0001         0.0110        +INF            EPS         
102.4         0.0001         0.0390        +INF            EPS         
103.1         0.0001         0.0114        +INF            EPS         
103.4         0.0001         0.0186        +INF             .          
105.1         0.0001         0.1358        +INF            EPS         
105.2         0.0001         0.1739        +INF             .          
105.3         0.0001         0.1138        +INF             .          
105.4         0.0001         0.0799        +INF             .          
106.2         0.0001         0.0132        +INF            EPS         
107.1         0.0001         0.0933        +INF             .          
107.2         0.0001         0.0508        +INF            EPS         
107.3         0.0001         0.0781        +INF            EPS         
107.4         0.0001         0.0538        +INF            EPS         
108.1         0.0001         0.0195        +INF            EPS         
108.2         0.0001         0.0762        +INF             .          
108.3         0.0001         0.0484        +INF             .          
108.4         0.0001         0.0380        +INF            EPS         
109.4         0.0001         0.0286        +INF            EPS         
110.1         0.0001         0.0246        +INF            EPS         
110.2         0.0001         0.0249        +INF            EPS         
110.4         0.0001         0.0120        +INF            EPS         
111.3         0.0001         0.0147        +INF            EPS         
112.1         0.0001         0.0248        +INF            EPS         
112.2         0.0001         0.0184        +INF            EPS         
112.4         0.0001         0.0097        +INF            EPS         
113.1         0.0001         0.1299        +INF             .          
113.2         0.0001         0.1443        +INF            EPS         
113.3         0.0001         0.1254        +INF             .          
113.4         0.0001         0.0934        +INF            EPS         
114.1         0.0001         0.0102        +INF            EPS         
115.2         0.0001         0.0300        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

115.3         0.0001         0.0113        +INF            EPS         
115.4         0.0001         0.0512        +INF            EPS         
116.2         0.0001         0.0138        +INF            EPS         
116.3         0.0001         0.1118        +INF             .          
117.1         0.0001         0.0348        +INF            EPS         
117.2         0.0001         0.0299        +INF            EPS         
117.4         0.0001         0.0457        +INF            EPS         
118.1         0.0001         0.0104        +INF            EPS         
119.4         0.0001         0.0091        +INF            EPS         
121.2         0.0001         0.0147        +INF            EPS         
121.4         0.0001         0.0065        +INF             .          
122.1         0.0001         0.0303        +INF            EPS         
122.2         0.0001         0.0255        +INF            EPS         
123.1         0.0001         0.0180        +INF            EPS         
123.2         0.0001         0.0249        +INF            EPS         
123.3         0.0001         0.0339        +INF            EPS         
123.4         0.0001         0.0124        +INF            EPS         
125.1         0.0001         0.0377        +INF            EPS         
125.2         0.0001         0.0237        +INF            EPS         
125.4         0.0001         0.0296        +INF            EPS         
127.1         0.0001         0.0259        +INF             .          
127.2         0.0001         0.0143        +INF             .          
127.3         0.0001         0.0292        +INF             .          
127.4         0.0001         0.0265        +INF            EPS         
131.4         0.0001         0.0077        +INF            EPS         
132.1         0.0001         0.0091        +INF            EPS         
132.2         0.0001         0.0103        +INF             .          
134.1         0.0001         0.0337        +INF            EPS         
134.2         0.0001         0.0114        +INF            EPS         
134.4         0.0001         0.0084        +INF            EPS         
135.1         0.0001         0.0101        +INF            EPS         
135.3         0.0001         0.0158        +INF            EPS         
135.4         0.0001         0.0071        +INF            EPS         
136.1         0.0001         0.0225        +INF            EPS         
136.2         0.0001         0.0291        +INF            EPS         
136.3         0.0001         0.0201        +INF            EPS         
136.4         0.0001         0.0148        +INF            EPS         
138.1         0.0001         0.0135        +INF            EPS         
138.2         0.0001         0.0344        +INF            EPS         
138.3         0.0001         0.0159        +INF            EPS         
138.4         0.0001         0.0125        +INF            EPS         
139.2         0.0001         0.0381        +INF            EPS         
139.3         0.0001         0.1045        +INF             .          
140.1         0.0001         0.0250        +INF            EPS         
140.2         0.0001         0.0102        +INF            EPS         
140.4         0.0001         0.0242        +INF            EPS         
141.1         0.0001         0.0715        +INF            EPS         
141.2         0.0001         0.0426        +INF            EPS         
141.3         0.0001         0.1290        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 487


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

141.4         0.0001         0.1482        +INF             .          
143.2         0.0001         0.0105        +INF            EPS         
143.4         0.0001         0.0141        +INF            EPS         
144.1         0.0001         0.0238        +INF            EPS         
144.2         0.0001         0.0159        +INF            EPS         
144.4         0.0001         0.0251        +INF            EPS         
145.3         0.0001         0.0730        +INF      1.9277497E-9      
146.3         0.0001         0.0275        +INF             .          
147.1         0.0001         0.0725        +INF            EPS         
147.2         0.0001         0.0612        +INF            EPS         
147.3         0.0001         0.0205        +INF            EPS         
147.4         0.0001         0.0271        +INF            EPS         
150.1         0.0001         0.0095        +INF            EPS         
150.2         0.0001         0.0118        +INF            EPS         
150.3         0.0001         0.0272        +INF            EPS         
150.4         0.0001         0.0098        +INF            EPS         
154.4         0.0001         0.0087        +INF            EPS         

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          446.9881        +INF             .          
1.2        -INF          459.0498        +INF             .          
1.3        -INF          213.3231        +INF             .          
1.4        -INF          523.0491        +INF             .          
2.1        -INF          446.9881        +INF             .          
2.2        -INF          459.0498        +INF             .          
2.3        -INF          225.9427        +INF             .          
2.4        -INF          519.1643        +INF             .          
3.1        -INF          515.8213        +INF             .          
3.2        -INF          459.0498        +INF             .          
3.3        -INF          189.0474        +INF             .          
3.4        -INF          519.1643        +INF             .          
4.1        -INF          529.2362        +INF             .          
4.2        -INF          545.1811        +INF             .          
4.3        -INF          249.7209        +INF             .          
4.4        -INF          519.1643        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/30/13 21:06:05 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    490 this is without adjustment for calorie target or 90%

----    490 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     446.988     459.050     213.323     523.049
2     446.988     459.050     225.943     519.164
3     515.821     459.050     189.047     519.164
4     529.236     545.181     249.721     519.164


----    515 PARAMETER perc_chng  percent change in line

1 -10.788,    2  31.624,    3  27.077,    4 -22.721


----    515 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 463.901,    2 475.164,    3 194.141,    4 557.228


----    515 PARAMETER povline_ali  food poverty line

1 519.997,    2 361.000,    3 152.774,    4 721.061


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/list.lst
