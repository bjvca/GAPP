GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
  20  101
  21  102
  22  103
  23  105
  24  106
  25  107
  26  108
  27  109
  28  110
  29  111
  30  112
  31  113
  32  114
  33  115
  34  116
  35  117
  36  118
  37  119
  38  121
  39  122
  40  123
  41  125
  42  127
  43  131
  44  132
  45  134
  46  135
  47  136
  48  138
  49  139
  50  140
  51  141
  52  143
  53  144
  54  145
  55  146
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  147
  57  150
  58  154
  59  /
  60   
  61   reg        4 spatial domains /1*4/
  62   r(reg)     all included spatial regions /1*4/
  63   
  64   ptit       price table titles
  65  /
  66    count      number of observations making up the price average
  67    price_uw5  average price
  68  /
  69   
  70   qtit       quantity table titles
  71  /
  72    calperg          calories per gram
  73    quan5            quantities in grams
  74    calpp            calories per person by region
  75    povline_a_flex5    value of flexible food bundle
  76  /
  77   
  78   
  79    posquan(cod,reg)  mark positive quantities in each region
  80    posprice(cod,reg) mark the existence of acceptable price info in each region
  81    chkprice(cod,reg) ensure that prices exist once all estimated
  82  ;
  83   
  84  alias(reg,regq);
  85  alias(r,rq);
  86   
  87  SCALAR
  88     caltarg single level of calories to target across regions / 2150 /
  89   ;
  90   
  91  PARAMETERS
  92   
  93    shr(cod,reg)         shares in each basket by region
  94    chkshr(reg)          check that the calculated shares sum to .9
  95    shrmiss(regq,reg)    shares missing in each region pair
  96    povline_ali(reg)       food poverty line
  97    perc_chng(reg)       percent change in line
  98    finmiss(reg)         final missing shares post optimization procedure
  99   ;
 100   
 101  Table  price(cod,reg,ptit)  price and related information
 102                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
 104  101     .       1       310     1.411324
 105  101     .       2       110     1.262315
 106  101     .       3       1       .5044185
 107  101     .       4       655     1.780857
 108  102     .       1       40      1.453119
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  102     .       2       27      1.857733
 110  102     .       4       205     1.660088
 111  103     .       1       38      1.398439
 112  103     .       2       19      2.357491
 113  103     .       4       91      1.324685
 114  105     .       1       454     .9997299
 115  105     .       2       404     .9833408
 116  105     .       3       67      .196017
 117  105     .       4       594     1.27032
 118  106     .       1       8       .7581001
 119  106     .       2       42      .7044781
 120  106     .       3       3       .3764546
 121  106     .       4       18      .9674676
 122  107     .       1       408     .7704144
 123  107     .       2       241     .7012461
 124  107     .       3       58      .2467188
 125  107     .       4       515     .8145789
 126  108     .       1       72      .4508015
 127  108     .       2       253     .5889146
 128  108     .       3       33      .5100361
 129  108     .       4       268     .3304741
 130  109     .       1       40      1.045019
 131  109     .       2       10      .2785883
 132  109     .       4       237     1.431651
 133  110     .       1       128     1.081482
 134  110     .       2       135     .9659911
 135  110     .       3       1       .4035347
 136  110     .       4       165     .9751543
 137  111     .       1       15      .2124712
 138  111     .       2       49      .2568546
 139  111     .       3       19      .1231829
 140  111     .       4       58      .2428581
 141  112     .       1       122     .0734615
 142  112     .       2       106     .0846308
 143  112     .       3       9       .0615072
 144  112     .       4       117     .1152537
 145  113     .       1       529     .5308458
 146  113     .       2       432     .4898521
 147  113     .       3       110     .1253905
 148  113     .       4       643     .4574896
 149  114     .       1       127     .1366795
 150  114     .       2       35      .1504727
 151  114     .       3       2       .0488823
 152  114     .       4       163     .1586102
 153  115     .       1       43      .526969
 154  115     .       2       140     .5056428
 155  115     .       3       19      .1277178
 156  115     .       4       382     .3919305
 157  116     .       1       4       .3786201
 158  116     .       2       150     .2348111
 159  116     .       3       96      .1772819
 160  116     .       4       86      .2910318
 161  117     .       1       161     2.159528
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  117     .       2       150     2.610149
 163  117     .       3       14      2.146111
 164  117     .       4       390     2.199617
 165  118     .       1       59      1.77799
 166  118     .       2       35      2.073572
 167  118     .       4       58      2.038963
 168  119     .       1       12      2.925837
 169  119     .       2       40      2.685928
 170  119     .       3       7       .0055355
 171  119     .       4       75      2.482663
 172  121     .       1       25      3.393971
 173  121     .       2       55      3.500996
 174  121     .       3       3       1.284527
 175  121     .       4       49      3.935725
 176  122     .       1       171     .6585233
 177  122     .       2       122     .8610666
 178  122     .       3       10      .1293147
 179  122     .       4       81      1.042398
 180  123     .       1       181     .3123392
 181  123     .       2       230     .3791006
 182  123     .       3       56      .2421274
 183  123     .       4       120     .8808972
 184  125     .       1       234     .2392202
 185  125     .       2       175     .2461924
 186  125     .       3       12      .1445238
 187  125     .       4       383     .1786704
 188  127     .       1       436     .0876056
 189  127     .       2       477     .0836458
 190  127     .       3       112     .1180313
 191  127     .       4       319     .2428152
 192  131     .       1       91      .3196616
 193  131     .       2       32      .2498805
 194  131     .       3       3       .2563408
 195  131     .       4       263     .3050184
 196  132     .       1       64      .0909907
 197  132     .       2       83      .1818327
 198  132     .       3       9       .1278708
 199  132     .       4       78      .1070925
 200  134     .       1       240     .3657741
 201  134     .       2       105     .3554539
 202  134     .       3       8       .1241383
 203  134     .       4       223     .1295093
 204  135     .       1       493     .1531452
 205  135     .       2       439     .1004849
 206  135     .       3       101     .0865314
 207  135     .       4       699     .1309723
 208  136     .       1       537     .1136825
 209  136     .       2       512     .137796
 210  136     .       3       65      .1114843
 211  136     .       4       719     .1760039
 212  138     .       1       238     .108126
 213  138     .       2       325     .1043105
 214  138     .       3       37      .0807184
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  138     .       4       476     .0999559
 216  139     .       1       155     .1133354
 217  139     .       2       348     .1130907
 218  139     .       3       170     .0869916
 219  139     .       4       113     .1687959
 220  140     .       1       129     .2921336
 221  140     .       2       60      .3228558
 222  140     .       3       4       .1960319
 223  140     .       4       227     .2870637
 224  141     .       1       438     .4495677
 225  141     .       2       333     .5381057
 226  141     .       3       145     .2191139
 227  141     .       4       874     .3716838
 228  143     .       1       53      .7701982
 229  143     .       2       99      .6639964
 230  143     .       3       2       .1959938
 231  143     .       4       164     .5911372
 232  144     .       1       271     .6256472
 233  144     .       2       177     .3582546
 234  144     .       3       1       .1206167
 235  144     .       4       276     .619435
 236  145     .       1       5       .6802548
 237  145     .       2       46      .3133851
 238  145     .       3       68      .181655
 239  145     .       4       51      .5010233
 240  146     .       1       5       1.084551
 241  146     .       2       22      .5279688
 242  146     .       3       76      .2353207
 243  146     .       4       15      .267502
 244  147     .       1       502     1.533439
 245  147     .       2       464     1.308196
 246  147     .       3       38      .3873088
 247  147     .       4       519     1.664069
 248  150     .       1       734     .1725603
 249  150     .       2       718     .1662953
 250  150     .       3       207     .1403942
 251  150     .       4       1123    .2136084
 252  154     .       1       18      .1634988
 253  154     .       2       30      .3554967
 254  154     .       3       16      .2124494
 255  154     .       4       100     .4708395
 256  ;
 257   
 258  Table   quan(cod,reg,qtit)   quantity and related information
 259                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc
 261  101     .       1       6.8900000e-01   2.4223547e+01   2.0082173e+03   397.7813
 262  102     .       1       6.8900000e-01   2.3837640e+00   2.0082173e+03   397.7813
 263  103     .       1       6.8900000e-01   3.1054349e+00   2.0082173e+03   397.7813
 264  105     .       1       1.0164000e+00   5.0474968e+01   2.0082173e+03   397.7813
 265  107     .       1       1.3440000e+00   4.5240826e+01   2.0082173e+03   397.7813
 266  108     .       1       3.1400000e+00   1.1583146e+01   2.0082173e+03   397.7813
 267  109     .       1       6.4680000e-01   2.6628811e+00   2.0082173e+03   397.7813
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  110     .       1       3.6100000e+00   7.9479270e+00   2.0082173e+03   397.7813
 269  112     .       1       9.4600000e-01   1.0601118e+02   2.0082173e+03   397.7813
 270  113     .       1       3.6500000e+00   8.9556297e+01   2.0082173e+03   397.7813
 271  114     .       1       2.6600000e+00   2.5282478e+01   2.0082173e+03   397.7813
 272  117     .       1       1.7982000e+00   5.5185390e+00   2.0082173e+03   397.7813
 273  118     .       1       2.3534000e+00   2.1163428e+00   2.0082173e+03   397.7813
 274  122     .       1       6.1610000e-01   1.6030804e+01   2.0082173e+03   397.7813
 275  123     .       1       3.7500000e+00   1.9697971e+01   2.0082173e+03   397.7813
 276  125     .       1       6.0000000e-01   5.8114052e+01   2.0082173e+03   397.7813
 277  127     .       1       8.8400000e+00   7.7095367e+01   2.0082173e+03   397.7813
 278  134     .       1       4.9400000e-01   3.4937744e+01   2.0082173e+03   397.7813
 279  135     .       1       3.6400000e-01   2.5879599e+01   2.0082173e+03   397.7813
 280  136     .       1       1.6380000e-01   7.1059906e+01   2.0082173e+03   397.7813
 281  138     .       1       2.0160000e-01   4.6480385e+01   2.0082173e+03   397.7813
 282  140     .       1       1.0300000e+00   3.2498688e+01   2.0082173e+03   397.7813
 283  141     .       1       3.1300000e+00   5.4670040e+01   2.0082173e+03   397.7813
 284  144     .       1       5.8800000e+00   1.3715476e+01   2.0082173e+03   397.7813
 285  147     .       1       3.8700000e+00   1.7069038e+01   2.0082173e+03   397.7813
 286  150     .       1       0.0000000e+00   2.0806919e+01   2.0082173e+03   397.7813
 287  101     .       2       6.8900000e-01   6.6400023e+00   2.0029237e+03   301.2018
 288  102     .       2       6.8900000e-01   1.4196756e+00   2.0029237e+03   301.2018
 289  105     .       2       1.0164000e+00   4.4217388e+01   2.0029237e+03   301.2018
 290  106     .       2       3.4300000e+00   4.8906026e+00   2.0029237e+03   301.2018
 291  107     .       2       1.3440000e+00   1.8366459e+01   2.0029237e+03   301.2018
 292  108     .       2       3.1400000e+00   3.8862431e+01   2.0029237e+03   301.2018
 293  110     .       2       3.6100000e+00   6.5549326e+00   2.0029237e+03   301.2018
 294  112     .       2       9.4600000e-01   6.6533539e+01   2.0029237e+03   301.2018
 295  113     .       2       3.6500000e+00   7.8846169e+01   2.0029237e+03   301.2018
 296  115     .       2       3.7800000e+00   1.5596865e+01   2.0029237e+03   301.2018
 297  116     .       2       3.3900000e+00   1.6501440e+01   2.0029237e+03   301.2018
 298  117     .       2       1.7982000e+00   3.0377645e+00   2.0029237e+03   301.2018
 299  119     .       2       1.2210000e+00   9.6593350e-01   2.0029237e+03   301.2018
 300  121     .       2       1.4835000e+00   1.1606736e+00   2.0029237e+03   301.2018
 301  122     .       2       6.1610000e-01   7.7637973e+00   2.0029237e+03   301.2018
 302  123     .       2       3.7500000e+00   1.7945276e+01   2.0029237e+03   301.2018
 303  125     .       2       6.0000000e-01   2.5022657e+01   2.0029237e+03   301.2018
 304  127     .       2       8.8400000e+00   9.3569466e+01   2.0029237e+03   301.2018
 305  132     .       2       4.3310000e-01   1.6652092e+01   2.0029237e+03   301.2018
 306  134     .       2       4.9400000e-01   9.4882813e+00   2.0029237e+03   301.2018
 307  136     .       2       1.6380000e-01   5.4293461e+01   2.0029237e+03   301.2018
 308  138     .       2       2.0160000e-01   8.3380287e+01   2.0029237e+03   301.2018
 309  139     .       2       2.6100000e-01   8.2040993e+01   2.0029237e+03   301.2018
 310  140     .       2       1.0300000e+00   8.6102142e+00   2.0029237e+03   301.2018
 311  141     .       2       3.1300000e+00   2.2556654e+01   2.0029237e+03   301.2018
 312  143     .       2       5.6700000e+00   4.3006210e+00   2.0029237e+03   301.2018
 313  144     .       2       5.8800000e+00   1.1124275e+01   2.0029237e+03   301.2018
 314  147     .       2       3.8700000e+00   1.2562213e+01   2.0029237e+03   301.2018
 315  150     .       2       0.0000000e+00   1.7506662e+01   2.0029237e+03   301.2018
 316  105     .       3       1.0164000e+00   3.6411167e+01   1.9871310e+03   115.1231
 317  107     .       3       1.3440000e+00   2.4639301e+01   1.9871310e+03   115.1231
 318  108     .       3       3.1400000e+00   9.3477964e+00   1.9871310e+03   115.1231
 319  111     .       3       3.6500000e+00   1.3916760e+01   1.9871310e+03   115.1231
 320  113     .       3       3.6500000e+00   1.2765633e+02   1.9871310e+03   115.1231
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  115     .       3       3.7800000e+00   1.2635926e+01   1.9871310e+03   115.1231
 322  116     .       3       3.3900000e+00   7.1277069e+01   1.9871310e+03   115.1231
 323  123     .       3       3.7500000e+00   1.2584591e+01   1.9871310e+03   115.1231
 324  127     .       3       8.8400000e+00   6.1480923e+01   1.9871310e+03   115.1231
 325  135     .       3       3.6400000e-01   1.6806103e+01   1.9871310e+03   115.1231
 326  136     .       3       1.6380000e-01   1.6146065e+01   1.9871310e+03   115.1231
 327  138     .       3       2.0160000e-01   1.8910038e+01   1.9871310e+03   115.1231
 328  139     .       3       2.6100000e-01   1.0821301e+02   1.9871310e+03   115.1231
 329  141     .       3       3.1300000e+00   6.8359268e+01   1.9871310e+03   115.1231
 330  145     .       3       8.1000000e-01   3.4209164e+01   1.9871310e+03   115.1231
 331  146     .       3       5.7300000e+00   1.5795756e+01   1.9871310e+03   115.1231
 332  147     .       3       3.8700000e+00   4.7748671e+00   1.9871310e+03   115.1231
 333  150     .       3       0.0000000e+00   1.7084311e+01   1.9871310e+03   115.1231
 334  101     .       4       6.8900000e-01   4.9586205e+01   2.0768691e+03   581.1945
 335  102     .       4       6.8900000e-01   1.4945640e+01   2.0768691e+03   581.1945
 336  103     .       4       6.8900000e-01   8.7281466e+00   2.0768691e+03   581.1945
 337  105     .       4       1.0164000e+00   3.9443119e+01   2.0768691e+03   581.1945
 338  107     .       4       1.3440000e+00   3.9539577e+01   2.0768691e+03   581.1945
 339  108     .       4       3.1400000e+00   5.5592827e+01   2.0768691e+03   581.1945
 340  109     .       4       6.4680000e-01   1.2718597e+01   2.0768691e+03   581.1945
 341  110     .       4       3.6100000e+00   6.4487972e+00   2.0768691e+03   581.1945
 342  112     .       4       9.4600000e-01   4.8325382e+01   2.0768691e+03   581.1945
 343  113     .       4       3.6500000e+00   8.4475067e+01   2.0768691e+03   581.1945
 344  115     .       4       3.7800000e+00   5.2428368e+01   2.0768691e+03   581.1945
 345  117     .       4       1.7982000e+00   1.2838265e+01   2.0768691e+03   581.1945
 346  119     .       4       1.2210000e+00   2.3311546e+00   2.0768691e+03   581.1945
 347  121     .       4       1.4835000e+00   1.0587744e+00   2.0768691e+03   581.1945
 348  123     .       4       3.7500000e+00   7.3560700e+00   2.0768691e+03   581.1945
 349  125     .       4       6.0000000e-01   8.8660332e+01   2.0768691e+03   581.1945
 350  127     .       4       8.8400000e+00   1.9943174e+01   2.0768691e+03   581.1945
 351  131     .       4       6.2080000e-01   1.5032913e+01   2.0768691e+03   581.1945
 352  134     .       4       4.9400000e-01   3.5381931e+01   2.0768691e+03   581.1945
 353  135     .       4       3.6400000e-01   3.0046171e+01   2.0768691e+03   581.1945
 354  136     .       4       1.6380000e-01   5.2296947e+01   2.0768691e+03   581.1945
 355  138     .       4       2.0160000e-01   7.2011978e+01   2.0768691e+03   581.1945
 356  140     .       4       1.0300000e+00   4.6178654e+01   2.0768691e+03   581.1945
 357  141     .       4       3.1300000e+00   1.5748364e+02   2.0768691e+03   581.1945
 358  143     .       4       5.6700000e+00   8.8348684e+00   2.0768691e+03   581.1945
 359  144     .       4       5.8800000e+00   1.5363432e+01   2.0768691e+03   581.1945
 360  147     .       4       3.8700000e+00   9.1312828e+00   2.0768691e+03   581.1945
 361  150     .       4       0.0000000e+00   3.0083454e+01   2.0768691e+03   581.1945
 362  154     .       4       8.1000000e-01   1.1544580e+01   2.0768691e+03   581.1945
 363  ;
 364   
 365    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 366                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 367                         quan(cod,reg,'povline_a_flex5');
 368   
 369    chkshr(reg)=sum(cod,shr(cod,reg));
 370   
 371  loop(reg,
 372    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 373  );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375   
 376  *turn on dynamic sets to indicate positive quantities and existence of
 377  *price info for each region
 378   
 379   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 380                        AND price(cod,reg,'count') gt 4) = yes;
 381   
 382   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 383   
 384   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 385   display shrmiss;
 386   
 387    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 388                                             quan(cod,reg,'quan5'))/.9;
 389   
 390    display povline_ali;
 391   
 392   
 393  *boost values so shares sum to one;
 394  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 395   
 396  *fill out price matrix with maximum observed price outside of Maputo
 397   
 398  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 399           loop(r,
 400                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 401                                                price(cod,r,'price_uw5'));
 402           );
 403  );
 404   
 405  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 406   
 407  display 'should be an empty set', chkprice;
 408   
 409   
 410   
 411   
 412  Variables
 413     z                objective value
 414     q(cod,reg)       revised maximum entropy quanties in grams
 415     s(cod,reg)       derived maximum entropy shares
 416     povline(regq,reg)  estimated revealed preference matrix
 417  ;
 418   
 419   
 420  Equations
 421     obj              objective equation
 422     rev(regq,reg)    revealed preference tests
 423     deflin(regq,reg) define revealed preference matrix
 424     defshr(cod,regq) define the endogenous budget shares
 425     cals(regq)       ensure that each bundle hits the calorie
 426   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 10:59:16 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427  ;
 428   
 429     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 430                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 431   
 432     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 433                            q(cod,rq)*price(cod,r,'price_uw5'));
 434   
 435     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 436   
 437     defshr(cod,rq)$posquan(cod,rq) ..
 438               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 439   
 440     cals(rq) .. sum(cod$posquan(cod,rq),
 441                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 442   
 443  *set bounds and starting values for variables
 444   
 445    q.lo(cod,reg)=.00001;
 446    q.up(cod,reg)=inf;
 447    q.l(cod,reg)=quan(cod,reg,'quan5');
 448    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 449   
 450    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 451                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 452   
 453   
 454    display povline.l;
 455   
 456  *print the revealed preference matrix prior to optimisation;
 457  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv"/;
 458  put povline_rp;
 459  povline_rp.pc=5;
 460  povline_rp.nd=0;
 461  put " ";
 462  loop(reg,
 463        put reg.tl;
 464  );
 465  put /;
 466  loop(regq,
 467       put regq.tl;
 468       loop(reg,
 469           put povline.l(regq,reg);
 470       );
 471       put /;
 472  );
 473  put /; put /; put /;
 474   
 475     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 476     s.lo(cod,regq)=.0001;
 477     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 478   
 479   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480     model revpref /obj, deflin, rev, defshr, cals/;
 481   
 482     revpref.holdfixed=1;
 483   
 484     option limrow=100;
 485   
 486     option nlp=conopt;
 487   
 488     solve revpref using nlp minimizing z;
 489   
 490     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 491     display "this is without adjustment for calorie target or 90%", povline.l;
 492   
 493  put /;
 494  loop(rq,
 495       put rq.tl;
 496       loop(r,
 497           put povline.l(rq,r);
 498       );
 499       put /;
 500  );
 501  put /;
 502   
 503   
 504  PARAMETERS
 505     qent(cod,reg)  entropy quantities with all adjustments accounted for
 506     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 507    ;
 508  *readjust quantities to hit regional calorie target and calculate line;
 509     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 510   
 511     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 512                                             qent(cod,r))/.9;
 513   
 514     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 515   
 516     display perc_chng, povline_ent, povline_ali;
 517   
 518     file res/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv"/;
 519   
 520     put res;
 521     res.pc=5;
 522     res.nd=6;
 523   
 524  *recall that the basket reflects 90% of expenditure and 95% of calories";
 525     put "spdomain" ;
 526     put "product" ;
 527     put "quan5";
 528     put "qent";
 529     put "price";
 530     put "calperg";
 531   
 532     put /;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533   
 534     loop(reg,
 535         loop(cod,
 536             put reg.tl;
 537             put cod.tl;
 538             put quan(cod,reg,'quan5');
 539             put qent(cod,reg);
 540             put price(cod,reg,'price_uw5')
 541             put quan(cod,reg,'calperg');
 542             put /;
 543         );
 544     );
 545   
 546     file lin/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv"/;
 547   
 548     put lin;
 549     lin.pc=5;
 550  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 551   
 552     put "spdomain";
 553     put "flex";
 554     put "ent";
 555     put /;
 556   
 557     loop(reg,
 558           put reg.tl;
 559           put povline_ali(reg);
 560           put povline_ent(reg);
 561           put /;
 562     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
     3      103 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
     4      260 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc


COMPILATION TIME     =        0.003 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    385 PARAMETER shrmiss  shares missing in each region pair

            1           3

1                   0.198
2       0.013       0.114
3       0.110
4                   0.320


----    390 PARAMETER povline_ali  food poverty line

1 397.781,    2 301.202,    3 115.123,    4 581.194


----    407 should be an empty set

----    407 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    454 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     358.003     356.666     145.346     400.451
2     272.226     271.082     127.142     308.357
3     273.406     240.791     103.611     266.473
4     516.409     527.847     219.436     523.075

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


---- obj  =E=  objective equation

obj..  z - (1)*s(101,1) - (1)*s(101,2) - (1)*s(101,4) - (1)*s(102,1) - (1)*s(102,2) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3)
     
      - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,1) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2)
     
      - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(119,2) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,4)
     
      - (1)*s(122,1) - (1)*s(122,2) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(127,4) - (1)*s(131,4) - (1)*s(132,2) - (1)*s(134,1)
     
      - (1)*s(134,2) - (1)*s(134,4) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1)
     
      - (1)*s(140,2) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(143,4) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3)
     
      - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 1.411324*q(101,1) - 1.453119*q(102,1) - 1.398439*q(103,1) - 0.9997299*q(105,1) - 0.7704144*q(107,1) - 0.4508015*q(108,1) - 1.045019*q(109,1) - 1.081482*q(110,1) - 0.0734615*q(112,1) - 0.5308458*q(113,1) - 0.1366795*q(114,1)
     
      - 2.159528*q(117,1) - 1.77799*q(118,1) - 0.6585233*q(122,1) - 0.3123392*q(123,1) - 0.2392202*q(125,1) - 0.0876056*q(127,1) - 0.3657741*q(134,1) - 0.1531452*q(135,1) - 0.1136825*q(136,1) - 0.108126*q(138,1) - 0.2921336*q(140,1) - 0.4495677*q(141,1)
     
      - 0.6256472*q(144,1) - 1.533439*q(147,1) - 0.1725603*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 1.262315*q(101,1) - 1.857733*q(102,1) - 2.357491*q(103,1) - 0.9833408*q(105,1) - 0.7012461*q(107,1) - 0.5889146*q(108,1) - 0.2785883*q(109,1) - 0.9659911*q(110,1) - 0.0846308*q(112,1) - 0.4898521*q(113,1) - 0.1504727*q(114,1)
     
      - 2.610149*q(117,1) - 2.073572*q(118,1) - 0.8610666*q(122,1) - 0.3791006*q(123,1) - 0.2461924*q(125,1) - 0.0836458*q(127,1) - 0.3554539*q(134,1) - 0.1004849*q(135,1) - 0.137796*q(136,1) - 0.1043105*q(138,1) - 0.3228558*q(140,1) - 0.5381057*q(141,1)
     
      - 0.3582546*q(144,1) - 1.308196*q(147,1) - 0.1662953*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.5044185*q(101,1) - 0.196017*q(105,1) - 0.2467188*q(107,1) - 0.5100361*q(108,1) - 0.4035347*q(110,1) - 0.0615072*q(112,1) - 0.1253905*q(113,1) - 0.0488823*q(114,1) - 2.146111*q(117,1) - 0.1293147*q(122,1) - 0.2421274*q(123,1)
     
      - 0.1445238*q(125,1) - 0.1180313*q(127,1) - 0.1241383*q(134,1) - 0.0865314*q(135,1) - 0.1114843*q(136,1) - 0.0807184*q(138,1) - 0.1960319*q(140,1) - 0.2191139*q(141,1) - 0.1206167*q(144,1) - 0.3873088*q(147,1) - 0.1403942*q(150,1) + povline(1,3)
      =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 1.780857*q(101,1) - 1.660088*q(102,1) - 1.324685*q(103,1) - 1.27032*q(105,1) - 0.8145789*q(107,1) - 0.3304741*q(108,1) - 1.431651*q(109,1) - 0.9751543*q(110,1) - 0.1152537*q(112,1) - 0.4574896*q(113,1) - 0.1586102*q(114,1)
     
      - 2.199617*q(117,1) - 2.038963*q(118,1) - 1.042398*q(122,1) - 0.8808972*q(123,1) - 0.1786704*q(125,1) - 0.2428152*q(127,1) - 0.1295093*q(134,1) - 0.1309723*q(135,1) - 0.1760039*q(136,1) - 0.0999559*q(138,1) - 0.2870637*q(140,1) - 0.3716838*q(141,1)
     
      - 0.619435*q(144,1) - 1.664069*q(147,1) - 0.2136084*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 1.411324*q(101,2) - 1.453119*q(102,2) - 0.9997299*q(105,2) - 0.7581001*q(106,2) - 0.7704144*q(107,2) - 0.4508015*q(108,2) - 1.081482*q(110,2) - 0.0734615*q(112,2) - 0.5308458*q(113,2) - 0.526969*q(115,2) - 0.3786201*q(116,2)
     
      - 2.159528*q(117,2) - 2.925837*q(119,2) - 3.393971*q(121,2) - 0.6585233*q(122,2) - 0.3123392*q(123,2) - 0.2392202*q(125,2) - 0.0876056*q(127,2) - 0.0909907*q(132,2) - 0.3657741*q(134,2) - 0.1136825*q(136,2) - 0.108126*q(138,2) - 0.1133354*q(139,2)
     
      - 0.2921336*q(140,2) - 0.4495677*q(141,2) - 0.7701982*q(143,2) - 0.6256472*q(144,2) - 1.533439*q(147,2) - 0.1725603*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 1.262315*q(101,2) - 1.857733*q(102,2) - 0.9833408*q(105,2) - 0.7044781*q(106,2) - 0.7012461*q(107,2) - 0.5889146*q(108,2) - 0.9659911*q(110,2) - 0.0846308*q(112,2) - 0.4898521*q(113,2) - 0.5056428*q(115,2) - 0.2348111*q(116,2)
     
      - 2.610149*q(117,2) - 2.685928*q(119,2) - 3.500996*q(121,2) - 0.8610666*q(122,2) - 0.3791006*q(123,2) - 0.2461924*q(125,2) - 0.0836458*q(127,2) - 0.1818327*q(132,2) - 0.3554539*q(134,2) - 0.137796*q(136,2) - 0.1043105*q(138,2) - 0.1130907*q(139,2)
     
      - 0.3228558*q(140,2) - 0.5381057*q(141,2) - 0.6639964*q(143,2) - 0.3582546*q(144,2) - 1.308196*q(147,2) - 0.1662953*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     deflin  =E=  define revealed preference matrix

deflin(2,3)..  - 0.5044185*q(101,2) - 0.196017*q(105,2) - 0.3764546*q(106,2) - 0.2467188*q(107,2) - 0.5100361*q(108,2) - 0.4035347*q(110,2) - 0.0615072*q(112,2) - 0.1253905*q(113,2) - 0.1277178*q(115,2) - 0.1772819*q(116,2) - 2.146111*q(117,2)
     
      - 0.0055355*q(119,2) - 1.284527*q(121,2) - 0.1293147*q(122,2) - 0.2421274*q(123,2) - 0.1445238*q(125,2) - 0.1180313*q(127,2) - 0.1278708*q(132,2) - 0.1241383*q(134,2) - 0.1114843*q(136,2) - 0.0807184*q(138,2) - 0.0869916*q(139,2)
     
      - 0.1960319*q(140,2) - 0.2191139*q(141,2) - 0.1959938*q(143,2) - 0.1206167*q(144,2) - 0.3873088*q(147,2) - 0.1403942*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 1.780857*q(101,2) - 1.660088*q(102,2) - 1.27032*q(105,2) - 0.9674676*q(106,2) - 0.8145789*q(107,2) - 0.3304741*q(108,2) - 0.9751543*q(110,2) - 0.1152537*q(112,2) - 0.4574896*q(113,2) - 0.3919305*q(115,2) - 0.2910318*q(116,2)
     
      - 2.199617*q(117,2) - 2.482663*q(119,2) - 3.935725*q(121,2) - 1.042398*q(122,2) - 0.8808972*q(123,2) - 0.1786704*q(125,2) - 0.2428152*q(127,2) - 0.1070925*q(132,2) - 0.1295093*q(134,2) - 0.1760039*q(136,2) - 0.0999559*q(138,2) - 0.1687959*q(139,2)
     
      - 0.2870637*q(140,2) - 0.3716838*q(141,2) - 0.5911372*q(143,2) - 0.619435*q(144,2) - 1.664069*q(147,2) - 0.2136084*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 0.9997299*q(105,3) - 0.7704144*q(107,3) - 0.4508015*q(108,3) - 0.2124712*q(111,3) - 0.5308458*q(113,3) - 0.526969*q(115,3) - 0.3786201*q(116,3) - 0.3123392*q(123,3) - 0.0876056*q(127,3) - 0.1531452*q(135,3) - 0.1136825*q(136,3)
     
      - 0.108126*q(138,3) - 0.1133354*q(139,3) - 0.4495677*q(141,3) - 0.6802548*q(145,3) - 1.084551*q(146,3) - 1.533439*q(147,3) - 0.1725603*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 0.9833408*q(105,3) - 0.7012461*q(107,3) - 0.5889146*q(108,3) - 0.2568546*q(111,3) - 0.4898521*q(113,3) - 0.5056428*q(115,3) - 0.2348111*q(116,3) - 0.3791006*q(123,3) - 0.0836458*q(127,3) - 0.1004849*q(135,3) - 0.137796*q(136,3)
     
      - 0.1043105*q(138,3) - 0.1130907*q(139,3) - 0.5381057*q(141,3) - 0.3133851*q(145,3) - 0.5279688*q(146,3) - 1.308196*q(147,3) - 0.1662953*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.196017*q(105,3) - 0.2467188*q(107,3) - 0.5100361*q(108,3) - 0.1231829*q(111,3) - 0.1253905*q(113,3) - 0.1277178*q(115,3) - 0.1772819*q(116,3) - 0.2421274*q(123,3) - 0.1180313*q(127,3) - 0.0865314*q(135,3) - 0.1114843*q(136,3)
     
      - 0.0807184*q(138,3) - 0.0869916*q(139,3) - 0.2191139*q(141,3) - 0.181655*q(145,3) - 0.2353207*q(146,3) - 0.3873088*q(147,3) - 0.1403942*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.27032*q(105,3) - 0.8145789*q(107,3) - 0.3304741*q(108,3) - 0.2428581*q(111,3) - 0.4574896*q(113,3) - 0.3919305*q(115,3) - 0.2910318*q(116,3) - 0.8808972*q(123,3) - 0.2428152*q(127,3) - 0.1309723*q(135,3) - 0.1760039*q(136,3)
     
      - 0.0999559*q(138,3) - 0.1687959*q(139,3) - 0.3716838*q(141,3) - 0.5010233*q(145,3) - 0.267502*q(146,3) - 1.664069*q(147,3) - 0.2136084*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 1.411324*q(101,4) - 1.453119*q(102,4) - 1.398439*q(103,4) - 0.9997299*q(105,4) - 0.7704144*q(107,4) - 0.4508015*q(108,4) - 1.045019*q(109,4) - 1.081482*q(110,4) - 0.0734615*q(112,4) - 0.5308458*q(113,4) - 0.526969*q(115,4)
     
      - 2.159528*q(117,4) - 2.925837*q(119,4) - 3.393971*q(121,4) - 0.3123392*q(123,4) - 0.2392202*q(125,4) - 0.0876056*q(127,4) - 0.3196616*q(131,4) - 0.3657741*q(134,4) - 0.1531452*q(135,4) - 0.1136825*q(136,4) - 0.108126*q(138,4) - 0.2921336*q(140,4)
     
      - 0.4495677*q(141,4) - 0.7701982*q(143,4) - 0.6256472*q(144,4) - 1.533439*q(147,4) - 0.1725603*q(150,4) - 0.1634988*q(154,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 1.262315*q(101,4) - 1.857733*q(102,4) - 2.357491*q(103,4) - 0.9833408*q(105,4) - 0.7012461*q(107,4) - 0.5889146*q(108,4) - 0.2785883*q(109,4) - 0.9659911*q(110,4) - 0.0846308*q(112,4) - 0.4898521*q(113,4) - 0.5056428*q(115,4)
     
      - 2.610149*q(117,4) - 2.685928*q(119,4) - 3.500996*q(121,4) - 0.3791006*q(123,4) - 0.2461924*q(125,4) - 0.0836458*q(127,4) - 0.2498805*q(131,4) - 0.3554539*q(134,4) - 0.1004849*q(135,4) - 0.137796*q(136,4) - 0.1043105*q(138,4) - 0.3228558*q(140,4)
     
      - 0.5381057*q(141,4) - 0.6639964*q(143,4) - 0.3582546*q(144,4) - 1.308196*q(147,4) - 0.1662953*q(150,4) - 0.3554967*q(154,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
deflin(4,3)..  - 0.5044185*q(101,4) - 0.196017*q(105,4) - 0.2467188*q(107,4) - 0.5100361*q(108,4) - 0.4035347*q(110,4) - 0.0615072*q(112,4) - 0.1253905*q(113,4) - 0.1277178*q(115,4) - 2.146111*q(117,4) - 0.0055355*q(119,4) - 1.284527*q(121,4)
     
      - 0.2421274*q(123,4) - 0.1445238*q(125,4) - 0.1180313*q(127,4) - 0.2563408*q(131,4) - 0.1241383*q(134,4) - 0.0865314*q(135,4) - 0.1114843*q(136,4) - 0.0807184*q(138,4) - 0.1960319*q(140,4) - 0.2191139*q(141,4) - 0.1959938*q(143,4)
     
      - 0.1206167*q(144,4) - 0.3873088*q(147,4) - 0.1403942*q(150,4) - 0.2124494*q(154,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 1.780857*q(101,4) - 1.660088*q(102,4) - 1.324685*q(103,4) - 1.27032*q(105,4) - 0.8145789*q(107,4) - 0.3304741*q(108,4) - 1.431651*q(109,4) - 0.9751543*q(110,4) - 0.1152537*q(112,4) - 0.4574896*q(113,4) - 0.3919305*q(115,4)
     
      - 2.199617*q(117,4) - 2.482663*q(119,4) - 3.935725*q(121,4) - 0.8808972*q(123,4) - 0.1786704*q(125,4) - 0.2428152*q(127,4) - 0.3050184*q(131,4) - 0.1295093*q(134,4) - 0.1309723*q(135,4) - 0.1760039*q(136,4) - 0.0999559*q(138,4) - 0.2870637*q(140,4)
     
      - 0.3716838*q(141,4) - 0.5911372*q(143,4) - 0.619435*q(144,4) - 1.664069*q(147,4) - 0.2136084*q(150,4) - 0.4708395*q(154,4) + povline(4,4) =E= 0 ; (LHS = 0)
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -85.7775415575015, INFES = 85.7775415575015 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -84.5974329604238, INFES = 84.5974329604238 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 158.405702690165)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 85.5840555475356)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -30.2908332072677, INFES = 30.2908332072677 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 256.765474798697)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 41.7356145696398)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 23.5316942540953)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 115.82486761285)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -122.623743855946, INFES = 122.623743855946 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -214.717697487343, INFES = 214.717697487343 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -256.602516887736, INFES = 256.602516887736 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(101,1)..  - 1.411324*q(101,1) + (358.003123787866)*s(101,1) + (0.0954943434138457)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(101,2)..  - 1.262315*q(101,2) + (271.081697289238)*s(101,2) + (0.0309197359583496)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(101,4)..  - 1.780857*q(101,4) + (523.075047542251)*s(101,4) + (0.168820785263231)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(102,1)..  - 1.453119*q(102,1) + (358.003123787866)*s(102,1) + (0.00967559367434045)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,2)..  - 1.857733*q(102,2) + (271.081697289238)*s(102,2) + (0.00972908993040861)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 1.660088*q(102,4) + (523.075047542251)*s(102,4) + (0.047433112577055)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 1.398439*q(103,1) + (358.003123787866)*s(103,1) + (0.0121305122429445)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 1.324685*q(103,4) + (523.075047542251)*s(103,4) + (0.0221039885827991)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 0.9997299*q(105,1) + (358.003123787866)*s(105,1) + (0.140952219012044)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 0.9833408*q(105,2) + (271.081697289238)*s(105,2) + (0.160397260769094)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.196017*q(105,3) + (103.610797820814)*s(105,3) + (0.0688847868364279)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(105,4)..  - 1.27032*q(105,4) + (523.075047542251)*s(105,4) + (0.095790046119592)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 0.7044781*q(106,2) + (271.081697289238)*s(106,2) + (0.012709535398205)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.7704144*q(107,1) + (358.003123787866)*s(107,1) + (0.0973572058520561)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.7012461*q(107,2) + (271.081697289238)*s(107,2) + (0.047511166830337)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.2467188*q(107,3) + (103.610797820814)*s(107,3) + (0.0586712862309184)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.8145789*q(107,4) + (523.075047542251)*s(107,4) + (0.0615745394288258)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.4508015*q(108,1) + (358.003123787866)*s(108,1) + (0.0145856257796597)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.5889146*q(108,2) + (271.081697289238)*s(108,2) + (0.0844271422093579)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.5100361*q(108,3) + (103.610797820814)*s(108,3) + (0.0460156057064187)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3304741*q(108,4) + (523.075047542251)*s(108,4) + (0.0351230469807427)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,1)..  - 1.045019*q(109,1) + (358.003123787866)*s(109,1) + (0.0077730085558969)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.431651*q(109,4) + (523.075047542251)*s(109,4) + (0.0348106685631496)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.081482*q(110,1) + (358.003123787866)*s(110,1) + (0.0240096787337176)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 0.9659911*q(110,2) + (271.081697289238)*s(110,2) + (0.0233582961004695)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 0.9751543*q(110,4) + (523.075047542251)*s(110,4) + (0.0120223137176124)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.1231829*q(111,3) + (103.610797820814)*s(111,3) + (0.0165456389822299)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.0734615*q(112,1) + (358.003123787866)*s(112,1) + (0.0217532747121631)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.0846308*q(112,2) + (271.081697289238)*s(112,2) + (0.0207715485357659)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.1152537*q(112,4) + (523.075047542251)*s(112,4) + (0.0106479540662155)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 0.5308458*q(113,1) + (358.003123787866)*s(113,1) + (0.132793769012397)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.4898521*q(113,2) + (271.081697289238)*s(113,2) + (0.142477200961285)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.1253905*q(113,3) + (103.610797820814)*s(113,3) + (0.154490568391796)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.4574896*q(113,4) + (523.075047542251)*s(113,4) + (0.073883211966217)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.1366795*q(114,1) + (358.003123787866)*s(114,1) + (0.00965241983153367)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(115,2)..  - 0.5056428*q(115,2) + (271.081697289238)*s(115,2) + (0.0290924934021176)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.1277178*q(115,3) + (103.610797820814)*s(115,3) + (0.0155759120055594)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.3919305*q(115,4) + (523.075047542251)*s(115,4) + (0.0392836106042015)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.2348111*q(116,2) + (271.081697289238)*s(116,2) + (0.0142935554732408)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.1772819*q(116,3) + (103.610797820814)*s(116,3) + (0.121957696345551)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 2.159528*q(117,1) + (358.003123787866)*s(117,1) + (0.0332886466562053)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.610149*q(117,2) + (271.081697289238)*s(117,2) + (0.0292495511545009)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.199617*q(117,4) + (523.075047542251)*s(117,4) + (0.0539870255275826)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 1.77799*q(118,1) + (358.003123787866)*s(118,1) + (0.0105106243072942)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 2.685928*q(119,2) + (271.081697289238)*s(119,2) + (0.00957064921657107)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 2.482663*q(119,4) + (523.075047542251)*s(119,4) + (0.0110643229874817)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.500996*q(121,2) + (271.081697289238)*s(121,2) + (0.0149899962687998)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 3.935725*q(121,4) + (523.075047542251)*s(121,4) + (0.00796643788500236)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.6585233*q(122,1) + (358.003123787866)*s(122,1) + (0.0294876140745312)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.8610666*q(122,2) + (271.081697289238)*s(122,2) + (0.0246610029782545)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.3123392*q(123,1) + (358.003123787866)*s(123,1) + (0.0171854603911468)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.3791006*q(123,2) + (271.081697289238)*s(123,2) + (0.025095994922545)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.2421274*q(123,3) + (103.610797820814)*s(123,3) + (0.029408848913248)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 0.8808972*q(123,4) + (523.075047542251)*s(123,4) + (0.012388167809669)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.2392202*q(125,1) + (358.003123787866)*s(125,1) + (0.0388322174263709)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.2461924*q(125,2) + (271.081697289238)*s(125,2) + (0.0227252080933882)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.1786704*q(125,4) + (523.075047542251)*s(125,4) + (0.0302843292888928)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.0876056*q(127,1) + (358.003123787866)*s(127,1) + (0.0188657177395392)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0836458*q(127,2) + (271.081697289238)*s(127,2) + (0.0288720814330445)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(127,3)..  - 0.1180313*q(127,3) + (103.610797820814)*s(127,3) + (0.0700378089882069)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 0.2428152*q(127,4) + (523.075047542251)*s(127,4) + (0.00925776483928656)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.3050184*q(131,4) + (523.075047542251)*s(131,4) + (0.0087660749487937)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1818327*q(132,2) + (271.081697289238)*s(132,2) + (0.0111696764454655)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.3657741*q(134,1) + (358.003123787866)*s(134,1) + (0.0356961183255003)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.3554539*q(134,2) + (271.081697289238)*s(134,2) + (0.0124414397065824)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,4)..  - 0.1295093*q(134,4) + (523.075047542251)*s(134,4) + (0.00876029001572316)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.1531452*q(135,1) + (358.003123787866)*s(135,1) + (0.0110706753696464)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.0865314*q(135,3) + (103.610797820814)*s(135,3) + (0.0140357535287896)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.1309723*q(135,4) + (523.075047542251)*s(135,4) + (0.00752323426734561)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1136825*q(136,1) + (358.003123787866)*s(136,1) + (0.0225647968609116)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.137796*q(136,2) + (271.081697289238)*s(136,2) + (0.0275984023516479)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1114843*q(136,3) + (103.610797820814)*s(136,3) + (0.0173730228136309)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.1760039*q(136,4) + (523.075047542251)*s(136,4) + (0.0175968375347704)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.108126*q(138,1) + (358.003123787866)*s(138,1) + (0.0140382521116994)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.1043105*q(138,2) + (271.081697289238)*s(138,2) + (0.0320842001289137)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.0807184*q(138,3) + (103.610797820814)*s(138,3) + (0.0147319395603821)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.0999559*q(138,4) + (523.075047542251)*s(138,4) + (0.0137609738900588)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.1130907*q(139,2) + (271.081697289238)*s(139,2) + (0.034226114930827)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.0869916*q(139,3) + (103.610797820814)*s(139,3) + (0.0908556161974165)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.2921336*q(140,1) + (358.003123787866)*s(140,1) + (0.0265192063696696)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.3228558*q(140,2) + (271.081697289238)*s(140,2) + (0.0102546856593801)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.2870637*q(140,4) + (523.075047542251)*s(140,4) + (0.025342855371416)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 0.4495677*q(141,1) + (358.003123787866)*s(141,1) + (0.0686527086179046)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(141,2)..  - 0.5381057*q(141,2) + (271.081697289238)*s(141,2) + (0.0447756680428962)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.2191139*q(141,3) + (103.610797820814)*s(141,3) + (0.144564718423742)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.3716838*q(141,4) + (523.075047542251)*s(141,4) + (0.111903861650567)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 0.6639964*q(143,2) + (271.081697289238)*s(143,2) + (0.0105340821247609)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,4)..  - 0.5911372*q(143,4) + (523.075047542251)*s(143,4) + (0.00998445518073126)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 0.6256472*q(144,1) + (358.003123787866)*s(144,1) + (0.0239692019032546)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 0.3582546*q(144,2) + (271.081697289238)*s(144,2) + (0.0147015557681224)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.619435*q(144,4) + (523.075047542251)*s(144,4) + (0.0181936560454096)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.181655*q(145,3) + (103.610797820814)*s(145,3) + (0.0599770083535795)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.2353207*q(146,3) + (103.610797820814)*s(146,3) + (0.0358752990723761)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 1.533439*q(147,1) + (358.003123787866)*s(147,1) + (0.0731120116627573)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.308196*q(147,2) + (271.081697289238)*s(147,2) + (0.0606231883675034)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.3873088*q(147,3) + (103.610797820814)*s(147,3) + (0.0178489895412133)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.664069*q(147,4) + (523.075047542251)*s(147,4) + (0.0290495306727202)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.1725603*q(150,1) + (358.003123787866)*s(150,1) + (0.0100290973629694)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.1662953*q(150,2) + (271.081697289238)*s(150,2) + (0.0107394768381664)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.1403942*q(150,3) + (103.610797820814)*s(150,3) + (0.0231495001085144)*povline(3,3) =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(101,1) + 0.689*q(102,1) + 0.689*q(103,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 0.6468*q(109,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1)
     
      + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 1907.8064183803, INFES = 134.6935816197 ****)
     
cals(2)..  0.689*q(101,2) + 0.689*q(102,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.221*q(119,2) + 1.4835*q(121,2)
     
      + 0.6161*q(122,2) + 3.75*q(123,2) + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1902.77761746723, INFES = 139.72238253277 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     cals  =E=  ensure that each bundle hits the calorie

cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 3.75*q(123,3) + 8.84*q(127,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 3.13*q(141,3)
     
      + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) =E= 2042.5 ; (LHS = 1887.7743850856, INFES = 154.7256149144 ****)
     
cals(4)..  0.689*q(101,4) + 0.689*q(102,4) + 0.689*q(103,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 1.4835*q(121,4)
     
      + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4) + 0.6208*q(131,4) + 0.494*q(134,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.67*q(143,4) + 5.88*q(144,4) + 3.87*q(147,4) + 0.81*q(154,4) =E= 2042.5 ;
     
      (LHS = 1973.0257238734, INFES = 69.4742761266 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 488


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(101,1)
                (.LO, .L, .UP, .M = 1E-5, 24.223547, +INF, 0)
       -1.4113  deflin(1,1)
       -1.2623  deflin(1,2)
       -0.5044  deflin(1,3)
       -1.7809  deflin(1,4)
       -1.4113  defshr(101,1)
        0.689   cals(1)

q(101,2)
                (.LO, .L, .UP, .M = 1E-5, 6.6400023, +INF, 0)
       -1.4113  deflin(2,1)
       -1.2623  deflin(2,2)
       -0.5044  deflin(2,3)
       -1.7809  deflin(2,4)
       -1.2623  defshr(101,2)
        0.689   cals(2)

q(101,4)
                (.LO, .L, .UP, .M = 1E-5, 49.586205, +INF, 0)
       -1.4113  deflin(4,1)
       -1.2623  deflin(4,2)
       -0.5044  deflin(4,3)
       -1.7809  deflin(4,4)
       -1.7809  defshr(101,4)
        0.689   cals(4)

REMAINING 99 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(101,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0954943434138457, +INF, 0)
      (-1)      obj
     (358.0031) defshr(101,1)

s(101,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0309197359583496, +INF, 0)
      (-1)      obj
     (271.0817) defshr(101,2)

s(101,4)
                (.LO, .L, .UP, .M = 0.0001, 0.168820785263231, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 488


     s  derived maximum entropy shares

     (523.075)  defshr(101,4)

REMAINING 99 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 358.003123787866, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.0955) defshr(101,1)
       (0.0097) defshr(102,1)
       (0.0121) defshr(103,1)
       (0.141)  defshr(105,1)
       (0.0974) defshr(107,1)
       (0.0146) defshr(108,1)
       (0.0078) defshr(109,1)
       (0.024)  defshr(110,1)
       (0.0218) defshr(112,1)
       (0.1328) defshr(113,1)
       (0.0097) defshr(114,1)
       (0.0333) defshr(117,1)
       (0.0105) defshr(118,1)
       (0.0295) defshr(122,1)
       (0.0172) defshr(123,1)
       (0.0388) defshr(125,1)
       (0.0189) defshr(127,1)
       (0.0357) defshr(134,1)
       (0.0111) defshr(135,1)
       (0.0226) defshr(136,1)
       (0.014)  defshr(138,1)
       (0.0265) defshr(140,1)
       (0.0687) defshr(141,1)
       (0.024)  defshr(144,1)
       (0.0731) defshr(147,1)
       (0.01)   defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 356.665752836774, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 145.346412390454, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 488


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          135
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          221
NON ZERO ELEMENTS           947     NON LINEAR N-Z            306
DERIVATIVE POOL              10     CONSTANT POOL             118
CODE LENGTH                 920


GENERATION TIME      =        0.005 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.005 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  488

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0707

 RESOURCE USAGE, LIMIT          0.035      1000.000
 ITERATION COUNT, LIMIT        50    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 221 variables and 135 constraints
    with 947 Jacobian elements, 306 of which are nonlinear.
    The Hessian of the Lagrangian has 102 elements on the diagonal,
    102 elements below the diagonal, and 106 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.034 seconds
   of which: Function evaluations             0.009 = 26.5%
             1st Derivative evaluations       0.000 =  0.0%
             2nd Derivative evaluations       0.005 = 14.7%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0028      
1.2          .              .              .       -1.029055E-5      
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .       -5.052921E-5      
2.2          .              .              .            -0.0028      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .       -8.237954E-5      
3.1          .              .              .             EPS         
3.2          .              .              .       -4.429717E-5      
3.3          .              .              .            -0.0073      
3.4          .              .              .            -0.0005      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0021      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF      5.0529213E-5      
1.3          .            43.3429        +INF            EPS         
1.4          .            39.0828        +INF             .          
2.1          .              .            +INF      1.0290548E-5      
2.3          .              .            +INF      4.4297175E-5      
2.4          .            50.6897        +INF             .          
3.1          .             2.1025        +INF            EPS         
3.2          .            17.6883        +INF             .          
3.4          .            30.2029        +INF             .          
4.1          .             3.4337        +INF             .          
4.2          .              .            +INF      8.2379542E-5      
4.3          .              .            +INF            0.0005      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1          .              .              .             0.0028      
101.2          .              .              .             0.0030      
101.4          .              .              .             0.0021      
102.1          .              .              .             0.0028      
102.2          .              .              .             0.0029      
102.4          .              .              .             0.0021      
103.1          .              .              .             0.0028      
103.4          .              .              .             0.0021      
105.1          .              .              .             0.0028      
105.2          .              .              .             0.0030      
105.3          .              .              .             0.0101      
105.4          .              .              .             0.0022      
106.2          .              .              .             0.0029      
107.1          .              .              .             0.0028      
107.2          .              .              .             0.0029      
107.3          .              .              .             0.0085      
107.4          .              .              .             0.0023      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

108.1          .              .              .             0.0029      
108.2          .              .              .             0.0028      
108.3          .              .              .             0.0070      
108.4          .              .              .             0.0031      
109.1          .              .              .             0.0028      
109.4          .              .              .             0.0021      
110.1          .              .              .             0.0028      
110.2          .              .              .             0.0029      
110.4          .              .              .             0.0025      
111.3          .              .              .             0.0053      
112.1          .              .              .             0.0029      
112.2          .              .              .             0.0028      
112.4          .              .              .             0.0030      
113.1          .              .              .             0.0029      
113.2          .              .              .             0.0028      
113.3          .              .              .             0.0063      
113.4          .              .              .             0.0029      
114.1          .              .              .             0.0030      
115.2          .              .              .             0.0028      
115.3          .              .              .             0.0060      
115.4          .              .              .             0.0031      
116.2          .              .              .             0.0028      
116.3          .              .              .             0.0062      
117.1          .              .              .             0.0028      
117.2          .              .              .             0.0029      
117.4          .              .              .             0.0022      
118.1          .              .              .             0.0028      
119.2          .              .              .             0.0029      
119.4          .              .              .             0.0021      
121.2          .              .              .             0.0030      
121.4          .              .              .             0.0021      
122.1          .              .              .             0.0028      
122.2          .              .              .             0.0029      
123.1          .              .              .             0.0029      
123.2          .              .              .             0.0029      
123.3          .              .              .             0.0076      
123.4          .              .              .             0.0025      
125.1          .              .              .             0.0028      
125.2          .              .              .             0.0029      
125.4          .              .              .             0.0024      
127.1          .              .              .             0.0035      
127.2          .              .              .             0.0015      
127.3          .              .              .             0.0007      
127.4          .              .              .             0.0061      
131.4          .              .              .             0.0023      
132.2          .              .              .             0.0029      
134.1          .              .              .             0.0028      
134.2          .              .              .             0.0029      
134.4          .              .              .             0.0025      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

135.1          .              .              .             0.0028      
135.3          .              .              .             0.0076      
135.4          .              .              .             0.0024      
136.1          .              .              .             0.0028      
136.2          .              .              .             0.0029      
136.3          .              .              .             0.0080      
136.4          .              .              .             0.0022      
138.1          .              .              .             0.0028      
138.2          .              .              .             0.0029      
138.3          .              .              .             0.0077      
138.4          .              .              .             0.0023      
139.2          .              .              .             0.0030      
139.3          .              .              .             0.0080      
140.1          .              .              .             0.0028      
140.2          .              .              .             0.0029      
140.4          .              .              .             0.0025      
141.1          .              .              .             0.0029      
141.2          .              .              .             0.0028      
141.3          .              .              .             0.0068      
141.4          .              .              .             0.0030      
143.2          .              .              .             0.0028      
143.4          .              .              .             0.0031      
144.1          .              .              .             0.0029      
144.2          .              .              .             0.0028      
144.4          .              .              .             0.0031      
145.3          .              .              .             0.0083      
146.3          .              .              .             0.0055      
147.1          .              .              .             0.0028      
147.2          .              .              .             0.0029      
147.3          .              .              .             0.0085      
147.4          .              .              .             0.0023      
150.1          .              .              .             0.0028      
150.2          .              .              .             0.0030      
150.3          .              .              .             0.0081      
150.4          .              .              .             0.0021      
154.4          .              .              .             0.0023      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   6.9030044E-6      
2      2042.5000      2042.5000      2042.5000   -1.511300E-5      
3      2042.5000      2042.5000      2042.5000        -0.0001      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0707        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

101.1   1.0000000E-5        23.3883        +INF             .          
101.2   1.0000000E-5         8.8997        +INF            EPS         
101.4   1.0000000E-5        31.2178        +INF             .          
102.1   1.0000000E-5         2.3047        +INF            EPS         
102.2   1.0000000E-5         1.8654        +INF            EPS         
102.4   1.0000000E-5         9.4206        +INF             .          
103.1   1.0000000E-5         3.0070        +INF             .          
103.4   1.0000000E-5         5.5264        +INF             .          
105.1   1.0000000E-5        48.8125        +INF             .          
105.2   1.0000000E-5        58.8064        +INF             .          
105.3   1.0000000E-5        77.3200        +INF             .          
105.4   1.0000000E-5        25.2756        +INF             .          
106.2   1.0000000E-5         6.3957        +INF            EPS         
107.1   1.0000000E-5        43.8162        +INF            EPS         
107.2   1.0000000E-5        24.2570        +INF             .          
107.3   1.0000000E-5        41.2331        +INF             .          
107.4   1.0000000E-5        26.2768        +INF             .          
108.1   1.0000000E-5        11.3770        +INF             .          
108.2   1.0000000E-5        49.2587        +INF             .          
108.3   1.0000000E-5        12.7430        +INF             .          
108.4   1.0000000E-5        51.7167        +INF             .          
109.1   1.0000000E-5         2.5661        +INF             .          
109.4   1.0000000E-5         8.0295        +INF             .          
110.1   1.0000000E-5         7.7269        +INF             .          
110.2   1.0000000E-5         8.5403        +INF             .          
110.4   1.0000000E-5         4.6795        +INF             .          
111.3   1.0000000E-5        14.9303        +INF             .          
112.1   1.0000000E-5       105.5645        +INF             .          
112.2   1.0000000E-5        83.8275        +INF             .          
112.4   1.0000000E-5        42.5326        +INF             .          
113.1   1.0000000E-5        87.8224        +INF             .          
113.2   1.0000000E-5       100.4543        +INF             .          
113.3   1.0000000E-5       156.8086        +INF            EPS         
113.4   1.0000000E-5        73.6212        +INF             .          
114.1   1.0000000E-5        25.5750        +INF             .          
115.2   1.0000000E-5        19.7638        +INF             .          
115.3   1.0000000E-5        14.8099        +INF             .          
115.4   1.0000000E-5        49.0727        +INF             .          
116.2   1.0000000E-5        20.6337        +INF             .          
116.3   1.0000000E-5        86.5032        +INF             .          
117.1   1.0000000E-5         5.3387        +INF             .          
117.2   1.0000000E-5         3.9822        +INF             .          
117.4   1.0000000E-5         8.2330        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

118.1   1.0000000E-5         2.0495        +INF             .          
119.2   1.0000000E-5         1.2767        +INF             .          
119.4   1.0000000E-5         1.4742        +INF            EPS         
121.2   1.0000000E-5         1.5399        +INF             .          
121.4   1.0000000E-5         0.6663        +INF             .          
122.1   1.0000000E-5        15.5179        +INF             .          
122.2   1.0000000E-5        10.2729        +INF             .          
123.1   1.0000000E-5        19.5781        +INF             .          
123.2   1.0000000E-5        23.3832        +INF            EPS         
123.3   1.0000000E-5        18.5127        +INF             .          
123.4   1.0000000E-5         5.4662        +INF             .          
125.1   1.0000000E-5        56.4122        +INF             .          
125.2   1.0000000E-5        32.4746        +INF             .          
125.4   1.0000000E-5        63.3941        +INF             .          
127.1   1.0000000E-5        94.9006        +INF             .          
127.2   1.0000000E-5        75.1192        +INF             .          
127.3   1.0000000E-5        34.3269        +INF             .          
127.4   1.0000000E-5        58.7418        +INF             .          
131.4   1.0000000E-5        10.1567        +INF             .          
132.2   1.0000000E-5        21.3547        +INF             .          
134.1   1.0000000E-5        33.8129        +INF             .          
134.2   1.0000000E-5        12.2666        +INF             .          
134.4   1.0000000E-5        25.7982        +INF             .          
135.1   1.0000000E-5        25.0800        +INF             .          
135.3   1.0000000E-5        25.0218        +INF             .          
135.4   1.0000000E-5        20.9574        +INF            EPS         
136.1   1.0000000E-5        68.8466        +INF             .          
136.2   1.0000000E-5        71.8746        +INF             .          
136.3   1.0000000E-5        25.1286        +INF             .          
136.4   1.0000000E-5        33.7004        +INF             .          
138.1   1.0000000E-5        45.0386        +INF             .          
138.2   1.0000000E-5       109.3520        +INF             .          
138.3   1.0000000E-5        28.3312        +INF             .          
138.4   1.0000000E-5        48.6151        +INF             .          
139.2   1.0000000E-5       108.9780        +INF             .          
139.3   1.0000000E-5       169.0084        +INF             .          
140.1   1.0000000E-5        31.6333        +INF             .          
140.2   1.0000000E-5        11.1694        +INF             .          
140.4   1.0000000E-5        33.3456        +INF             .          
141.1   1.0000000E-5        53.6757        +INF             .          
141.2   1.0000000E-5        28.6596        +INF             .          
141.3   1.0000000E-5        89.9085        +INF             .          
141.4   1.0000000E-5       139.8775        +INF             .          
143.2   1.0000000E-5         5.4484        +INF             .          
143.4   1.0000000E-5         8.2507        +INF             .          
144.1   1.0000000E-5        13.5151        +INF             .          
144.2   1.0000000E-5        13.9939        +INF             .          
144.4   1.0000000E-5        14.2867        +INF             .          
145.3   1.0000000E-5        55.5251        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

146.3   1.0000000E-5        17.2696        +INF             .          
147.1   1.0000000E-5        16.5593        +INF             .          
147.2   1.0000000E-5        16.5743        +INF             .          
147.3   1.0000000E-5         8.0479        +INF             .          
147.4   1.0000000E-5         6.2466        +INF             .          
150.1   1.0000000E-5        20.0708        +INF             .          
150.2   1.0000000E-5        23.4137        +INF             .          
150.3   1.0000000E-5        27.0397        +INF             .          
150.4   1.0000000E-5        18.6282        +INF            EPS         
154.4   1.0000000E-5         7.6953        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1         0.0001         0.0943        +INF            EPS         
101.2         0.0001         0.0322        +INF             .          
101.4         0.0001         0.1422        +INF            EPS         
102.1         0.0001         0.0096        +INF             .          
102.2         0.0001         0.0099        +INF             .          
102.4         0.0001         0.0400        +INF            EPS         
103.1         0.0001         0.0120        +INF      -3.057471E-9      
103.4         0.0001         0.0187        +INF            EPS         
105.1         0.0001         0.1394        +INF            EPS         
105.2         0.0001         0.1658        +INF      1.9671882E-9      
105.3         0.0001         0.1069        +INF             .          
105.4         0.0001         0.0821        +INF            EPS         
106.2         0.0001         0.0129        +INF             .          
107.1         0.0001         0.0964        +INF             .          
107.2         0.0001         0.0488        +INF      1.1250443E-9      
107.3         0.0001         0.0717        +INF            EPS         
107.4         0.0001         0.0547        +INF            EPS         
108.1         0.0001         0.0147        +INF      1.5842452E-9      
108.2         0.0001         0.0832        +INF             .          
108.3         0.0001         0.0458        +INF            EPS         
108.4         0.0001         0.0437        +INF            EPS         
109.1         0.0001         0.0077        +INF      1.2921535E-9      
109.4         0.0001         0.0294        +INF            EPS         
110.1         0.0001         0.0239        +INF            EPS         
110.2         0.0001         0.0237        +INF            EPS         
110.4         0.0001         0.0117        +INF            EPS         
111.3         0.0001         0.0130        +INF            EPS         
112.1         0.0001         0.0222        +INF            EPS         
112.2         0.0001         0.0203        +INF      2.9482383E-9      
112.4         0.0001         0.0125        +INF            EPS         
113.1         0.0001         0.1332        +INF             .          
113.2         0.0001         0.1411        +INF            EPS         
113.3         0.0001         0.1387        +INF             .          
113.4         0.0001         0.0861        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

114.1         0.0001         0.0100        +INF            EPS         
115.2         0.0001         0.0287        +INF            EPS         
115.3         0.0001         0.0133        +INF      2.0679037E-9      
115.4         0.0001         0.0492        +INF            EPS         
116.2         0.0001         0.0139        +INF      -1.286966E-9      
116.3         0.0001         0.1081        +INF             .          
117.1         0.0001         0.0329        +INF             .          
117.2         0.0001         0.0298        +INF            EPS         
117.4         0.0001         0.0463        +INF             .          
118.1         0.0001         0.0104        +INF      -1.027630E-9      
119.2         0.0001         0.0098        +INF            EPS         
119.4         0.0001         0.0094        +INF             .          
121.2         0.0001         0.0155        +INF      1.4812906E-9      
121.4         0.0001         0.0067        +INF            EPS         
122.1         0.0001         0.0292        +INF      -1.324143E-9      
122.2         0.0001         0.0254        +INF      3.2247227E-9      
123.1         0.0001         0.0175        +INF            EPS         
123.2         0.0001         0.0254        +INF             .          
123.3         0.0001         0.0316        +INF      -3.612944E-9      
123.4         0.0001         0.0123        +INF            EPS         
125.1         0.0001         0.0386        +INF            EPS         
125.2         0.0001         0.0229        +INF            EPS         
125.4         0.0001         0.0290        +INF            EPS         
127.1         0.0001         0.0237        +INF             .          
127.2         0.0001         0.0180        +INF      6.1142622E-9      
127.3         0.0001         0.0286        +INF      -4.349187E-9      
127.4         0.0001         0.0365        +INF             .          
131.4         0.0001         0.0079        +INF            EPS         
132.2         0.0001         0.0111        +INF      2.4188234E-9      
134.1         0.0001         0.0353        +INF            EPS         
134.2         0.0001         0.0125        +INF      -1.452664E-9      
134.4         0.0001         0.0085        +INF            EPS         
135.1         0.0001         0.0110        +INF      1.4919729E-9      
135.3         0.0001         0.0153        +INF            EPS         
135.4         0.0001         0.0070        +INF             .          
136.1         0.0001         0.0224        +INF            EPS         
136.2         0.0001         0.0284        +INF      3.2033545E-9      
136.3         0.0001         0.0198        +INF            EPS         
136.4         0.0001         0.0152        +INF            EPS         
138.1         0.0001         0.0139        +INF            EPS         
138.2         0.0001         0.0327        +INF            EPS         
138.3         0.0001         0.0161        +INF            EPS         
138.4         0.0001         0.0124        +INF            EPS         
139.2         0.0001         0.0353        +INF      2.3523139E-9      
139.3         0.0001         0.1037        +INF      -1.008321E-9      
140.1         0.0001         0.0264        +INF            EPS         
140.2         0.0001         0.0103        +INF      1.2409092E-9      
140.4         0.0001         0.0245        +INF            EPS         
141.1         0.0001         0.0689        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

141.2         0.0001         0.0442        +INF            EPS         
141.3         0.0001         0.1389        +INF             .          
141.4         0.0001         0.1329        +INF             .          
143.2         0.0001         0.0104        +INF            EPS         
143.4         0.0001         0.0125        +INF            EPS         
144.1         0.0001         0.0242        +INF            EPS         
144.2         0.0001         0.0144        +INF             .          
144.4         0.0001         0.0226        +INF            EPS         
145.3         0.0001         0.0711        +INF             .          
146.3         0.0001         0.0287        +INF      2.9527160E-9      
147.1         0.0001         0.0725        +INF            EPS         
147.2         0.0001         0.0622        +INF      1.0353098E-9      
147.3         0.0001         0.0220        +INF            EPS         
147.4         0.0001         0.0266        +INF            EPS         
150.1         0.0001         0.0099        +INF            EPS         
150.2         0.0001         0.0112        +INF            EPS         
150.3         0.0001         0.0268        +INF            EPS         
150.4         0.0001         0.0102        +INF             .          
154.4         0.0001         0.0093        +INF            EPS         

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          350.0608        +INF             .          
1.2        -INF          348.7578        +INF             .          
1.3        -INF          143.9128        +INF             .          
1.4        -INF          394.5248        +INF             .          
2.1        -INF          350.0608        +INF             .          
2.2        -INF          348.7578        +INF             .          
2.3        -INF          159.4987        +INF             .          
2.4        -INF          391.0910        +INF             .          
3.1        -INF          393.4038        +INF             .          
3.2        -INF          348.7578        +INF             .          
3.3        -INF          141.8104        +INF             .          
3.4        -INF          391.0910        +INF             .          
4.1        -INF          389.1436        +INF             .          
4.2        -INF          399.4475        +INF             .          
4.3        -INF          172.0133        +INF             .          
4.4        -INF          391.0910        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 10:59:16 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    491 this is without adjustment for calorie target or 90%

----    491 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     350.061     348.758     143.913     394.525
2     350.061     348.758     159.499     391.091
3     393.404     348.758     141.810     391.091
4     389.144     399.448     172.013     391.091


----    516 PARAMETER perc_chng  percent change in line

1  -8.667,    2  19.853,    3  26.500,    4 -27.776


----    516 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 363.307,    2 361.000,    3 145.631,    4 419.765


----    516 PARAMETER povline_ali  food poverty line

1 397.781,    2 301.202,    3 115.123,    4 581.194


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/list.lst
