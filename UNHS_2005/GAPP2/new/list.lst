GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
  20  101
  21  102
  22  103
  23  105
  24  106
  25  107
  26  108
  27  109
  28  110
  29  111
  30  112
  31  113
  32  114
  33  115
  34  116
  35  117
  36  118
  37  119
  38  121
  39  122
  40  123
  41  125
  42  127
  43  131
  44  132
  45  134
  46  135
  47  136
  48  138
  49  139
  50  140
  51  141
  52  143
  53  144
  54  145
  55  146
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  147
  57  150
  58  154
  59  /
  60   
  61   reg        4 spatial domains /1*4/
  62   r(reg)     all included spatial regions /1*4/
  63   
  64   ptit       price table titles
  65  /
  66    count      number of observations making up the price average
  67    price_uw5  average price
  68  /
  69   
  70   qtit       quantity table titles
  71  /
  72    calperg          calories per gram
  73    quan5            quantities in grams
  74    calpp            calories per person by region
  75    povline_a_flex5    value of flexible food bundle
  76  /
  77   
  78   
  79    posquan(cod,reg)  mark positive quantities in each region
  80    posprice(cod,reg) mark the existence of acceptable price info in each region
  81    chkprice(cod,reg) ensure that prices exist once all estimated
  82  ;
  83   
  84  alias(reg,regq);
  85  alias(r,rq);
  86   
  87  SCALAR
  88     caltarg single level of calories to target across regions / 2150 /
  89   ;
  90   
  91  PARAMETERS
  92   
  93    shr(cod,reg)         shares in each basket by region
  94    chkshr(reg)          check that the calculated shares sum to .9
  95    shrmiss(regq,reg)    shares missing in each region pair
  96    povline_ali(reg)       food poverty line
  97    perc_chng(reg)       percent change in line
  98    finmiss(reg)         final missing shares post optimization procedure
  99   ;
 100   
 101  Table  price(cod,reg,ptit)  price and related information
 102                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
 104  101     .       1       311     1.422129
 105  101     .       2       110     1.262067
 106  101     .       3       1       .5044185
 107  101     .       4       655     1.780857
 108  102     .       1       40      1.453168
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  102     .       2       27      1.86866
 110  102     .       4       205     1.660088
 111  103     .       1       38      1.398481
 112  103     .       2       19      2.356872
 113  103     .       4       91      1.324685
 114  105     .       1       458     1.002288
 115  105     .       2       402     .9814758
 116  105     .       3       67      .196017
 117  105     .       4       594     1.27032
 118  106     .       1       8       .7581262
 119  106     .       2       42      .704468
 120  106     .       3       3       .3764546
 121  106     .       4       18      .9674676
 122  107     .       1       411     .7700331
 123  107     .       2       240     .7010787
 124  107     .       3       58      .2467188
 125  107     .       4       515     .8145789
 126  108     .       1       73      .4503762
 127  108     .       2       250     .5851815
 128  108     .       3       33      .5100361
 129  108     .       4       268     .3304741
 130  109     .       1       40      1.045066
 131  109     .       2       10      .2784722
 132  109     .       4       237     1.431651
 133  110     .       1       130     1.080879
 134  110     .       2       134     .9659458
 135  110     .       3       1       .4035347
 136  110     .       4       165     .9751543
 137  111     .       1       15      .2124825
 138  111     .       2       49      .2568449
 139  111     .       3       19      .1231829
 140  111     .       4       58      .2428581
 141  112     .       1       122     .0734675
 142  112     .       2       105     .0858427
 143  112     .       3       9       .0615072
 144  112     .       4       117     .1152537
 145  113     .       1       532     .5310035
 146  113     .       2       428     .4886149
 147  113     .       3       110     .1253905
 148  113     .       4       643     .4574896
 149  114     .       1       128     .1365302
 150  114     .       2       35      .1504247
 151  114     .       3       2       .0488823
 152  114     .       4       163     .1586102
 153  115     .       1       43      .5269851
 154  115     .       2       139     .505424
 155  115     .       3       19      .1277178
 156  115     .       4       382     .3919305
 157  116     .       1       5       .3833399
 158  116     .       2       149     .2337921
 159  116     .       3       96      .1772819
 160  116     .       4       86      .2910318
 161  117     .       1       163     2.157113
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  117     .       2       150     2.608929
 163  117     .       3       14      2.146111
 164  117     .       4       390     2.199617
 165  118     .       1       59      1.778033
 166  118     .       2       35      2.072767
 167  118     .       4       58      2.038963
 168  119     .       1       12      2.925987
 169  119     .       2       39      2.684238
 170  119     .       3       7       .0055355
 171  119     .       4       75      2.482663
 172  121     .       1       25      3.394109
 173  121     .       2       55      3.49893
 174  121     .       3       3       1.284527
 175  121     .       4       49      3.935725
 176  122     .       1       173     .6566812
 177  122     .       2       121     .8690869
 178  122     .       3       10      .1293147
 179  122     .       4       81      1.042398
 180  123     .       1       182     .3118904
 181  123     .       2       229     .3801327
 182  123     .       3       56      .2421274
 183  123     .       4       120     .8808972
 184  125     .       1       236     .2384936
 185  125     .       2       175     .2460746
 186  125     .       3       12      .1445238
 187  125     .       4       383     .1786704
 188  127     .       1       423     .0892521
 189  127     .       2       475     .0835172
 190  127     .       3       112     .1180313
 191  127     .       4       319     .2428152
 192  131     .       1       92      .3177899
 193  131     .       2       31      .2514532
 194  131     .       3       3       .2563408
 195  131     .       4       263     .3050184
 196  132     .       1       65      .0912806
 197  132     .       2       83      .1814941
 198  132     .       3       9       .1278708
 199  132     .       4       78      .1070925
 200  134     .       1       242     .3574328
 201  134     .       2       104     .3557147
 202  134     .       3       8       .1241383
 203  134     .       4       223     .1295093
 204  135     .       1       491     .1541007
 205  135     .       2       437     .1004987
 206  135     .       3       101     .0865314
 207  135     .       4       699     .1309723
 208  136     .       1       537     .1131206
 209  136     .       2       510     .1378763
 210  136     .       3       65      .1114843
 211  136     .       4       719     .1760039
 212  138     .       1       239     .1081327
 213  138     .       2       323     .1037952
 214  138     .       3       37      .0807184
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  138     .       4       476     .0999559
 216  139     .       1       155     .11334
 217  139     .       2       347     .1128966
 218  139     .       3       170     .0869916
 219  139     .       4       113     .1687959
 220  140     .       1       130     .2918146
 221  140     .       2       61      .3226596
 222  140     .       3       4       .1960319
 223  140     .       4       227     .2870637
 224  141     .       1       439     .4496535
 225  141     .       2       332     .5382081
 226  141     .       3       145     .2191139
 227  141     .       4       874     .3716838
 228  143     .       1       53      .7702333
 229  143     .       2       98      .6501501
 230  143     .       3       2       .1959938
 231  143     .       4       164     .5911372
 232  144     .       1       269     .6294945
 233  144     .       2       177     .357957
 234  144     .       3       1       .1206167
 235  144     .       4       276     .619435
 236  145     .       1       5       .6803144
 237  145     .       2       45      .311027
 238  145     .       3       68      .181655
 239  145     .       4       51      .5010233
 240  146     .       1       6       1.088905
 241  146     .       2       22      .5276431
 242  146     .       3       76      .2353207
 243  146     .       4       15      .267502
 244  147     .       1       504     1.531305
 245  147     .       2       462     1.319939
 246  147     .       3       38      .3873088
 247  147     .       4       519     1.664069
 248  150     .       1       737     .1725051
 249  150     .       2       716     .1662517
 250  150     .       3       207     .1403942
 251  150     .       4       1123    .2136084
 252  154     .       1       18      .1635037
 253  154     .       2       31      .3490608
 254  154     .       3       16      .2124494
 255  154     .       4       100     .4708395
 256  ;
 257   
 258  Table   quan(cod,reg,qtit)   quantity and related information
 259                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc
 261  101     .       1       6.8900000e-01   2.4160000e+01   2.0082173e+03   400.0813
 262  102     .       1       6.8900000e-01   2.3890479e+00   2.0082173e+03   400.0813
 263  103     .       1       6.8900000e-01   3.1123304e+00   2.0082173e+03   400.0813
 264  105     .       1       1.0164000e+00   5.0700775e+01   2.0082173e+03   400.0813
 265  107     .       1       1.3440000e+00   4.5542816e+01   2.0082173e+03   400.0813
 266  108     .       1       3.1400000e+00   1.1655314e+01   2.0082173e+03   400.0813
 267  109     .       1       6.4680000e-01   2.6687553e+00   2.0082173e+03   400.0813
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  110     .       1       3.6100000e+00   8.0320187e+00   2.0082173e+03   400.0813
 269  112     .       1       9.4600000e-01   1.0624110e+02   2.0082173e+03   400.0813
 270  113     .       1       3.6500000e+00   8.9942474e+01   2.0082173e+03   400.0813
 271  114     .       1       2.6600000e+00   2.5462109e+01   2.0082173e+03   400.0813
 272  117     .       1       1.7982000e+00   5.5823479e+00   2.0082173e+03   400.0813
 273  118     .       1       2.3534000e+00   2.1210542e+00   2.0082173e+03   400.0813
 274  122     .       1       6.1610000e-01   1.6284616e+01   2.0082173e+03   400.0813
 275  123     .       1       3.7500000e+00   1.9784576e+01   2.0082173e+03   400.0813
 276  125     .       1       6.0000000e-01   5.8580811e+01   2.0082173e+03   400.0813
 277  127     .       1       8.8400000e+00   7.6359978e+01   2.0082173e+03   400.0813
 278  134     .       1       4.9400000e-01   3.5870983e+01   2.0082173e+03   400.0813
 279  135     .       1       3.6400000e-01   2.5835516e+01   2.0082173e+03   400.0813
 280  136     .       1       1.6380000e-01   7.1708725e+01   2.0082173e+03   400.0813
 281  138     .       1       2.0160000e-01   4.6614998e+01   2.0082173e+03   400.0813
 282  140     .       1       1.0300000e+00   3.2668095e+01   2.0082173e+03   400.0813
 283  141     .       1       3.1300000e+00   5.4810772e+01   2.0082173e+03   400.0813
 284  144     .       1       5.8800000e+00   1.3832001e+01   2.0082173e+03   400.0813
 285  147     .       1       3.8700000e+00   1.7197332e+01   2.0082173e+03   400.0813
 286  150     .       1       0.0000000e+00   2.0888243e+01   2.0082173e+03   400.0813
 287  101     .       2       6.8900000e-01   6.6419435e+00   2.0029237e+03   300.6122
 288  102     .       2       6.8900000e-01   1.4026135e+00   2.0029237e+03   300.6122
 289  105     .       2       1.0164000e+00   4.4208656e+01   2.0029237e+03   300.6122
 290  106     .       2       3.4300000e+00   4.8911409e+00   2.0029237e+03   300.6122
 291  107     .       2       1.3440000e+00   1.8356798e+01   2.0029237e+03   300.6122
 292  108     .       2       3.1400000e+00   3.8728790e+01   2.0029237e+03   300.6122
 293  110     .       2       3.6100000e+00   6.5547175e+00   2.0029237e+03   300.6122
 294  112     .       2       9.4600000e-01   6.5600548e+01   2.0029237e+03   300.6122
 295  113     .       2       3.6500000e+00   7.9125435e+01   2.0029237e+03   300.6122
 296  115     .       2       3.7800000e+00   1.5597963e+01   2.0029237e+03   300.6122
 297  116     .       2       3.3900000e+00   1.6507010e+01   2.0029237e+03   300.6122
 298  117     .       2       1.7982000e+00   3.0365086e+00   2.0029237e+03   300.6122
 299  119     .       2       1.2210000e+00   9.5775807e-01   2.0029237e+03   300.6122
 300  121     .       2       1.4835000e+00   1.1614705e+00   2.0029237e+03   300.6122
 301  122     .       2       6.1610000e-01   7.7008486e+00   2.0029237e+03   300.6122
 302  123     .       2       3.7500000e+00   1.7846037e+01   2.0029237e+03   300.6122
 303  125     .       2       6.0000000e-01   2.5037031e+01   2.0029237e+03   300.6122
 304  127     .       2       8.8400000e+00   9.3677742e+01   2.0029237e+03   300.6122
 305  132     .       2       4.3310000e-01   1.6684761e+01   2.0029237e+03   300.6122
 306  134     .       2       4.9400000e-01   9.4074659e+00   2.0029237e+03   300.6122
 307  136     .       2       1.6380000e-01   5.4118851e+01   2.0029237e+03   300.6122
 308  138     .       2       2.0160000e-01   8.3717728e+01   2.0029237e+03   300.6122
 309  139     .       2       2.6100000e-01   8.2119576e+01   2.0029237e+03   300.6122
 310  140     .       2       1.0300000e+00   8.6248598e+00   2.0029237e+03   300.6122
 311  141     .       2       3.1300000e+00   2.2540133e+01   2.0029237e+03   300.6122
 312  143     .       2       5.6700000e+00   4.3730698e+00   2.0029237e+03   300.6122
 313  144     .       2       5.8800000e+00   1.1128931e+01   2.0029237e+03   300.6122
 314  147     .       2       3.8700000e+00   1.2384286e+01   2.0029237e+03   300.6122
 315  150     .       2       0.0000000e+00   1.7499218e+01   2.0029237e+03   300.6122
 316  105     .       3       1.0164000e+00   3.6411167e+01   1.9871310e+03   115.1231
 317  107     .       3       1.3440000e+00   2.4639297e+01   1.9871310e+03   115.1231
 318  108     .       3       3.1400000e+00   9.3477955e+00   1.9871310e+03   115.1231
 319  111     .       3       3.6500000e+00   1.3916760e+01   1.9871310e+03   115.1231
 320  113     .       3       3.6500000e+00   1.2765633e+02   1.9871310e+03   115.1231
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  115     .       3       3.7800000e+00   1.2635925e+01   1.9871310e+03   115.1231
 322  116     .       3       3.3900000e+00   7.1277069e+01   1.9871310e+03   115.1231
 323  123     .       3       3.7500000e+00   1.2584590e+01   1.9871310e+03   115.1231
 324  127     .       3       8.8400000e+00   6.1480923e+01   1.9871310e+03   115.1231
 325  135     .       3       3.6400000e-01   1.6806103e+01   1.9871310e+03   115.1231
 326  136     .       3       1.6380000e-01   1.6146063e+01   1.9871310e+03   115.1231
 327  138     .       3       2.0160000e-01   1.8910038e+01   1.9871310e+03   115.1231
 328  139     .       3       2.6100000e-01   1.0821301e+02   1.9871310e+03   115.1231
 329  141     .       3       3.1300000e+00   6.8359268e+01   1.9871310e+03   115.1231
 330  145     .       3       8.1000000e-01   3.4209160e+01   1.9871310e+03   115.1231
 331  146     .       3       5.7300000e+00   1.5795754e+01   1.9871310e+03   115.1231
 332  147     .       3       3.8700000e+00   4.7748666e+00   1.9871310e+03   115.1231
 333  150     .       3       0.0000000e+00   1.7084311e+01   1.9871310e+03   115.1231
 334  101     .       4       6.8900000e-01   4.9586205e+01   2.0768691e+03   581.1945
 335  102     .       4       6.8900000e-01   1.4945640e+01   2.0768691e+03   581.1945
 336  103     .       4       6.8900000e-01   8.7281466e+00   2.0768691e+03   581.1945
 337  105     .       4       1.0164000e+00   3.9443119e+01   2.0768691e+03   581.1945
 338  107     .       4       1.3440000e+00   3.9539577e+01   2.0768691e+03   581.1945
 339  108     .       4       3.1400000e+00   5.5592827e+01   2.0768691e+03   581.1945
 340  109     .       4       6.4680000e-01   1.2718597e+01   2.0768691e+03   581.1945
 341  110     .       4       3.6100000e+00   6.4487972e+00   2.0768691e+03   581.1945
 342  112     .       4       9.4600000e-01   4.8325382e+01   2.0768691e+03   581.1945
 343  113     .       4       3.6500000e+00   8.4475067e+01   2.0768691e+03   581.1945
 344  115     .       4       3.7800000e+00   5.2428368e+01   2.0768691e+03   581.1945
 345  117     .       4       1.7982000e+00   1.2838265e+01   2.0768691e+03   581.1945
 346  119     .       4       1.2210000e+00   2.3311546e+00   2.0768691e+03   581.1945
 347  121     .       4       1.4835000e+00   1.0587744e+00   2.0768691e+03   581.1945
 348  123     .       4       3.7500000e+00   7.3560700e+00   2.0768691e+03   581.1945
 349  125     .       4       6.0000000e-01   8.8660332e+01   2.0768691e+03   581.1945
 350  127     .       4       8.8400000e+00   1.9943174e+01   2.0768691e+03   581.1945
 351  131     .       4       6.2080000e-01   1.5032913e+01   2.0768691e+03   581.1945
 352  134     .       4       4.9400000e-01   3.5381931e+01   2.0768691e+03   581.1945
 353  135     .       4       3.6400000e-01   3.0046171e+01   2.0768691e+03   581.1945
 354  136     .       4       1.6380000e-01   5.2296947e+01   2.0768691e+03   581.1945
 355  138     .       4       2.0160000e-01   7.2011978e+01   2.0768691e+03   581.1945
 356  140     .       4       1.0300000e+00   4.6178654e+01   2.0768691e+03   581.1945
 357  141     .       4       3.1300000e+00   1.5748364e+02   2.0768691e+03   581.1945
 358  143     .       4       5.6700000e+00   8.8348684e+00   2.0768691e+03   581.1945
 359  144     .       4       5.8800000e+00   1.5363432e+01   2.0768691e+03   581.1945
 360  147     .       4       3.8700000e+00   9.1312828e+00   2.0768691e+03   581.1945
 361  150     .       4       0.0000000e+00   3.0083454e+01   2.0768691e+03   581.1945
 362  154     .       4       8.1000000e-01   1.1544580e+01   2.0768691e+03   581.1945
 363  ;
 364   
 365    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 366                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 367                         quan(cod,reg,'povline_a_flex5');
 368   
 369    chkshr(reg)=sum(cod,shr(cod,reg));
 370   
 371  loop(reg,
 372    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 373  );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375   
 376  *turn on dynamic sets to indicate positive quantities and existence of
 377  *price info for each region
 378   
 379   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 380                        AND price(cod,reg,'count') gt 4) = yes;
 381   
 382   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 383   
 384   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 385   display shrmiss;
 386   
 387    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 388                                             quan(cod,reg,'quan5'))/.9;
 389   
 390    display povline_ali;
 391   
 392   
 393  *boost values so shares sum to one;
 394  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 395   
 396  *fill out price matrix with maximum observed price outside of Maputo
 397   
 398  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 399           loop(r,
 400                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 401                                                price(cod,r,'price_uw5'));
 402           );
 403  );
 404   
 405  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 406   
 407  display 'should be an empty set', chkprice;
 408   
 409   
 410   
 411   
 412  Variables
 413     z                objective value
 414     q(cod,reg)       revised maximum entropy quanties in grams
 415     s(cod,reg)       derived maximum entropy shares
 416     povline(regq,reg)  estimated revealed preference matrix
 417  ;
 418   
 419   
 420  Equations
 421     obj              objective equation
 422     rev(regq,reg)    revealed preference tests
 423     deflin(regq,reg) define revealed preference matrix
 424     defshr(cod,regq) define the endogenous budget shares
 425     cals(regq)       ensure that each bundle hits the calorie
 426   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         08/06/13 16:12:55 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427  ;
 428   
 429     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 430                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 431   
 432     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 433                            q(cod,rq)*price(cod,r,'price_uw5'));
 434   
 435     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 436   
 437     defshr(cod,rq)$posquan(cod,rq) ..
 438               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 439   
 440     cals(rq) .. sum(cod$posquan(cod,rq),
 441                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 442   
 443  *set bounds and starting values for variables
 444   
 445    q.lo(cod,reg)=.00001;
 446    q.up(cod,reg)=inf;
 447    q.l(cod,reg)=quan(cod,reg,'quan5');
 448    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 449   
 450    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 451                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 452   
 453   
 454    display povline.l;
 455   
 456  *print the revealed preference matrix prior to optimisation;
 457  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv"/;
 458  put povline_rp;
 459  povline_rp.pc=5;
 460  povline_rp.nd=0;
 461  put " ";
 462  loop(reg,
 463        put reg.tl;
 464  );
 465  put /;
 466  loop(regq,
 467       put regq.tl;
 468       loop(reg,
 469           put povline.l(regq,reg);
 470       );
 471       put /;
 472  );
 473  put /; put /; put /;
 474   
 475     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 476     s.lo(cod,regq)=.0001;
 477     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 478   
 479   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480     model revpref /obj, deflin, rev, defshr, cals/;
 481   
 482     revpref.holdfixed=1;
 483   
 484     option limrow=100;
 485   
 486     option nlp=conopt;
 487   
 488     solve revpref using nlp minimizing z;
 489   
 490     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 491     display "this is without adjustment for calorie target or 90%", povline.l;
 492   
 493  put /;
 494  loop(rq,
 495       put rq.tl;
 496       loop(r,
 497           put povline.l(rq,r);
 498       );
 499       put /;
 500  );
 501  put /;
 502   
 503   
 504  PARAMETERS
 505     qent(cod,reg)  entropy quantities with all adjustments accounted for
 506     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 507    ;
 508  *readjust quantities to hit regional calorie target and calculate line;
 509     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 510   
 511     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 512                                             qent(cod,r))/.9;
 513   
 514     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 515   
 516     display perc_chng, povline_ent, povline_ali;
 517   
 518     file res/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv"/;
 519   
 520     put res;
 521     res.pc=5;
 522     res.nd=6;
 523   
 524  *recall that the basket reflects 90% of expenditure and 95% of calories";
 525     put "spdomain" ;
 526     put "product" ;
 527     put "quan5";
 528     put "qent";
 529     put "price";
 530     put "calperg";
 531   
 532     put /;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533   
 534     loop(reg,
 535         loop(cod,
 536             put reg.tl;
 537             put cod.tl;
 538             put quan(cod,reg,'quan5');
 539             put qent(cod,reg);
 540             put price(cod,reg,'price_uw5')
 541             put quan(cod,reg,'calperg');
 542             put /;
 543         );
 544     );
 545   
 546     file lin/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv"/;
 547   
 548     put lin;
 549     lin.pc=5;
 550  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 551   
 552     put "spdomain";
 553     put "flex";
 554     put "ent";
 555     put /;
 556   
 557     loop(reg,
 558           put reg.tl;
 559           put povline_ali(reg);
 560           put povline_ent(reg);
 561           put /;
 562     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
     3      103 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
     4      260 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc


COMPILATION TIME     =        0.003 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    385 PARAMETER shrmiss  shares missing in each region pair

            3

1       0.198
2       0.115
4       0.320


----    390 PARAMETER povline_ali  food poverty line

1 400.081,    2 300.612,    3 115.123,    4 581.194


----    407 should be an empty set

----    407 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    454 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     360.073     358.873     146.081     402.277
2     272.174     270.551     126.984     307.903
3     274.011     240.403     103.611     266.473
4     516.667     527.531     219.436     523.075

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


---- obj  =E=  objective equation

obj..  z - (1)*s(101,1) - (1)*s(101,2) - (1)*s(101,4) - (1)*s(102,1) - (1)*s(102,2) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3)
     
      - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,1) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2)
     
      - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(119,2) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,4)
     
      - (1)*s(122,1) - (1)*s(122,2) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(127,4) - (1)*s(131,4) - (1)*s(132,2) - (1)*s(134,1)
     
      - (1)*s(134,2) - (1)*s(134,4) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1)
     
      - (1)*s(140,2) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(143,4) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3)
     
      - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 1.422129*q(101,1) - 1.453168*q(102,1) - 1.398481*q(103,1) - 1.002288*q(105,1) - 0.7700331*q(107,1) - 0.4503762*q(108,1) - 1.045066*q(109,1) - 1.080879*q(110,1) - 0.0734675*q(112,1) - 0.5310035*q(113,1) - 0.1365302*q(114,1)
     
      - 2.157113*q(117,1) - 1.778033*q(118,1) - 0.6566812*q(122,1) - 0.3118904*q(123,1) - 0.2384936*q(125,1) - 0.0892521*q(127,1) - 0.3574328*q(134,1) - 0.1541007*q(135,1) - 0.1131206*q(136,1) - 0.1081327*q(138,1) - 0.2918146*q(140,1) - 0.4496535*q(141,1)
     
      - 0.6294945*q(144,1) - 1.531305*q(147,1) - 0.1725051*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 1.262067*q(101,1) - 1.86866*q(102,1) - 2.356872*q(103,1) - 0.9814758*q(105,1) - 0.7010787*q(107,1) - 0.5851815*q(108,1) - 0.2784722*q(109,1) - 0.9659458*q(110,1) - 0.0858427*q(112,1) - 0.4886149*q(113,1) - 0.1504247*q(114,1)
     
      - 2.608929*q(117,1) - 2.072767*q(118,1) - 0.8690869*q(122,1) - 0.3801327*q(123,1) - 0.2460746*q(125,1) - 0.0835172*q(127,1) - 0.3557147*q(134,1) - 0.1004987*q(135,1) - 0.1378763*q(136,1) - 0.1037952*q(138,1) - 0.3226596*q(140,1) - 0.5382081*q(141,1)
     
      - 0.357957*q(144,1) - 1.319939*q(147,1) - 0.1662517*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.5044185*q(101,1) - 0.196017*q(105,1) - 0.2467188*q(107,1) - 0.5100361*q(108,1) - 0.4035347*q(110,1) - 0.0615072*q(112,1) - 0.1253905*q(113,1) - 0.0488823*q(114,1) - 2.146111*q(117,1) - 0.1293147*q(122,1) - 0.2421274*q(123,1)
     
      - 0.1445238*q(125,1) - 0.1180313*q(127,1) - 0.1241383*q(134,1) - 0.0865314*q(135,1) - 0.1114843*q(136,1) - 0.0807184*q(138,1) - 0.1960319*q(140,1) - 0.2191139*q(141,1) - 0.1206167*q(144,1) - 0.3873088*q(147,1) - 0.1403942*q(150,1) + povline(1,3)
      =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 1.780857*q(101,1) - 1.660088*q(102,1) - 1.324685*q(103,1) - 1.27032*q(105,1) - 0.8145789*q(107,1) - 0.3304741*q(108,1) - 1.431651*q(109,1) - 0.9751543*q(110,1) - 0.1152537*q(112,1) - 0.4574896*q(113,1) - 0.1586102*q(114,1)
     
      - 2.199617*q(117,1) - 2.038963*q(118,1) - 1.042398*q(122,1) - 0.8808972*q(123,1) - 0.1786704*q(125,1) - 0.2428152*q(127,1) - 0.1295093*q(134,1) - 0.1309723*q(135,1) - 0.1760039*q(136,1) - 0.0999559*q(138,1) - 0.2870637*q(140,1) - 0.3716838*q(141,1)
     
      - 0.619435*q(144,1) - 1.664069*q(147,1) - 0.2136084*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 1.422129*q(101,2) - 1.453168*q(102,2) - 1.002288*q(105,2) - 0.7581262*q(106,2) - 0.7700331*q(107,2) - 0.4503762*q(108,2) - 1.080879*q(110,2) - 0.0734675*q(112,2) - 0.5310035*q(113,2) - 0.5269851*q(115,2) - 0.3833399*q(116,2)
     
      - 2.157113*q(117,2) - 2.925987*q(119,2) - 3.394109*q(121,2) - 0.6566812*q(122,2) - 0.3118904*q(123,2) - 0.2384936*q(125,2) - 0.0892521*q(127,2) - 0.0912806*q(132,2) - 0.3574328*q(134,2) - 0.1131206*q(136,2) - 0.1081327*q(138,2) - 0.11334*q(139,2)
     
      - 0.2918146*q(140,2) - 0.4496535*q(141,2) - 0.7702333*q(143,2) - 0.6294945*q(144,2) - 1.531305*q(147,2) - 0.1725051*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 1.262067*q(101,2) - 1.86866*q(102,2) - 0.9814758*q(105,2) - 0.704468*q(106,2) - 0.7010787*q(107,2) - 0.5851815*q(108,2) - 0.9659458*q(110,2) - 0.0858427*q(112,2) - 0.4886149*q(113,2) - 0.505424*q(115,2) - 0.2337921*q(116,2)
     
      - 2.608929*q(117,2) - 2.684238*q(119,2) - 3.49893*q(121,2) - 0.8690869*q(122,2) - 0.3801327*q(123,2) - 0.2460746*q(125,2) - 0.0835172*q(127,2) - 0.1814941*q(132,2) - 0.3557147*q(134,2) - 0.1378763*q(136,2) - 0.1037952*q(138,2) - 0.1128966*q(139,2)
     
      - 0.3226596*q(140,2) - 0.5382081*q(141,2) - 0.6501501*q(143,2) - 0.357957*q(144,2) - 1.319939*q(147,2) - 0.1662517*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     deflin  =E=  define revealed preference matrix

deflin(2,3)..  - 0.5044185*q(101,2) - 0.196017*q(105,2) - 0.3764546*q(106,2) - 0.2467188*q(107,2) - 0.5100361*q(108,2) - 0.4035347*q(110,2) - 0.0615072*q(112,2) - 0.1253905*q(113,2) - 0.1277178*q(115,2) - 0.1772819*q(116,2) - 2.146111*q(117,2)
     
      - 0.0055355*q(119,2) - 1.284527*q(121,2) - 0.1293147*q(122,2) - 0.2421274*q(123,2) - 0.1445238*q(125,2) - 0.1180313*q(127,2) - 0.1278708*q(132,2) - 0.1241383*q(134,2) - 0.1114843*q(136,2) - 0.0807184*q(138,2) - 0.0869916*q(139,2)
     
      - 0.1960319*q(140,2) - 0.2191139*q(141,2) - 0.1959938*q(143,2) - 0.1206167*q(144,2) - 0.3873088*q(147,2) - 0.1403942*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 1.780857*q(101,2) - 1.660088*q(102,2) - 1.27032*q(105,2) - 0.9674676*q(106,2) - 0.8145789*q(107,2) - 0.3304741*q(108,2) - 0.9751543*q(110,2) - 0.1152537*q(112,2) - 0.4574896*q(113,2) - 0.3919305*q(115,2) - 0.2910318*q(116,2)
     
      - 2.199617*q(117,2) - 2.482663*q(119,2) - 3.935725*q(121,2) - 1.042398*q(122,2) - 0.8808972*q(123,2) - 0.1786704*q(125,2) - 0.2428152*q(127,2) - 0.1070925*q(132,2) - 0.1295093*q(134,2) - 0.1760039*q(136,2) - 0.0999559*q(138,2) - 0.1687959*q(139,2)
     
      - 0.2870637*q(140,2) - 0.3716838*q(141,2) - 0.5911372*q(143,2) - 0.619435*q(144,2) - 1.664069*q(147,2) - 0.2136084*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 1.002288*q(105,3) - 0.7700331*q(107,3) - 0.4503762*q(108,3) - 0.2124825*q(111,3) - 0.5310035*q(113,3) - 0.5269851*q(115,3) - 0.3833399*q(116,3) - 0.3118904*q(123,3) - 0.0892521*q(127,3) - 0.1541007*q(135,3) - 0.1131206*q(136,3)
     
      - 0.1081327*q(138,3) - 0.11334*q(139,3) - 0.4496535*q(141,3) - 0.6803144*q(145,3) - 1.088905*q(146,3) - 1.531305*q(147,3) - 0.1725051*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 0.9814758*q(105,3) - 0.7010787*q(107,3) - 0.5851815*q(108,3) - 0.2568449*q(111,3) - 0.4886149*q(113,3) - 0.505424*q(115,3) - 0.2337921*q(116,3) - 0.3801327*q(123,3) - 0.0835172*q(127,3) - 0.1004987*q(135,3) - 0.1378763*q(136,3)
     
      - 0.1037952*q(138,3) - 0.1128966*q(139,3) - 0.5382081*q(141,3) - 0.311027*q(145,3) - 0.5276431*q(146,3) - 1.319939*q(147,3) - 0.1662517*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.196017*q(105,3) - 0.2467188*q(107,3) - 0.5100361*q(108,3) - 0.1231829*q(111,3) - 0.1253905*q(113,3) - 0.1277178*q(115,3) - 0.1772819*q(116,3) - 0.2421274*q(123,3) - 0.1180313*q(127,3) - 0.0865314*q(135,3) - 0.1114843*q(136,3)
     
      - 0.0807184*q(138,3) - 0.0869916*q(139,3) - 0.2191139*q(141,3) - 0.181655*q(145,3) - 0.2353207*q(146,3) - 0.3873088*q(147,3) - 0.1403942*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.27032*q(105,3) - 0.8145789*q(107,3) - 0.3304741*q(108,3) - 0.2428581*q(111,3) - 0.4574896*q(113,3) - 0.3919305*q(115,3) - 0.2910318*q(116,3) - 0.8808972*q(123,3) - 0.2428152*q(127,3) - 0.1309723*q(135,3) - 0.1760039*q(136,3)
     
      - 0.0999559*q(138,3) - 0.1687959*q(139,3) - 0.3716838*q(141,3) - 0.5010233*q(145,3) - 0.267502*q(146,3) - 1.664069*q(147,3) - 0.2136084*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 1.422129*q(101,4) - 1.453168*q(102,4) - 1.398481*q(103,4) - 1.002288*q(105,4) - 0.7700331*q(107,4) - 0.4503762*q(108,4) - 1.045066*q(109,4) - 1.080879*q(110,4) - 0.0734675*q(112,4) - 0.5310035*q(113,4) - 0.5269851*q(115,4)
     
      - 2.157113*q(117,4) - 2.925987*q(119,4) - 3.394109*q(121,4) - 0.3118904*q(123,4) - 0.2384936*q(125,4) - 0.0892521*q(127,4) - 0.3177899*q(131,4) - 0.3574328*q(134,4) - 0.1541007*q(135,4) - 0.1131206*q(136,4) - 0.1081327*q(138,4) - 0.2918146*q(140,4)
     
      - 0.4496535*q(141,4) - 0.7702333*q(143,4) - 0.6294945*q(144,4) - 1.531305*q(147,4) - 0.1725051*q(150,4) - 0.1635037*q(154,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 1.262067*q(101,4) - 1.86866*q(102,4) - 2.356872*q(103,4) - 0.9814758*q(105,4) - 0.7010787*q(107,4) - 0.5851815*q(108,4) - 0.2784722*q(109,4) - 0.9659458*q(110,4) - 0.0858427*q(112,4) - 0.4886149*q(113,4) - 0.505424*q(115,4)
     
      - 2.608929*q(117,4) - 2.684238*q(119,4) - 3.49893*q(121,4) - 0.3801327*q(123,4) - 0.2460746*q(125,4) - 0.0835172*q(127,4) - 0.2514532*q(131,4) - 0.3557147*q(134,4) - 0.1004987*q(135,4) - 0.1378763*q(136,4) - 0.1037952*q(138,4) - 0.3226596*q(140,4)
     
      - 0.5382081*q(141,4) - 0.6501501*q(143,4) - 0.357957*q(144,4) - 1.319939*q(147,4) - 0.1662517*q(150,4) - 0.3490608*q(154,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
deflin(4,3)..  - 0.5044185*q(101,4) - 0.196017*q(105,4) - 0.2467188*q(107,4) - 0.5100361*q(108,4) - 0.4035347*q(110,4) - 0.0615072*q(112,4) - 0.1253905*q(113,4) - 0.1277178*q(115,4) - 2.146111*q(117,4) - 0.0055355*q(119,4) - 1.284527*q(121,4)
     
      - 0.2421274*q(123,4) - 0.1445238*q(125,4) - 0.1180313*q(127,4) - 0.2563408*q(131,4) - 0.1241383*q(134,4) - 0.0865314*q(135,4) - 0.1114843*q(136,4) - 0.0807184*q(138,4) - 0.1960319*q(140,4) - 0.2191139*q(141,4) - 0.1959938*q(143,4)
     
      - 0.1206167*q(144,4) - 0.3873088*q(147,4) - 0.1403942*q(150,4) - 0.2124494*q(154,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 1.780857*q(101,4) - 1.660088*q(102,4) - 1.324685*q(103,4) - 1.27032*q(105,4) - 0.8145789*q(107,4) - 0.3304741*q(108,4) - 1.431651*q(109,4) - 0.9751543*q(110,4) - 0.1152537*q(112,4) - 0.4574896*q(113,4) - 0.3919305*q(115,4)
     
      - 2.199617*q(117,4) - 2.482663*q(119,4) - 3.935725*q(121,4) - 0.8808972*q(123,4) - 0.1786704*q(125,4) - 0.2428152*q(127,4) - 0.3050184*q(131,4) - 0.1295093*q(134,4) - 0.1309723*q(135,4) - 0.1760039*q(136,4) - 0.0999559*q(138,4) - 0.2870637*q(140,4)
     
      - 0.3716838*q(141,4) - 0.5911372*q(143,4) - 0.619435*q(144,4) - 1.664069*q(147,4) - 0.2136084*q(150,4) - 0.4708395*q(154,4) + povline(4,4) =E= 0 ; (LHS = 0)
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -87.8994090163972, INFES = 87.8994090163972 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -86.0620765693369, INFES = 86.0620765693369 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 156.594128304604)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 88.3222625924657)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -30.1481564976832, INFES = 30.1481564976832 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 256.979839537749)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 42.470253098951)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 23.373073840513)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 115.824871042487)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -120.797863531866, INFES = 120.797863531866 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -215.171803725846, INFES = 215.171803725846 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -256.602525439445, INFES = 256.602525439445 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(101,1)..  - 1.422129*q(101,1) + (360.073172418304)*s(101,1) + (0.0954212623207732)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(101,2)..  - 1.262067*q(101,2) + (270.550993091024)*s(101,2) + (0.0309833558969575)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(101,4)..  - 1.780857*q(101,4) + (523.075047542251)*s(101,4) + (0.168820785263231)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(102,1)..  - 1.453168*q(102,1) + (360.073172418304)*s(102,1) + (0.00964161793957277)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,2)..  - 1.86866*q(102,2) + (270.550993091024)*s(102,2) + (0.00968766631741095)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 1.660088*q(102,4) + (523.075047542251)*s(102,4) + (0.047433112577055)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 1.398481*q(103,1) + (360.073172418304)*s(103,1) + (0.0120879178553907)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 1.324685*q(103,4) + (523.075047542251)*s(103,4) + (0.0221039885827991)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.002288*q(105,1) + (360.073172418304)*s(105,1) + (0.141129032279487)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 0.9814758*q(105,2) + (270.550993091024)*s(105,2) + (0.16037540841673)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.196017*q(105,3) + (103.610794391177)*s(105,3) + (0.0688847891165941)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(105,4)..  - 1.27032*q(105,4) + (523.075047542251)*s(105,4) + (0.095790046119592)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 0.704468*q(106,2) + (270.550993091024)*s(106,2) + (0.0127356850853693)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.7700331*q(107,1) + (360.073172418304)*s(107,1) + (0.097395414247826)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.7010787*q(107,2) + (270.550993091024)*s(107,2) + (0.0475679646597075)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.2467188*q(107,3) + (103.610794391177)*s(107,3) + (0.058671278648176)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.8145789*q(107,4) + (523.075047542251)*s(107,4) + (0.0615745394288258)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.4503762*q(108,1) + (360.073172418304)*s(108,1) + (0.0145783591537017)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.5851815*q(108,2) + (270.550993091024)*s(108,2) + (0.0837674671471641)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.5100361*q(108,3) + (103.610794391177)*s(108,3) + (0.0460156027992346)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3304741*q(108,4) + (523.075047542251)*s(108,4) + (0.0351230469807427)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,1)..  - 1.045066*q(109,1) + (360.073172418304)*s(109,1) + (0.00774571848165832)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.431651*q(109,4) + (523.075047542251)*s(109,4) + (0.0348106685631496)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.080879*q(110,1) + (360.073172418304)*s(110,1) + (0.0241107669369815)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 0.9659458*q(110,2) + (270.550993091024)*s(110,2) + (0.0234022494871469)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 0.9751543*q(110,4) + (523.075047542251)*s(110,4) + (0.0120223137176124)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.1231829*q(111,3) + (103.610794391177)*s(111,3) + (0.0165456395299097)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.0734675*q(112,1) + (360.073172418304)*s(112,1) + (0.0216768940652498)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.0858427*q(112,2) + (270.550993091024)*s(112,2) + (0.0208142949226026)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.1152537*q(112,4) + (523.075047542251)*s(112,4) + (0.0106479540662155)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 0.5310035*q(113,1) + (360.073172418304)*s(113,1) + (0.132639063809996)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.4886149*q(113,2) + (270.550993091024)*s(113,2) + (0.142900479012376)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.1253905*q(113,3) + (103.610794391177)*s(113,3) + (0.154490573505613)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.4574896*q(113,4) + (523.075047542251)*s(113,4) + (0.073883211966217)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.1365302*q(114,1) + (360.073172418304)*s(114,1) + (0.00965455663037639)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(115,2)..  - 0.505424*q(115,2) + (270.550993091024)*s(115,2) + (0.0291389980175)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.1277178*q(115,3) + (103.610794391177)*s(115,3) + (0.0155759112884712)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.3919305*q(115,4) + (523.075047542251)*s(115,4) + (0.0392836106042015)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.2337921*q(116,2) + (270.550993091024)*s(116,2) + (0.0142642556529911)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.1772819*q(116,3) + (103.610794391177)*s(116,3) + (0.121957700382492)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 2.157113*q(117,1) + (360.073172418304)*s(117,1) + (0.0334425226537665)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.608929*q(117,2) + (270.550993091024)*s(117,2) + (0.0292811172296237)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.199617*q(117,4) + (523.075047542251)*s(117,4) + (0.0539870255275826)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 1.778033*q(118,1) + (360.073172418304)*s(118,1) + (0.0104737165978236)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 2.684238*q(119,2) + (270.550993091024)*s(119,2) + (0.00950227747061243)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 2.482663*q(119,4) + (523.075047542251)*s(119,4) + (0.0110643229874817)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.49893*q(121,2) + (270.550993091024)*s(121,2) + (0.0150208429477017)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 3.935725*q(121,4) + (523.075047542251)*s(121,4) + (0.00796643788500236)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.6566812*q(122,1) + (360.073172418304)*s(122,1) + (0.0296989667533353)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.8690869*q(122,2) + (270.550993091024)*s(122,2) + (0.024737320534956)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.3118904*q(123,1) + (360.073172418304)*s(123,1) + (0.0171371259931075)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.3801327*q(123,2) + (270.550993091024)*s(123,2) + (0.0250742462690852)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.2421274*q(123,3) + (103.610794391177)*s(123,3) + (0.0294088475498213)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 0.8808972*q(123,4) + (523.075047542251)*s(123,4) + (0.012388167809669)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.2384936*q(125,1) + (360.073172418304)*s(125,1) + (0.0388008593155589)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.2460746*q(125,2) + (270.550993091024)*s(125,2) + (0.0227719636809457)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.1786704*q(125,4) + (523.075047542251)*s(125,4) + (0.0302843292888928)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.0892521*q(127,1) + (360.073172418304)*s(127,1) + (0.0189275095022529)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0835172*q(127,2) + (270.550993091024)*s(127,2) + (0.0289176640040282)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(127,3)..  - 0.1180313*q(127,3) + (103.610794391177)*s(127,3) + (0.0700378113065395)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 0.2428152*q(127,4) + (523.075047542251)*s(127,4) + (0.00925776483928656)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.3050184*q(131,4) + (523.075047542251)*s(131,4) + (0.0087660749487937)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1814941*q(132,2) + (270.550993091024)*s(132,2) + (0.0111926614898482)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.3574328*q(134,1) + (360.073172418304)*s(134,1) + (0.0356079454804465)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.3557147*q(134,2) + (270.550993091024)*s(134,2) + (0.01236873637811)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,4)..  - 0.1295093*q(134,4) + (523.075047542251)*s(134,4) + (0.00876029001572316)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.1541007*q(135,1) + (360.073172418304)*s(135,1) + (0.0110568390133661)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.0865314*q(135,3) + (103.610794391177)*s(135,3) + (0.0140357539933893)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.1309723*q(135,4) + (523.075047542251)*s(135,4) + (0.00752323426734561)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1131206*q(136,1) + (360.073172418304)*s(136,1) + (0.0225280154662882)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1378763*q(136,2) + (270.550993091024)*s(136,2) + (0.0275796693661401)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1114843*q(136,3) + (103.610794391177)*s(136,3) + (0.0173730212367157)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.1760039*q(136,4) + (523.075047542251)*s(136,4) + (0.0175968375347704)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.1081327*q(138,1) + (360.073172418304)*s(138,1) + (0.0139988368485804)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.1037952*q(138,2) + (270.550993091024)*s(138,2) + (0.0321177838677609)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.0807184*q(138,3) + (103.610794391177)*s(138,3) + (0.0147319400480263)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.0999559*q(138,4) + (523.075047542251)*s(138,4) + (0.0137609738900588)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.1128966*q(139,2) + (270.550993091024)*s(139,2) + (0.0342671849691657)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.0869916*q(139,3) + (103.610794391177)*s(139,3) + (0.0908556192048426)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.2918146*q(140,1) + (360.073172418304)*s(140,1) + (0.0264752494921013)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.3226596*q(140,2) + (270.550993091024)*s(140,2) + (0.0102860232791228)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.2870637*q(140,4) + (523.075047542251)*s(140,4) + (0.025342855371416)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 0.4496535*q(141,1) + (360.073172418304)*s(141,1) + (0.0684467973605943)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     defshr  =E=  define the endogenous budget shares

defshr(141,2)..  - 0.5382081*q(141,2) + (270.550993091024)*s(141,2) + (0.0448391706756583)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.2191139*q(141,3) + (103.610794391177)*s(141,3) + (0.144564723209001)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.3716838*q(141,4) + (523.075047542251)*s(141,4) + (0.111903861650567)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 0.6501501*q(143,2) + (270.550993091024)*s(143,2) + (0.0105087463745529)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,4)..  - 0.5911372*q(143,4) + (523.075047542251)*s(143,4) + (0.00998445518073126)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 0.6294945*q(144,1) + (360.073172418304)*s(144,1) + (0.0241816642295672)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 0.357957*q(144,2) + (270.550993091024)*s(144,2) + (0.0147243176173696)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.619435*q(144,4) + (523.075047542251)*s(144,4) + (0.0181936560454096)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.181655*q(145,3) + (103.610794391177)*s(145,3) + (0.0599770033259121)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.2353207*q(146,3) + (103.610794391177)*s(146,3) + (0.0358752957174927)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 1.531305*q(147,1) + (360.073172418304)*s(147,1) + (0.0731361359175819)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.319939*q(147,2) + (270.550993091024)*s(147,2) + (0.0604193017064786)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.3873088*q(147,3) + (103.610794391177)*s(147,3) + (0.0178489882629793)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.664069*q(147,4) + (523.075047542251)*s(147,4) + (0.0290495306727202)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.1725051*q(150,1) + (360.073172418304)*s(150,1) + (0.0100072116546168)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.1662517*q(150,2) + (270.550993091024)*s(150,2) + (0.0107531475228842)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.1403942*q(150,3) + (103.610794391177)*s(150,3) + (0.0231495008747897)*povline(3,3) =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(101,1) + 0.689*q(102,1) + 0.689*q(103,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 0.6468*q(109,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1)
     
      + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 1907.8064791912, INFES = 134.6935208088 ****)
     
cals(2)..  0.689*q(101,2) + 0.689*q(102,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.221*q(119,2) + 1.4835*q(121,2)
     
      + 0.6161*q(122,2) + 3.75*q(123,2) + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1902.7774397989, INFES = 139.7225602011 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 488


     cals  =E=  ensure that each bundle hits the calorie

cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 3.75*q(123,3) + 8.84*q(127,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 3.13*q(141,3)
     
      + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) =E= 2042.5 ; (LHS = 1887.774352391, INFES = 154.725647609 ****)
     
cals(4)..  0.689*q(101,4) + 0.689*q(102,4) + 0.689*q(103,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 1.4835*q(121,4)
     
      + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4) + 0.6208*q(131,4) + 0.494*q(134,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.67*q(143,4) + 5.88*q(144,4) + 3.87*q(147,4) + 0.81*q(154,4) =E= 2042.5 ;
     
      (LHS = 1973.0257238734, INFES = 69.4742761266 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 488


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(101,1)
                (.LO, .L, .UP, .M = 1E-5, 24.16, +INF, 0)
       -1.4221  deflin(1,1)
       -1.2621  deflin(1,2)
       -0.5044  deflin(1,3)
       -1.7809  deflin(1,4)
       -1.4221  defshr(101,1)
        0.689   cals(1)

q(101,2)
                (.LO, .L, .UP, .M = 1E-5, 6.6419435, +INF, 0)
       -1.4221  deflin(2,1)
       -1.2621  deflin(2,2)
       -0.5044  deflin(2,3)
       -1.7809  deflin(2,4)
       -1.2621  defshr(101,2)
        0.689   cals(2)

q(101,4)
                (.LO, .L, .UP, .M = 1E-5, 49.586205, +INF, 0)
       -1.4221  deflin(4,1)
       -1.2621  deflin(4,2)
       -0.5044  deflin(4,3)
       -1.7809  deflin(4,4)
       -1.7809  defshr(101,4)
        0.689   cals(4)

REMAINING 99 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(101,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0954212623207732, +INF, 0)
      (-1)      obj
     (360.0732) defshr(101,1)

s(101,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0309833558969575, +INF, 0)
      (-1)      obj
     (270.551)  defshr(101,2)

s(101,4)
                (.LO, .L, .UP, .M = 0.0001, 0.168820785263231, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 488


     s  derived maximum entropy shares

     (523.075)  defshr(101,4)

REMAINING 99 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 360.073172418304, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.0954) defshr(101,1)
       (0.0096) defshr(102,1)
       (0.0121) defshr(103,1)
       (0.1411) defshr(105,1)
       (0.0974) defshr(107,1)
       (0.0146) defshr(108,1)
       (0.0077) defshr(109,1)
       (0.0241) defshr(110,1)
       (0.0217) defshr(112,1)
       (0.1326) defshr(113,1)
       (0.0097) defshr(114,1)
       (0.0334) defshr(117,1)
       (0.0105) defshr(118,1)
       (0.0297) defshr(122,1)
       (0.0171) defshr(123,1)
       (0.0388) defshr(125,1)
       (0.0189) defshr(127,1)
       (0.0356) defshr(134,1)
       (0.0111) defshr(135,1)
       (0.0225) defshr(136,1)
       (0.014)  defshr(138,1)
       (0.0265) defshr(140,1)
       (0.0684) defshr(141,1)
       (0.0242) defshr(144,1)
       (0.0731) defshr(147,1)
       (0.01)   defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 358.87325568349, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 146.081047490128, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 488


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          135
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          221
NON ZERO ELEMENTS           947     NON LINEAR N-Z            306
DERIVATIVE POOL              10     CONSTANT POOL             118
CODE LENGTH                 920


GENERATION TIME      =        0.006 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.007 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  488

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0708

 RESOURCE USAGE, LIMIT          0.034      1000.000
 ITERATION COUNT, LIMIT        44    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 221 variables and 135 constraints
    with 947 Jacobian elements, 306 of which are nonlinear.
    The Hessian of the Lagrangian has 102 elements on the diagonal,
    102 elements below the diagonal, and 106 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.033 seconds
   of which: Function evaluations             0.004 = 12.1%
             1st Derivative evaluations       0.002 =  6.1%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.001 =  3.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0028      
1.2          .              .              .             EPS         
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .       -4.359218E-5      
2.2          .              .              .            -0.0028      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .            -0.0001      
3.1          .              .              .             EPS         
3.2          .              .              .       -6.586986E-5      
3.3          .              .              .            -0.0073      
3.4          .              .              .            -0.0005      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0021      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF      4.3592185E-5      
1.3          .            44.0661        +INF            EPS         
1.4          .            39.1060        +INF             .          
2.1          .             0.6013        +INF            EPS         
2.3          .              .            +INF      6.5869856E-5      
2.4          .            50.7172        +INF             .          
3.1          .             2.1025        +INF            EPS         
3.2          .            17.5653        +INF             .          
3.4          .            30.1603        +INF             .          
4.1          .             3.2890        +INF            EPS         
4.2          .              .            +INF            0.0001      
4.3          .              .            +INF            0.0005      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1          .              .              .             0.0028      
101.2          .              .              .             0.0030      
101.4          .              .              .             0.0021      
102.1          .              .              .             0.0028      
102.2          .              .              .             0.0029      
102.4          .              .              .             0.0021      
103.1          .              .              .             0.0028      
103.4          .              .              .             0.0021      
105.1          .              .              .             0.0028      
105.2          .              .              .             0.0030      
105.3          .              .              .             0.0101      
105.4          .              .              .             0.0022      
106.2          .              .              .             0.0029      
107.1          .              .              .             0.0028      
107.2          .              .              .             0.0029      
107.3          .              .              .             0.0085      
107.4          .              .              .             0.0023      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

108.1          .              .              .             0.0029      
108.2          .              .              .             0.0028      
108.3          .              .              .             0.0070      
108.4          .              .              .             0.0031      
109.1          .              .              .             0.0028      
109.4          .              .              .             0.0021      
110.1          .              .              .             0.0028      
110.2          .              .              .             0.0029      
110.4          .              .              .             0.0025      
111.3          .              .              .             0.0053      
112.1          .              .              .             0.0029      
112.2          .              .              .             0.0028      
112.4          .              .              .             0.0030      
113.1          .              .              .             0.0029      
113.2          .              .              .             0.0028      
113.3          .              .              .             0.0063      
113.4          .              .              .             0.0029      
114.1          .              .              .             0.0030      
115.2          .              .              .             0.0028      
115.3          .              .              .             0.0060      
115.4          .              .              .             0.0031      
116.2          .              .              .             0.0028      
116.3          .              .              .             0.0062      
117.1          .              .              .             0.0028      
117.2          .              .              .             0.0029      
117.4          .              .              .             0.0022      
118.1          .              .              .             0.0028      
119.2          .              .              .             0.0029      
119.4          .              .              .             0.0021      
121.2          .              .              .             0.0030      
121.4          .              .              .             0.0021      
122.1          .              .              .             0.0028      
122.2          .              .              .             0.0030      
123.1          .              .              .             0.0029      
123.2          .              .              .             0.0029      
123.3          .              .              .             0.0075      
123.4          .              .              .             0.0025      
125.1          .              .              .             0.0028      
125.2          .              .              .             0.0029      
125.4          .              .              .             0.0024      
127.1          .              .              .             0.0036      
127.2          .              .              .             0.0015      
127.3          .              .              .             0.0007      
127.4          .              .              .             0.0061      
131.4          .              .              .             0.0023      
132.2          .              .              .             0.0029      
134.1          .              .              .             0.0028      
134.2          .              .              .             0.0029      
134.4          .              .              .             0.0025      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

135.1          .              .              .             0.0028      
135.3          .              .              .             0.0076      
135.4          .              .              .             0.0024      
136.1          .              .              .             0.0028      
136.2          .              .              .             0.0030      
136.3          .              .              .             0.0080      
136.4          .              .              .             0.0022      
138.1          .              .              .             0.0028      
138.2          .              .              .             0.0029      
138.3          .              .              .             0.0077      
138.4          .              .              .             0.0023      
139.2          .              .              .             0.0030      
139.3          .              .              .             0.0080      
140.1          .              .              .             0.0028      
140.2          .              .              .             0.0029      
140.4          .              .              .             0.0025      
141.1          .              .              .             0.0029      
141.2          .              .              .             0.0028      
141.3          .              .              .             0.0068      
141.4          .              .              .             0.0030      
143.2          .              .              .             0.0028      
143.4          .              .              .             0.0031      
144.1          .              .              .             0.0029      
144.2          .              .              .             0.0028      
144.4          .              .              .             0.0031      
145.3          .              .              .             0.0082      
146.3          .              .              .             0.0055      
147.1          .              .              .             0.0028      
147.2          .              .              .             0.0029      
147.3          .              .              .             0.0085      
147.4          .              .              .             0.0023      
150.1          .              .              .             0.0028      
150.2          .              .              .             0.0030      
150.3          .              .              .             0.0081      
150.4          .              .              .             0.0021      
154.4          .              .              .             0.0023      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   7.4745622E-6      
2      2042.5000      2042.5000      2042.5000   -1.546816E-5      
3      2042.5000      2042.5000      2042.5000        -0.0001      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0708        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

101.1   1.0000000E-5        23.1889        +INF             .          
101.2   1.0000000E-5         8.9307        +INF            EPS         
101.4   1.0000000E-5        31.2133        +INF             .          
102.1   1.0000000E-5         2.2930        +INF            EPS         
102.2   1.0000000E-5         1.8437        +INF            EPS         
102.4   1.0000000E-5         9.4193        +INF             .          
103.1   1.0000000E-5         2.9873        +INF             .          
103.4   1.0000000E-5         5.5256        +INF             .          
105.1   1.0000000E-5        48.7304        +INF             .          
105.2   1.0000000E-5        58.9497        +INF             .          
105.3   1.0000000E-5        77.2407        +INF             .          
105.4   1.0000000E-5        25.2720        +INF            EPS         
106.2   1.0000000E-5         6.4118        +INF            EPS         
107.1   1.0000000E-5        43.8568        +INF            EPS         
107.2   1.0000000E-5        24.2776        +INF             .          
107.3   1.0000000E-5        41.2487        +INF             .          
107.4   1.0000000E-5        26.2733        +INF             .          
108.1   1.0000000E-5        11.3784        +INF             .          
108.2   1.0000000E-5        48.9925        +INF             .          
108.3   1.0000000E-5        12.7658        +INF             .          
108.4   1.0000000E-5        51.7139        +INF             .          
109.1   1.0000000E-5         2.5624        +INF             .          
109.4   1.0000000E-5         8.0283        +INF             .          
110.1   1.0000000E-5         7.7670        +INF             .          
110.2   1.0000000E-5         8.5413        +INF             .          
110.4   1.0000000E-5         4.6789        +INF             .          
111.3   1.0000000E-5        14.9373        +INF             .          
112.1   1.0000000E-5       105.3329        +INF             .          
112.2   1.0000000E-5        82.8245        +INF             .          
112.4   1.0000000E-5        42.5298        +INF             .          
113.1   1.0000000E-5        87.7834        +INF             .          
113.2   1.0000000E-5       100.7452        +INF             .          
113.3   1.0000000E-5       157.0854        +INF            EPS         
113.4   1.0000000E-5        73.6161        +INF             .          
114.1   1.0000000E-5        25.6848        +INF             .          
115.2   1.0000000E-5        19.7343        +INF             .          
115.3   1.0000000E-5        14.8609        +INF             .          
115.4   1.0000000E-5        49.0701        +INF             .          
116.2   1.0000000E-5        20.6281        +INF             .          
116.3   1.0000000E-5        86.4449        +INF             .          
117.1   1.0000000E-5         5.3629        +INF             .          
117.2   1.0000000E-5         3.9813        +INF             .          
117.4   1.0000000E-5         8.2319        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

118.1   1.0000000E-5         2.0403        +INF             .          
119.2   1.0000000E-5         1.2660        +INF             .          
119.4   1.0000000E-5         1.4740        +INF             .          
121.2   1.0000000E-5         1.5435        +INF             .          
121.4   1.0000000E-5         0.6662        +INF             .          
122.1   1.0000000E-5        15.6487        +INF             .          
122.2   1.0000000E-5        10.2114        +INF             .          
123.1   1.0000000E-5        19.5717        +INF             .          
123.2   1.0000000E-5        23.4463        +INF             .          
123.3   1.0000000E-5        18.4255        +INF             .          
123.4   1.0000000E-5         5.4657        +INF             .          
125.1   1.0000000E-5        56.5260        +INF             .          
125.2   1.0000000E-5        32.4562        +INF             .          
125.4   1.0000000E-5        63.3868        +INF             .          
127.1   1.0000000E-5        94.8637        +INF             .          
127.2   1.0000000E-5        75.1875        +INF             .          
127.3   1.0000000E-5        34.1312        +INF             .          
127.4   1.0000000E-5        58.7545        +INF            EPS         
131.4   1.0000000E-5        10.1554        +INF             .          
132.2   1.0000000E-5        21.3803        +INF             .          
134.1   1.0000000E-5        34.5102        +INF             .          
134.2   1.0000000E-5        12.1165        +INF             .          
134.4   1.0000000E-5        25.7954        +INF             .          
135.1   1.0000000E-5        24.9193        +INF             .          
135.3   1.0000000E-5        25.0163        +INF             .          
135.4   1.0000000E-5        20.9549        +INF             .          
136.1   1.0000000E-5        69.0003        +INF             .          
136.2   1.0000000E-5        71.8410        +INF             .          
136.3   1.0000000E-5        25.1275        +INF             .          
136.4   1.0000000E-5        33.6957        +INF             .          
138.1   1.0000000E-5        44.9033        +INF             .          
138.2   1.0000000E-5       109.8428        +INF             .          
138.3   1.0000000E-5        28.3561        +INF             .          
138.4   1.0000000E-5        48.6089        +INF             .          
139.2   1.0000000E-5       109.4894        +INF             .          
139.3   1.0000000E-5       168.8659        +INF            EPS         
140.1   1.0000000E-5        31.6060        +INF             .          
140.2   1.0000000E-5        11.1882        +INF             .          
140.4   1.0000000E-5        33.3418        +INF             .          
141.1   1.0000000E-5        53.5072        +INF             .          
141.2   1.0000000E-5        28.5987        +INF             .          
141.3   1.0000000E-5        90.1693        +INF             .          
141.4   1.0000000E-5       139.8685        +INF             .          
143.2   1.0000000E-5         5.5335        +INF             .          
143.4   1.0000000E-5         8.2502        +INF             .          
144.1   1.0000000E-5        13.5874        +INF             .          
144.2   1.0000000E-5        14.0249        +INF             .          
144.4   1.0000000E-5        14.2860        +INF             .          
145.3   1.0000000E-5        55.4278        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

146.3   1.0000000E-5        17.3257        +INF             .          
147.1   1.0000000E-5        16.5946        +INF             .          
147.2   1.0000000E-5        16.3611        +INF             .          
147.3   1.0000000E-5         8.0449        +INF             .          
147.4   1.0000000E-5         6.2458        +INF             .          
150.1   1.0000000E-5        20.0233        +INF             .          
150.2   1.0000000E-5        23.4629        +INF             .          
150.3   1.0000000E-5        27.0394        +INF             .          
150.4   1.0000000E-5        18.6255        +INF             .          
154.4   1.0000000E-5         7.6943        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1         0.0001         0.0942        +INF            EPS         
101.2         0.0001         0.0324        +INF             .          
101.4         0.0001         0.1421        +INF      -3.534234E-9      
102.1         0.0001         0.0095        +INF             .          
102.2         0.0001         0.0099        +INF             .          
102.4         0.0001         0.0400        +INF      -3.570036E-9      
103.1         0.0001         0.0119        +INF            EPS         
103.4         0.0001         0.0187        +INF      -5.020740E-9      
105.1         0.0001         0.1395        +INF             .          
105.2         0.0001         0.1661        +INF             .          
105.3         0.0001         0.1067        +INF             .          
105.4         0.0001         0.0821        +INF             .          
106.2         0.0001         0.0130        +INF             .          
107.1         0.0001         0.0964        +INF             .          
107.2         0.0001         0.0489        +INF      2.5235629E-9      
107.3         0.0001         0.0717        +INF            EPS         
107.4         0.0001         0.0547        +INF      -2.796407E-9      
108.1         0.0001         0.0146        +INF      -2.265691E-8      
108.2         0.0001         0.0823        +INF      1.0234898E-8      
108.3         0.0001         0.0459        +INF      5.4774719E-9      
108.4         0.0001         0.0437        +INF            EPS         
109.1         0.0001         0.0076        +INF      1.7674511E-8      
109.4         0.0001         0.0294        +INF      -2.777668E-9      
110.1         0.0001         0.0240        +INF            EPS         
110.2         0.0001         0.0237        +INF      5.9821839E-9      
110.4         0.0001         0.0117        +INF      -1.557556E-9      
111.3         0.0001         0.0130        +INF            EPS         
112.1         0.0001         0.0221        +INF      -7.840418E-9      
112.2         0.0001         0.0204        +INF      1.4836260E-9      
112.4         0.0001         0.0125        +INF            EPS         
113.1         0.0001         0.1331        +INF      2.8747651E-9      
113.2         0.0001         0.1413        +INF      6.4853758E-9      
113.3         0.0001         0.1389        +INF             .          
113.4         0.0001         0.0861        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

114.1         0.0001         0.0100        +INF      -3.758667E-9      
115.2         0.0001         0.0286        +INF      9.2105666E-9      
115.3         0.0001         0.0134        +INF      -1.126717E-8      
115.4         0.0001         0.0492        +INF            EPS         
116.2         0.0001         0.0138        +INF      -2.979778E-9      
116.3         0.0001         0.1080        +INF             .          
117.1         0.0001         0.0330        +INF             .          
117.2         0.0001         0.0298        +INF      5.8526686E-9      
117.4         0.0001         0.0463        +INF      -3.052677E-9      
118.1         0.0001         0.0104        +INF      3.0552549E-9      
119.2         0.0001         0.0098        +INF      5.6551577E-9      
119.4         0.0001         0.0094        +INF      -3.433943E-9      
121.2         0.0001         0.0155        +INF      2.9731329E-9      
121.4         0.0001         0.0067        +INF      -4.607255E-9      
122.1         0.0001         0.0293        +INF      2.4855910E-9      
122.2         0.0001         0.0255        +INF            EPS         
123.1         0.0001         0.0174        +INF            EPS         
123.2         0.0001         0.0256        +INF      -9.087501E-9      
123.3         0.0001         0.0315        +INF      1.3033300E-8      
123.4         0.0001         0.0123        +INF      -1.863391E-9      
125.1         0.0001         0.0385        +INF      -1.006519E-8      
125.2         0.0001         0.0229        +INF      7.4064508E-9      
125.4         0.0001         0.0290        +INF      -2.317992E-9      
127.1         0.0001         0.0242        +INF             .          
127.2         0.0001         0.0180        +INF             .          
127.3         0.0001         0.0284        +INF             .          
127.4         0.0001         0.0365        +INF             .          
131.4         0.0001         0.0079        +INF      -2.784000E-9      
132.2         0.0001         0.0111        +INF      6.3434987E-9      
134.1         0.0001         0.0352        +INF             .          
134.2         0.0001         0.0124        +INF      1.5361775E-8      
134.4         0.0001         0.0085        +INF      -1.352380E-9      
135.1         0.0001         0.0110        +INF      -2.119812E-9      
135.3         0.0001         0.0153        +INF      2.7788440E-9      
135.4         0.0001         0.0070        +INF      -3.931893E-9      
136.1         0.0001         0.0223        +INF      -1.171368E-8      
136.2         0.0001         0.0284        +INF            EPS         
136.3         0.0001         0.0198        +INF      8.4079801E-9      
136.4         0.0001         0.0152        +INF      -3.983280E-9      
138.1         0.0001         0.0139        +INF      -1.105718E-8      
138.2         0.0001         0.0327        +INF      4.8095339E-9      
138.3         0.0001         0.0161        +INF      4.3908293E-9      
138.4         0.0001         0.0124        +INF      -2.701855E-9      
139.2         0.0001         0.0355        +INF      -1.071073E-9      
139.3         0.0001         0.1036        +INF             .          
140.1         0.0001         0.0263        +INF      -9.900998E-9      
140.2         0.0001         0.0104        +INF      6.8548138E-9      
140.4         0.0001         0.0245        +INF      -2.531161E-9      
141.1         0.0001         0.0687        +INF      -8.672953E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 488


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

141.2         0.0001         0.0442        +INF      8.5744566E-9      
141.3         0.0001         0.1393        +INF             .          
141.4         0.0001         0.1329        +INF             .          
143.2         0.0001         0.0103        +INF      1.0253248E-8      
143.4         0.0001         0.0125        +INF            EPS         
144.1         0.0001         0.0244        +INF      4.4014330E-9      
144.2         0.0001         0.0144        +INF             .          
144.4         0.0001         0.0226        +INF            EPS         
145.3         0.0001         0.0710        +INF      -6.710886E-9      
146.3         0.0001         0.0287        +INF      -2.084728E-8      
147.1         0.0001         0.0726        +INF      3.1181604E-9      
147.2         0.0001         0.0620        +INF      1.9640420E-9      
147.3         0.0001         0.0220        +INF      -2.136899E-9      
147.4         0.0001         0.0266        +INF      -2.774034E-9      
150.1         0.0001         0.0099        +INF      -3.381173E-9      
150.2         0.0001         0.0112        +INF      1.3452359E-9      
150.3         0.0001         0.0268        +INF      8.0062448E-9      
150.4         0.0001         0.0102        +INF      -5.998303E-9      
154.4         0.0001         0.0093        +INF      -2.382560E-9      

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          350.2186        +INF             .          
1.2        -INF          348.9783        +INF             .          
1.3        -INF          143.9409        +INF             .          
1.4        -INF          394.3424        +INF             .          
2.1        -INF          350.2186        +INF             .          
2.2        -INF          348.3769        +INF             .          
2.3        -INF          159.4036        +INF             .          
2.4        -INF          391.0533        +INF             .          
3.1        -INF          394.2847        +INF             .          
3.2        -INF          348.3769        +INF             .          
3.3        -INF          141.8384        +INF             .          
3.4        -INF          391.0533        +INF             .          
4.1        -INF          389.3246        +INF             .          
4.2        -INF          399.0942        +INF             .          
4.3        -INF          171.9986        +INF             .          
4.4        -INF          391.0533        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        08/06/13 16:12:55 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    491 this is without adjustment for calorie target or 90%

----    491 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     350.219     348.978     143.941     394.342
2     350.219     348.377     159.404     391.053
3     394.285     348.377     141.838     391.053
4     389.325     399.094     171.999     391.053


----    516 PARAMETER perc_chng  percent change in line

1  -9.151,    2  19.957,    3  26.525,    4 -27.782


----    516 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 363.470,    2 360.606,    3 145.660,    4 419.724


----    516 PARAMETER povline_ali  food poverty line

1 400.081,    2 300.612,    3 115.123,    4 581.194


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/list.lst
