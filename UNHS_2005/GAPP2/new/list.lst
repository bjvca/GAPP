GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
  20  100
  21  105
  22  106
  23  107
  24  108
  25  109
  26  110
  27  111
  28  112
  29  113
  30  114
  31  115
  32  116
  33  117
  34  118
  35  119
  36  121
  37  122
  38  123
  39  125
  40  127
  41  131
  42  132
  43  134
  44  135
  45  136
  46  138
  47  139
  48  140
  49  141
  50  143
  51  144
  52  145
  53  146
  54  147
  55  150
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  154
  57  /
  58   
  59   reg        4 spatial domains /1*4/
  60   r(reg)     all included spatial regions /1*4/
  61   
  62   ptit       price table titles
  63  /
  64    count      number of observations making up the price average
  65    price_uw5  average price
  66  /
  67   
  68   qtit       quantity table titles
  69  /
  70    calperg          calories per gram
  71    quan5            quantities in grams
  72    calpp            calories per person by region
  73    povline_a_flex5    value of flexible food bundle
  74  /
  75   
  76   
  77    posquan(cod,reg)  mark positive quantities in each region
  78    posprice(cod,reg) mark the existence of acceptable price info in each region
  79    chkprice(cod,reg) ensure that prices exist once all estimated
  80  ;
  81   
  82  alias(reg,regq);
  83  alias(r,rq);
  84   
  85  SCALAR
  86     caltarg single level of calories to target across regions / 2150 /
  87   ;
  88   
  89  PARAMETERS
  90   
  91    shr(cod,reg)         shares in each basket by region
  92    chkshr(reg)          check that the calculated shares sum to .9
  93    shrmiss(regq,reg)    shares missing in each region pair
  94    povline_ali(reg)       food poverty line
  95    perc_chng(reg)       percent change in line
  96    finmiss(reg)         final missing shares post optimization procedure
  97   ;
  98   
  99  Table  price(cod,reg,ptit)  price and related information
 100                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
 102  100     .       1       356     .1381327
 103  100     .       2       253     .1424982
 104  100     .       3       18      .145245
 105  100     .       4       588     .1034829
 106  105     .       1       402     .1779299
 107  105     .       2       510     .160952
 108  105     .       3       248     .0820265
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  105     .       4       380     .1562738
 110  106     .       1       8       .1664628
 111  106     .       2       51      .1459396
 112  106     .       3       18      .0980027
 113  106     .       4       11      .1100485
 114  107     .       1       362     .0783202
 115  107     .       2       289     .0632228
 116  107     .       3       224     .0262193
 117  107     .       4       273     .0869518
 118  108     .       1       68      .4334635
 119  108     .       2       314     .4376904
 120  108     .       3       140     .5300153
 121  108     .       4       151     .3941762
 122  109     .       1       27      .397339
 123  109     .       2       18      .3408006
 124  109     .       3       4       .9050463
 125  109     .       4       150     .2342229
 126  110     .       1       110     1.181096
 127  110     .       2       204     1.011064
 128  110     .       3       16      1.007408
 129  110     .       4       71      1.088738
 130  111     .       1       12      .4084681
 131  111     .       2       64      .3120872
 132  111     .       3       43      .2671674
 133  111     .       4       36      .3894773
 134  112     .       1       93      .2351056
 135  112     .       2       139     .2126245
 136  112     .       3       60      .1706786
 137  112     .       4       64      .1980803
 138  113     .       1       466     .5988024
 139  113     .       2       553     .5251544
 140  113     .       3       166     .3332952
 141  113     .       4       368     .5505979
 142  114     .       1       100     1.221117
 143  114     .       2       55      1.15942
 144  114     .       3       6       1.578027
 145  114     .       4       58      1.258574
 146  115     .       1       36      .6923987
 147  115     .       2       181     .5052691
 148  115     .       3       26      .3522252
 149  115     .       4       203     .6001995
 150  116     .       1       4       .4314531
 151  116     .       2       183     .288116
 152  116     .       3       143     .2945915
 153  116     .       4       53      .3592925
 154  117     .       1       139     2.333451
 155  117     .       2       227     2.682296
 156  117     .       3       57      2.423799
 157  117     .       4       191     2.232269
 158  118     .       1       52      1.910913
 159  118     .       2       47      2.059247
 160  118     .       3       8       1.914438
 161  118     .       4       29      1.977466
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  119     .       1       10      2.368849
 163  119     .       2       60      2.715838
 164  119     .       3       25      2.045556
 165  119     .       4       38      2.611423
 166  121     .       1       20      3.056498
 167  121     .       2       78      2.800217
 168  121     .       3       27      2.233073
 169  121     .       4       20      2.895597
 170  122     .       1       153     .6598178
 171  122     .       2       161     .7509244
 172  122     .       3       54      .6984526
 173  122     .       4       42      1.174343
 174  123     .       1       153     2.049778
 175  123     .       2       257     2.032916
 176  123     .       3       184     2.504108
 177  123     .       4       72      3.942898
 178  125     .       1       201     .2106521
 179  125     .       2       250     .1432769
 180  125     .       3       33      .0631902
 181  125     .       4       178     .1114734
 182  127     .       1       375     1.853102
 183  127     .       2       609     1.772165
 184  127     .       3       411     2.231234
 185  127     .       4       169     2.299935
 186  131     .       1       23      .269597
 187  131     .       2       37      .2729363
 188  131     .       3       8       .4456459
 189  131     .       4       76      .2504315
 190  132     .       1       50      .1492222
 191  132     .       2       109     .1067689
 192  132     .       3       41      .0455113
 193  132     .       4       42      .0746294
 194  134     .       1       221     .9305069
 195  134     .       2       134     .8588079
 196  134     .       3       23      .2777815
 197  134     .       4       117     .3476523
 198  135     .       1       438     .6272439
 199  135     .       2       582     .3791726
 200  135     .       3       370     .2443674
 201  135     .       4       389     .3110161
 202  136     .       1       465     .1092197
 203  136     .       2       653     .1093789
 204  136     .       3       263     .1006083
 205  136     .       4       395     .1582623
 206  138     .       1       206     .2396228
 207  138     .       2       400     .2735564
 208  138     .       3       137     .2031848
 209  138     .       4       313     .2428477
 210  139     .       1       132     .2911553
 211  139     .       2       437     .293454
 212  139     .       3       514     .194058
 213  139     .       4       70      .3168305
 214  140     .       1       90      1.588387
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  140     .       2       71      1.625508
 216  140     .       3       14      .7470751
 217  140     .       4       130     1.14106
 218  141     .       1       375     .932375
 219  141     .       2       457     .8384635
 220  141     .       3       205     1.183308
 221  141     .       4       524     1.14431
 222  143     .       1       48      1.803374
 223  143     .       2       127     1.73288
 224  143     .       3       10      1.321482
 225  143     .       4       89      2.123574
 226  144     .       1       223     1.561716
 227  144     .       2       222     1.303079
 228  144     .       3       1       1.75
 229  144     .       4       155     1.508856
 230  145     .       1       3       1.365703
 231  145     .       2       51      .8942891
 232  145     .       3       62      .6226832
 233  145     .       4       35      .8926445
 234  146     .       1       4       1.383532
 235  146     .       2       28      1.293512
 236  146     .       3       92      .9714274
 237  146     .       4       8       1.266919
 238  147     .       1       427     1.708801
 239  147     .       2       609     1.681167
 240  147     .       3       165     1.686355
 241  147     .       4       249     1.75744
 242  150     .       1       639     .5246207
 243  150     .       2       918     .4757055
 244  150     .       3       517     .4252497
 245  150     .       4       672     .6241586
 246  154     .       1       18      .5756527
 247  154     .       2       37      1.026051
 248  154     .       3       37      .6355969
 249  154     .       4       54      .2939937
 250  ;
 251   
 252  Table   quan(cod,reg,qtit)   quantity and related information
 253                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc
 255  100     .       1       6.8900000e-01   3.3899146e+02   2.0082173e+03   415.5015
 256  105     .       1       1.0164000e+00   3.0775638e+02   2.0082173e+03   415.5015
 257  107     .       1       1.3440000e+00   4.7116095e+02   2.0082173e+03   415.5015
 258  108     .       1       3.1400000e+00   1.3515543e+01   2.0082173e+03   415.5015
 259  110     .       1       3.6100000e+00   7.8651667e+00   2.0082173e+03   415.5015
 260  112     .       1       9.4600000e-01   3.0971003e+01   2.0082173e+03   415.5015
 261  113     .       1       3.6500000e+00   8.2734795e+01   2.0082173e+03   415.5015
 262  114     .       1       2.6600000e+00   2.8076775e+00   2.0082173e+03   415.5015
 263  117     .       1       1.7982000e+00   5.5272222e+00   2.0082173e+03   415.5015
 264  118     .       1       2.3534000e+00   1.9258224e+00   2.0082173e+03   415.5015
 265  122     .       1       6.1610000e-01   1.6848400e+01   2.0082173e+03   415.5015
 266  123     .       1       3.7500000e+00   3.0868974e+00   2.0082173e+03   415.5015
 267  125     .       1       6.0000000e-01   6.3766594e+01   2.0082173e+03   415.5015
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  127     .       1       8.8400000e+00   3.6920297e+00   2.0082173e+03   415.5015
 269  134     .       1       4.9400000e-01   1.4929736e+01   2.0082173e+03   415.5015
 270  135     .       1       3.6400000e-01   6.4927073e+00   2.0082173e+03   415.5015
 271  136     .       1       1.6380000e-01   7.4674461e+01   2.0082173e+03   415.5015
 272  138     .       1       2.0160000e-01   2.2617441e+01   2.0082173e+03   415.5015
 273  140     .       1       1.0300000e+00   6.2225471e+00   2.0082173e+03   415.5015
 274  141     .       1       3.1300000e+00   2.7544376e+01   2.0082173e+03   415.5015
 275  144     .       1       5.8800000e+00   5.6478753e+00   2.0082173e+03   415.5015
 276  147     .       1       3.8700000e+00   1.5227062e+01   2.0082173e+03   415.5015
 277  150     .       1       0.0000000e+00   7.2869792e+00   2.0082173e+03   415.5015
 278  100     .       2       6.8900000e-01   1.5365283e+02   2.0029237e+03   384.5445
 279  105     .       2       1.0164000e+00   3.3249338e+02   2.0029237e+03   384.5445
 280  106     .       2       3.4300000e+00   2.7008926e+01   2.0029237e+03   384.5445
 281  107     .       2       1.3440000e+00   2.5010910e+02   2.0029237e+03   384.5445
 282  108     .       2       3.1400000e+00   6.3329315e+01   2.0029237e+03   384.5445
 283  110     .       2       3.6100000e+00   8.9196100e+00   2.0029237e+03   384.5445
 284  112     .       2       9.4600000e-01   3.9252934e+01   2.0029237e+03   384.5445
 285  113     .       2       3.6500000e+00   8.8739845e+01   2.0029237e+03   384.5445
 286  115     .       2       3.7800000e+00   1.8511408e+01   2.0029237e+03   384.5445
 287  116     .       2       3.3900000e+00   1.5877237e+01   2.0029237e+03   384.5445
 288  117     .       2       1.7982000e+00   4.5474429e+00   2.0029237e+03   384.5445
 289  119     .       2       1.2210000e+00   1.3069791e+00   2.0029237e+03   384.5445
 290  121     .       2       1.4835000e+00   2.1108775e+00   2.0029237e+03   384.5445
 291  122     .       2       6.1610000e-01   1.0763734e+01   2.0029237e+03   384.5445
 292  123     .       2       3.7500000e+00   4.1995397e+00   2.0029237e+03   384.5445
 293  125     .       2       6.0000000e-01   6.0770458e+01   2.0029237e+03   384.5445
 294  127     .       2       8.8400000e+00   5.5586720e+00   2.0029237e+03   384.5445
 295  132     .       2       4.3310000e-01   3.5800716e+01   2.0029237e+03   384.5445
 296  134     .       2       4.9400000e-01   4.6669221e+00   2.0029237e+03   384.5445
 297  136     .       2       1.6380000e-01   8.4601166e+01   2.0029237e+03   384.5445
 298  138     .       2       2.0160000e-01   3.7655231e+01   2.0029237e+03   384.5445
 299  139     .       2       2.6100000e-01   3.9167416e+01   2.0029237e+03   384.5445
 300  141     .       2       3.1300000e+00   1.8930696e+01   2.0029237e+03   384.5445
 301  143     .       2       5.6700000e+00   2.0505202e+00   2.0029237e+03   384.5445
 302  144     .       2       5.8800000e+00   4.0567093e+00   2.0029237e+03   384.5445
 303  147     .       2       3.8700000e+00   1.2711123e+01   2.0029237e+03   384.5445
 304  150     .       2       0.0000000e+00   7.3906493e+00   2.0029237e+03   384.5445
 305  105     .       3       1.0164000e+00   1.8476239e+02   1.9871310e+03   233.2744
 306  107     .       3       1.3440000e+00   5.4948645e+02   1.9871310e+03   233.2744
 307  108     .       3       3.1400000e+00   3.4704140e+01   1.9871310e+03   233.2744
 308  111     .       3       3.6500000e+00   1.6144049e+01   1.9871310e+03   233.2744
 309  112     .       3       9.4600000e-01   1.2566764e+01   1.9871310e+03   233.2744
 310  113     .       3       3.6500000e+00   8.7213654e+01   1.9871310e+03   233.2744
 311  115     .       3       3.7800000e+00   7.9917545e+00   1.9871310e+03   233.2744
 312  116     .       3       3.3900000e+00   4.6649982e+01   1.9871310e+03   233.2744
 313  117     .       3       1.7982000e+00   1.1946930e+00   1.9871310e+03   233.2744
 314  122     .       3       6.1610000e-01   3.6519113e+00   1.9871310e+03   233.2744
 315  123     .       3       3.7500000e+00   2.9888802e+00   1.9871310e+03   233.2744
 316  127     .       3       8.8400000e+00   5.9676199e+00   1.9871310e+03   233.2744
 317  132     .       3       4.3310000e-01   4.8225590e+01   1.9871310e+03   233.2744
 318  135     .       3       3.6400000e-01   1.1026922e+01   1.9871310e+03   233.2744
 319  136     .       3       1.6380000e-01   4.0664986e+01   1.9871310e+03   233.2744
 320  138     .       3       2.0160000e-01   1.2209106e+01   1.9871310e+03   233.2744
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  139     .       3       2.6100000e-01   6.8441200e+01   1.9871310e+03   233.2744
 322  141     .       3       3.1300000e+00   2.4179647e+01   1.9871310e+03   233.2744
 323  145     .       3       8.1000000e-01   1.5950462e+01   1.9871310e+03   233.2744
 324  146     .       3       5.7300000e+00   8.7495356e+00   1.9871310e+03   233.2744
 325  147     .       3       3.8700000e+00   3.4751043e+00   1.9871310e+03   233.2744
 326  150     .       3       0.0000000e+00   9.3944330e+00   1.9871310e+03   233.2744
 327  154     .       3       8.1000000e-01   3.1772130e+00   1.9871310e+03   233.2744
 328  100     .       4       6.8900000e-01   8.9894171e+02   2.0768691e+03   409.8896
 329  105     .       4       1.0164000e+00   2.5657523e+02   2.0768691e+03   409.8896
 330  107     .       4       1.3440000e+00   2.4516240e+02   2.0768691e+03   409.8896
 331  108     .       4       3.1400000e+00   3.7619823e+01   2.0768691e+03   409.8896
 332  109     .       4       6.4680000e-01   6.1429428e+01   2.0768691e+03   409.8896
 333  110     .       4       3.6100000e+00   3.2430477e+00   2.0768691e+03   409.8896
 334  112     .       4       9.4600000e-01   2.2012766e+01   2.0768691e+03   409.8896
 335  113     .       4       3.6500000e+00   5.0684597e+01   2.0768691e+03   409.8896
 336  115     .       4       3.7800000e+00   2.5294363e+01   2.0768691e+03   409.8896
 337  117     .       4       1.7982000e+00   7.5641079e+00   2.0768691e+03   409.8896
 338  119     .       4       1.2210000e+00   1.2616620e+00   2.0768691e+03   409.8896
 339  123     .       4       3.7500000e+00   1.2933186e+00   2.0768691e+03   409.8896
 340  125     .       4       6.0000000e-01   7.7412804e+01   2.0768691e+03   409.8896
 341  127     .       4       8.8400000e+00   1.4054496e+00   2.0768691e+03   409.8896
 342  136     .       4       1.6380000e-01   3.7856701e+01   2.0768691e+03   409.8896
 343  138     .       4       2.0160000e-01   2.4684042e+01   2.0768691e+03   409.8896
 344  140     .       4       1.0300000e+00   9.3769159e+00   2.0768691e+03   409.8896
 345  141     .       4       3.1300000e+00   3.9452080e+01   2.0768691e+03   409.8896
 346  143     .       4       5.6700000e+00   1.7687082e+00   2.0768691e+03   409.8896
 347  144     .       4       5.8800000e+00   4.5602875e+00   2.0768691e+03   409.8896
 348  147     .       4       3.8700000e+00   5.3996663e+00   2.0768691e+03   409.8896
 349  150     .       4       0.0000000e+00   8.0305805e+00   2.0768691e+03   409.8896
 350  154     .       4       8.1000000e-01   1.4132502e+01   2.0768691e+03   409.8896
 351  ;
 352   
 353    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 354                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 355                         quan(cod,reg,'povline_a_flex5');
 356   
 357    chkshr(reg)=sum(cod,shr(cod,reg));
 358   
 359  loop(reg,
 360    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 361  );
 362   
 363   
 364  *turn on dynamic sets to indicate positive quantities and existence of
 365  *price info for each region
 366   
 367   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 368                        AND price(cod,reg,'count') gt 4) = yes;
 369   
 370   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 371   
 372   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 373   display shrmiss;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 376                                             quan(cod,reg,'quan5'))/.9;
 377   
 378    display povline_ali;
 379   
 380   
 381  *boost values so shares sum to one;
 382  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 383   
 384  *fill out price matrix with maximum observed price outside of Maputo
 385   
 386  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 387           loop(r,
 388                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 389                                                price(cod,r,'price_uw5'));
 390           );
 391  );
 392   
 393  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 394   
 395  display 'should be an empty set', chkprice;
 396   
 397   
 398   
 399   
 400  Variables
 401     z                objective value
 402     q(cod,reg)       revised maximum entropy quanties in grams
 403     s(cod,reg)       derived maximum entropy shares
 404     povline(regq,reg)  estimated revealed preference matrix
 405  ;
 406   
 407   
 408  Equations
 409     obj              objective equation
 410     rev(regq,reg)    revealed preference tests
 411     deflin(regq,reg) define revealed preference matrix
 412     defshr(cod,regq) define the endogenous budget shares
 413     cals(regq)       ensure that each bundle hits the calorie
 414   
 415  ;
 416   
 417     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 418                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 419   
 420     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 421                            q(cod,rq)*price(cod,r,'price_uw5'));
 422   
 423     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 424   
 425     defshr(cod,rq)$posquan(cod,rq) ..
 426               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/07/14 10:41:04 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427   
 428     cals(rq) .. sum(cod$posquan(cod,rq),
 429                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 430   
 431  *set bounds and starting values for variables
 432   
 433    q.lo(cod,reg)=.00001;
 434    q.up(cod,reg)=inf;
 435    q.l(cod,reg)=quan(cod,reg,'quan5');
 436    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 437   
 438    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 439                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 440   
 441   
 442    display povline.l;
 443   
 444  *print the revealed preference matrix prior to optimisation;
 445  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv"/;
 446  put povline_rp;
 447  povline_rp.pc=5;
 448  povline_rp.nd=0;
 449  put " ";
 450  loop(reg,
 451        put reg.tl;
 452  );
 453  put /;
 454  loop(regq,
 455       put regq.tl;
 456       loop(reg,
 457           put povline.l(regq,reg);
 458       );
 459       put /;
 460  );
 461  put /; put /; put /;
 462   
 463     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 464     s.lo(cod,regq)=.0001;
 465     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 466   
 467   
 468     model revpref /obj, deflin, rev, defshr, cals/;
 469   
 470     revpref.holdfixed=1;
 471   
 472     option limrow=100;
 473   
 474     option nlp=conopt;
 475   
 476     solve revpref using nlp minimizing z;
 477   
 478     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 479     display "this is without adjustment for calorie target or 90%", povline.l;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480   
 481  put /;
 482  loop(rq,
 483       put rq.tl;
 484       loop(r,
 485           put povline.l(rq,r);
 486       );
 487       put /;
 488  );
 489  put /;
 490   
 491   
 492  PARAMETERS
 493     qent(cod,reg)  entropy quantities with all adjustments accounted for
 494     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 495    ;
 496  *readjust quantities to hit regional calorie target and calculate line;
 497     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 498   
 499     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 500                                             qent(cod,r))/.9;
 501   
 502     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 503   
 504     display perc_chng, povline_ent, povline_ali;
 505   
 506     file res/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv"/;
 507   
 508     put res;
 509     res.pc=5;
 510     res.nd=6;
 511   
 512  *recall that the basket reflects 90% of expenditure and 95% of calories";
 513     put "spdomain" ;
 514     put "product" ;
 515     put "quan5";
 516     put "qent";
 517     put "price";
 518     put "calperg";
 519   
 520     put /;
 521   
 522     loop(reg,
 523         loop(cod,
 524             put reg.tl;
 525             put cod.tl;
 526             put quan(cod,reg,'quan5');
 527             put qent(cod,reg);
 528             put price(cod,reg,'price_uw5')
 529             put quan(cod,reg,'calperg');
 530             put /;
 531         );
 532     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533   
 534     file lin/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv"/;
 535   
 536     put lin;
 537     lin.pc=5;
 538  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 539   
 540     put "spdomain";
 541     put "flex";
 542     put "ent";
 543     put /;
 544   
 545     loop(reg,
 546           put reg.tl;
 547           put povline_ali(reg);
 548           put povline_ent(reg);
 549           put /;
 550     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
     3      101 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
     4      254 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc


COMPILATION TIME     =        0.005 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    373 PARAMETER shrmiss  shares missing in each region pair

            1           3

1                   0.021
2       0.012       0.014
3       0.138
4                   0.052


----    378 PARAMETER povline_ali  food poverty line

1 415.501,    2 384.545,    3 233.274,    4 409.890


----    395 should be an empty set

----    395 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    442 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     373.951     347.456     281.807     359.929
2     376.094     346.090     284.983     367.466
3     311.305     269.885     209.947     305.162
4     422.428     405.199     392.918     368.901

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


---- obj  =E=  objective equation

obj..  z - (1)*s(100,1) - (1)*s(100,2) - (1)*s(100,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4)
     
      - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,3) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3)
     
      - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(119,2) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,3) - (1)*s(123,1) - (1)*s(123,2)
     
      - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(127,4) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(134,1) - (1)*s(134,2) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(136,1)
     
      - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2)
     
      - (1)*s(143,4) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,3) - (1)*s(154,4) =E= 0 ;
     
      (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 0.1381327*q(100,1) - 0.1779299*q(105,1) - 0.0783202*q(107,1) - 0.4334635*q(108,1) - 1.181096*q(110,1) - 0.2351056*q(112,1) - 0.5988024*q(113,1) - 1.221117*q(114,1) - 2.333451*q(117,1) - 1.910913*q(118,1) - 0.6598178*q(122,1)
     
      - 2.049778*q(123,1) - 0.2106521*q(125,1) - 1.853102*q(127,1) - 0.9305069*q(134,1) - 0.6272439*q(135,1) - 0.1092197*q(136,1) - 0.2396228*q(138,1) - 1.588387*q(140,1) - 0.932375*q(141,1) - 1.561716*q(144,1) - 1.708801*q(147,1) - 0.5246207*q(150,1)
     
      + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 0.1424982*q(100,1) - 0.160952*q(105,1) - 0.0632228*q(107,1) - 0.4376904*q(108,1) - 1.011064*q(110,1) - 0.2126245*q(112,1) - 0.5251544*q(113,1) - 1.15942*q(114,1) - 2.682296*q(117,1) - 2.059247*q(118,1) - 0.7509244*q(122,1)
     
      - 2.032916*q(123,1) - 0.1432769*q(125,1) - 1.772165*q(127,1) - 0.8588079*q(134,1) - 0.3791726*q(135,1) - 0.1093789*q(136,1) - 0.2735564*q(138,1) - 1.625508*q(140,1) - 0.8384635*q(141,1) - 1.303079*q(144,1) - 1.681167*q(147,1) - 0.4757055*q(150,1)
     
      + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.145245*q(100,1) - 0.0820265*q(105,1) - 0.0262193*q(107,1) - 0.5300153*q(108,1) - 1.007408*q(110,1) - 0.1706786*q(112,1) - 0.3332952*q(113,1) - 1.578027*q(114,1) - 2.423799*q(117,1) - 1.914438*q(118,1) - 0.6984526*q(122,1)
     
      - 2.504108*q(123,1) - 0.0631902*q(125,1) - 2.231234*q(127,1) - 0.2777815*q(134,1) - 0.2443674*q(135,1) - 0.1006083*q(136,1) - 0.2031848*q(138,1) - 0.7470751*q(140,1) - 1.183308*q(141,1) - 1.75*q(144,1) - 1.686355*q(147,1) - 0.4252497*q(150,1)
     
      + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 0.1034829*q(100,1) - 0.1562738*q(105,1) - 0.0869518*q(107,1) - 0.3941762*q(108,1) - 1.088738*q(110,1) - 0.1980803*q(112,1) - 0.5505979*q(113,1) - 1.258574*q(114,1) - 2.232269*q(117,1) - 1.977466*q(118,1) - 1.174343*q(122,1)
     
      - 3.942898*q(123,1) - 0.1114734*q(125,1) - 2.299935*q(127,1) - 0.3476523*q(134,1) - 0.3110161*q(135,1) - 0.1582623*q(136,1) - 0.2428477*q(138,1) - 1.14106*q(140,1) - 1.14431*q(141,1) - 1.508856*q(144,1) - 1.75744*q(147,1) - 0.6241586*q(150,1)
     
      + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 0.1381327*q(100,2) - 0.1779299*q(105,2) - 0.1664628*q(106,2) - 0.0783202*q(107,2) - 0.4334635*q(108,2) - 1.181096*q(110,2) - 0.2351056*q(112,2) - 0.5988024*q(113,2) - 0.6923987*q(115,2) - 0.4314531*q(116,2) - 2.333451*q(117,2)
     
      - 2.368849*q(119,2) - 3.056498*q(121,2) - 0.6598178*q(122,2) - 2.049778*q(123,2) - 0.2106521*q(125,2) - 1.853102*q(127,2) - 0.1492222*q(132,2) - 0.9305069*q(134,2) - 0.1092197*q(136,2) - 0.2396228*q(138,2) - 0.2911553*q(139,2) - 0.932375*q(141,2)
     
      - 1.803374*q(143,2) - 1.561716*q(144,2) - 1.708801*q(147,2) - 0.5246207*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 0.1424982*q(100,2) - 0.160952*q(105,2) - 0.1459396*q(106,2) - 0.0632228*q(107,2) - 0.4376904*q(108,2) - 1.011064*q(110,2) - 0.2126245*q(112,2) - 0.5251544*q(113,2) - 0.5052691*q(115,2) - 0.288116*q(116,2) - 2.682296*q(117,2)
     
      - 2.715838*q(119,2) - 2.800217*q(121,2) - 0.7509244*q(122,2) - 2.032916*q(123,2) - 0.1432769*q(125,2) - 1.772165*q(127,2) - 0.1067689*q(132,2) - 0.8588079*q(134,2) - 0.1093789*q(136,2) - 0.2735564*q(138,2) - 0.293454*q(139,2) - 0.8384635*q(141,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     deflin  =E=  define revealed preference matrix     
     
      - 1.73288*q(143,2) - 1.303079*q(144,2) - 1.681167*q(147,2) - 0.4757055*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 0.145245*q(100,2) - 0.0820265*q(105,2) - 0.0980027*q(106,2) - 0.0262193*q(107,2) - 0.5300153*q(108,2) - 1.007408*q(110,2) - 0.1706786*q(112,2) - 0.3332952*q(113,2) - 0.3522252*q(115,2) - 0.2945915*q(116,2) - 2.423799*q(117,2)
     
      - 2.045556*q(119,2) - 2.233073*q(121,2) - 0.6984526*q(122,2) - 2.504108*q(123,2) - 0.0631902*q(125,2) - 2.231234*q(127,2) - 0.0455113*q(132,2) - 0.2777815*q(134,2) - 0.1006083*q(136,2) - 0.2031848*q(138,2) - 0.194058*q(139,2) - 1.183308*q(141,2)
     
      - 1.321482*q(143,2) - 1.75*q(144,2) - 1.686355*q(147,2) - 0.4252497*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 0.1034829*q(100,2) - 0.1562738*q(105,2) - 0.1100485*q(106,2) - 0.0869518*q(107,2) - 0.3941762*q(108,2) - 1.088738*q(110,2) - 0.1980803*q(112,2) - 0.5505979*q(113,2) - 0.6001995*q(115,2) - 0.3592925*q(116,2) - 2.232269*q(117,2)
     
      - 2.611423*q(119,2) - 2.895597*q(121,2) - 1.174343*q(122,2) - 3.942898*q(123,2) - 0.1114734*q(125,2) - 2.299935*q(127,2) - 0.0746294*q(132,2) - 0.3476523*q(134,2) - 0.1582623*q(136,2) - 0.2428477*q(138,2) - 0.3168305*q(139,2) - 1.14431*q(141,2)
     
      - 2.123574*q(143,2) - 1.508856*q(144,2) - 1.75744*q(147,2) - 0.6241586*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 0.1779299*q(105,3) - 0.0783202*q(107,3) - 0.4334635*q(108,3) - 0.4084681*q(111,3) - 0.2351056*q(112,3) - 0.5988024*q(113,3) - 0.6923987*q(115,3) - 0.4314531*q(116,3) - 2.333451*q(117,3) - 0.6598178*q(122,3) - 2.049778*q(123,3)
     
      - 1.853102*q(127,3) - 0.1492222*q(132,3) - 0.6272439*q(135,3) - 0.1092197*q(136,3) - 0.2396228*q(138,3) - 0.2911553*q(139,3) - 0.932375*q(141,3) - 1.365703*q(145,3) - 1.383532*q(146,3) - 1.708801*q(147,3) - 0.5246207*q(150,3) - 0.5756527*q(154,3)
     
      + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 0.160952*q(105,3) - 0.0632228*q(107,3) - 0.4376904*q(108,3) - 0.3120872*q(111,3) - 0.2126245*q(112,3) - 0.5251544*q(113,3) - 0.5052691*q(115,3) - 0.288116*q(116,3) - 2.682296*q(117,3) - 0.7509244*q(122,3) - 2.032916*q(123,3)
     
      - 1.772165*q(127,3) - 0.1067689*q(132,3) - 0.3791726*q(135,3) - 0.1093789*q(136,3) - 0.2735564*q(138,3) - 0.293454*q(139,3) - 0.8384635*q(141,3) - 0.8942891*q(145,3) - 1.293512*q(146,3) - 1.681167*q(147,3) - 0.4757055*q(150,3) - 1.026051*q(154,3)
     
      + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.0820265*q(105,3) - 0.0262193*q(107,3) - 0.5300153*q(108,3) - 0.2671674*q(111,3) - 0.1706786*q(112,3) - 0.3332952*q(113,3) - 0.3522252*q(115,3) - 0.2945915*q(116,3) - 2.423799*q(117,3) - 0.6984526*q(122,3) - 2.504108*q(123,3)
     
      - 2.231234*q(127,3) - 0.0455113*q(132,3) - 0.2443674*q(135,3) - 0.1006083*q(136,3) - 0.2031848*q(138,3) - 0.194058*q(139,3) - 1.183308*q(141,3) - 0.6226832*q(145,3) - 0.9714274*q(146,3) - 1.686355*q(147,3) - 0.4252497*q(150,3) - 0.6355969*q(154,3)
     
      + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 0.1562738*q(105,3) - 0.0869518*q(107,3) - 0.3941762*q(108,3) - 0.3894773*q(111,3) - 0.1980803*q(112,3) - 0.5505979*q(113,3) - 0.6001995*q(115,3) - 0.3592925*q(116,3) - 2.232269*q(117,3) - 1.174343*q(122,3) - 3.942898*q(123,3)
     
      - 2.299935*q(127,3) - 0.0746294*q(132,3) - 0.3110161*q(135,3) - 0.1582623*q(136,3) - 0.2428477*q(138,3) - 0.3168305*q(139,3) - 1.14431*q(141,3) - 0.8926445*q(145,3) - 1.266919*q(146,3) - 1.75744*q(147,3) - 0.6241586*q(150,3) - 0.2939937*q(154,3)
     
      + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 0.1381327*q(100,4) - 0.1779299*q(105,4) - 0.0783202*q(107,4) - 0.4334635*q(108,4) - 0.397339*q(109,4) - 1.181096*q(110,4) - 0.2351056*q(112,4) - 0.5988024*q(113,4) - 0.6923987*q(115,4) - 2.333451*q(117,4) - 2.368849*q(119,4)
     
      - 2.049778*q(123,4) - 0.2106521*q(125,4) - 1.853102*q(127,4) - 0.1092197*q(136,4) - 0.2396228*q(138,4) - 1.588387*q(140,4) - 0.932375*q(141,4) - 1.803374*q(143,4) - 1.561716*q(144,4) - 1.708801*q(147,4) - 0.5246207*q(150,4) - 0.5756527*q(154,4)
     
      + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 0.1424982*q(100,4) - 0.160952*q(105,4) - 0.0632228*q(107,4) - 0.4376904*q(108,4) - 0.3408006*q(109,4) - 1.011064*q(110,4) - 0.2126245*q(112,4) - 0.5251544*q(113,4) - 0.5052691*q(115,4) - 2.682296*q(117,4) - 2.715838*q(119,4)
     
      - 2.032916*q(123,4) - 0.1432769*q(125,4) - 1.772165*q(127,4) - 0.1093789*q(136,4) - 0.2735564*q(138,4) - 1.625508*q(140,4) - 0.8384635*q(141,4) - 1.73288*q(143,4) - 1.303079*q(144,4) - 1.681167*q(147,4) - 0.4757055*q(150,4) - 1.026051*q(154,4)
     
      + povline(4,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     deflin  =E=  define revealed preference matrix

deflin(4,3)..  - 0.145245*q(100,4) - 0.0820265*q(105,4) - 0.0262193*q(107,4) - 0.5300153*q(108,4) - 0.9050463*q(109,4) - 1.007408*q(110,4) - 0.1706786*q(112,4) - 0.3332952*q(113,4) - 0.3522252*q(115,4) - 2.423799*q(117,4) - 2.045556*q(119,4)
     
      - 2.504108*q(123,4) - 0.0631902*q(125,4) - 2.231234*q(127,4) - 0.1006083*q(136,4) - 0.2031848*q(138,4) - 0.7470751*q(140,4) - 1.183308*q(141,4) - 1.321482*q(143,4) - 1.75*q(144,4) - 1.686355*q(147,4) - 0.4252497*q(150,4) - 0.6355969*q(154,4)
     
      + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 0.1034829*q(100,4) - 0.1562738*q(105,4) - 0.0869518*q(107,4) - 0.3941762*q(108,4) - 0.2342229*q(109,4) - 1.088738*q(110,4) - 0.1980803*q(112,4) - 0.5505979*q(113,4) - 0.6001995*q(115,4) - 2.232269*q(117,4) - 2.611423*q(119,4)
     
      - 3.942898*q(123,4) - 0.1114734*q(125,4) - 2.299935*q(127,4) - 0.1582623*q(136,4) - 0.2428477*q(138,4) - 1.14106*q(140,4) - 1.14431*q(141,4) - 2.123574*q(143,4) - 1.508856*q(144,4) - 1.75744*q(147,4) - 0.6241586*q(150,4) - 0.2939937*q(154,4)
     
      + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = 2.1431557818874)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -62.6458533413503, INFES = 62.6458533413503 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 48.4766646589644)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 1.36605626969197)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -76.2051608233666, INFES = 76.2051608233666 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 59.109341017602)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 71.8600270031359)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 75.0364220906289)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 182.971108496812)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -8.97154058195042, INFES = 8.97154058195042 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -1.43479201551548, INFES = 1.43479201551548 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -63.7384123140571, INFES = 63.7384123140571 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(100,1)..  - 0.1381327*q(100,1) + (373.951342865727)*s(100,1) + (0.125218979795335)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(100,2)..  - 0.1424982*q(100,2) + (346.09005289606)*s(100,2) + (0.0632646084933326)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(100,4)..  - 0.1034829*q(100,4) + (368.900619989101)*s(100,4) + (0.252168443318169)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     defshr  =E=  define the endogenous budget shares

defshr(105,1)..  - 0.1779299*q(105,1) + (373.951342865727)*s(105,1) + (0.146433654972658)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 0.160952*q(105,2) + (346.09005289606)*s(105,2) + (0.154628756446323)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.0820265*q(105,3) + (209.94701529702)*s(105,3) + (0.0721868427702773)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 0.1562738*q(105,4) + (368.900619989101)*s(105,4) + (0.1086904819492)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 0.1459396*q(106,2) + (346.09005289606)*s(106,2) + (0.0113891509561917)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.0783202*q(107,1) + (373.951342865727)*s(107,1) + (0.0986797361212848)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.0632228*q(107,2) + (346.09005289606)*s(107,2) + (0.0456892576806562)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.0262193*q(107,3) + (209.94701529702)*s(107,3) + (0.068622790650787)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.0869518*q(107,4) + (368.900619989101)*s(107,4) + (0.0577860562363648)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.4334635*q(108,1) + (373.951342865727)*s(108,1) + (0.0156664621880609)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.4376904*q(108,2) + (346.09005289606)*s(108,2) + (0.0800908115738324)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.5300153*q(108,3) + (209.94701529702)*s(108,3) + (0.0876112725266405)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3941762*q(108,4) + (368.900619989101)*s(108,4) + (0.0401973812764281)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 0.2342229*q(109,4) + (368.900619989101)*s(109,4) + (0.0390028587426237)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.181096*q(110,1) + (373.951342865727)*s(110,1) + (0.0248415124211461)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 1.011064*q(110,2) + (346.09005289606)*s(110,2) + (0.0260576589519851)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.088738*q(110,4) + (368.900619989101)*s(110,4) + (0.00957122074478194)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.2671674*q(111,3) + (209.94701529702)*s(111,3) + (0.0205440577028475)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.2351056*q(112,1) + (373.951342865727)*s(112,1) + (0.0194716675894685)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.2126245*q(112,2) + (346.09005289606)*s(112,2) + (0.0241155022961309)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,3)..  - 0.1706786*q(112,3) + (209.94701529702)*s(112,3) + (0.0102162809174303)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.1980803*q(112,4) + (368.900619989101)*s(112,4) + (0.0118197017213976)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 0.5988024*q(113,1) + (373.951342865727)*s(113,1) + (0.132481925134567)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.5251544*q(113,2) + (346.09005289606)*s(113,2) + (0.134653162282777)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     defshr  =E=  define the endogenous budget shares

defshr(113,3)..  - 0.3332952*q(113,3) + (209.94701529702)*s(113,3) + (0.138453467469101)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.5505979*q(113,4) + (368.900619989101)*s(113,4) + (0.0756486467042826)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 1.221117*q(114,1) + (373.951342865727)*s(114,1) + (0.00916831237854001)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.5052691*q(115,2) + (346.09005289606)*s(115,2) + (0.0270254587834162)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.3522252*q(115,3) + (209.94701529702)*s(115,3) + (0.0134076558465528)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.6001995*q(115,4) + (368.900619989101)*s(115,4) + (0.0411538045825649)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.288116*q(116,2) + (346.09005289606)*s(116,2) + (0.0132176177188942)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.2945915*q(116,3) + (209.94701529702)*s(116,3) + (0.0654578878052192)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 2.333451*q(117,1) + (373.951342865727)*s(117,1) + (0.0344897870160698)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.682296*q(117,2) + (346.09005289606)*s(117,2) + (0.0352439713272016)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 2.423799*q(117,3) + (209.94701529702)*s(117,3) + (0.0137925070980902)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.232269*q(117,4) + (368.900619989101)*s(117,4) + (0.0457714697750412)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 1.910913*q(118,1) + (373.951342865727)*s(118,1) + (0.00984106389791089)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 2.715838*q(119,2) + (346.09005289606)*s(119,2) + (0.010256126910564)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 2.611423*q(119,4) + (368.900619989101)*s(119,4) + (0.00893122154449983)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 2.800217*q(121,2) + (346.09005289606)*s(121,2) + (0.0170791243809388)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.6598178*q(122,1) + (373.951342865727)*s(122,1) + (0.0297281302330065)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.7509244*q(122,2) + (346.09005289606)*s(122,2) + (0.0233544721325379)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,3)..  - 0.6984526*q(122,3) + (209.94701529702)*s(122,3) + (0.0121491936374795)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 2.049778*q(123,1) + (373.951342865727)*s(123,1) + (0.0169205285647261)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 2.032916*q(123,2) + (346.09005289606)*s(123,2) + (0.0246678902711173)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 2.504108*q(123,3) + (209.94701529702)*s(123,3) + (0.0356493699578106)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 3.942898*q(123,4) + (368.900619989101)*s(123,4) + (0.0138232983220615)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.2106521*q(125,1) + (373.951342865727)*s(125,1) + (0.035920627622323)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     defshr  =E=  define the endogenous budget shares

defshr(125,2)..  - 0.1432769*q(125,2) + (346.09005289606)*s(125,2) + (0.0251582001879584)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.1114734*q(125,4) + (368.900619989101)*s(125,4) + (0.0233923935006359)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 1.853102*q(127,1) + (373.951342865727)*s(127,1) + (0.0182957161450441)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 1.772165*q(127,2) + (346.09005289606)*s(127,2) + (0.0284633547900277)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 2.231234*q(127,3) + (209.94701529702)*s(127,3) + (0.0634215085226105)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 2.299935*q(127,4) + (368.900619989101)*s(127,4) + (0.00876236728979069)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1067689*q(132,2) + (346.09005289606)*s(132,2) + (0.0110445331628192)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.0455113*q(132,3) + (209.94701529702)*s(132,3) + (0.0104541104862192)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.9305069*q(134,1) + (373.951342865727)*s(134,1) + (0.0371498127449341)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.8588079*q(134,2) + (346.09005289606)*s(134,2) + (0.0115807707694168)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.6272439*q(135,1) + (373.951342865727)*s(135,1) + (0.0108904838185667)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.2443674*q(135,3) + (209.94701529702)*s(135,3) + (0.0128347633584151)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1092197*q(136,1) + (373.951342865727)*s(136,1) + (0.0218101161653275)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1093789*q(136,2) + (346.09005289606)*s(136,2) + (0.0267374990941346)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1006083*q(136,3) + (209.94701529702)*s(136,3) + (0.0194869886823386)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.1582623*q(136,4) + (368.900619989101)*s(136,4) + (0.0162409284398853)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.2396228*q(138,1) + (373.951342865727)*s(138,1) + (0.0144929404443958)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.2735564*q(138,2) + (346.09005289606)*s(138,2) + (0.0297634368492585)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.2031848*q(138,3) + (209.94701529702)*s(138,3) + (0.011815861050843)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.2428477*q(138,4) + (368.900619989101)*s(138,4) + (0.0162495330763622)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.293454*q(139,2) + (346.09005289606)*s(139,2) + (0.0332105323417542)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.194058*q(139,3) + (209.94701529702)*s(139,3) + (0.0632614965771723)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 1.588387*q(140,1) + (373.951342865727)*s(140,1) + (0.0264307458954002)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 1.14106*q(140,4) + (368.900619989101)*s(140,4) + (0.0290040815251818)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     defshr  =E=  define the endogenous budget shares

defshr(141,1)..  - 0.932375*q(141,1) + (373.951342865727)*s(141,1) + (0.0686765486017293)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.8384635*q(141,2) + (346.09005289606)*s(141,2) + (0.045862911958244)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 1.183308*q(141,3) + (209.94701529702)*s(141,3) + (0.136281859934029)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 1.14431*q(141,4) + (368.900619989101)*s(141,4) + (0.122378242861543)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 1.73288*q(143,2) + (346.09005289606)*s(143,2) + (0.0102669967381095)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,4)..  - 2.123574*q(143,4) + (368.900619989101)*s(143,4) + (0.0101815571554685)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 1.561716*q(144,1) + (373.951342865727)*s(144,1) + (0.0235869649629308)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 1.303079*q(144,2) + (346.09005289606)*s(144,2) + (0.0152740960154734)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 1.508856*q(144,4) + (368.900619989101)*s(144,4) + (0.018652224429179)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.6226832*q(145,3) + (209.94701529702)*s(145,3) + (0.0473075776075554)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.9714274*q(146,3) + (209.94701529702)*s(146,3) + (0.0404842079183208)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 1.708801*q(147,1) + (373.951342865727)*s(147,1) + (0.0695812951847185)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.681167*q(147,2) + (346.09005289606)*s(147,2) + (0.0617455495808741)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 1.686355*q(147,3) + (209.94701529702)*s(147,3) + (0.0279130403618063)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.75744*q(147,4) + (368.900619989101)*s(147,4) + (0.0257239728752757)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.5246207*q(150,1) + (373.951342865727)*s(150,1) + (0.0102229881018561)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.4757055*q(150,2) + (346.09005289606)*s(150,2) + (0.0101585483060301)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.4252497*q(150,3) + (209.94701529702)*s(150,3) + (0.0190285144528882)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(150,4)..  - 0.6241586*q(150,4) + (368.900619989101)*s(150,4) + (0.0135872796370345)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(154,3)..  - 0.6355969*q(154,3) + (209.94701529702)*s(154,3) + (0.00961874466556592)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(154,4)..  - 0.2939937*q(154,4) + (368.900619989101)*s(154,4) + (0.011262834292228)*povline(4,4) =E= 0 ; (LHS = 0)
     

---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(100,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1)
     
      + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 1907.8063567068, INFES = 134.6936432932 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 476


     cals  =E=  ensure that each bundle hits the calorie

cals(2)..  0.689*q(100,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.221*q(119,2) + 1.4835*q(121,2) + 0.6161*q(122,2)
     
      + 3.75*q(123,2) + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1902.77752577493, INFES = 139.72247422507 ****)
     
cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 0.946*q(112,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 0.6161*q(122,3) + 3.75*q(123,3) + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3)
     
      + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 3.13*q(141,3) + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) + 0.81*q(154,3) =E= 2042.5 ; (LHS = 1887.77456825293, INFES = 154.72543174707 ****)
     
cals(4)..  0.689*q(100,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4)
     
      + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.67*q(143,4) + 5.88*q(144,4) + 3.87*q(147,4) + 0.81*q(154,4) =E= 2042.5 ; (LHS = 1973.02555104018, INFES = 69.4744489598199 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 476


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(100,1)
                (.LO, .L, .UP, .M = 1E-5, 338.99146, +INF, 0)
       -0.1381  deflin(1,1)
       -0.1425  deflin(1,2)
       -0.1452  deflin(1,3)
       -0.1035  deflin(1,4)
       -0.1381  defshr(100,1)
        0.689   cals(1)

q(100,2)
                (.LO, .L, .UP, .M = 1E-5, 153.65283, +INF, 0)
       -0.1381  deflin(2,1)
       -0.1425  deflin(2,2)
       -0.1452  deflin(2,3)
       -0.1035  deflin(2,4)
       -0.1425  defshr(100,2)
        0.689   cals(2)

q(100,4)
                (.LO, .L, .UP, .M = 1E-5, 898.94171, +INF, 0)
       -0.1381  deflin(4,1)
       -0.1425  deflin(4,2)
       -0.1452  deflin(4,3)
       -0.1035  deflin(4,4)
       -0.1035  defshr(100,4)
        0.689   cals(4)

REMAINING 93 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(100,1)
                (.LO, .L, .UP, .M = 0.0001, 0.125218979795335, +INF, 0)
      (-1)      obj
     (373.9513) defshr(100,1)

s(100,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0632646084933326, +INF, 0)
      (-1)      obj
     (346.0901) defshr(100,2)

s(100,4)
                (.LO, .L, .UP, .M = 0.0001, 0.252168443318169, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 476


     s  derived maximum entropy shares

     (368.9006) defshr(100,4)

REMAINING 93 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 373.951342865727, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1252) defshr(100,1)
       (0.1464) defshr(105,1)
       (0.0987) defshr(107,1)
       (0.0157) defshr(108,1)
       (0.0248) defshr(110,1)
       (0.0195) defshr(112,1)
       (0.1325) defshr(113,1)
       (0.0092) defshr(114,1)
       (0.0345) defshr(117,1)
       (0.0098) defshr(118,1)
       (0.0297) defshr(122,1)
       (0.0169) defshr(123,1)
       (0.0359) defshr(125,1)
       (0.0183) defshr(127,1)
       (0.0371) defshr(134,1)
       (0.0109) defshr(135,1)
       (0.0218) defshr(136,1)
       (0.0145) defshr(138,1)
       (0.0264) defshr(140,1)
       (0.0687) defshr(141,1)
       (0.0236) defshr(144,1)
       (0.0696) defshr(147,1)
       (0.0102) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 347.456109165752, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 281.807042300156, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 476


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          129
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          209
NON ZERO ELEMENTS           901     NON LINEAR N-Z            288
DERIVATIVE POOL              10     CONSTANT POOL             112
CODE LENGTH                 866


GENERATION TIME      =        0.012 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.014 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  476

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0165

 RESOURCE USAGE, LIMIT          0.034      1000.000
 ITERATION COUNT, LIMIT        45    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 209 variables and 129 constraints
    with 901 Jacobian elements, 288 of which are nonlinear.
    The Hessian of the Lagrangian has 96 elements on the diagonal,
    96 elements below the diagonal, and 100 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.034 seconds
   of which: Function evaluations             0.004 = 11.8%
             1st Derivative evaluations       0.001 =  2.9%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0024      
1.2          .              .              .             EPS         
1.3          .              .              .             EPS         
1.4          .              .              .            -0.0001      
2.1          .              .              .            -0.0002      
2.2          .              .              .            -0.0024      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .             EPS         
3.1          .              .              .             EPS         
3.2          .              .              .            -0.0004      
3.3          .              .              .            -0.0036      
3.4          .              .              .             EPS         
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0025      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF            0.0002      
1.3          .            19.1249        +INF            EPS         
1.4          .            41.7873        +INF             .          
2.1          .             4.3408        +INF             .          
2.3          .              .            +INF            0.0004      
2.4          .            56.1510        +INF             .          
3.1          .             5.6114        +INF            EPS         
3.2          .             5.4260        +INF            EPS         
3.4          .           112.4516        +INF             .          
4.1          .              .            +INF            0.0001      
4.2          .             2.8028        +INF            EPS         
4.3          .            20.0293        +INF            EPS         

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1          .              .              .             0.0025      
100.2          .              .              .             0.0028      
100.4          .              .              .             0.0027      
105.1          .              .              .             0.0026      
105.2          .              .              .             0.0028      
105.3          .              .              .             0.0035      
105.4          .              .              .             0.0027      
106.2          .              .              .             0.0033      
107.1          .              .              .             0.0028      
107.2          .              .              .             0.0033      
107.3          .              .              .             0.0010      
107.4          .              .              .             0.0029      
108.1          .              .              .             0.0026      
108.2          .              .              .             0.0028      
108.3          .              .              .             0.0035      
108.4          .              .              .             0.0027      
109.4          .              .              .             0.0026      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

110.1          .              .              .             0.0025      
110.2          .              .              .             0.0028      
110.4          .              .              .             0.0026      
111.3          .              .              .             0.0031      
112.1          .              .              .             0.0025      
112.2          .              .              .             0.0028      
112.3          .              .              .             0.0037      
112.4          .              .              .             0.0027      
113.1          .              .              .             0.0026      
113.2          .              .              .             0.0029      
113.3          .              .              .             0.0034      
113.4          .              .              .             0.0027      
114.1          .              .              .             0.0025      
115.2          .              .              .             0.0029      
115.3          .              .              .             0.0034      
115.4          .              .              .             0.0027      
116.2          .              .              .             0.0031      
116.3          .              .              .             0.0032      
117.1          .              .              .             0.0025      
117.2          .              .              .             0.0026      
117.3          .              .              .             0.0039      
117.4          .              .              .             0.0026      
118.1          .              .              .             0.0025      
119.2          .              .              .             0.0026      
119.4          .              .              .             0.0026      
121.2          .              .              .             0.0027      
122.1          .              .              .             0.0026      
122.2          .              .              .             0.0026      
122.3          .              .              .             0.0039      
123.1          .              .              .             0.0026      
123.2          .              .              .             0.0027      
123.3          .              .              .             0.0038      
123.4          .              .              .             0.0026      
125.1          .              .              .             0.0025      
125.2          .              .              .             0.0029      
125.4          .              .              .             0.0027      
127.1          .              .              .             0.0026      
127.2          .              .              .             0.0028      
127.3          .              .              .             0.0036      
127.4          .              .              .             0.0026      
132.2          .              .              .             0.0028      
132.3          .              .              .             0.0038      
134.1          .              .              .             0.0024      
134.2          .              .              .             0.0027      
135.1          .              .              .             0.0024      
135.3          .              .              .             0.0041      
136.1          .              .              .             0.0026      
136.2          .              .              .             0.0027      
136.3          .              .              .             0.0039      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

136.4          .              .              .             0.0026      
138.1          .              .              .             0.0025      
138.2          .              .              .             0.0026      
138.3          .              .              .             0.0040      
138.4          .              .              .             0.0026      
139.2          .              .              .             0.0027      
139.3          .              .              .             0.0040      
140.1          .              .              .             0.0025      
140.4          .              .              .             0.0026      
141.1          .              .              .             0.0026      
141.2          .              .              .             0.0028      
141.3          .              .              .             0.0036      
141.4          .              .              .             0.0026      
143.2          .              .              .             0.0027      
143.4          .              .              .             0.0026      
144.1          .              .              .             0.0025      
144.2          .              .              .             0.0028      
144.4          .              .              .             0.0026      
145.3          .              .              .             0.0040      
146.3          .              .              .             0.0037      
147.1          .              .              .             0.0025      
147.2          .              .              .             0.0027      
147.3          .              .              .             0.0038      
147.4          .              .              .             0.0026      
150.1          .              .              .             0.0025      
150.2          .              .              .             0.0027      
150.3          .              .              .             0.0040      
150.4          .              .              .             0.0025      
154.3          .              .              .             0.0041      
154.4          .              .              .             0.0026      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   1.9693319E-5      
2      2042.5000      2042.5000      2042.5000   2.6450210E-5      
3      2042.5000      2042.5000      2042.5000   -6.733403E-5      
4      2042.5000      2042.5000      2042.5000   2.1190504E-5      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0165        +INF             .          

  z  objective value
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

100.1   1.0000000E-5       348.0234        +INF            EPS         
100.2   1.0000000E-5       155.3989        +INF             .          
100.4   1.0000000E-5       923.8951        +INF             .          
105.1   1.0000000E-5       319.5527        +INF             .          
105.2   1.0000000E-5       344.5594        +INF             .          
105.3   1.0000000E-5       249.4662        +INF            EPS         
105.4   1.0000000E-5       263.3743        +INF             .          
106.2   1.0000000E-5        32.9925        +INF             .          
107.1   1.0000000E-5       539.5395        +INF             .          
107.2   1.0000000E-5       301.3875        +INF             .          
107.3   1.0000000E-5       369.1793        +INF             .          
107.4   1.0000000E-5       270.2331        +INF             .          
108.1   1.0000000E-5        14.2186        +INF             .          
108.2   1.0000000E-5        65.5798        +INF             .          
108.3   1.0000000E-5        46.8072        +INF             .          
108.4   1.0000000E-5        39.0684        +INF             .          
109.4   1.0000000E-5        61.2079        +INF             .          
110.1   1.0000000E-5         8.0181        +INF             .          
110.2   1.0000000E-5         9.0509        +INF             .          
110.4   1.0000000E-5         3.2456        +INF             .          
111.3   1.0000000E-5        19.4863        +INF             .          
112.1   1.0000000E-5        31.6948        +INF             .          
112.2   1.0000000E-5        39.9701        +INF             .          
112.3   1.0000000E-5        17.8845        +INF             .          
112.4   1.0000000E-5        22.2876        +INF             .          
113.1   1.0000000E-5        86.3171        +INF             .          
113.2   1.0000000E-5        92.7582        +INF            EPS         
113.3   1.0000000E-5       116.0051        +INF             .          
113.4   1.0000000E-5        52.0795        +INF             .          
114.1   1.0000000E-5         2.8570        +INF             .          
115.2   1.0000000E-5        19.7921        +INF             .          
115.3   1.0000000E-5        10.5100        +INF             .          
115.4   1.0000000E-5        25.9221        +INF             .          
116.2   1.0000000E-5        17.8472        +INF             .          
116.3   1.0000000E-5        57.4708        +INF             .          
117.1   1.0000000E-5         5.5457        +INF             .          
117.2   1.0000000E-5         4.3888        +INF             .          
117.3   1.0000000E-5         1.8363        +INF             .          
117.4   1.0000000E-5         7.4205        +INF             .          
118.1   1.0000000E-5         1.9459        +INF             .          
119.2   1.0000000E-5         1.2590        +INF             .          
119.4   1.0000000E-5         1.2344        +INF             .          
121.2   1.0000000E-5         2.0693        +INF             .          
122.1   1.0000000E-5        17.5612        +INF             .          
122.2   1.0000000E-5        10.4099        +INF             .          
122.3   1.0000000E-5         5.5785        +INF            EPS         
123.1   1.0000000E-5         3.2605        +INF            EPS         
123.2   1.0000000E-5         4.1417        +INF             .          
123.3   1.0000000E-5         4.3827        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

123.4   1.0000000E-5         1.2702        +INF             .          
125.1   1.0000000E-5        63.7723        +INF             .          
125.2   1.0000000E-5        63.4752        +INF             .          
125.4   1.0000000E-5        78.7585        +INF             .          
127.1   1.0000000E-5         3.8684        +INF             .          
127.2   1.0000000E-5         5.6629        +INF             .          
127.3   1.0000000E-5         8.3293        +INF             .          
127.4   1.0000000E-5         1.4125        +INF             .          
132.2   1.0000000E-5        37.1409        +INF             .          
132.3   1.0000000E-5        71.7938        +INF             .          
134.1   1.0000000E-5        14.5671        +INF             .          
134.2   1.0000000E-5         4.5742        +INF             .          
135.1   1.0000000E-5         6.3722        +INF             .          
135.3   1.0000000E-5        17.5479        +INF             .          
136.1   1.0000000E-5        77.0223        +INF             .          
136.2   1.0000000E-5        83.1018        +INF             .          
136.3   1.0000000E-5        61.3149        +INF             .          
136.4   1.0000000E-5        37.2057        +INF             .          
138.1   1.0000000E-5        22.7632        +INF             .          
138.2   1.0000000E-5        36.3811        +INF             .          
138.3   1.0000000E-5        19.1763        +INF             .          
138.4   1.0000000E-5        24.2201        +INF             .          
139.2   1.0000000E-5        38.2350        +INF             .          
139.3   1.0000000E-5       108.7438        +INF             .          
140.1   1.0000000E-5         6.1714        +INF             .          
140.4   1.0000000E-5         9.2060        +INF             .          
141.1   1.0000000E-5        28.5321        +INF            EPS         
141.2   1.0000000E-5        19.1562        +INF             .          
141.3   1.0000000E-5        34.2886        +INF             .          
141.4   1.0000000E-5        39.3016        +INF             .          
143.2   1.0000000E-5         2.0547        +INF             .          
143.4   1.0000000E-5         1.7610        +INF             .          
144.1   1.0000000E-5         5.8005        +INF             .          
144.2   1.0000000E-5         4.1627        +INF            EPS         
144.4   1.0000000E-5         4.5851        +INF             .          
145.3   1.0000000E-5        25.1527        +INF            EPS         
146.3   1.0000000E-5        12.4847        +INF             .          
147.1   1.0000000E-5        15.5033        +INF             .          
147.2   1.0000000E-5        12.5980        +INF             .          
147.3   1.0000000E-5         5.1217        +INF             .          
147.4   1.0000000E-5         5.3563        +INF             .          
150.1   1.0000000E-5         7.3447        +INF             .          
150.2   1.0000000E-5         7.2154        +INF             .          
150.3   1.0000000E-5        14.6664        +INF             .          
150.4   1.0000000E-5         7.8278        +INF             .          
154.3   1.0000000E-5         5.1123        +INF             .          
154.4   1.0000000E-5        14.0808        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1         0.0001         0.1238        +INF             .          
100.2         0.0001         0.0622        +INF      2.2984541E-9      
100.4         0.0001         0.2547        +INF             .          
105.1         0.0001         0.1465        +INF             .          
105.2         0.0001         0.1558        +INF             .          
105.3         0.0001         0.0716        +INF             .          
105.4         0.0001         0.1097        +INF            EPS         
106.2         0.0001         0.0135        +INF      -2.336115E-9      
107.1         0.0001         0.1089        +INF             .          
107.2         0.0001         0.0535        +INF             .          
107.3         0.0001         0.0339        +INF             .          
107.4         0.0001         0.0626        +INF      -2.474729E-9      
108.1         0.0001         0.0159        +INF      2.7883631E-9      
108.2         0.0001         0.0807        +INF             .          
108.3         0.0001         0.0869        +INF      2.8102648E-9      
108.4         0.0001         0.0410        +INF            EPS         
109.4         0.0001         0.0382        +INF      -2.380505E-9      
110.1         0.0001         0.0244        +INF      -1.254949E-8      
110.2         0.0001         0.0257        +INF      8.4347191E-8      
110.4         0.0001         0.0094        +INF      2.5013830E-9      
111.3         0.0001         0.0182        +INF            EPS         
112.1         0.0001         0.0192        +INF            EPS         
112.2         0.0001         0.0239        +INF      -7.736150E-8      
112.3         0.0001         0.0107        +INF            EPS         
112.4         0.0001         0.0118        +INF            EPS         
113.1         0.0001         0.1331        +INF             .          
113.2         0.0001         0.1369        +INF             .          
113.3         0.0001         0.1354        +INF             .          
113.4         0.0001         0.0764        +INF            EPS         
114.1         0.0001         0.0090        +INF            EPS         
115.2         0.0001         0.0281        +INF      1.6017063E-8      
115.3         0.0001         0.0130        +INF            EPS         
115.4         0.0001         0.0415        +INF            EPS         
116.2         0.0001         0.0145        +INF      -5.397416E-9      
116.3         0.0001         0.0593        +INF            EPS         
117.1         0.0001         0.0333        +INF      -6.898276E-9      
117.2         0.0001         0.0331        +INF      3.0666683E-9      
117.3         0.0001         0.0156        +INF      -2.855463E-9      
117.4         0.0001         0.0441        +INF      2.3399769E-9      
118.1         0.0001         0.0096        +INF            EPS         
119.2         0.0001         0.0096        +INF            EPS         
119.4         0.0001         0.0086        +INF            EPS         
121.2         0.0001         0.0163        +INF      -4.905738E-9      
122.1         0.0001         0.0298        +INF      -4.121852E-9      
122.2         0.0001         0.0220        +INF      3.8917101E-9      
122.3         0.0001         0.0136        +INF            EPS         
123.1         0.0001         0.0172        +INF            EPS         
123.2         0.0001         0.0237        +INF      -5.474311E-8      
123.3         0.0001         0.0384        +INF      3.3605470E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

123.4         0.0001         0.0133        +INF            EPS         
125.1         0.0001         0.0346        +INF      -6.266650E-9      
125.2         0.0001         0.0256        +INF             .          
125.4         0.0001         0.0234        +INF      -1.141314E-8      
127.1         0.0001         0.0185        +INF      4.1331669E-9      
127.2         0.0001         0.0282        +INF      7.8569656E-9      
127.3         0.0001         0.0651        +INF            EPS         
127.4         0.0001         0.0087        +INF            EPS         
132.2         0.0001         0.0111        +INF      -5.690081E-9      
132.3         0.0001         0.0114        +INF             .          
134.1         0.0001         0.0349        +INF      -5.173455E-9      
134.2         0.0001         0.0110        +INF      -6.644991E-9      
135.1         0.0001         0.0103        +INF      3.0521813E-9      
135.3         0.0001         0.0150        +INF      1.7532318E-9      
136.1         0.0001         0.0217        +INF      1.7274639E-9      
136.2         0.0001         0.0255        +INF      4.5014748E-8      
136.3         0.0001         0.0216        +INF      -5.370488E-9      
136.4         0.0001         0.0157        +INF            EPS         
138.1         0.0001         0.0141        +INF            EPS         
138.2         0.0001         0.0280        +INF      -4.701924E-9      
138.3         0.0001         0.0136        +INF            EPS         
138.4         0.0001         0.0157        +INF            EPS         
139.2         0.0001         0.0315        +INF      1.9303443E-8      
139.3         0.0001         0.0739        +INF            EPS         
140.1         0.0001         0.0253        +INF      1.6065640E-8      
140.4         0.0001         0.0280        +INF      -1.326433E-8      
141.1         0.0001         0.0685        +INF             .          
141.2         0.0001         0.0451        +INF            EPS         
141.3         0.0001         0.1421        +INF             .          
141.4         0.0001         0.1198        +INF             .          
143.2         0.0001         0.0100        +INF            EPS         
143.4         0.0001         0.0100        +INF            EPS         
144.1         0.0001         0.0233        +INF      9.7543648E-9      
144.2         0.0001         0.0152        +INF             .          
144.4         0.0001         0.0184        +INF            EPS         
145.3         0.0001         0.0548        +INF             .          
146.3         0.0001         0.0425        +INF            EPS         
147.1         0.0001         0.0682        +INF            EPS         
147.2         0.0001         0.0595        +INF      2.2988738E-9      
147.3         0.0001         0.0302        +INF      1.2238842E-8      
147.4         0.0001         0.0251        +INF      2.2846487E-8      
150.1         0.0001         0.0099        +INF            EPS         
150.2         0.0001         0.0096        +INF            EPS         
150.3         0.0001         0.0218        +INF      -4.234612E-9      
150.4         0.0001         0.0130        +INF            EPS         
154.3         0.0001         0.0114        +INF             .          
154.4         0.0001         0.0110        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 476


---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          388.2084        +INF             .          
1.2        -INF          360.1872        +INF             .          
1.3        -INF          291.2346        +INF             .          
1.4        -INF          375.3501        +INF             .          
2.1        -INF          388.2084        +INF             .          
2.2        -INF          355.8464        +INF             .          
2.3        -INF          291.0492        +INF             .          
2.4        -INF          378.1528        +INF             .          
3.1        -INF          407.3332        +INF             .          
3.2        -INF          355.8464        +INF             .          
3.3        -INF          285.6232        +INF             .          
3.4        -INF          395.3794        +INF             .          
4.1        -INF          429.9957        +INF             .          
4.2        -INF          411.9974        +INF             .          
4.3        -INF          398.0749        +INF             .          
4.4        -INF          375.3501        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/07/14 10:41:04 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    479 this is without adjustment for calorie target or 90%

----    479 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     388.208     360.187     291.235     375.350
2     388.208     355.846     291.049     378.153
3     407.333     355.846     285.623     395.379
4     429.996     411.997     398.075     375.350


----    504 PARAMETER perc_chng  percent change in line

1 -3.033,    2 -4.215,    3 25.740,    4 -1.713


----    504 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 402.898,    2 368.338,    3 293.318,    4 402.870


----    504 PARAMETER povline_ali  food poverty line

1 415.501,    2 384.545,    3 233.274,    4 409.890


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv


EXECUTION TIME       =        0.005 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/list.lst
