GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
  20  101
  21  102
  22  103
  23  104
  24  105
  25  106
  26  107
  27  108
  28  109
  29  110
  30  111
  31  112
  32  113
  33  114
  34  115
  35  116
  36  117
  37  118
  38  119
  39  121
  40  122
  41  123
  42  125
  43  127
  44  131
  45  132
  46  134
  47  135
  48  136
  49  138
  50  139
  51  140
  52  141
  53  143
  54  144
  55  145
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  146
  57  147
  58  150
  59  154
  60  /
  61   
  62   reg        4 spatial domains /1*4/
  63   r(reg)     all included spatial regions /1*4/
  64   
  65   ptit       price table titles
  66  /
  67    count      number of observations making up the price average
  68    price_uw5  average price
  69  /
  70   
  71   qtit       quantity table titles
  72  /
  73    calperg          calories per gram
  74    quan5            quantities in grams
  75    calpp            calories per person by region
  76    povline_a_flex5    value of flexible food bundle
  77  /
  78   
  79   
  80    posquan(cod,reg)  mark positive quantities in each region
  81    posprice(cod,reg) mark the existence of acceptable price info in each region
  82    chkprice(cod,reg) ensure that prices exist once all estimated
  83  ;
  84   
  85  alias(reg,regq);
  86  alias(r,rq);
  87   
  88  SCALAR
  89     caltarg single level of calories to target across regions / 2150 /
  90   ;
  91   
  92  PARAMETERS
  93   
  94    shr(cod,reg)         shares in each basket by region
  95    chkshr(reg)          check that the calculated shares sum to .9
  96    shrmiss(regq,reg)    shares missing in each region pair
  97    povline_ali(reg)       food poverty line
  98    perc_chng(reg)       percent change in line
  99    finmiss(reg)         final missing shares post optimization procedure
 100   ;
 101   
 102  Table  price(cod,reg,ptit)  price and related information
 103                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
 105  101     .       1       338     1.757823
 106  101     .       2       130     1.541283
 107  101     .       3       3       1.329994
 108  101     .       4       626     1.95068
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  102     .       1       43      1.823534
 110  102     .       2       30      1.83748
 111  102     .       4       196     1.752232
 112  103     .       1       40      1.79759
 113  103     .       2       22      2.353778
 114  103     .       3       1       .8
 115  103     .       4       91      1.47723
 116  104     .       1       26      1.0302
 117  104     .       2       11      1.553914
 118  104     .       3       3       .9643294
 119  104     .       4       42      1.402125
 120  105     .       1       470     1.212307
 121  105     .       2       417     1.221886
 122  105     .       3       99      .2268382
 123  105     .       4       577     1.489844
 124  106     .       1       7       .6566476
 125  106     .       2       46      1.45147
 126  106     .       3       6       .6790039
 127  106     .       4       18      1.107398
 128  107     .       1       428     .8470441
 129  107     .       2       248     .727529
 130  107     .       3       84      .2532129
 131  107     .       4       500     .9904657
 132  108     .       1       79      .5361415
 133  108     .       2       261     1.649843
 134  108     .       3       55      2.359082
 135  108     .       4       270     .6569578
 136  109     .       1       40      1.35743
 137  109     .       2       13      .3535237
 138  109     .       4       231     1.671554
 139  110     .       1       138     1.121202
 140  110     .       2       144     1.020784
 141  110     .       3       5       .5571495
 142  110     .       4       154     1.104317
 143  111     .       1       17      .5811301
 144  111     .       2       54      .2324531
 145  111     .       3       27      .3280094
 146  111     .       4       58      .2729387
 147  112     .       1       121     .1298815
 148  112     .       2       111     .2146907
 149  112     .       3       14      .1015809
 150  112     .       4       110     .5248383
 151  113     .       1       554     .5655233
 152  113     .       2       450     .5211339
 153  113     .       3       152     .1541222
 154  113     .       4       635     .5302629
 155  114     .       1       136     .3088824
 156  114     .       2       45      .2442966
 157  114     .       3       5       .0690542
 158  114     .       4       150     .3004876
 159  115     .       1       50      .6631541
 160  115     .       2       144     .5336269
 161  115     .       3       29      .1263152
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  115     .       4       368     .503724
 163  116     .       1       5       .4253724
 164  116     .       2       156     .387185
 165  116     .       3       107     .4544314
 166  116     .       4       84      .3345885
 167  117     .       1       167     2.204892
 168  117     .       2       159     2.660635
 169  117     .       3       18      2.237825
 170  117     .       4       367     2.278432
 171  118     .       1       62      1.814115
 172  118     .       2       37      2.130321
 173  118     .       3       3       2.206177
 174  118     .       4       54      2.060837
 175  119     .       1       13      3.038666
 176  119     .       2       48      2.759049
 177  119     .       3       10      1.240798
 178  119     .       4       73      2.543075
 179  121     .       1       30      3.382134
 180  121     .       2       65      3.470299
 181  121     .       3       5       1.736144
 182  121     .       4       46      4.295232
 183  122     .       1       188     .7832722
 184  122     .       2       128     .943406
 185  122     .       3       18      .4577672
 186  122     .       4       84      1.170402
 187  123     .       1       202     .4421536
 188  123     .       2       239     .472123
 189  123     .       3       94      .2942465
 190  123     .       4       119     1.059609
 191  125     .       1       245     .2956469
 192  125     .       2       184     .2644316
 193  125     .       3       18      .1676072
 194  125     .       4       361     .1985328
 195  127     .       1       465     .1259146
 196  127     .       2       498     .0957611
 197  127     .       3       159     .1861779
 198  127     .       4       310     .4441247
 199  131     .       1       100     .3541757
 200  131     .       2       35      .3269573
 201  131     .       3       7       .2029762
 202  131     .       4       250     .41103
 203  132     .       1       72      .2902779
 204  132     .       2       89      .4553612
 205  132     .       3       17      .2486131
 206  132     .       4       72      .26491
 207  134     .       1       259     .4097798
 208  134     .       2       105     .3722855
 209  134     .       3       12      .1708505
 210  134     .       4       209     .1708097
 211  135     .       1       510     .1926712
 212  135     .       2       462     .1107564
 213  135     .       3       153     .0914771
 214  135     .       4       668     .1428375
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  136     .       1       566     .1336055
 216  136     .       2       534     .1462218
 217  136     .       3       96      .1218907
 218  136     .       4       699     .2147094
 219  138     .       1       243     .1220135
 220  138     .       2       332     .1245863
 221  138     .       3       60      .083413
 222  138     .       4       471     .1092371
 223  139     .       1       160     .1481357
 224  139     .       2       373     .1266325
 225  139     .       3       243     .0882678
 226  139     .       4       110     .1871491
 227  140     .       1       133     .3559778
 228  140     .       2       63      .3753516
 229  140     .       3       8       .1781714
 230  140     .       4       211     .4804732
 231  141     .       1       463     .540233
 232  141     .       2       355     .6102315
 233  141     .       3       210     .2275764
 234  141     .       4       844     .4080564
 235  143     .       1       54      .8066182
 236  143     .       2       102     .902838
 237  143     .       3       5       .174074
 238  143     .       4       155     .6508141
 239  144     .       1       304     1.020756
 240  144     .       2       182     .6978122
 241  144     .       4       260     .6980775
 242  145     .       1       5       .8911222
 243  145     .       2       48      .4063967
 244  145     .       3       104     .1747673
 245  145     .       4       49      .5407387
 246  146     .       1       7       1.001713
 247  146     .       2       24      .5678553
 248  146     .       3       117     .2681113
 249  146     .       4       14      .3504134
 250  147     .       1       526     1.604958
 251  147     .       2       490     1.570055
 252  147     .       3       57      .649671
 253  147     .       4       497     1.735578
 254  150     .       1       768     .1919038
 255  150     .       2       749     .1799402
 256  150     .       3       293     .1597301
 257  150     .       4       1064    .2432846
 258  154     .       1       19      .2340759
 259  154     .       2       33      .5331312
 260  154     .       3       21      .2506523
 261  154     .       4       102     .9937354
 262  ;
 263   
 264  Table   quan(cod,reg,qtit)   quantity and related information
 265                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc
 267  101     .       1       6.8900000e-01   2.7058643e+01   2.0082173e+03   520.7487
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  102     .       1       6.8900000e-01   2.6291950e+00   2.0082173e+03   520.7487
 269  103     .       1       6.8900000e-01   3.2162790e+00   2.0082173e+03   520.7487
 270  104     .       1       6.8900000e-01   3.6223645e+00   2.0082173e+03   520.7487
 271  105     .       1       1.0164000e+00   5.3213711e+01   2.0082173e+03   520.7487
 272  107     .       1       1.3440000e+00   5.3263458e+01   2.0082173e+03   520.7487
 273  108     .       1       3.1400000e+00   1.3156232e+01   2.0082173e+03   520.7487
 274  109     .       1       6.4680000e-01   2.6514277e+00   2.0082173e+03   520.7487
 275  110     .       1       3.6100000e+00   1.0551931e+01   2.0082173e+03   520.7487
 276  112     .       1       9.4600000e-01   7.1564079e+01   2.0082173e+03   520.7487
 277  113     .       1       3.6500000e+00   1.0608533e+02   2.0082173e+03   520.7487
 278  114     .       1       2.6600000e+00   1.5524051e+01   2.0082173e+03   520.7487
 279  117     .       1       1.7982000e+00   7.2673025e+00   2.0082173e+03   520.7487
 280  118     .       1       2.3534000e+00   2.7083008e+00   2.0082173e+03   520.7487
 281  122     .       1       6.1610000e-01   1.7806002e+01   2.0082173e+03   520.7487
 282  123     .       1       3.7500000e+00   1.9207825e+01   2.0082173e+03   520.7487
 283  125     .       1       6.0000000e-01   5.7982815e+01   2.0082173e+03   520.7487
 284  127     .       1       8.8400000e+00   7.0477638e+01   2.0082173e+03   520.7487
 285  134     .       1       4.9400000e-01   3.9257835e+01   2.0082173e+03   520.7487
 286  135     .       1       3.6400000e-01   2.6381933e+01   2.0082173e+03   520.7487
 287  136     .       1       1.6380000e-01   7.9001297e+01   2.0082173e+03   520.7487
 288  138     .       1       2.0160000e-01   5.0403557e+01   2.0082173e+03   520.7487
 289  140     .       1       1.0300000e+00   3.3502281e+01   2.0082173e+03   520.7487
 290  141     .       1       3.1300000e+00   5.9980980e+01   2.0082173e+03   520.7487
 291  144     .       1       5.8800000e+00   1.1135309e+01   2.0082173e+03   520.7487
 292  147     .       1       3.8700000e+00   2.0560486e+01   2.0082173e+03   520.7487
 293  150     .       1       0.0000000e+00   2.4197302e+01   2.0082173e+03   520.7487
 294  101     .       2       6.8900000e-01   7.4636440e+00   2.0029237e+03   374.4159
 295  102     .       2       6.8900000e-01   1.7783028e+00   2.0029237e+03   374.4159
 296  105     .       2       1.0164000e+00   4.4072338e+01   2.0029237e+03   374.4159
 297  106     .       2       3.4300000e+00   3.0329463e+00   2.0029237e+03   374.4159
 298  107     .       2       1.3440000e+00   2.1339462e+01   2.0029237e+03   374.4159
 299  108     .       2       3.1400000e+00   1.7070974e+01   2.0029237e+03   374.4159
 300  110     .       2       3.6100000e+00   7.7507925e+00   2.0029237e+03   374.4159
 301  112     .       2       9.4600000e-01   3.5071644e+01   2.0029237e+03   374.4159
 302  113     .       2       3.6500000e+00   9.0014824e+01   2.0029237e+03   374.4159
 303  115     .       2       3.7800000e+00   1.7980295e+01   2.0029237e+03   374.4159
 304  116     .       2       3.3900000e+00   1.2595068e+01   2.0029237e+03   374.4159
 305  117     .       2       1.7982000e+00   3.8127367e+00   2.0029237e+03   374.4159
 306  119     .       2       1.2210000e+00   1.2805096e+00   2.0029237e+03   374.4159
 307  121     .       2       1.4835000e+00   1.6295058e+00   2.0029237e+03   374.4159
 308  122     .       2       6.1610000e-01   8.7720556e+00   2.0029237e+03   374.4159
 309  123     .       2       3.7500000e+00   1.7868059e+01   2.0029237e+03   374.4159
 310  125     .       2       6.0000000e-01   2.9008009e+01   2.0029237e+03   374.4159
 311  127     .       2       8.8400000e+00   1.0138783e+02   2.0029237e+03   374.4159
 312  132     .       2       4.3310000e-01   8.3743601e+00   2.0029237e+03   374.4159
 313  134     .       2       4.9400000e-01   1.0645243e+01   2.0029237e+03   374.4159
 314  136     .       2       1.6380000e-01   6.1788925e+01   2.0029237e+03   374.4159
 315  138     .       2       2.0160000e-01   8.4862648e+01   2.0029237e+03   374.4159
 316  139     .       2       2.6100000e-01   9.4576965e+01   2.0029237e+03   374.4159
 317  140     .       2       1.0300000e+00   9.4123716e+00   2.0029237e+03   374.4159
 318  141     .       2       3.1300000e+00   2.4993530e+01   2.0029237e+03   374.4159
 319  143     .       2       5.6700000e+00   3.8124540e+00   2.0029237e+03   374.4159
 320  144     .       2       5.8800000e+00   7.2162042e+00   2.0029237e+03   374.4159
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  147     .       2       3.8700000e+00   1.2625758e+01   2.0029237e+03   374.4159
 322  150     .       2       0.0000000e+00   1.9828602e+01   2.0029237e+03   374.4159
 323  105     .       3       1.0164000e+00   4.6213215e+01   1.9871310e+03   161.1362
 324  107     .       3       1.3440000e+00   3.4401882e+01   1.9871310e+03   161.1362
 325  108     .       3       3.1400000e+00   3.7888432e+00   1.9871310e+03   161.1362
 326  111     .       3       3.6500000e+00   7.2105751e+00   1.9871310e+03   161.1362
 327  113     .       3       3.6500000e+00   1.5066957e+02   1.9871310e+03   161.1362
 328  115     .       3       3.7800000e+00   1.6418438e+01   1.9871310e+03   161.1362
 329  116     .       3       3.3900000e+00   2.9103418e+01   1.9871310e+03   161.1362
 330  123     .       3       3.7500000e+00   1.5378415e+01   1.9871310e+03   161.1362
 331  125     .       3       6.0000000e-01   7.6774511e+00   1.9871310e+03   161.1362
 332  127     .       3       8.8400000e+00   5.5460667e+01   1.9871310e+03   161.1362
 333  132     .       3       4.3310000e-01   6.6369810e+00   1.9871310e+03   161.1362
 334  135     .       3       3.6400000e-01   2.0736195e+01   1.9871310e+03   161.1362
 335  136     .       3       1.6380000e-01   2.3330484e+01   1.9871310e+03   161.1362
 336  138     .       3       2.0160000e-01   2.4285013e+01   1.9871310e+03   161.1362
 337  139     .       3       2.6100000e-01   1.3560553e+02   1.9871310e+03   161.1362
 338  141     .       3       3.1300000e+00   8.7160912e+01   1.9871310e+03   161.1362
 339  145     .       3       8.1000000e-01   4.9636646e+01   1.9871310e+03   161.1362
 340  146     .       3       5.7300000e+00   1.9059145e+01   1.9871310e+03   161.1362
 341  147     .       3       3.8700000e+00   4.2316661e+00   1.9871310e+03   161.1362
 342  150     .       3       0.0000000e+00   1.9478020e+01   1.9871310e+03   161.1362
 343  101     .       4       6.8900000e-01   5.7321659e+01   2.0768691e+03   737.8936
 344  102     .       4       6.8900000e-01   1.7636082e+01   2.0768691e+03   737.8936
 345  103     .       4       6.8900000e-01   9.9675817e+00   2.0768691e+03   737.8936
 346  105     .       4       1.0164000e+00   4.3074608e+01   2.0768691e+03   737.8936
 347  107     .       4       1.3440000e+00   4.0893574e+01   2.0768691e+03   737.8936
 348  108     .       4       3.1400000e+00   3.6583309e+01   2.0768691e+03   737.8936
 349  109     .       4       6.4680000e-01   1.3681901e+01   2.0768691e+03   737.8936
 350  110     .       4       3.6100000e+00   7.0759177e+00   2.0768691e+03   737.8936
 351  112     .       4       9.4600000e-01   1.3448770e+01   2.0768691e+03   737.8936
 352  113     .       4       3.6500000e+00   9.3381958e+01   2.0768691e+03   737.8936
 353  115     .       4       3.7800000e+00   5.0655029e+01   2.0768691e+03   737.8936
 354  117     .       4       1.7982000e+00   1.5853902e+01   2.0768691e+03   737.8936
 355  119     .       4       1.2210000e+00   2.8840246e+00   2.0768691e+03   737.8936
 356  121     .       4       1.4835000e+00   1.2255858e+00   2.0768691e+03   737.8936
 357  122     .       4       6.1610000e-01   4.5515838e+00   2.0768691e+03   737.8936
 358  123     .       4       3.7500000e+00   8.0256796e+00   2.0768691e+03   737.8936
 359  125     .       4       6.0000000e-01   9.5885475e+01   2.0768691e+03   737.8936
 360  127     .       4       8.8400000e+00   1.4159249e+01   2.0768691e+03   737.8936
 361  131     .       4       6.2080000e-01   1.3602524e+01   2.0768691e+03   737.8936
 362  134     .       4       4.9400000e-01   3.3556255e+01   2.0768691e+03   737.8936
 363  136     .       4       1.6380000e-01   5.5176048e+01   2.0768691e+03   737.8936
 364  138     .       4       2.0160000e-01   8.2449318e+01   2.0768691e+03   737.8936
 365  140     .       4       1.0300000e+00   3.5375824e+01   2.0768691e+03   737.8936
 366  141     .       4       3.1300000e+00   1.8442691e+02   2.0768691e+03   737.8936
 367  143     .       4       5.6700000e+00   1.0284409e+01   2.0768691e+03   737.8936
 368  144     .       4       5.8800000e+00   1.7176924e+01   2.0768691e+03   737.8936
 369  147     .       4       3.8700000e+00   1.1062995e+01   2.0768691e+03   737.8936
 370  150     .       4       0.0000000e+00   3.3779385e+01   2.0768691e+03   737.8936
 371  154     .       4       8.1000000e-01   6.8070588e+00   2.0768691e+03   737.8936
 372  ;
 373   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 375                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 376                         quan(cod,reg,'povline_a_flex5');
 377   
 378    chkshr(reg)=sum(cod,shr(cod,reg));
 379   
 380  loop(reg,
 381    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 382  );
 383   
 384   
 385  *turn on dynamic sets to indicate positive quantities and existence of
 386  *price info for each region
 387   
 388   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 389                        AND price(cod,reg,'count') gt 4) = yes;
 390   
 391   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 392   
 393   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 394   display shrmiss;
 395   
 396    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 397                                             quan(cod,reg,'quan5'))/.9;
 398   
 399    display povline_ali;
 400   
 401   
 402  *boost values so shares sum to one;
 403  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 404   
 405  *fill out price matrix with maximum observed price outside of Maputo
 406   
 407  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 408           loop(r,
 409                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 410                                                price(cod,r,'price_uw5'));
 411           );
 412  );
 413   
 414  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 415   
 416  display 'should be an empty set', chkprice;
 417   
 418   
 419   
 420   
 421  Variables
 422     z                objective value
 423     q(cod,reg)       revised maximum entropy quanties in grams
 424     s(cod,reg)       derived maximum entropy shares
 425     povline(regq,reg)  estimated revealed preference matrix
 426  ;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:14:43 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427   
 428   
 429  Equations
 430     obj              objective equation
 431     rev(regq,reg)    revealed preference tests
 432     deflin(regq,reg) define revealed preference matrix
 433     defshr(cod,regq) define the endogenous budget shares
 434     cals(regq)       ensure that each bundle hits the calorie
 435   
 436  ;
 437   
 438     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 439                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 440   
 441     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 442                            q(cod,rq)*price(cod,r,'price_uw5'));
 443   
 444     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 445   
 446     defshr(cod,rq)$posquan(cod,rq) ..
 447               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 448   
 449     cals(rq) .. sum(cod$posquan(cod,rq),
 450                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 451   
 452  *set bounds and starting values for variables
 453   
 454    q.lo(cod,reg)=.00001;
 455    q.up(cod,reg)=inf;
 456    q.l(cod,reg)=quan(cod,reg,'quan5');
 457    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 458   
 459    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 460                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 461   
 462   
 463    display povline.l;
 464   
 465  *print the revealed preference matrix prior to optimisation;
 466  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv"/;
 467  put povline_rp;
 468  povline_rp.pc=5;
 469  povline_rp.nd=0;
 470  put " ";
 471  loop(reg,
 472        put reg.tl;
 473  );
 474  put /;
 475  loop(regq,
 476       put regq.tl;
 477       loop(reg,
 478           put povline.l(regq,reg);
 479       );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480       put /;
 481  );
 482  put /; put /; put /;
 483   
 484     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 485     s.lo(cod,regq)=.0001;
 486     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 487   
 488   
 489     model revpref /obj, deflin, rev, defshr, cals/;
 490   
 491     revpref.holdfixed=1;
 492   
 493     option limrow=100;
 494   
 495     option nlp=conopt;
 496   
 497     solve revpref using nlp minimizing z;
 498   
 499     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 500     display "this is without adjustment for calorie target or 90%", povline.l;
 501   
 502  put /;
 503  loop(rq,
 504       put rq.tl;
 505       loop(r,
 506           put povline.l(rq,r);
 507       );
 508       put /;
 509  );
 510  put /;
 511   
 512   
 513  PARAMETERS
 514     qent(cod,reg)  entropy quantities with all adjustments accounted for
 515     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 516    ;
 517  *readjust quantities to hit regional calorie target and calculate line;
 518     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 519   
 520     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 521                                             qent(cod,r))/.9;
 522   
 523     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 524   
 525     display perc_chng, povline_ent, povline_ali;
 526   
 527     file res/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv"/;
 528   
 529     put res;
 530     res.pc=5;
 531     res.nd=6;
 532   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533  *recall that the basket reflects 90% of expenditure and 95% of calories";
 534     put "spdomain" ;
 535     put "product" ;
 536     put "quan5";
 537     put "qent";
 538     put "price";
 539     put "calperg";
 540   
 541     put /;
 542   
 543     loop(reg,
 544         loop(cod,
 545             put reg.tl;
 546             put cod.tl;
 547             put quan(cod,reg,'quan5');
 548             put qent(cod,reg);
 549             put price(cod,reg,'price_uw5')
 550             put quan(cod,reg,'calperg');
 551             put /;
 552         );
 553     );
 554   
 555     file lin/"/home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv"/;
 556   
 557     put lin;
 558     lin.pc=5;
 559  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 560   
 561     put "spdomain";
 562     put "flex";
 563     put "ent";
 564     put /;
 565   
 566     loop(reg,
 567           put reg.tl;
 568           put povline_ali(reg);
 569           put povline_ent(reg);
 570           put /;
 571     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/product_flex.inc
     3      104 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/price_unit_flex.inc
     4      266 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/quan_flex.inc


COMPILATION TIME     =        0.002 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    394 PARAMETER shrmiss  shares missing in each region pair

            3

1       0.157
2       0.053
4       0.261


----    399 PARAMETER povline_ali  food poverty line

1 520.749,    2 374.416,    3 161.136,    4 737.894


----    416 should be an empty set

----    416 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    463 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     468.674     473.368     247.896     551.465
2     325.142     336.974     189.626     399.196
3     368.945     325.833     145.023     366.664
4     656.962     676.235     367.527     664.104

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


---- obj  =E=  objective equation

obj..  z - (1)*s(101,1) - (1)*s(101,2) - (1)*s(101,4) - (1)*s(102,1) - (1)*s(102,2) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,4) - (1)*s(104,1) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2)
     
      - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,1) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1)
     
      - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(119,2) - (1)*s(119,4) - (1)*s(121,2)
     
      - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,4) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (0.999999999999999)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3)
     
      - (1)*s(127,4) - (1)*s(131,4) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(134,1) - (1)*s(134,2) - (1)*s(134,4) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (0.999999999999999)*s(136,4) - (1)*s(138,1) - (1)*s(138,2)
     
      - (1)*s(138,3) - (0.999999999999999)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (0.999999999999999)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(143,4) - (1)*s(144,1)
     
      - (1)*s(144,2) - (1)*s(144,4) - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 1.757823*q(101,1) - 1.823534*q(102,1) - 1.79759*q(103,1) - 1.0302*q(104,1) - 1.212307*q(105,1) - 0.8470441*q(107,1) - 0.5361415*q(108,1) - 1.35743*q(109,1) - 1.121202*q(110,1) - 0.1298815*q(112,1) - 0.5655233*q(113,1) - 0.3088824*q(114,1)
     
      - 2.204892*q(117,1) - 1.814115*q(118,1) - 0.7832722*q(122,1) - 0.4421536*q(123,1) - 0.2956469*q(125,1) - 0.1259146*q(127,1) - 0.4097798*q(134,1) - 0.1926712*q(135,1) - 0.1336055*q(136,1) - 0.1220135*q(138,1) - 0.3559778*q(140,1) - 0.540233*q(141,1)
     
      - 1.020756*q(144,1) - 1.604958*q(147,1) - 0.1919038*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 1.541283*q(101,1) - 1.83748*q(102,1) - 2.353778*q(103,1) - 1.553914*q(104,1) - 1.221886*q(105,1) - 0.727529*q(107,1) - 1.649843*q(108,1) - 0.3535237*q(109,1) - 1.020784*q(110,1) - 0.2146907*q(112,1) - 0.5211339*q(113,1)
     
      - 0.2442966*q(114,1) - 2.660635*q(117,1) - 2.130321*q(118,1) - 0.943406*q(122,1) - 0.472123*q(123,1) - 0.2644316*q(125,1) - 0.0957611*q(127,1) - 0.3722855*q(134,1) - 0.1107564*q(135,1) - 0.1462218*q(136,1) - 0.1245863*q(138,1) - 0.3753516*q(140,1)
     
      - 0.6102315*q(141,1) - 0.6978122*q(144,1) - 1.570055*q(147,1) - 0.1799402*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 1.329994*q(101,1) - 0.8*q(103,1) - 0.9643294*q(104,1) - 0.2268382*q(105,1) - 0.2532129*q(107,1) - 2.359082*q(108,1) - 0.5571495*q(110,1) - 0.1015809*q(112,1) - 0.1541222*q(113,1) - 0.0690542*q(114,1) - 2.237825*q(117,1)
     
      - 2.206177*q(118,1) - 0.4577672*q(122,1) - 0.2942465*q(123,1) - 0.1676072*q(125,1) - 0.1861779*q(127,1) - 0.1708505*q(134,1) - 0.0914771*q(135,1) - 0.1218907*q(136,1) - 0.083413*q(138,1) - 0.1781714*q(140,1) - 0.2275764*q(141,1) - 0.649671*q(147,1)
     
      - 0.1597301*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 1.95068*q(101,1) - 1.752232*q(102,1) - 1.47723*q(103,1) - 1.402125*q(104,1) - 1.489844*q(105,1) - 0.9904657*q(107,1) - 0.6569578*q(108,1) - 1.671554*q(109,1) - 1.104317*q(110,1) - 0.5248383*q(112,1) - 0.5302629*q(113,1)
     
      - 0.3004876*q(114,1) - 2.278432*q(117,1) - 2.060837*q(118,1) - 1.170402*q(122,1) - 1.059609*q(123,1) - 0.1985328*q(125,1) - 0.4441247*q(127,1) - 0.1708097*q(134,1) - 0.1428375*q(135,1) - 0.2147094*q(136,1) - 0.1092371*q(138,1) - 0.4804732*q(140,1)
     
      - 0.4080564*q(141,1) - 0.6980775*q(144,1) - 1.735578*q(147,1) - 0.2432846*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 1.757823*q(101,2) - 1.823534*q(102,2) - 1.212307*q(105,2) - 0.6566476*q(106,2) - 0.8470441*q(107,2) - 0.5361415*q(108,2) - 1.121202*q(110,2) - 0.1298815*q(112,2) - 0.5655233*q(113,2) - 0.6631541*q(115,2) - 0.4253724*q(116,2)
     
      - 2.204892*q(117,2) - 3.038666*q(119,2) - 3.382134*q(121,2) - 0.7832722*q(122,2) - 0.4421536*q(123,2) - 0.2956469*q(125,2) - 0.1259146*q(127,2) - 0.2902779*q(132,2) - 0.4097798*q(134,2) - 0.1336055*q(136,2) - 0.1220135*q(138,2) - 0.1481357*q(139,2)
     
      - 0.3559778*q(140,2) - 0.540233*q(141,2) - 0.8066182*q(143,2) - 1.020756*q(144,2) - 1.604958*q(147,2) - 0.1919038*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 1.541283*q(101,2) - 1.83748*q(102,2) - 1.221886*q(105,2) - 1.45147*q(106,2) - 0.727529*q(107,2) - 1.649843*q(108,2) - 1.020784*q(110,2) - 0.2146907*q(112,2) - 0.5211339*q(113,2) - 0.5336269*q(115,2) - 0.387185*q(116,2) - 2.660635*q(117,2)
     
      - 2.759049*q(119,2) - 3.470299*q(121,2) - 0.943406*q(122,2) - 0.472123*q(123,2) - 0.2644316*q(125,2) - 0.0957611*q(127,2) - 0.4553612*q(132,2) - 0.3722855*q(134,2) - 0.1462218*q(136,2) - 0.1245863*q(138,2) - 0.1266325*q(139,2) - 0.3753516*q(140,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     deflin  =E=  define revealed preference matrix     
     
      - 0.6102315*q(141,2) - 0.902838*q(143,2) - 0.6978122*q(144,2) - 1.570055*q(147,2) - 0.1799402*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 1.329994*q(101,2) - 0.2268382*q(105,2) - 0.6790039*q(106,2) - 0.2532129*q(107,2) - 2.359082*q(108,2) - 0.5571495*q(110,2) - 0.1015809*q(112,2) - 0.1541222*q(113,2) - 0.1263152*q(115,2) - 0.4544314*q(116,2) - 2.237825*q(117,2)
     
      - 1.240798*q(119,2) - 1.736144*q(121,2) - 0.4577672*q(122,2) - 0.2942465*q(123,2) - 0.1676072*q(125,2) - 0.1861779*q(127,2) - 0.2486131*q(132,2) - 0.1708505*q(134,2) - 0.1218907*q(136,2) - 0.083413*q(138,2) - 0.0882678*q(139,2) - 0.1781714*q(140,2)
     
      - 0.2275764*q(141,2) - 0.174074*q(143,2) - 0.649671*q(147,2) - 0.1597301*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 1.95068*q(101,2) - 1.752232*q(102,2) - 1.489844*q(105,2) - 1.107398*q(106,2) - 0.9904657*q(107,2) - 0.6569578*q(108,2) - 1.104317*q(110,2) - 0.5248383*q(112,2) - 0.5302629*q(113,2) - 0.503724*q(115,2) - 0.3345885*q(116,2)
     
      - 2.278432*q(117,2) - 2.543075*q(119,2) - 4.295232*q(121,2) - 1.170402*q(122,2) - 1.059609*q(123,2) - 0.1985328*q(125,2) - 0.4441247*q(127,2) - 0.26491*q(132,2) - 0.1708097*q(134,2) - 0.2147094*q(136,2) - 0.1092371*q(138,2) - 0.1871491*q(139,2)
     
      - 0.4804732*q(140,2) - 0.4080564*q(141,2) - 0.6508141*q(143,2) - 0.6980775*q(144,2) - 1.735578*q(147,2) - 0.2432846*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 1.212307*q(105,3) - 0.8470441*q(107,3) - 0.5361415*q(108,3) - 0.5811301*q(111,3) - 0.5655233*q(113,3) - 0.6631541*q(115,3) - 0.4253724*q(116,3) - 0.4421536*q(123,3) - 0.2956469*q(125,3) - 0.1259146*q(127,3) - 0.2902779*q(132,3)
     
      - 0.1926712*q(135,3) - 0.1336055*q(136,3) - 0.1220135*q(138,3) - 0.1481357*q(139,3) - 0.540233*q(141,3) - 0.8911222*q(145,3) - 1.001713*q(146,3) - 1.604958*q(147,3) - 0.1919038*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 1.221886*q(105,3) - 0.727529*q(107,3) - 1.649843*q(108,3) - 0.2324531*q(111,3) - 0.5211339*q(113,3) - 0.5336269*q(115,3) - 0.387185*q(116,3) - 0.472123*q(123,3) - 0.2644316*q(125,3) - 0.0957611*q(127,3) - 0.4553612*q(132,3)
     
      - 0.1107564*q(135,3) - 0.1462218*q(136,3) - 0.1245863*q(138,3) - 0.1266325*q(139,3) - 0.6102315*q(141,3) - 0.4063967*q(145,3) - 0.5678553*q(146,3) - 1.570055*q(147,3) - 0.1799402*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.2268382*q(105,3) - 0.2532129*q(107,3) - 2.359082*q(108,3) - 0.3280094*q(111,3) - 0.1541222*q(113,3) - 0.1263152*q(115,3) - 0.4544314*q(116,3) - 0.2942465*q(123,3) - 0.1676072*q(125,3) - 0.1861779*q(127,3) - 0.2486131*q(132,3)
     
      - 0.0914771*q(135,3) - 0.1218907*q(136,3) - 0.083413*q(138,3) - 0.0882678*q(139,3) - 0.2275764*q(141,3) - 0.1747673*q(145,3) - 0.2681113*q(146,3) - 0.649671*q(147,3) - 0.1597301*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.489844*q(105,3) - 0.9904657*q(107,3) - 0.6569578*q(108,3) - 0.2729387*q(111,3) - 0.5302629*q(113,3) - 0.503724*q(115,3) - 0.3345885*q(116,3) - 1.059609*q(123,3) - 0.1985328*q(125,3) - 0.4441247*q(127,3) - 0.26491*q(132,3)
     
      - 0.1428375*q(135,3) - 0.2147094*q(136,3) - 0.1092371*q(138,3) - 0.1871491*q(139,3) - 0.4080564*q(141,3) - 0.5407387*q(145,3) - 0.3504134*q(146,3) - 1.735578*q(147,3) - 0.2432846*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 1.757823*q(101,4) - 1.823534*q(102,4) - 1.79759*q(103,4) - 1.212307*q(105,4) - 0.8470441*q(107,4) - 0.5361415*q(108,4) - 1.35743*q(109,4) - 1.121202*q(110,4) - 0.1298815*q(112,4) - 0.5655233*q(113,4) - 0.6631541*q(115,4)
     
      - 2.204892*q(117,4) - 3.038666*q(119,4) - 3.382134*q(121,4) - 0.7832722*q(122,4) - 0.4421536*q(123,4) - 0.2956469*q(125,4) - 0.1259146*q(127,4) - 0.3541757*q(131,4) - 0.4097798*q(134,4) - 0.1336055*q(136,4) - 0.1220135*q(138,4) - 0.3559778*q(140,4)
     
      - 0.540233*q(141,4) - 0.8066182*q(143,4) - 1.020756*q(144,4) - 1.604958*q(147,4) - 0.1919038*q(150,4) - 0.2340759*q(154,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 1.541283*q(101,4) - 1.83748*q(102,4) - 2.353778*q(103,4) - 1.221886*q(105,4) - 0.727529*q(107,4) - 1.649843*q(108,4) - 0.3535237*q(109,4) - 1.020784*q(110,4) - 0.2146907*q(112,4) - 0.5211339*q(113,4) - 0.5336269*q(115,4)
     
      - 2.660635*q(117,4) - 2.759049*q(119,4) - 3.470299*q(121,4) - 0.943406*q(122,4) - 0.472123*q(123,4) - 0.2644316*q(125,4) - 0.0957611*q(127,4) - 0.3269573*q(131,4) - 0.3722855*q(134,4) - 0.1462218*q(136,4) - 0.1245863*q(138,4) - 0.3753516*q(140,4)
     
      - 0.6102315*q(141,4) - 0.902838*q(143,4) - 0.6978122*q(144,4) - 1.570055*q(147,4) - 0.1799402*q(150,4) - 0.5331312*q(154,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
deflin(4,3)..  - 1.329994*q(101,4) - 0.8*q(103,4) - 0.2268382*q(105,4) - 0.2532129*q(107,4) - 2.359082*q(108,4) - 0.5571495*q(110,4) - 0.1015809*q(112,4) - 0.1541222*q(113,4) - 0.1263152*q(115,4) - 2.237825*q(117,4) - 1.240798*q(119,4) - 1.736144*q(121,4)
     
      - 0.4577672*q(122,4) - 0.2942465*q(123,4) - 0.1676072*q(125,4) - 0.1861779*q(127,4) - 0.2029762*q(131,4) - 0.1708505*q(134,4) - 0.1218907*q(136,4) - 0.083413*q(138,4) - 0.1781714*q(140,4) - 0.2275764*q(141,4) - 0.174074*q(143,4) - 0.649671*q(147,4)
     
      - 0.1597301*q(150,4) - 0.2506523*q(154,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     deflin  =E=  define revealed preference matrix

deflin(4,4)..  - 1.95068*q(101,4) - 1.752232*q(102,4) - 1.47723*q(103,4) - 1.489844*q(105,4) - 0.9904657*q(107,4) - 0.6569578*q(108,4) - 1.671554*q(109,4) - 1.104317*q(110,4) - 0.5248383*q(112,4) - 0.5302629*q(113,4) - 0.503724*q(115,4)
     
      - 2.278432*q(117,4) - 2.543075*q(119,4) - 4.295232*q(121,4) - 1.170402*q(122,4) - 1.059609*q(123,4) - 0.1985328*q(125,4) - 0.4441247*q(127,4) - 0.41103*q(131,4) - 0.1708097*q(134,4) - 0.2147094*q(136,4) - 0.1092371*q(138,4) - 0.4804732*q(140,4)
     
      - 0.4080564*q(141,4) - 0.6508141*q(143,4) - 0.6980775*q(144,4) - 1.735578*q(147,4) - 0.2432846*q(150,4) - 0.9937354*q(154,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -143.531654984248, INFES = 143.531654984248 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -99.7291067146586, INFES = 99.7291067146586 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 188.288255709984)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 136.393253243032)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -11.1409821455802, INFES = 11.1409821455802 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 339.260475473706)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 102.873500912374)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 44.603799826393)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 222.50421379711)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -112.639393719282, INFES = 112.639393719282 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -264.908679772349, INFES = 264.908679772349 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -297.440105283921, INFES = 297.440105283921 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(101,1)..  - 1.757823*q(101,1) + (468.673802673716)*s(101,1) + (0.101487014513808)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(101,2)..  - 1.541283*q(101,2) + (336.97426216156)*s(101,2) + (0.0341378820490946)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(101,4)..  - 1.95068*q(101,4) + (664.104276352161)*s(101,4) + (0.168371470806229)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(102,1)..  - 1.823534*q(102,1) + (468.673802673716)*s(102,1) + (0.010229772707112)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,2)..  - 1.83748*q(102,2) + (336.97426216156)*s(102,2) + (0.0096968706392697)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 1.752232*q(102,4) + (664.104276352161)*s(102,4) + (0.0465326129275473)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(103,1)..  - 1.79759*q(103,1) + (468.673802673716)*s(103,1) + (0.0123359806642212)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 1.47723*q(103,4) + (664.104276352161)*s(103,4) + (0.0221718354165257)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(104,1)..  - 1.0302*q(104,1) + (468.673802673716)*s(104,1) + (0.00796238212294105)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.212307*q(105,1) + (468.673802673716)*s(105,1) + (0.13764659764051)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 1.221886*q(105,2) + (336.97426216156)*s(105,2) + (0.159808563550321)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.2268382*q(105,3) + (145.022575442574)*s(105,3) + (0.0722847630778975)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 1.489844*q(105,4) + (664.104276352161)*s(105,4) + (0.0966330869508234)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 1.45147*q(106,2) + (336.97426216156)*s(106,2) + (0.0130639964542763)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.8470441*q(107,1) + (468.673802673716)*s(107,1) + (0.09626417689044)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.727529*q(107,2) + (336.97426216156)*s(107,2) + (0.0460719977538066)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.2532129*q(107,3) + (145.022575442574)*s(107,3) + (0.0600665122660655)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.9904657*q(107,4) + (664.104276352161)*s(107,4) + (0.060989943657483)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.5361415*q(108,1) + (468.673802673716)*s(108,1) + (0.0150501306422254)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 1.649843*q(108,2) + (336.97426216156)*s(108,2) + (0.0835803505478967)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 2.359082*q(108,3) + (145.022575442574)*s(108,3) + (0.0616331062020184)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.6569578*q(108,4) + (664.104276352161)*s(108,4) + (0.0361896332446075)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,1)..  - 1.35743*q(109,1) + (468.673802673716)*s(109,1) + (0.00767938699000989)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.671554*q(109,4) + (664.104276352161)*s(109,4) + (0.0344374176744896)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.121202*q(110,1) + (468.673802673716)*s(110,1) + (0.0252432418316721)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 1.020784*q(110,2) + (336.97426216156)*s(110,2) + (0.0234791966619893)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.104317*q(110,4) + (664.104276352161)*s(110,4) + (0.0117663091248749)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.3280094*q(111,3) + (145.022575442574)*s(111,3) + (0.0163087464485313)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.1298815*q(112,1) + (468.673802673716)*s(112,1) + (0.0198322369921526)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.2146907*q(112,2) + (336.97426216156)*s(112,2) + (0.022344602083885)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(112,4)..  - 0.5248383*q(112,4) + (664.104276352161)*s(112,4) + (0.0106284959082963)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 0.5655233*q(113,1) + (468.673802673716)*s(113,1) + (0.128007423416742)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.5211339*q(113,2) + (336.97426216156)*s(113,2) + (0.139208781074333)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.1541222*q(113,3) + (145.022575442574)*s(113,3) + (0.160123522359105)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.5302629*q(113,4) + (664.104276352161)*s(113,4) + (0.0745620674643877)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.3088824*q(114,1) + (468.673802673716)*s(114,1) + (0.0102312228745174)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.5336269*q(115,2) + (336.97426216156)*s(115,2) + (0.0284732994751254)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.1263152*q(115,3) + (145.022575442574)*s(115,3) + (0.0143005202695412)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.503724*q(115,4) + (664.104276352161)*s(115,4) + (0.0384219086318085)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.387185*q(116,2) + (336.97426216156)*s(116,2) + (0.0144717919175736)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.4544314*q(116,3) + (145.022575442574)*s(116,3) + (0.0911961944281027)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 2.204892*q(117,1) + (468.673802673716)*s(117,1) + (0.0341892741869027)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.660635*q(117,2) + (336.97426216156)*s(117,2) + (0.0301040816729822)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.278432*q(117,4) + (664.104276352161)*s(117,4) + (0.0543921172139979)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 1.814115*q(118,1) + (468.673802673716)*s(118,1) + (0.0104831315037518)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 2.759049*q(119,2) + (336.97426216156)*s(119,2) + (0.0104844468200854)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 2.543075*q(119,4) + (664.104276352161)*s(119,4) + (0.0110438844031111)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.470299*q(121,2) + (336.97426216156)*s(121,2) + (0.0167813182881101)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 4.295232*q(121,4) + (664.104276352161)*s(121,4) + (0.00792673008495147)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.7832722*q(122,1) + (468.673802673716)*s(122,1) + (0.0297583229106877)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.943406*q(122,2) + (336.97426216156)*s(122,2) + (0.0245585815138781)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,4)..  - 1.170402*q(122,4) + (664.104276352161)*s(122,4) + (0.00802160590193626)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.4421536*q(123,1) + (468.673802673716)*s(123,1) + (0.0181209381097679)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.472123*q(123,2) + (336.97426216156)*s(123,2) + (0.0250343203221036)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(123,3)..  - 0.2942465*q(123,3) + (145.022575442574)*s(123,3) + (0.0312023474654766)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 1.059609*q(123,4) + (664.104276352161)*s(123,4) + (0.0128053419291142)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.2956469*q(125,1) + (468.673802673716)*s(125,1) + (0.0365764832816094)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.2644316*q(125,2) + (336.97426216156)*s(125,2) + (0.0227632644210874)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.1676072*q(125,3) + (145.022575442574)*s(125,3) + (0.00887307426503029)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.1985328*q(125,4) + (664.104276352161)*s(125,4) + (0.0286647933298134)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.1259146*q(127,1) + (468.673802673716)*s(127,1) + (0.0189346269134075)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0957611*q(127,2) + (336.97426216156)*s(127,2) + (0.0288123195674751)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.1861779*q(127,3) + (145.022575442574)*s(127,3) + (0.0711996079448195)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 0.4441247*q(127,4) + (664.104276352161)*s(127,4) + (0.00946910363067087)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.41103*q(131,4) + (664.104276352161)*s(131,4) + (0.00841892702518179)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.4553612*q(132,2) + (336.97426216156)*s(132,2) + (0.0113164686225794)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.2486131*q(132,3) + (145.022575442574)*s(132,3) + (0.0113778176674602)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.4097798*q(134,1) + (468.673802673716)*s(134,1) + (0.0343246575399747)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.3722855*q(134,2) + (336.97426216156)*s(134,2) + (0.0117607486917693)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,4)..  - 0.1708097*q(134,4) + (664.104276352161)*s(134,4) + (0.00863077389165023)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.1926712*q(135,1) + (468.673802673716)*s(135,1) + (0.0108455788662212)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.0914771*q(135,3) + (145.022575442574)*s(135,3) + (0.0130799427457805)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1336055*q(136,1) + (468.673802673716)*s(136,1) + (0.0225210108312406)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1462218*q(136,2) + (336.97426216156)*s(136,2) + (0.0268118038915189)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1218907*q(136,3) + (145.022575442574)*s(136,3) + (0.0196091471787775)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.2147094*q(136,4) + (664.104276352161)*s(136,4) + (0.0178387891514932)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.1220135*q(138,1) + (468.673802673716)*s(138,1) + (0.0131219504203886)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.1245863*q(138,2) + (336.97426216156)*s(138,2) + (0.0313754624899316)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(138,3)..  - 0.083413*q(138,3) + (145.022575442574)*s(138,3) + (0.0139680720962725)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1092371*q(138,4) + (664.104276352161)*s(138,4) + (0.0135619129645866)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.1266325*q(139,2) + (336.97426216156)*s(139,2) + (0.035541342070275)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.0882678*q(139,3) + (145.022575442574)*s(139,3) + (0.0825361276643008)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.3559778*q(140,1) + (468.673802673716)*s(140,1) + (0.0254464154329201)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.3753516*q(140,2) + (336.97426216156)*s(140,2) + (0.0104843281418351)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.4804732*q(140,4) + (664.104276352161)*s(140,4) + (0.0255940760587778)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 0.540233*q(141,1) + (468.673802673716)*s(141,1) + (0.069139142370411)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.6102315*q(141,2) + (336.97426216156)*s(141,2) + (0.0452611401368174)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.2275764*q(141,3) + (145.022575442574)*s(141,3) + (0.136777094967061)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.4080564*q(141,4) + (664.104276352161)*s(141,4) + (0.113320428188023)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 0.902838*q(143,2) + (336.97426216156)*s(143,2) + (0.0102145140770477)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,4)..  - 0.6508141*q(143,4) + (664.104276352161)*s(143,4) + (0.0100785955243836)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 1.020756*q(144,1) + (468.673802673716)*s(144,1) + (0.024252333731393)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 0.6978122*q(144,2) + (336.97426216156)*s(144,2) + (0.0149434419594841)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.6980775*q(144,4) + (664.104276352161)*s(144,4) + (0.0180556346203251)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.1747673*q(145,3) + (145.022575442574)*s(145,3) + (0.0598173255164045)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.2681113*q(146,3) + (145.022575442574)*s(146,3) + (0.0352357012502646)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 1.604958*q(147,1) + (468.673802673716)*s(147,1) + (0.0704087070822715)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.570055*q(147,2) + (336.97426216156)*s(147,2) + (0.0588268503046264)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.649671*q(147,3) + (145.022575442574)*s(147,3) + (0.0189569847209183)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.735578*q(147,4) + (664.104276352161)*s(147,4) + (0.0289121624717987)*povline(4,4) =E= 0 ; (LHS = 0)
     
REMAINING 5 ENTRIES SKIPPED

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(101,1) + 0.689*q(102,1) + 0.689*q(103,1) + 0.689*q(104,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 0.6468*q(109,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1)
     
      + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ;
     
      (LHS = 1907.80636805848, INFES = 134.69363194152 ****)
     
cals(2)..  0.689*q(101,2) + 0.689*q(102,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.221*q(119,2) + 1.4835*q(121,2)
     
      + 0.6161*q(122,2) + 3.75*q(123,2) + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1902.77748967151, INFES = 139.72251032849 ****)
     
cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 3.75*q(123,3) + 0.6*q(125,3) + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.2016*q(138,3)
     
      + 0.261*q(139,3) + 3.13*q(141,3) + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) =E= 2042.5 ; (LHS = 1887.7745174051, INFES = 154.7254825949 ****)
     
cals(4)..  0.689*q(101,4) + 0.689*q(102,4) + 0.689*q(103,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 1.4835*q(121,4)
     
      + 0.6161*q(122,4) + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4) + 0.6208*q(131,4) + 0.494*q(134,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.67*q(143,4) + 5.88*q(144,4) + 3.87*q(147,4) + 0.81*q(154,4) =E= 2042.5 ;
     
      (LHS = 1973.02555790618, INFES = 69.47444209382 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 497


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(101,1)
                (.LO, .L, .UP, .M = 1E-5, 27.058643, +INF, 0)
       -1.7578  deflin(1,1)
       -1.5413  deflin(1,2)
       -1.33    deflin(1,3)
       -1.9507  deflin(1,4)
       -1.7578  defshr(101,1)
        0.689   cals(1)

q(101,2)
                (.LO, .L, .UP, .M = 1E-5, 7.463644, +INF, 0)
       -1.7578  deflin(2,1)
       -1.5413  deflin(2,2)
       -1.33    deflin(2,3)
       -1.9507  deflin(2,4)
       -1.5413  defshr(101,2)
        0.689   cals(2)

q(101,4)
                (.LO, .L, .UP, .M = 1E-5, 57.321659, +INF, 0)
       -1.7578  deflin(4,1)
       -1.5413  deflin(4,2)
       -1.33    deflin(4,3)
       -1.9507  deflin(4,4)
       -1.9507  defshr(101,4)
        0.689   cals(4)

REMAINING 102 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(101,1)
                (.LO, .L, .UP, .M = 0.0001, 0.101487014513808, +INF, 0)
      (-1)      obj
     (468.6738) defshr(101,1)

s(101,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0341378820490946, +INF, 0)
      (-1)      obj
     (336.9743) defshr(101,2)

s(101,4)
                (.LO, .L, .UP, .M = 0.0001, 0.168371470806229, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 497


     s  derived maximum entropy shares

     (664.1043) defshr(101,4)

REMAINING 102 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 468.673802673716, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1015) defshr(101,1)
       (0.0102) defshr(102,1)
       (0.0123) defshr(103,1)
       (0.008)  defshr(104,1)
       (0.1376) defshr(105,1)
       (0.0963) defshr(107,1)
       (0.0151) defshr(108,1)
       (0.0077) defshr(109,1)
       (0.0252) defshr(110,1)
       (0.0198) defshr(112,1)
       (0.128)  defshr(113,1)
       (0.0102) defshr(114,1)
       (0.0342) defshr(117,1)
       (0.0105) defshr(118,1)
       (0.0298) defshr(122,1)
       (0.0181) defshr(123,1)
       (0.0366) defshr(125,1)
       (0.0189) defshr(127,1)
       (0.0343) defshr(134,1)
       (0.0108) defshr(135,1)
       (0.0225) defshr(136,1)
       (0.0131) defshr(138,1)
       (0.0254) defshr(140,1)
       (0.0691) defshr(141,1)
       (0.0243) defshr(144,1)
       (0.0704) defshr(147,1)
       (0.0099) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 473.367515404592, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 247.896076354948, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 497


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          138
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          227
NON ZERO ELEMENTS           974     NON LINEAR N-Z            315
DERIVATIVE POOL              10     CONSTANT POOL             121
CODE LENGTH                 947


GENERATION TIME      =        0.009 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.010 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  497

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0707

 RESOURCE USAGE, LIMIT          0.063      1000.000
 ITERATION COUNT, LIMIT        84    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 227 variables and 138 constraints
    with 974 Jacobian elements, 315 of which are nonlinear.
    The Hessian of the Lagrangian has 105 elements on the diagonal,
    105 elements below the diagonal, and 109 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.064 seconds
   of which: Function evaluations             0.012 = 18.8%
             1st Derivative evaluations       0.003 =  4.7%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.002 =  3.1%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0017      
1.2          .              .              .            -0.0004      
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .            -0.0005      
2.2          .              .              .            -0.0017      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .       -3.541559E-5      
3.1          .              .              .             EPS         
3.2          .              .              .             EPS         
3.3          .              .              .            -0.0053      
3.4          .              .              .            -0.0004      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0015      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF            0.0005      
1.3          .            78.1465        +INF             .          
1.4          .            84.4111        +INF             .          
2.1          .              .            +INF            0.0004      
2.3          .             4.2721        +INF            EPS         
2.4          .            90.4121        +INF             .          
3.1          .            60.5796        +INF             .          
3.2          .            52.2624        +INF             .          
3.4          .           102.0456        +INF             .          
4.1          .            10.6011        +INF            EPS         
4.2          .              .            +INF      3.5415587E-5      
4.3          .              .            +INF            0.0004      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1          .              .              .             0.0021      
101.2          .              .              .             0.0023      
101.4          .              .              .             0.0015      
102.1          .              .              .             0.0022      
102.2          .              .              .             0.0022      
102.4          .              .              .             0.0015      
103.1          .              .              .             0.0023      
103.4          .              .              .             0.0015      
104.1          .              .              .             0.0024      
105.1          .              .              .             0.0022      
105.2          .              .              .             0.0022      
105.3          .              .              .             0.0075      
105.4          .              .              .             0.0016      
106.2          .              .              .             0.0019      
107.1          .              .              .             0.0021      
107.2          .              .              .             0.0023      
107.3          .              .              .             0.0063      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

107.4          .              .              .             0.0016      
108.1          .              .              .             0.0031      
108.2          .              .              .             0.0019      
108.3          .              .              .             0.0052      
108.4          .              .              .             0.0020      
109.1          .              .              .             0.0019      
109.4          .              .              .             0.0015      
110.1          .              .              .             0.0021      
110.2          .              .              .             0.0022      
110.4          .              .              .             0.0019      
111.3          .              .              .             0.0044      
112.1          .              .              .             0.0025      
112.2          .              .              .             0.0020      
112.4          .              .              .             0.0017      
113.1          .              .              .             0.0022      
113.2          .              .              .             0.0022      
113.3          .              .              .             0.0041      
113.4          .              .              .             0.0023      
114.1          .              .              .             0.0022      
115.2          .              .              .             0.0022      
115.3          .              .              .             0.0037      
115.4          .              .              .             0.0024      
116.2          .              .              .             0.0021      
116.3          .              .              .             0.0048      
117.1          .              .              .             0.0022      
117.2          .              .              .             0.0021      
117.4          .              .              .             0.0016      
118.1          .              .              .             0.0022      
119.2          .              .              .             0.0023      
119.4          .              .              .             0.0015      
121.2          .              .              .             0.0022      
121.4          .              .              .             0.0015      
122.1          .              .              .             0.0022      
122.2          .              .              .             0.0022      
122.4          .              .              .             0.0015      
123.1          .              .              .             0.0023      
123.2          .              .              .             0.0021      
123.3          .              .              .             0.0054      
123.4          .              .              .             0.0019      
125.1          .              .              .             0.0021      
125.2          .              .              .             0.0022      
125.3          .              .              .             0.0054      
125.4          .              .              .             0.0018      
127.1          .              .              .             0.0028      
127.2          .              .              .             0.0007      
127.3          .              .              .             0.0012      
127.4          .              .              .             0.0038      
131.4          .              .              .             0.0017      
132.2          .              .              .             0.0020      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

132.3          .              .              .             0.0055      
134.1          .              .              .             0.0021      
134.2          .              .              .             0.0022      
134.4          .              .              .             0.0018      
135.1          .              .              .             0.0020      
135.3          .              .              .             0.0055      
136.1          .              .              .             0.0022      
136.2          .              .              .             0.0022      
136.3          .              .              .             0.0059      
136.4          .              .              .             0.0016      
138.1          .              .              .             0.0022      
138.2          .              .              .             0.0022      
138.3          .              .              .             0.0056      
138.4          .              .              .             0.0017      
139.2          .              .              .             0.0023      
139.3          .              .              .             0.0058      
140.1          .              .              .             0.0022      
140.2          .              .              .             0.0022      
140.4          .              .              .             0.0017      
141.1          .              .              .             0.0023      
141.2          .              .              .             0.0021      
141.3          .              .              .             0.0045      
141.4          .              .              .             0.0024      
143.2          .              .              .             0.0021      
143.4          .              .              .             0.0025      
144.1          .              .              .             0.0021      
144.2          .              .              .             0.0023      
144.4          .              .              .             0.0025      
145.3          .              .              .             0.0060      
146.3          .              .              .             0.0035      
147.1          .              .              .             0.0022      
147.2          .              .              .             0.0022      
147.3          .              .              .             0.0057      
147.4          .              .              .             0.0017      
150.1          .              .              .             0.0021      
150.2          .              .              .             0.0023      
150.3          .              .              .             0.0059      
150.4          .              .              .             0.0015      
154.4          .              .              .             0.0016      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   1.0252650E-5      
2      2042.5000      2042.5000      2042.5000   -1.951345E-5      
3      2042.5000      2042.5000      2042.5000        -0.0001      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0707        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

101.1   1.0000000E-5        25.0359        +INF             .          
101.2   1.0000000E-5        11.2080        +INF             .          
101.4   1.0000000E-5        38.2310        +INF            EPS         
102.1   1.0000000E-5         2.4925        +INF             .          
102.2   1.0000000E-5         2.5736        +INF             .          
102.4   1.0000000E-5        11.7917        +INF            EPS         
103.1   1.0000000E-5         3.2254        +INF             .          
103.4   1.0000000E-5         6.6948        +INF             .          
104.1   1.0000000E-5         3.7748        +INF             .          
105.1   1.0000000E-5        50.5575        +INF             .          
105.2   1.0000000E-5        63.7938        +INF             .          
105.3   1.0000000E-5        99.5864        +INF             .          
105.4   1.0000000E-5        29.3211        +INF             .          
106.2   1.0000000E-5         3.8177        +INF             .          
107.1   1.0000000E-5        49.3913        +INF            EPS         
107.2   1.0000000E-5        31.8544        +INF             .          
107.3   1.0000000E-5        58.8927        +INF             .          
107.4   1.0000000E-5        29.0261        +INF            EPS         
108.1   1.0000000E-5        18.8105        +INF             .          
108.2   1.0000000E-5        20.8580        +INF             .          
108.3   1.0000000E-5         5.2693        +INF             .          
108.4   1.0000000E-5        32.1078        +INF            EPS         
109.1   1.0000000E-5         2.1880        +INF            EPS         
109.4   1.0000000E-5         9.1443        +INF            EPS         
110.1   1.0000000E-5         9.9545        +INF             .          
110.2   1.0000000E-5        11.1782        +INF             .          
110.4   1.0000000E-5         5.6548        +INF             .          
111.3   1.0000000E-5         8.5377        +INF             .          
112.1   1.0000000E-5        79.0032        +INF             .          
112.2   1.0000000E-5        46.0676        +INF            EPS         
112.4   1.0000000E-5         9.8133        +INF             .          
113.1   1.0000000E-5       101.8047        +INF             .          
113.2   1.0000000E-5       125.2865        +INF             .          
113.3   1.0000000E-5       169.0143        +INF            EPS         
113.4   1.0000000E-5        93.3808        +INF            EPS         
114.1   1.0000000E-5        14.6862        +INF             .          
115.2   1.0000000E-5        25.8541        +INF             .          
115.3   1.0000000E-5        16.8839        +INF             .          
115.4   1.0000000E-5        52.6426        +INF            EPS         
116.2   1.0000000E-5        17.2599        +INF             .          
116.3   1.0000000E-5        36.9276        +INF            EPS         
117.1   1.0000000E-5         7.1642        +INF             .          
117.2   1.0000000E-5         5.3005        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

117.4   1.0000000E-5        10.8637        +INF             .          
118.1   1.0000000E-5         2.6598        +INF             .          
119.2   1.0000000E-5         1.8958        +INF             .          
119.4   1.0000000E-5         1.9387        +INF             .          
121.2   1.0000000E-5         2.3590        +INF             .          
121.4   1.0000000E-5         0.8170        +INF            EPS         
122.1   1.0000000E-5        17.5437        +INF             .          
122.2   1.0000000E-5        12.2793        +INF             .          
122.4   1.0000000E-5         3.0685        +INF             .          
123.1   1.0000000E-5        19.1211        +INF             .          
123.2   1.0000000E-5        24.3569        +INF             .          
123.3   1.0000000E-5        21.9746        +INF             .          
123.4   1.0000000E-5         6.5222        +INF             .          
125.1   1.0000000E-5        54.2359        +INF             .          
125.2   1.0000000E-5        42.2721        +INF             .          
125.3   1.0000000E-5        10.9528        +INF             .          
125.4   1.0000000E-5        75.4643        +INF            EPS         
127.1   1.0000000E-5        88.2789        +INF             .          
127.2   1.0000000E-5        72.4245        +INF             .          
127.3   1.0000000E-5        34.7237        +INF             .          
127.4   1.0000000E-5        31.7518        +INF            EPS         
131.4   1.0000000E-5         9.7473        +INF             .          
132.2   1.0000000E-5        11.0860        +INF             .          
132.3   1.0000000E-5         9.7468        +INF             .          
134.1   1.0000000E-5        36.6767        +INF             .          
134.2   1.0000000E-5        15.5122        +INF             .          
134.4   1.0000000E-5        26.1974        +INF             .          
135.1   1.0000000E-5        23.2361        +INF             .          
135.3   1.0000000E-5        30.2358        +INF             .          
136.1   1.0000000E-5        76.4148        +INF             .          
136.2   1.0000000E-5        88.0459        +INF             .          
136.3   1.0000000E-5        36.5304        +INF             .          
136.4   1.0000000E-5        37.7470        +INF             .          
138.1   1.0000000E-5        48.1873        +INF             .          
138.2   1.0000000E-5       120.9315        +INF             .          
138.3   1.0000000E-5        35.8576        +INF             .          
138.4   1.0000000E-5        60.3228        +INF             .          
139.2   1.0000000E-5       141.3476        +INF             .          
139.3   1.0000000E-5       211.2585        +INF            EPS         
140.1   1.0000000E-5        32.4152        +INF             .          
140.2   1.0000000E-5        13.2745        +INF             .          
140.4   1.0000000E-5        26.3653        +INF            EPS         
141.1   1.0000000E-5        59.6515        +INF             .          
141.2   1.0000000E-5        33.6758        +INF             .          
141.3   1.0000000E-5       105.4958        +INF             .          
141.4   1.0000000E-5       193.6516        +INF             .          
143.2   1.0000000E-5         5.0967        +INF             .          
143.4   1.0000000E-5        11.5195        +INF             .          
144.1   1.0000000E-5        10.1900        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

144.2   1.0000000E-5        10.7663        +INF             .          
144.4   1.0000000E-5        18.8980        +INF            EPS         
145.3   1.0000000E-5        80.7157        +INF             .          
146.3   1.0000000E-5        18.9141        +INF            EPS         
147.1   1.0000000E-5        19.5692        +INF             .          
147.2   1.0000000E-5        18.0905        +INF             .          
147.3   1.0000000E-5         6.4704        +INF             .          
147.4   1.0000000E-5         8.2893        +INF            EPS         
150.1   1.0000000E-5        22.6024        +INF             .          
150.2   1.0000000E-5        29.4590        +INF             .          
150.3   1.0000000E-5        30.7757        +INF            EPS         
150.4   1.0000000E-5        22.0412        +INF            EPS         
154.4   1.0000000E-5         4.6719        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1         0.0001         0.0971        +INF      -3.342152E-9      
101.2         0.0001         0.0370        +INF             .          
101.4         0.0001         0.1396        +INF             .          
102.1         0.0001         0.0100        +INF      -5.936531E-9      
102.2         0.0001         0.0101        +INF      3.4494680E-9      
102.4         0.0001         0.0387        +INF             .          
103.1         0.0001         0.0128        +INF      -3.631662E-9      
103.4         0.0001         0.0185        +INF      9.6029344E-9      
104.1         0.0001         0.0086        +INF      -1.325858E-8      
105.1         0.0001         0.1352        +INF      -4.055711E-9      
105.2         0.0001         0.1670        +INF      1.3548638E-9      
105.3         0.0001         0.1152        +INF             .          
105.4         0.0001         0.0818        +INF      2.8140049E-9      
106.2         0.0001         0.0119        +INF      6.4051997E-9      
107.1         0.0001         0.0923        +INF             .          
107.2         0.0001         0.0496        +INF            EPS         
107.3         0.0001         0.0761        +INF      -1.030444E-8      
107.4         0.0001         0.0538        +INF             .          
108.1         0.0001         0.0222        +INF      -7.256833E-9      
108.2         0.0001         0.0737        +INF             .          
108.3         0.0001         0.0634        +INF            EPS         
108.4         0.0001         0.0395        +INF             .          
109.1         0.0001         0.0066        +INF             .          
109.4         0.0001         0.0286        +INF             .          
110.1         0.0001         0.0246        +INF            EPS         
110.2         0.0001         0.0244        +INF      -2.381423E-9      
110.4         0.0001         0.0117        +INF      2.1099474E-9      
111.3         0.0001         0.0143        +INF            EPS         
112.1         0.0001         0.0226        +INF      -5.126440E-9      
112.2         0.0001         0.0212        +INF             .          
112.4         0.0001         0.0096        +INF      -1.843273E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

113.1         0.0001         0.1270        +INF      2.7231446E-9      
113.2         0.0001         0.1398        +INF      -3.657417E-9      
113.3         0.0001         0.1329        +INF             .          
113.4         0.0001         0.0927        +INF             .          
114.1         0.0001         0.0100        +INF      3.5716624E-9      
115.2         0.0001         0.0296        +INF      -4.382983E-9      
115.3         0.0001         0.0109        +INF      1.9544319E-8      
115.4         0.0001         0.0496        +INF             .          
116.2         0.0001         0.0143        +INF      -5.753625E-9      
116.3         0.0001         0.0856        +INF             .          
117.1         0.0001         0.0348        +INF      -2.390439E-9      
117.2         0.0001         0.0302        +INF            EPS         
117.4         0.0001         0.0463        +INF      3.8377022E-9      
118.1         0.0001         0.0106        +INF      -3.915860E-9      
119.2         0.0001         0.0112        +INF      -1.262297E-8      
119.4         0.0001         0.0092        +INF      1.3599286E-8      
121.2         0.0001         0.0175        +INF      7.9648703E-9      
121.4         0.0001         0.0066        +INF             .          
122.1         0.0001         0.0303        +INF      -8.645877E-9      
122.2         0.0001         0.0248        +INF      1.6595956E-9      
122.4         0.0001         0.0067        +INF      1.0777697E-8      
123.1         0.0001         0.0186        +INF             .          
123.2         0.0001         0.0246        +INF      1.0381968E-8      
123.3         0.0001         0.0330        +INF      -3.144908E-9      
123.4         0.0001         0.0129        +INF      8.1298162E-9      
125.1         0.0001         0.0354        +INF      -1.462408E-9      
125.2         0.0001         0.0239        +INF      -2.740026E-9      
125.3         0.0001         0.0094        +INF      3.0900082E-9      
125.4         0.0001         0.0281        +INF             .          
127.1         0.0001         0.0245        +INF      4.5877275E-8      
127.2         0.0001         0.0149        +INF             .          
127.3         0.0001         0.0330        +INF             .          
127.4         0.0001         0.0264        +INF             .          
131.4         0.0001         0.0075        +INF      5.6390584E-9      
132.2         0.0001         0.0108        +INF            EPS         
132.3         0.0001         0.0124        +INF      7.0458799E-9      
134.1         0.0001         0.0331        +INF            EPS         
134.2         0.0001         0.0124        +INF      -5.995081E-9      
134.4         0.0001         0.0084        +INF      7.9404374E-9      
135.1         0.0001         0.0099        +INF      1.1493788E-8      
135.3         0.0001         0.0141        +INF      1.5258943E-8      
136.1         0.0001         0.0225        +INF      -3.703768E-9      
136.2         0.0001         0.0276        +INF      5.5695286E-9      
136.3         0.0001         0.0227        +INF      1.5651638E-9      
136.4         0.0001         0.0152        +INF      7.5543056E-9      
138.1         0.0001         0.0130        +INF      1.5246651E-9      
138.2         0.0001         0.0323        +INF            EPS         
138.3         0.0001         0.0153        +INF      -4.648789E-9      
138.4         0.0001         0.0123        +INF      1.3601146E-8      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

139.2         0.0001         0.0383        +INF            EPS         
139.3         0.0001         0.0951        +INF             .          
140.1         0.0001         0.0254        +INF      -2.111674E-9      
140.2         0.0001         0.0107        +INF      3.8521051E-9      
140.4         0.0001         0.0237        +INF             .          
141.1         0.0001         0.0711        +INF             .          
141.2         0.0001         0.0440        +INF      -4.314088E-9      
141.3         0.0001         0.1225        +INF             .          
141.4         0.0001         0.1480        +INF             .          
143.2         0.0001         0.0099        +INF      -3.974358E-9      
143.4         0.0001         0.0140        +INF      1.3068270E-8      
144.1         0.0001         0.0229        +INF      4.9638321E-9      
144.2         0.0001         0.0161        +INF      -7.449353E-9      
144.4         0.0001         0.0247        +INF             .          
145.3         0.0001         0.0720        +INF      -7.094597E-9      
146.3         0.0001         0.0259        +INF             .          
147.1         0.0001         0.0693        +INF             .          
147.2         0.0001         0.0608        +INF            EPS         
147.3         0.0001         0.0214        +INF      -3.495845E-9      
147.4         0.0001         0.0269        +INF             .          
150.1         0.0001         0.0096        +INF      -2.392015E-9      
150.2         0.0001         0.0114        +INF      7.3815398E-9      
150.3         0.0001         0.0251        +INF             .          
150.4         0.0001         0.0100        +INF             .          
154.4         0.0001         0.0087        +INF      -1.203861E-8      

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          453.4293        +INF             .          
1.2        -INF          466.8829        +INF             .          
1.3        -INF          256.6276        +INF             .          
1.4        -INF          544.6927        +INF             .          
2.1        -INF          453.4293        +INF             .          
2.2        -INF          466.8829        +INF             .          
2.3        -INF          248.3104        +INF             .          
2.4        -INF          534.0917        +INF             .          
3.1        -INF          531.5759        +INF             .          
3.2        -INF          471.1550        +INF             .          
3.3        -INF          196.0480        +INF             .          
3.4        -INF          534.0917        +INF             .          
4.1        -INF          537.8404        +INF             .          
4.2        -INF          557.2950        +INF             .          
4.3        -INF          298.0937        +INF             .          
4.4        -INF          534.0917        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:14:43 Page 35
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    500 this is without adjustment for calorie target or 90%

----    500 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     453.429     466.883     256.628     544.693
2     453.429     466.883     248.310     534.092
3     531.576     471.155     196.048     534.092
4     537.840     557.295     298.094     534.092


----    525 PARAMETER perc_chng  percent change in line

1  -9.633,    2  29.074,    3  24.944,    4 -22.313


----    525 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 470.586,    2 483.272,    3 201.330,    4 573.250


----    525 PARAMETER povline_ali  food poverty line

1 520.749,    2 374.416,    3 161.136,    4 737.894


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/work/povline_food_ent.csv


EXECUTION TIME       =        0.005 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNHS_2005/GAPP2/new/list.lst
