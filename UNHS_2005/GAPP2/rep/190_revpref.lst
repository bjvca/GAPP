GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\product_flex.inc
  20  101
  21  102
  22  103
  23  104
  24  105
  25  106
  26  107
  27  108
  28  109
  29  110
  30  111
  31  112
  32  113
  33  114
  34  115
  35  116
  36  117
  37  118
  38  119
  39  121
  40  122
  41  123
  42  124
  43  125
  44  127
  45  130
  46  131
  47  132
  48  134
  49  135
  50  136
  51  137
  52  138
  53  139
  54  140
  55  141
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  143
  57  144
  58  145
  59  146
  60  147
  61  149
  62  150
  63  151
  64  154
  65  158
  66  /
  67   
  68   reg        5 spatial domains /1*9/
  69   r(reg)     all included spatial regions /1*9/
  70   
  71   ptit       price table titles
  72  /
  73    count      number of observations making up the price average
  74    price_uw5  average price
  75  /
  76   
  77   qtit       quantity table titles
  78  /
  79    calperg          calories per gram
  80    quan5            quantities in grams
  81    calpp            calories per person by region
  82    povline_a_flex5    value of flexible food bundle
  83  /
  84   
  85   
  86    posquan(cod,reg)  mark positive quantities in each region
  87    posprice(cod,reg) mark the existence of acceptable price info in each region
  88    chkprice(cod,reg) ensure that prices exist once all estimated
  89  ;
  90   
  91  alias(reg,regq);
  92  alias(r,rq);
  93   
  94  SCALAR
  95     caltarg single level of calories to target across regions / 2150 /
  96   ;
  97   
  98  PARAMETERS
  99   
 100    shr(cod,reg)         shares in each basket by region
 101    chkshr(reg)          check that the calculated shares sum to .9
 102    shrmiss(regq,reg)    shares missing in each region pair
 103    povline_ali(reg)       food poverty line
 104    perc_chng(reg)       percent change in line
 105    finmiss(reg)         final missing shares post optimization procedure
 106   ;
 107   
 108  Table  price(cod,reg,ptit)  price and related information
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109                          count   price_uw5
INCLUDE    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\price_unit_flex.inc
 111  101     .       1       127     1.615184
 112  101     .       2       73      2.576224
 113  101     .       3       230     1.607518
 114  101     .       4       83      1.058196
 115  101     .       5       70      1.285399
 116  101     .       6       1       .5090008
 117  101     .       7       1       .957407
 118  101     .       8       64      1.803734
 119  101     .       9       469     1.558487
 120  102     .       1       14      2.528031
 121  102     .       2       7       4.00757
 122  102     .       3       30      1.418316
 123  102     .       4       10      2.467402
 124  102     .       5       17      1.968736
 125  102     .       8       19      2.046402
 126  102     .       9       140     1.496525
 127  103     .       1       10      1.831217
 128  103     .       2       9       .8097751
 129  103     .       3       30      1.536858
 130  103     .       4       8       .794107
 131  103     .       5       9       2.182409
 132  103     .       8       8       2.084496
 133  103     .       9       58      1.22708
 134  104     .       1       23      .9820265
 135  104     .       2       7       1.23025
 136  104     .       3       19      1.247511
 137  104     .       4       19      1.252898
 138  104     .       5       6       1.419395
 139  104     .       7       2       1.145211
 140  104     .       8       8       .6639404
 141  104     .       9       31      1.069449
 142  105     .       1       119     .7247213
 143  105     .       2       84      .7424073
 144  105     .       3       346     1.109982
 145  105     .       4       145     .6065674
 146  105     .       5       271     .9483675
 147  105     .       6       14      .2695974
 148  105     .       7       86      .1957793
 149  105     .       8       68      1.048579
 150  105     .       9       433     1.208735
 151  106     .       1       3       1.273891
 152  106     .       3       6       .8482308
 153  106     .       4       10      1.63885
 154  106     .       5       36      .673392
 155  106     .       6       1       .1914814
 156  106     .       7       5       .1994382
 157  106     .       8       1       1.037746
 158  106     .       9       14      .7976595
 159  107     .       1       66      .7345378
 160  107     .       2       67      .6618089
 161  107     .       3       320     .8458663
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  107     .       4       70      .5784147
 163  107     .       5       156     .6811142
 164  107     .       6       14      .2419242
 165  107     .       7       75      .2568265
 166  107     .       8       47      .7530922
 167  107     .       9       356     .7467356
 168  108     .       1       19      .5689386
 169  108     .       2       13      .6769868
 170  108     .       3       57      .4776061
 171  108     .       4       64      .8909679
 172  108     .       5       175     .629625
 173  108     .       6       9       .4240669
 174  108     .       7       44      .5333362
 175  108     .       8       24      .4269388
 176  108     .       9       185     .274495
 177  109     .       1       57      .7581887
 178  109     .       2       32      .6467308
 179  109     .       3       29      1.282857
 180  109     .       4       44      .4313187
 181  109     .       5       5       .2729517
 182  109     .       8       38      .8384373
 183  109     .       9       167     1.330263
 184  110     .       1       155     1.138152
 185  110     .       2       76      1.187953
 186  110     .       3       79      1.159075
 187  110     .       4       164     1.106264
 188  110     .       5       74      1.054479
 189  110     .       7       2       .4455535
 190  110     .       8       33      1.00235
 191  110     .       9       85      .8968566
 192  111     .       1       2       2.282104
 193  111     .       2       2       .8244088
 194  111     .       3       13      .2750373
 195  111     .       4       6       .3155289
 196  111     .       5       33      .2370707
 197  111     .       7       26      .0979993
 198  111     .       8       5       .3370203
 199  111     .       9       49      .2486846
 200  112     .       1       10      .2650008
 201  112     .       2       20      .105994
 202  112     .       3       83      .0933744
 203  112     .       4       55      .128211
 204  112     .       5       60      .0833987
 205  112     .       6       1       .0478703
 206  112     .       7       13      .0656179
 207  112     .       8       9       .1368196
 208  112     .       9       85      .1039507
 209  113     .       1       162     .7208541
 210  113     .       2       109     .6664531
 211  113     .       3       395     .5773595
 212  113     .       4       227     .6269687
 213  113     .       5       269     .4923672
 214  113     .       6       20      .1502558
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  113     .       7       144     .1193841
 216  113     .       8       84      .4931
 217  113     .       9       429     .4203869
 218  114     .       1       123     .2261907
 219  114     .       2       81      .1934741
 220  114     .       3       78      .1434715
 221  114     .       4       79      .2589094
 222  114     .       5       17      .2201112
 223  114     .       6       2       .0540946
 224  114     .       7       2       .051359
 225  114     .       8       27      .1692288
 226  114     .       9       78      .1321111
 227  115     .       1       23      .6813658
 228  115     .       2       14      .7557957
 229  115     .       3       37      .5759079
 230  115     .       4       39      .6194409
 231  115     .       5       97      .5127339
 232  115     .       6       2       .1004766
 233  115     .       7       22      .1310893
 234  115     .       8       21      .4665327
 235  115     .       9       265     .3519254
 236  116     .       1       4       .2830647
 237  116     .       2       1       .6163334
 238  116     .       3       5       .4061002
 239  116     .       4       37      .2266075
 240  116     .       5       105     .2623398
 241  116     .       6       13      .1711411
 242  116     .       7       103     .1582122
 243  116     .       8       10      .3326761
 244  116     .       9       62      .2695867
 245  117     .       1       134     2.663409
 246  117     .       2       70      2.594067
 247  117     .       3       109     2.252264
 248  117     .       4       117     2.993224
 249  117     .       5       86      2.636882
 250  117     .       6       2       2.554567
 251  117     .       7       19      1.741239
 252  117     .       8       40      2.244726
 253  117     .       9       246     2.082513
 254  118     .       1       8       2.22142
 255  118     .       2       4       2.068915
 256  118     .       3       49      1.877675
 257  118     .       4       12      2.631536
 258  118     .       5       25      2.136608
 259  118     .       7       2       1.92404
 260  118     .       8       3       .0108351
 261  118     .       9       39      1.959065
 262  119     .       1       8       3.451488
 263  119     .       2       1       3.101856
 264  119     .       3       8       2.267877
 265  119     .       4       16      3.303375
 266  119     .       5       30      2.764395
 267  119     .       6       1       2.4
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  119     .       7       7       .0048258
 269  119     .       8       3       2.994421
 270  119     .       9       46      2.396013
 271  121     .       1       16      5.570052
 272  121     .       2       9       5.562272
 273  121     .       3       19      3.506616
 274  121     .       4       19      4.447403
 275  121     .       5       30      3.305488
 276  121     .       7       6       1.431235
 277  121     .       8       4       4.921564
 278  121     .       9       27      3.521523
 279  122     .       1       93      1.210651
 280  122     .       2       71      .9503087
 281  122     .       3       123     .6846581
 282  122     .       4       99      1.115399
 283  122     .       5       80      .7560744
 284  122     .       6       3       .0914765
 285  122     .       7       16      .2798079
 286  122     .       8       8       .9243202
 287  122     .       9       55      .9809971
 288  123     .       1       53      .7809616
 289  123     .       2       41      .6031038
 290  123     .       3       135     .3187162
 291  123     .       4       100     .6172405
 292  123     .       5       150     .3868478
 293  123     .       6       18      .3621967
 294  123     .       7       80      .2292611
 295  123     .       8       12      1.154036
 296  123     .       9       82      .8537599
 297  124     .       1       69      .1141652
 298  124     .       2       46      .1089178
 299  124     .       3       46      .1087798
 300  124     .       4       40      .1543266
 301  124     .       5       31      .1249841
 302  124     .       7       1       .1020378
 303  124     .       8       12      .1221785
 304  124     .       9       72      .0999648
 305  125     .       1       132     .524474
 306  125     .       2       81      .4109408
 307  125     .       3       171     .2435618
 308  125     .       4       114     .4024248
 309  125     .       5       113     .2360715
 310  125     .       7       16      .1422324
 311  125     .       8       44      .2547474
 312  125     .       9       235     .1575544
 313  127     .       1       183     .1375236
 314  127     .       2       119     .1144652
 315  127     .       3       307     .0984748
 316  127     .       4       234     .0954606
 317  127     .       5       286     .0845917
 318  127     .       6       25      .1035249
 319  127     .       7       137     .1244728
 320  127     .       8       55      .1500503
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  127     .       9       192     .2344895
 322  130     .       1       70      .7057906
 323  130     .       2       39      .398942
 324  130     .       3       62      .2620008
 325  130     .       4       35      .7100081
 326  130     .       5       14      .2064353
 327  130     .       6       1       .3054005
 328  130     .       7       1       .0510189
 329  130     .       8       10      .1916988
 330  130     .       9       54      .1704114
 331  131     .       1       46      .4000123
 332  131     .       2       30      .5776874
 333  131     .       3       66      .337261
 334  131     .       4       49      .3451562
 335  131     .       5       18      .1868632
 336  131     .       6       1       .0957407
 337  131     .       7       3       .1971223
 338  131     .       8       24      .2857638
 339  131     .       9       174     .2897857
 340  132     .       1       17      .4695055
 341  132     .       2       19      .2346614
 342  132     .       3       44      .1024701
 343  132     .       4       44      .1669298
 344  132     .       5       58      .2128167
 345  132     .       6       7       .0989473
 346  132     .       7       12      .1548592
 347  132     .       8       8       .0767206
 348  132     .       9       54      .0857625
 349  134     .       1       40      .4799919
 350  134     .       2       44      .4552526
 351  134     .       3       198     .3813594
 352  134     .       4       38      .321027
 353  134     .       5       66      .3055265
 354  134     .       6       2       .0749882
 355  134     .       7       10      .1370002
 356  134     .       8       15      .1334274
 357  134     .       9       145     .1131251
 358  135     .       1       212     .1780384
 359  135     .       2       140     .2290189
 360  135     .       3       371     .1772568
 361  135     .       4       251     .1386553
 362  135     .       5       278     .1002188
 363  135     .       6       25      .0831464
 364  135     .       7       126     .0824375
 365  135     .       8       85      .1335589
 366  135     .       9       451     .1195184
 367  136     .       1       213     .192351
 368  136     .       2       136     .1571494
 369  136     .       3       394     .1232535
 370  136     .       4       254     .1483632
 371  136     .       5       321     .1379104
 372  136     .       6       17      .1176811
 373  136     .       7       86      .1097189
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374  136     .       8       86      .1775177
 375  136     .       9       464     .1610565
 376  137     .       1       78      .4495421
 377  137     .       2       46      .3848168
 378  137     .       3       55      .2399264
 379  137     .       4       99      .3602012
 380  137     .       5       77      .2404681
 381  137     .       6       9       .4192445
 382  137     .       7       17      .331833
 383  137     .       8       14      .2172431
 384  137     .       9       76      .2471441
 385  138     .       1       47      .2051588
 386  138     .       2       31      .1562698
 387  138     .       3       185     .1122769
 388  138     .       4       107     .1241786
 389  138     .       5       222     .1063836
 390  138     .       6       8       .0872546
 391  138     .       7       52      .0787141
 392  138     .       8       42      .1072386
 393  138     .       9       372     .0919253
 394  139     .       1       64      .1755782
 395  139     .       2       40      .1468145
 396  139     .       3       116     .1152502
 397  139     .       4       93      .1365731
 398  139     .       5       238     .1150965
 399  139     .       6       35      .0777018
 400  139     .       7       216     .0848717
 401  139     .       8       15      .1433773
 402  139     .       9       82      .1500982
 403  140     .       1       20      .7418053
 404  140     .       2       28      .4781333
 405  140     .       3       101     .3319481
 406  140     .       4       34      .5334538
 407  140     .       5       36      .3157319
 408  140     .       7       10      .1147082
 409  140     .       8       27      .3425251
 410  140     .       9       163     .2654695
 411  141     .       1       157     .8521895
 412  141     .       2       77      .7326992
 413  141     .       3       338     .4385213
 414  141     .       4       172     .775237
 415  141     .       5       215     .562968
 416  141     .       6       35      .2383329
 417  141     .       7       181     .2110971
 418  141     .       8       90      .476606
 419  141     .       9       618     .3439491
 420  143     .       1       24      1.275177
 421  143     .       2       5       1.65066
 422  143     .       3       47      .7639785
 423  143     .       4       45      1.095697
 424  143     .       5       68      .5302631
 425  143     .       7       4       .1480339
 426  143     .       8       12      .7079195
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                            06/25/13 11:33:41 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427  143     .       9       109     .5489696
 428  144     .       1       130     .9993551
 429  144     .       2       90      .909743
 430  144     .       3       190     .6419322
 431  144     .       4       115     .3915597
 432  144     .       5       110     .3810292
 433  144     .       8       42      .6954452
 434  144     .       9       176     .5688275
 435  145     .       1       12      1.068099
 436  145     .       2       7       .983716
 437  145     .       3       3       .8266408
 438  145     .       4       16      .5487208
 439  145     .       5       36      .3258367
 440  145     .       6       8       .2267875
 441  145     .       7       92      .1766785
 442  145     .       8       7       .8185775
 443  145     .       9       36      .4576518
 444  146     .       1       8       1.477548
 445  146     .       2       3       1.8012
 446  146     .       3       3       1.101624
 447  146     .       4       6       1.28307
 448  146     .       5       16      .5607979
 449  146     .       6       18      .2413618
 450  146     .       7       99      .234474
 451  146     .       8       2       .4458237
 452  146     .       9       10      .2171893
 453  147     .       1       209     1.58953
 454  147     .       2       140     1.672204
 455  147     .       3       358     1.69454
 456  147     .       4       251     1.603754
 457  147     .       5       279     1.229444
 458  147     .       6       13      .4560146
 459  147     .       7       48      .3492607
 460  147     .       8       75      1.471746
 461  147     .       9       309     1.570678
 462  149     .       1       193     .0523922
 463  149     .       2       134     .0570622
 464  149     .       3       394     .1034876
 465  149     .       4       241     .1204822
 466  149     .       5       286     .1073911
 467  149     .       6       8       .1050828
 468  149     .       7       44      .0932241
 469  149     .       8       60      .142008
 470  149     .       9       278     .1424719
 471  150     .       1       223     .1932917
 472  150     .       2       137     .1647869
 473  150     .       3       572     .1862195
 474  150     .       4       286     .1713267
 475  150     .       5       490     .1721411
 476  150     .       6       35      .1535249
 477  150     .       7       266     .1374108
 478  150     .       8       119     .1680478
 479  150     .       9       807     .203805
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480  151     .       1       64      .5886527
 481  151     .       2       40      .5319479
 482  151     .       3       24      .5209639
 483  151     .       4       38      .5819927
 484  151     .       5       9       .5406415
 485  151     .       6       1       .4787035
 486  151     .       7       4       .5309541
 487  151     .       8       8       .4791143
 488  151     .       9       46      .4922774
 489  154     .       1       4       .5164926
 490  154     .       2       4       .3054985
 491  154     .       3       17      .1782641
 492  154     .       4       12      .7088034
 493  154     .       5       19      .4393606
 494  154     .       6       4       .1022623
 495  154     .       7       19      .2757338
 496  154     .       8       8       .2890114
 497  154     .       9       76      .3778949
 498  158     .       1       23      .5318366
 499  158     .       2       20      .531158
 500  158     .       3       9       .0320518
 501  158     .       4       12      .5949598
 502  158     .       7       2       .5090008
 503  158     .       8       4       .5543666
 504  158     .       9       19      .4942222
 505  ;
 506   
 507  Table   quan(cod,reg,qtit)   quantity and related information
 508                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\quan_flex.inc
 510  101     .       1       6.8900000e-01   1.7165157e+01   1.1693649e+03   264.6529
 511  102     .       1       6.8900000e-01   9.2066872e-01   1.1693649e+03   264.6529
 512  103     .       1       6.8900000e-01   1.4494716e+00   1.1693649e+03   264.6529
 513  104     .       1       6.8900000e-01   6.2267933e+00   1.1693649e+03   264.6529
 514  105     .       1       1.0164000e+00   1.6108749e+01   1.1693649e+03   264.6529
 515  107     .       1       1.3440000e+00   6.9819531e+00   1.1693649e+03   264.6529
 516  109     .       1       6.4680000e-01   4.2319503e+00   1.1693649e+03   264.6529
 517  110     .       1       3.6100000e+00   1.6489710e+01   1.1693649e+03   264.6529
 518  113     .       1       3.6500000e+00   2.4813839e+01   1.1693649e+03   264.6529
 519  114     .       1       2.6600000e+00   4.2488815e+01   1.1693649e+03   264.6529
 520  117     .       1       1.7982000e+00   7.7264671e+00   1.1693649e+03   264.6529
 521  121     .       1       1.4835000e+00   4.4073501e-01   1.1693649e+03   264.6529
 522  122     .       1       6.1610000e-01   7.6630492e+00   1.1693649e+03   264.6529
 523  123     .       1       3.7500000e+00   5.3731670e+00   1.1693649e+03   264.6529
 524  124     .       1       1.2584000e+00   2.2728420e+01   1.1693649e+03   264.6529
 525  125     .       1       6.0000000e-01   2.9644018e+01   1.1693649e+03   264.6529
 526  127     .       1       8.8400000e+00   6.1466755e+01   1.1693649e+03   264.6529
 527  130     .       1       5.0440000e-01   5.5011430e+00   1.1693649e+03   264.6529
 528  135     .       1       3.6400000e-01   2.2337196e+01   1.1693649e+03   264.6529
 529  136     .       1       1.6380000e-01   4.1360050e+01   1.1693649e+03   264.6529
 530  137     .       1       2.6400000e-01   5.1339903e+00   1.1693649e+03   264.6529
 531  141     .       1       3.1300000e+00   1.6071444e+01   1.1693649e+03   264.6529
 532  144     .       1       5.8800000e+00   6.6640110e+00   1.1693649e+03   264.6529
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533  147     .       1       3.8700000e+00   1.4728273e+01   1.1693649e+03   264.6529
 534  151     .       1       4.8000000e-01   9.1198540e+00   1.1693649e+03   264.6529
 535  158     .       1       4.8000000e-01   5.1298108e+00   1.1693649e+03   264.6529
 536  101     .       2       6.8900000e-01   9.8388872e+00   1.2261656e+03   254.1995
 537  105     .       2       1.0164000e+00   2.2491850e+01   1.2261656e+03   254.1995
 538  107     .       2       1.3440000e+00   1.7793564e+01   1.2261656e+03   254.1995
 539  109     .       2       6.4680000e-01   4.9339905e+00   1.2261656e+03   254.1995
 540  110     .       2       3.6100000e+00   8.7426271e+00   1.2261656e+03   254.1995
 541  112     .       2       9.4600000e-01   2.3614868e+01   1.2261656e+03   254.1995
 542  113     .       2       3.6500000e+00   3.5835041e+01   1.2261656e+03   254.1995
 543  114     .       2       2.6600000e+00   3.8724758e+01   1.2261656e+03   254.1995
 544  117     .       2       1.7982000e+00   6.3334799e+00   1.2261656e+03   254.1995
 545  122     .       2       6.1610000e-01   1.3452115e+01   1.2261656e+03   254.1995
 546  123     .       2       3.7500000e+00   8.1145649e+00   1.2261656e+03   254.1995
 547  124     .       2       1.2584000e+00   2.7465553e+01   1.2261656e+03   254.1995
 548  125     .       2       6.0000000e-01   2.9604393e+01   1.2261656e+03   254.1995
 549  127     .       2       8.8400000e+00   6.0937798e+01   1.2261656e+03   254.1995
 550  130     .       2       5.0440000e-01   5.7065630e+00   1.2261656e+03   254.1995
 551  134     .       2       4.9400000e-01   8.1584139e+00   1.2261656e+03   254.1995
 552  135     .       2       3.6400000e-01   1.5930861e+01   1.2261656e+03   254.1995
 553  136     .       2       1.6380000e-01   4.6228302e+01   1.2261656e+03   254.1995
 554  137     .       2       2.6400000e-01   5.8846684e+00   1.2261656e+03   254.1995
 555  140     .       2       1.0300000e+00   6.9352674e+00   1.2261656e+03   254.1995
 556  141     .       2       3.1300000e+00   1.1806157e+01   1.2261656e+03   254.1995
 557  144     .       2       5.8800000e+00   8.7572384e+00   1.2261656e+03   254.1995
 558  147     .       2       3.8700000e+00   1.3906753e+01   1.2261656e+03   254.1995
 559  151     .       2       4.8000000e-01   1.0711810e+01   1.2261656e+03   254.1995
 560  158     .       2       4.8000000e-01   6.0428734e+00   1.2261656e+03   254.1995
 561  101     .       3       6.8900000e-01   1.4245785e+01   1.1916366e+03   270.2894
 562  102     .       3       6.8900000e-01   1.6811327e+00   1.1916366e+03   270.2894
 563  103     .       3       6.8900000e-01   2.0491323e+00   1.1916366e+03   270.2894
 564  105     .       3       1.0164000e+00   3.4010147e+01   1.1916366e+03   270.2894
 565  107     .       3       1.3440000e+00   2.9886805e+01   1.1916366e+03   270.2894
 566  108     .       3       3.1400000e+00   8.1852703e+00   1.1916366e+03   270.2894
 567  109     .       3       6.4680000e-01   1.5794421e+00   1.1916366e+03   270.2894
 568  110     .       3       3.6100000e+00   2.7819850e+00   1.1916366e+03   270.2894
 569  112     .       3       9.4600000e-01   5.0785866e+01   1.1916366e+03   270.2894
 570  113     .       3       3.6500000e+00   5.6753368e+01   1.1916366e+03   270.2894
 571  114     .       3       2.6600000e+00   1.4072508e+01   1.1916366e+03   270.2894
 572  117     .       3       1.7982000e+00   3.5484493e+00   1.1916366e+03   270.2894
 573  118     .       3       2.3534000e+00   1.4722289e+00   1.1916366e+03   270.2894
 574  122     .       3       6.1610000e-01   8.8799086e+00   1.1916366e+03   270.2894
 575  123     .       3       3.7500000e+00   1.2224257e+01   1.1916366e+03   270.2894
 576  125     .       3       6.0000000e-01   3.8861355e+01   1.1916366e+03   270.2894
 577  127     .       3       8.8400000e+00   4.1642666e+01   1.1916366e+03   270.2894
 578  134     .       3       4.9400000e-01   2.2998075e+01   1.1916366e+03   270.2894
 579  135     .       3       3.6400000e-01   1.3776804e+01   1.1916366e+03   270.2894
 580  136     .       3       1.6380000e-01   4.2391579e+01   1.1916366e+03   270.2894
 581  138     .       3       2.0160000e-01   3.2984791e+01   1.1916366e+03   270.2894
 582  140     .       3       1.0300000e+00   2.1480993e+01   1.1916366e+03   270.2894
 583  141     .       3       3.1300000e+00   4.0028885e+01   1.1916366e+03   270.2894
 584  144     .       3       5.8800000e+00   8.3005314e+00   1.1916366e+03   270.2894
 585  147     .       3       3.8700000e+00   9.4970150e+00   1.1916366e+03   270.2894
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 586  150     .       3       0.0000000e+00   1.3762359e+01   1.1916366e+03   270.2894
 587  101     .       4       6.8900000e-01   7.4524589e+00   1.1965536e+03   177.5801
 588  104     .       4       6.8900000e-01   1.3654860e+00   1.1965536e+03   177.5801
 589  105     .       4       1.0164000e+00   1.6871920e+01   1.1965536e+03   177.5801
 590  107     .       4       1.3440000e+00   4.4019628e+00   1.1965536e+03   177.5801
 591  108     .       4       3.1400000e+00   8.6962872e+00   1.1965536e+03   177.5801
 592  109     .       4       6.4680000e-01   2.7628219e+00   1.1965536e+03   177.5801
 593  110     .       4       3.6100000e+00   1.1482741e+01   1.1965536e+03   177.5801
 594  112     .       4       9.4600000e-01   1.5227491e+01   1.1965536e+03   177.5801
 595  113     .       4       3.6500000e+00   3.4682423e+01   1.1965536e+03   177.5801
 596  114     .       4       2.6600000e+00   1.3414532e+01   1.1965536e+03   177.5801
 597  115     .       4       3.7800000e+00   3.0537031e+00   1.1965536e+03   177.5801
 598  116     .       4       3.3900000e+00   6.3611732e+00   1.1965536e+03   177.5801
 599  117     .       4       1.7982000e+00   3.3264298e+00   1.1965536e+03   177.5801
 600  119     .       4       1.2210000e+00   4.1271117e-01   1.1965536e+03   177.5801
 601  121     .       4       1.4835000e+00   4.3185410e-01   1.1965536e+03   177.5801
 602  122     .       4       6.1610000e-01   5.7851386e+00   1.1965536e+03   177.5801
 603  123     .       4       3.7500000e+00   8.4052963e+00   1.1965536e+03   177.5801
 604  125     .       4       6.0000000e-01   1.6102936e+01   1.1965536e+03   177.5801
 605  127     .       4       8.8400000e+00   7.0787361e+01   1.1965536e+03   177.5801
 606  135     .       4       3.6400000e-01   1.4221711e+01   1.1965536e+03   177.5801
 607  136     .       4       1.6380000e-01   4.3724506e+01   1.1965536e+03   177.5801
 608  137     .       4       2.6400000e-01   5.5883069e+00   1.1965536e+03   177.5801
 609  138     .       4       2.0160000e-01   2.2274563e+01   1.1965536e+03   177.5801
 610  139     .       4       2.6100000e-01   2.1570232e+01   1.1965536e+03   177.5801
 611  141     .       4       3.1300000e+00   1.0177836e+01   1.1965536e+03   177.5801
 612  143     .       4       5.6700000e+00   1.0573568e+00   1.1965536e+03   177.5801
 613  144     .       4       5.8800000e+00   8.6867399e+00   1.1965536e+03   177.5801
 614  147     .       4       3.8700000e+00   9.0736094e+00   1.1965536e+03   177.5801
 615  149     .       4       0.0000000e+00   1.0468437e+01   1.1965536e+03   177.5801
 616  150     .       4       0.0000000e+00   7.5637379e+00   1.1965536e+03   177.5801
 617  154     .       4       8.1000000e-01   2.0270221e+00   1.1965536e+03   177.5801
 618  101     .       5       6.8900000e-01   4.0407958e+00   1.1990781e+03   185.3895
 619  102     .       5       6.8900000e-01   7.6381218e-01   1.1990781e+03   185.3895
 620  105     .       5       1.0164000e+00   2.9458693e+01   1.1990781e+03   185.3895
 621  106     .       5       3.4300000e+00   4.1069770e+00   1.1990781e+03   185.3895
 622  107     .       5       1.3440000e+00   1.2301568e+01   1.1990781e+03   185.3895
 623  108     .       5       3.1400000e+00   2.4313002e+01   1.1990781e+03   185.3895
 624  110     .       5       3.6100000e+00   3.1376729e+00   1.1990781e+03   185.3895
 625  112     .       5       9.4600000e-01   4.1112347e+01   1.1990781e+03   185.3895
 626  113     .       5       3.6500000e+00   4.8485947e+01   1.1990781e+03   185.3895
 627  115     .       5       3.7800000e+00   1.0710313e+01   1.1990781e+03   185.3895
 628  116     .       5       3.3900000e+00   9.4511204e+00   1.1990781e+03   185.3895
 629  117     .       5       1.7982000e+00   1.5816662e+00   1.1990781e+03   185.3895
 630  119     .       5       1.2210000e+00   6.3593042e-01   1.1990781e+03   185.3895
 631  121     .       5       1.4835000e+00   5.8965415e-01   1.1990781e+03   185.3895
 632  122     .       5       6.1610000e-01   5.3202186e+00   1.1990781e+03   185.3895
 633  123     .       5       3.7500000e+00   1.1192312e+01   1.1990781e+03   185.3895
 634  125     .       5       6.0000000e-01   1.4568789e+01   1.1990781e+03   185.3895
 635  127     .       5       8.8400000e+00   5.3701664e+01   1.1990781e+03   185.3895
 636  132     .       5       4.3310000e-01   1.0063239e+01   1.1990781e+03   185.3895
 637  134     .       5       4.9400000e-01   6.2435970e+00   1.1990781e+03   185.3895
 638  136     .       5       1.6380000e-01   3.0667372e+01   1.1990781e+03   185.3895
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 639  138     .       5       2.0160000e-01   5.7353790e+01   1.1990781e+03   185.3895
 640  139     .       5       2.6100000e-01   5.3437141e+01   1.1990781e+03   185.3895
 641  141     .       5       3.1300000e+00   1.3251915e+01   1.1990781e+03   185.3895
 642  143     .       5       5.6700000e+00   3.4143331e+00   1.1990781e+03   185.3895
 643  144     .       5       5.8800000e+00   6.7711411e+00   1.1990781e+03   185.3895
 644  147     .       5       3.8700000e+00   7.0686479e+00   1.1990781e+03   185.3895
 645  150     .       5       0.0000000e+00   1.1024207e+01   1.1990781e+03   185.3895
 646  105     .       6       1.0164000e+00   1.8644341e+01   1.2242120e+03   70.54631
 647  107     .       6       1.3440000e+00   1.8925470e+01   1.2242120e+03   70.54631
 648  113     .       6       3.6500000e+00   8.3172943e+01   1.2242120e+03   70.54631
 649  116     .       6       3.3900000e+00   3.6620804e+01   1.2242120e+03   70.54631
 650  123     .       6       3.7500000e+00   7.7312818e+00   1.2242120e+03   70.54631
 651  127     .       6       8.8400000e+00   4.0946838e+01   1.2242120e+03   70.54631
 652  135     .       6       3.6400000e-01   1.3410173e+01   1.2242120e+03   70.54631
 653  136     .       6       1.6380000e-01   1.0148742e+01   1.2242120e+03   70.54631
 654  139     .       6       2.6100000e-01   6.7664413e+01   1.2242120e+03   70.54631
 655  141     .       6       3.1300000e+00   5.8535866e+01   1.2242120e+03   70.54631
 656  146     .       6       5.7300000e+00   1.2962561e+01   1.2242120e+03   70.54631
 657  147     .       6       3.8700000e+00   4.7107434e+00   1.2242120e+03   70.54631
 658  150     .       6       0.0000000e+00   8.3899212e+00   1.2242120e+03   70.54631
 659  105     .       7       1.0164000e+00   1.8929586e+01   1.1787581e+03   66.68905
 660  107     .       7       1.3440000e+00   1.5140796e+01   1.1787581e+03   66.68905
 661  108     .       7       3.1400000e+00   5.5937548e+00   1.1787581e+03   66.68905
 662  111     .       7       3.6500000e+00   9.8777657e+00   1.1787581e+03   66.68905
 663  113     .       7       3.6500000e+00   8.8608841e+01   1.1787581e+03   66.68905
 664  115     .       7       3.7800000e+00   5.9167075e+00   1.1787581e+03   66.68905
 665  116     .       7       3.3900000e+00   3.8974953e+01   1.1787581e+03   66.68905
 666  123     .       7       3.7500000e+00   7.9784722e+00   1.1787581e+03   66.68905
 667  127     .       7       8.8400000e+00   3.2450188e+01   1.1787581e+03   66.68905
 668  132     .       7       4.3310000e-01   4.2217989e+00   1.1787581e+03   66.68905
 669  135     .       7       3.6400000e-01   9.2374115e+00   1.1787581e+03   66.68905
 670  136     .       7       1.6380000e-01   9.8778753e+00   1.1787581e+03   66.68905
 671  138     .       7       2.0160000e-01   1.1607702e+01   1.1787581e+03   66.68905
 672  139     .       7       2.6100000e-01   5.9620014e+01   1.1787581e+03   66.68905
 673  141     .       7       3.1300000e+00   3.9385883e+01   1.1787581e+03   66.68905
 674  145     .       7       8.1000000e-01   2.0426968e+01   1.1787581e+03   66.68905
 675  146     .       7       5.7300000e+00   9.5867405e+00   1.1787581e+03   66.68905
 676  147     .       7       3.8700000e+00   3.2185292e+00   1.1787581e+03   66.68905
 677  150     .       7       0.0000000e+00   9.5875893e+00   1.1787581e+03   66.68905
 678  101     .       8       6.8900000e-01   2.5724234e+01   1.2783671e+03   312.385
 679  102     .       8       6.8900000e-01   4.9774346e+00   1.2783671e+03   312.385
 680  105     .       8       1.0164000e+00   2.4993366e+01   1.2783671e+03   312.385
 681  107     .       8       1.3440000e+00   1.9339634e+01   1.2783671e+03   312.385
 682  108     .       8       3.1400000e+00   2.2559900e+01   1.2783671e+03   312.385
 683  109     .       8       6.4680000e-01   1.1642783e+01   1.2783671e+03   312.385
 684  110     .       8       3.6100000e+00   7.0321431e+00   1.2783671e+03   312.385
 685  113     .       8       3.6500000e+00   4.9117283e+01   1.2783671e+03   312.385
 686  114     .       8       2.6600000e+00   1.9648798e+01   1.2783671e+03   312.385
 687  115     .       8       3.7800000e+00   7.1822200e+00   1.2783671e+03   312.385
 688  117     .       8       1.7982000e+00   8.3843174e+00   1.2783671e+03   312.385
 689  123     .       8       3.7500000e+00   2.8585403e+00   1.2783671e+03   312.385
 690  125     .       8       6.0000000e-01   4.1428955e+01   1.2783671e+03   312.385
 691  127     .       8       8.8400000e+00   3.7235817e+01   1.2783671e+03   312.385
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 692  131     .       8       6.2080000e-01   9.7792730e+00   1.2783671e+03   312.385
 693  135     .       8       3.6400000e-01   2.2260450e+01   1.2783671e+03   312.385
 694  136     .       8       1.6380000e-01   4.3348618e+01   1.2783671e+03   312.385
 695  137     .       8       2.6400000e-01   9.4376507e+00   1.2783671e+03   312.385
 696  138     .       8       2.0160000e-01   2.5692577e+01   1.2783671e+03   312.385
 697  140     .       8       1.0300000e+00   2.2659639e+01   1.2783671e+03   312.385
 698  141     .       8       3.1300000e+00   7.1116493e+01   1.2783671e+03   312.385
 699  143     .       8       5.6700000e+00   3.0884142e+00   1.2783671e+03   312.385
 700  144     .       8       5.8800000e+00   1.1686922e+01   1.2783671e+03   312.385
 701  147     .       8       3.8700000e+00   9.9545259e+00   1.2783671e+03   312.385
 702  150     .       8       0.0000000e+00   1.9648321e+01   1.2783671e+03   312.385
 703  101     .       9       6.8900000e-01   3.1804340e+01   1.2511599e+03   315.4965
 704  102     .       9       6.8900000e-01   8.7837257e+00   1.2511599e+03   315.4965
 705  103     .       9       6.8900000e-01   4.7446346e+00   1.2511599e+03   315.4965
 706  105     .       9       1.0164000e+00   2.4598902e+01   1.2511599e+03   315.4965
 707  107     .       9       1.3440000e+00   2.3116268e+01   1.2511599e+03   315.4965
 708  108     .       9       3.1400000e+00   3.9234154e+01   1.2511599e+03   315.4965
 709  109     .       9       6.4680000e-01   7.8692088e+00   1.2511599e+03   315.4965
 710  110     .       9       3.6100000e+00   3.2229588e+00   1.2511599e+03   315.4965
 711  112     .       9       9.4600000e-01   3.1341261e+01   1.2511599e+03   315.4965
 712  113     .       9       3.6500000e+00   5.1148964e+01   1.2511599e+03   315.4965
 713  115     .       9       3.7800000e+00   3.3004993e+01   1.2511599e+03   315.4965
 714  117     .       9       1.7982000e+00   6.9551458e+00   1.2511599e+03   315.4965
 715  119     .       9       1.2210000e+00   1.1091211e+00   1.2511599e+03   315.4965
 716  123     .       9       3.7500000e+00   4.4513502e+00   1.2511599e+03   315.4965
 717  125     .       9       6.0000000e-01   4.7652859e+01   1.2511599e+03   315.4965
 718  127     .       9       8.8400000e+00   1.0612845e+01   1.2511599e+03   315.4965
 719  131     .       9       6.2080000e-01   8.3373823e+00   1.2511599e+03   315.4965
 720  134     .       9       4.9400000e-01   2.0788527e+01   1.2511599e+03   315.4965
 721  136     .       9       1.6380000e-01   2.9774473e+01   1.2511599e+03   315.4965
 722  138     .       9       2.0160000e-01   4.6944607e+01   1.2511599e+03   315.4965
 723  140     .       9       1.0300000e+00   2.9346416e+01   1.2511599e+03   315.4965
 724  141     .       9       3.1300000e+00   9.5840378e+01   1.2511599e+03   315.4965
 725  143     .       9       5.6700000e+00   5.0266294e+00   1.2511599e+03   315.4965
 726  144     .       9       5.8800000e+00   9.0632000e+00   1.2511599e+03   315.4965
 727  147     .       9       3.8700000e+00   4.8626318e+00   1.2511599e+03   315.4965
 728  150     .       9       0.0000000e+00   1.7957996e+01   1.2511599e+03   315.4965
 729  154     .       9       8.1000000e-01   8.2818317e+00   1.2511599e+03   315.4965
 730          .                               1.2533151e+03   0
****          $409
**** LINE    221 INCLUDE     C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\quan_flex.inc
**** LINE     69 INPUT       C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\new\190a_revpref13_r.gms
 731  ;
 732   
 733    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 734                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 735                         quan(cod,reg,'povline_a_flex5');
 736   
 737    chkshr(reg)=sum(cod,shr(cod,reg));
 738   
 739  loop(reg,
 740    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 741  );
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 742   
 743   
 744  *turn on dynamic sets to indicate positive quantities and existence of
 745  *price info for each region
 746   
 747   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 748                        AND price(cod,reg,'count') gt 4) = yes;
 749   
 750   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 751   
 752   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 753   display shrmiss;
 754   
 755    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 756                                             quan(cod,reg,'quan5'))/.9;
 757   
 758    display povline_ali;
 759   
 760   
 761  *boost values so shares sum to one;
 762  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 763   
 764  *fill out price matrix with maximum observed price outside of Maputo
 765   
 766  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 767           loop(r,
 768                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 769                                                price(cod,r,'price_uw5'));
 770           );
 771  );
 772   
 773  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 774   
 775  display 'should be an empty set', chkprice;
 776   
 777   
 778   
 779   
 780  Variables
 781     z                objective value
 782     q(cod,reg)       revised maximum entropy quanties in grams
 783     s(cod,reg)       derived maximum entropy shares
 784     povline(regq,reg)  estimated revealed preference matrix
 785  ;
 786   
 787   
 788  Equations
 789     obj              objective equation
 790     rev(regq,reg)    revealed preference tests
 791     deflin(regq,reg) define revealed preference matrix
 792     defshr(cod,regq) define the endogenous budget shares
 793     cals(regq)       ensure that each bundle hits the calorie
 794   
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 795  ;
 796   
 797     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 798                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 799   
 800     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 801                            q(cod,rq)*price(cod,r,'price_uw5'));
 802   
 803     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 804   
 805     defshr(cod,rq)$posquan(cod,rq) ..
 806               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 807   
 808     cals(rq) .. sum(cod$posquan(cod,rq),
 809                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 810   
 811  *set bounds and starting values for variables
 812   
 813    q.lo(cod,reg)=.00001;
 814    q.up(cod,reg)=inf;
 815    q.l(cod,reg)=quan(cod,reg,'quan5');
 816    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 817   
 818    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 819                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 820   
 821   
 822    display povline.l;
 823   
 824  *print the revealed preference matrix prior to optimisation;
 825  file povline_rp /C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\povline_rp_inout.csv/;
 826  put povline_rp;
 827  povline_rp.pc=5;
 828  povline_rp.nd=0;
 829  put " ";
 830  loop(reg,
 831        put reg.tl;
 832  );
 833  put /;
 834  loop(regq,
 835       put regq.tl;
 836       loop(reg,
 837           put povline.l(regq,reg);
 838       );
 839       put /;
 840  );
 841  put /; put /; put /;
 842   
 843     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 844     s.lo(cod,regq)=.0001;
 845     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 846   
 847   
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 848     model revpref /obj, deflin, rev, defshr, cals/;
 849   
 850     revpref.holdfixed=1;
 851   
 852     option limrow=100;
 853   
 854     option nlp=conopt;
 855   
 856     solve revpref using nlp minimizing z;
****                                         $257
**** LINE    195 INPUT       C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\new\190a_revpref13_r.gms
 857   
 858     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 859     display "this is without adjustment for calorie target or 90%", povline.l;
 860   
 861  put /;
 862  loop(rq,
 863       put rq.tl;
 864       loop(r,
 865           put povline.l(rq,r);
 866       );
 867       put /;
 868  );
 869  put /;
 870   
 871   
 872  PARAMETERS
 873     qent(cod,reg)  entropy quantities with all adjustments accounted for
 874     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 875    ;
 876  *readjust quantities to hit regional calorie target and calculate line;
 877     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 878   
 879     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 880                                             qent(cod,r))/.9;
 881   
 882     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 883   
 884     display perc_chng, povline_ent, povline_ali;
 885   
 886     file res /C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\qent.csv/;
 887   
 888     put res;
 889     res.pc=5;
 890     res.nd=6;
 891   
 892  *recall that the basket reflects 90% of expenditure and 95% of calories";
 893     put "spdomain" ;
 894     put "product" ;
 895     put "quan5";
 896     put "qent";
 897     put "price";
 898     put "calperg";
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 899   
 900     put /;
 901   
 902     loop(reg,
 903         loop(cod,
 904             put reg.tl;
 905             put cod.tl;
 906             put quan(cod,reg,'quan5');
 907             put qent(cod,reg);
 908             put price(cod,reg,'price_uw5')
 909             put quan(cod,reg,'calperg');
 910             put /;
 911         );
 912     );
 913   
 914     file lin /C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\povline_food_ent.csv/;
 915   
 916     put lin;
 917     lin.pc=5;
 918  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 919   
 920     put "spdomain";
 921     put "flex";
 922     put "ent";
 923     put /;
 924   
 925     loop(reg,
 926           put reg.tl;
 927           put povline_ali(reg);
 928           put povline_ent(reg);
 929           put /;
 930     );
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Error Messages


257  Solve statement not checked because of previous errors
409  Unrecognizable item - skip to find a new statement
       looking for a ';' or a key word to get started again

**** 2 ERROR(S)   0 WARNING(S)
GAMS Rev 240  WEX-VS8 24.0.2 x86/MS Windows                                                                                                                                                                                           06/25/13 11:33:41 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\new\190a_revpref13_r.gms
     2       19 INCLUDE        1      19  .C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\product_flex.inc
     3      110 INCLUDE        1      64  .C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\price_unit_flex.inc
     4      509 INCLUDE        1      69  .C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\work\quan_flex.inc


COMPILATION TIME     =        0.078 SECONDS      3 Mb  WIN240-240 Feb 14, 2013


USER: GAMS Development Corporation, Washington, DC   G871201/0000CA-ANY
      Free Demo,  202-342-0180,  sales@gams.com,  www.gams.com   DC0000


**** FILE SUMMARY

Input      C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\new\190a_revpref13_r.gms
Output     C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNHS_2005\GAPP2\rep\190_revpref.lst

**** USER ERROR(S) ENCOUNTERED
