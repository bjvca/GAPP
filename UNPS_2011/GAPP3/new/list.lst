GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/product_flex.inc
  20  101
  21  103
  22  105
  23  107
  24  108
  25  109
  26  110
  27  111
  28  112
  29  113
  30  114
  31  115
  32  116
  33  117
  34  118
  35  119
  36  120
  37  121
  38  122
  39  123
  40  125
  41  127
  42  132
  43  134
  44  135
  45  136
  46  137
  47  138
  48  139
  49  140
  50  141
  51  143
  52  144
  53  146
  54  147
  55  149
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  150
  57  162
  58  166
  59  171
  60  /
  61   
  62   reg        4 spatial domains /1*4/
  63   r(reg)     all included spatial regions /1*4/
  64   
  65   ptit       price table titles
  66  /
  67    count      number of observations making up the price average
  68    price_uw5  average price
  69  /
  70   
  71   qtit       quantity table titles
  72  /
  73    calperg          calories per gram
  74    quan5            quantities in grams
  75    calpp            calories per person by region
  76    povline_a_flex5    value of flexible food bundle
  77  /
  78   
  79   
  80    posquan(cod,reg)  mark positive quantities in each region
  81    posprice(cod,reg) mark the existence of acceptable price info in each region
  82    chkprice(cod,reg) ensure that prices exist once all estimated
  83  ;
  84   
  85  alias(reg,regq);
  86  alias(r,rq);
  87   
  88  SCALAR
  89     caltarg single level of calories to target across regions / 2150 /
  90   ;
  91   
  92  PARAMETERS
  93   
  94    shr(cod,reg)         shares in each basket by region
  95    chkshr(reg)          check that the calculated shares sum to .9
  96    shrmiss(regq,reg)    shares missing in each region pair
  97    povline_ali(reg)       food poverty line
  98    perc_chng(reg)       percent change in line
  99    finmiss(reg)         final missing shares post optimization procedure
 100   ;
 101   
 102  Table  price(cod,reg,ptit)  price and related information
 103                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/price_unit_flex.inc
 105  101     .       1       118     3.934669
 106  101     .       2       70      3.330662
 107  101     .       3       15      3.859804
 108  101     .       4       220     3.939537
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  103     .       1       31      1.367135
 110  103     .       2       1       .3544743
 111  103     .       3       5       .5924933
 112  103     .       4       4       1.117097
 113  105     .       1       28      2.234773
 114  105     .       2       23      2.555068
 115  105     .       3       3       .5264764
 116  105     .       4       103     3.587948
 117  107     .       1       67      1.463222
 118  107     .       2       37      .9772839
 119  107     .       3       48      .6371206
 120  107     .       4       44      1.218526
 121  108     .       1       38      .8445184
 122  108     .       2       132     .7282348
 123  108     .       3       71      1.243016
 124  108     .       4       97      .2914833
 125  109     .       1       25      1.503232
 126  109     .       2       6       .5801657
 127  109     .       3       2       .8021483
 128  109     .       4       48      3.400762
 129  110     .       1       63      2.164459
 130  110     .       2       34      1.94066
 131  110     .       3       17      1.274973
 132  110     .       4       32      1.866577
 133  111     .       1       5       .6462106
 134  111     .       2       7       .4912
 135  111     .       3       23      .6143493
 136  111     .       4       9       1.127392
 137  112     .       1       19      .2067026
 138  112     .       2       36      .2099703
 139  112     .       3       33      .1401365
 140  112     .       4       18      .7550601
 141  113     .       1       168     1.347873
 142  113     .       2       125     1.091121
 143  113     .       3       58      .5436692
 144  113     .       4       147     1.147976
 145  114     .       1       42      .5979657
 146  114     .       2       25      .1368504
 147  114     .       3       23      .118371
 148  114     .       4       10      .4676223
 149  115     .       1       21      1.170251
 150  115     .       2       37      .786184
 151  115     .       3       36      .3005755
 152  115     .       4       105     .900814
 153  116     .       1       1       1.407671
 154  116     .       2       66      .547236
 155  116     .       3       78      .4294292
 156  116     .       4       24      .6551356
 157  117     .       1       59      4.998111
 158  117     .       2       52      5.123709
 159  117     .       3       32      4.748762
 160  117     .       4       82      5.588681
 161  118     .       1       20      4.005375
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  118     .       2       17      4.292758
 163  118     .       3       18      4.05632
 164  118     .       4       9       5.192665
 165  119     .       1       10      6.148167
 166  119     .       2       19      5.332825
 167  119     .       3       15      4.871663
 168  119     .       4       13      6.052018
 169  120     .       1       1       3.519177
 170  120     .       3       8       .4464107
 171  120     .       4       1       5.475679
 172  121     .       1       10      8.49475
 173  121     .       2       15      7.059546
 174  121     .       3       25      5.486936
 175  121     .       4       5       10.23698
 176  122     .       1       37      1.58701
 177  122     .       2       49      .8483808
 178  122     .       3       30      1.198901
 179  122     .       4       14      1.580441
 180  123     .       1       41      1.112224
 181  123     .       2       43      .9219515
 182  123     .       3       77      1.056154
 183  123     .       4       22      1.636253
 184  125     .       1       81      .5247972
 185  125     .       2       81      .4365637
 186  125     .       3       30      .2667266
 187  125     .       4       95      .4418164
 188  127     .       1       171     .1541139
 189  127     .       2       154     .1396835
 190  127     .       3       170     .2748168
 191  127     .       4       63      .4583513
 192  132     .       1       36      .2280406
 193  132     .       2       47      .2112197
 194  132     .       3       42      .1149374
 195  132     .       4       45      .1267492
 196  134     .       1       27      .4825185
 197  134     .       2       9       .8581153
 198  134     .       3       2       .4004017
 199  134     .       4       19      .9476517
 200  135     .       1       191     .271077
 201  135     .       2       157     .1891527
 202  135     .       3       166     .1497197
 203  135     .       4       184     .3915389
 204  136     .       1       198     .2126916
 205  136     .       2       169     .2255262
 206  136     .       3       120     .255756
 207  136     .       4       180     .4267493
 208  137     .       1       77      .4274805
 209  137     .       2       89      .4305439
 210  137     .       3       55      .727411
 211  137     .       4       56      .4345875
 212  138     .       1       76      .1949726
 213  138     .       2       133     .3034219
 214  138     .       3       60      .1574723
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  138     .       4       168     .1974602
 216  139     .       1       33      .3179986
 217  139     .       2       96      .2546503
 218  139     .       3       160     .210293
 219  139     .       4       27      .2808501
 220  140     .       1       49      .8034931
 221  140     .       2       40      .5437353
 222  140     .       3       21      .5183733
 223  140     .       4       81      .5846478
 224  141     .       1       140     1.474607
 225  141     .       2       83      1.088823
 226  141     .       3       190     .628785
 227  141     .       4       252     .9637048
 228  143     .       1       15      1.988025
 229  143     .       2       44      1.224401
 230  143     .       3       19      .7189793
 231  143     .       4       6       2.014511
 232  144     .       1       111     2.015743
 233  144     .       2       52      .7517834
 234  144     .       3       8       .4043301
 235  144     .       4       133     1.254017
 236  146     .       1       3       2.427495
 237  146     .       2       13      1.16446
 238  146     .       3       87      .7919499
 239  146     .       4       1       .1123705
 240  147     .       1       171     2.79734
 241  147     .       2       143     2.349106
 242  147     .       3       86      1.087019
 243  147     .       4       90      3.110978
 244  149     .       1       217     .1618762
 245  149     .       2       140     .1177278
 246  149     .       3       92      .1067172
 247  149     .       4       105     .2358844
 248  150     .       1       247     .3959702
 249  150     .       2       254     .3096718
 250  150     .       3       247     .3681626
 251  150     .       4       336     .4421334
 252  162     .       1       2       2.27854
 253  162     .       2       23      .7523152
 254  162     .       3       36      .5865388
 255  162     .       4       6       1.20809
 256  166     .       1       36      .1348671
 257  166     .       2       21      .1447973
 258  166     .       3       17      .12176
 259  166     .       4       101     .1374505
 260  171     .       1       58      .359049
 261  171     .       2       31      .4422564
 262  171     .       3       29      .311633
 263  171     .       4       36      .3326692
 264  ;
 265   
 266  Table   quan(cod,reg,qtit)   quantity and related information
 267                             calperg          quan5           calpp      povline_a_flex5
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/quan_flex.inc
 269  101     .       1       6.8900000e-01   1.9789577e+01   1.7717268e+03   634.131
 270  103     .       1       6.8900000e-01   5.6499481e+00   1.7717268e+03   634.131
 271  105     .       1       1.0164000e+00   5.0253906e+00   1.7717268e+03   634.131
 272  107     .       1       1.3440000e+00   1.8379868e+01   1.7717268e+03   634.131
 273  108     .       1       3.1400000e+00   1.8893562e+01   1.7717268e+03   634.131
 274  110     .       1       3.6100000e+00   7.6515493e+00   1.7717268e+03   634.131
 275  113     .       1       3.6500000e+00   7.6589630e+01   1.7717268e+03   634.131
 276  114     .       1       2.6600000e+00   1.2923411e+01   1.7717268e+03   634.131
 277  117     .       1       1.7982000e+00   4.7265067e+00   1.7717268e+03   634.131
 278  118     .       1       2.3534000e+00   1.4397233e+00   1.7717268e+03   634.131
 279  122     .       1       6.1610000e-01   7.4719124e+00   1.7717268e+03   634.131
 280  123     .       1       3.7500000e+00   5.8865237e+00   1.7717268e+03   634.131
 281  125     .       1       6.0000000e-01   3.0067505e+01   1.7717268e+03   634.131
 282  127     .       1       8.8400000e+00   9.5458771e+01   1.7717268e+03   634.131
 283  132     .       1       4.3310000e-01   2.0862179e+01   1.7717268e+03   634.131
 284  134     .       1       4.9400000e-01   1.6509544e+01   1.7717268e+03   634.131
 285  135     .       1       3.6400000e-01   3.9950188e+01   1.7717268e+03   634.131
 286  136     .       1       1.6380000e-01   7.9438744e+01   1.7717268e+03   634.131
 287  137     .       1       2.6400000e-01   1.2358974e+01   1.7717268e+03   634.131
 288  138     .       1       2.0160000e-01   4.2273235e+01   1.7717268e+03   634.131
 289  139     .       1       2.6100000e-01   4.6770386e+01   1.7717268e+03   634.131
 290  140     .       1       1.0300000e+00   3.1863136e+01   1.7717268e+03   634.131
 291  141     .       1       3.1300000e+00   3.3416759e+01   1.7717268e+03   634.131
 292  144     .       1       5.8800000e+00   1.1854314e+01   1.7717268e+03   634.131
 293  147     .       1       3.8700000e+00   1.5144861e+01   1.7717268e+03   634.131
 294  149     .       1       0.0000000e+00   3.7720383e+01   1.7717268e+03   634.131
 295  150     .       1       0.0000000e+00   2.3100069e+01   1.7717268e+03   634.131
 296  101     .       2       6.8900000e-01   1.2028116e+01   1.8197834e+03   477.6086
 297  105     .       2       1.0164000e+00   3.6495390e+00   1.8197834e+03   477.6086
 298  107     .       2       1.3440000e+00   8.0837345e+00   1.8197834e+03   477.6086
 299  108     .       2       3.1400000e+00   8.1242714e+01   1.8197834e+03   477.6086
 300  110     .       2       3.6100000e+00   3.2139428e+00   1.8197834e+03   477.6086
 301  112     .       2       9.4600000e-01   7.5158775e+01   1.8197834e+03   477.6086
 302  113     .       2       3.6500000e+00   5.2916317e+01   1.8197834e+03   477.6086
 303  115     .       2       3.7800000e+00   1.5097721e+01   1.8197834e+03   477.6086
 304  116     .       2       3.3900000e+00   1.4504752e+01   1.8197834e+03   477.6086
 305  117     .       2       1.7982000e+00   3.3082199e+00   1.8197834e+03   477.6086
 306  119     .       2       1.2210000e+00   9.2937821e-01   1.8197834e+03   477.6086
 307  121     .       2       1.4835000e+00   8.4737414e-01   1.8197834e+03   477.6086
 308  122     .       2       6.1610000e-01   1.2037178e+01   1.8197834e+03   477.6086
 309  123     .       2       3.7500000e+00   7.8951941e+00   1.8197834e+03   477.6086
 310  125     .       2       6.0000000e-01   3.9863312e+01   1.8197834e+03   477.6086
 311  127     .       2       8.8400000e+00   8.4693527e+01   1.8197834e+03   477.6086
 312  132     .       2       4.3310000e-01   3.8847729e+01   1.8197834e+03   477.6086
 313  135     .       2       3.6400000e-01   2.4350550e+01   1.8197834e+03   477.6086
 314  136     .       2       1.6380000e-01   4.6639408e+01   1.8197834e+03   477.6086
 315  137     .       2       2.6400000e-01   2.0946236e+01   1.8197834e+03   477.6086
 316  138     .       2       2.0160000e-01   6.6943314e+01   1.8197834e+03   477.6086
 317  139     .       2       2.6100000e-01   6.8890335e+01   1.8197834e+03   477.6086
 318  140     .       2       1.0300000e+00   1.9673054e+01   1.8197834e+03   477.6086
 319  141     .       2       3.1300000e+00   1.3281424e+01   1.8197834e+03   477.6086
 320  143     .       2       5.6700000e+00   7.0225329e+00   1.8197834e+03   477.6086
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  144     .       2       5.8800000e+00   6.5950856e+00   1.8197834e+03   477.6086
 322  147     .       2       3.8700000e+00   1.0337393e+01   1.8197834e+03   477.6086
 323  150     .       2       0.0000000e+00   1.9439220e+01   1.8197834e+03   477.6086
 324  101     .       3       6.8900000e-01   1.5341831e+00   1.8453798e+03   368.3683
 325  107     .       3       1.3440000e+00   1.1015484e+01   1.8453798e+03   368.3683
 326  108     .       3       3.1400000e+00   1.8730743e+01   1.8453798e+03   368.3683
 327  111     .       3       3.6500000e+00   1.0984295e+01   1.8453798e+03   368.3683
 328  112     .       3       9.4600000e-01   2.4570597e+01   1.8453798e+03   368.3683
 329  113     .       3       3.6500000e+00   4.2714039e+01   1.8453798e+03   368.3683
 330  115     .       3       3.7800000e+00   1.6470776e+01   1.8453798e+03   368.3683
 331  116     .       3       3.3900000e+00   5.4114845e+01   1.8453798e+03   368.3683
 332  117     .       3       1.7982000e+00   2.1313992e+00   1.8453798e+03   368.3683
 333  118     .       3       2.3534000e+00   2.4066789e+00   1.8453798e+03   368.3683
 334  119     .       3       1.2210000e+00   1.1557237e+00   1.8453798e+03   368.3683
 335  121     .       3       1.4835000e+00   1.5758007e+00   1.8453798e+03   368.3683
 336  122     .       3       6.1610000e-01   5.4854913e+00   1.8453798e+03   368.3683
 337  123     .       3       3.7500000e+00   1.3188678e+01   1.8453798e+03   368.3683
 338  127     .       3       8.8400000e+00   6.2368347e+01   1.8453798e+03   368.3683
 339  132     .       3       4.3310000e-01   5.4147598e+01   1.8453798e+03   368.3683
 340  135     .       3       3.6400000e-01   3.7500645e+01   1.8453798e+03   368.3683
 341  136     .       3       1.6380000e-01   2.5459236e+01   1.8453798e+03   368.3683
 342  137     .       3       2.6400000e-01   6.8348594e+00   1.8453798e+03   368.3683
 343  138     .       3       2.0160000e-01   4.0047298e+01   1.8453798e+03   368.3683
 344  139     .       3       2.6100000e-01   8.5223953e+01   1.8453798e+03   368.3683
 345  140     .       3       1.0300000e+00   1.4026157e+01   1.8453798e+03   368.3683
 346  141     .       3       3.1300000e+00   1.1766397e+02   1.8453798e+03   368.3683
 347  146     .       3       5.7300000e+00   1.6834047e+01   1.8453798e+03   368.3683
 348  147     .       3       3.8700000e+00   1.1234264e+01   1.8453798e+03   368.3683
 349  150     .       3       0.0000000e+00   2.0509029e+01   1.8453798e+03   368.3683
 350  101     .       4       6.8900000e-01   4.8339458e+01   1.9255543e+03   978.6431
 351  105     .       4       1.0164000e+00   2.0405420e+01   1.9255543e+03   978.6431
 352  107     .       4       1.3440000e+00   1.2971322e+01   1.9255543e+03   978.6431
 353  108     .       4       3.1400000e+00   1.3231374e+02   1.9255543e+03   978.6431
 354  109     .       4       6.4680000e-01   1.2476979e+01   1.9255543e+03   978.6431
 355  110     .       4       3.6100000e+00   4.8819289e+00   1.9255543e+03   978.6431
 356  113     .       4       3.6500000e+00   5.2524834e+01   1.9255543e+03   978.6431
 357  115     .       4       3.7800000e+00   4.6833099e+01   1.9255543e+03   978.6431
 358  116     .       4       3.3900000e+00   2.0467548e+01   1.9255543e+03   978.6431
 359  117     .       4       1.7982000e+00   6.0798120e+00   1.9255543e+03   978.6431
 360  119     .       4       1.2210000e+00   1.2260990e+00   1.9255543e+03   978.6431
 361  123     .       4       3.7500000e+00   4.2536168e+00   1.9255543e+03   978.6431
 362  125     .       4       6.0000000e-01   8.5445404e+01   1.9255543e+03   978.6431
 363  132     .       4       4.3310000e-01   6.2663231e+01   1.9255543e+03   978.6431
 364  135     .       4       3.6400000e-01   2.5472893e+01   1.9255543e+03   978.6431
 365  136     .       4       1.6380000e-01   3.8291729e+01   1.9255543e+03   978.6431
 366  138     .       4       2.0160000e-01   9.2344864e+01   1.9255543e+03   978.6431
 367  140     .       4       1.0300000e+00   7.3562820e+01   1.9255543e+03   978.6431
 368  141     .       4       3.1300000e+00   1.6212798e+02   1.9255543e+03   978.6431
 369  144     .       4       5.8800000e+00   2.3009714e+01   1.9255543e+03   978.6431
 370  147     .       4       3.8700000e+00   4.9179535e+00   1.9255543e+03   978.6431
 371  150     .       4       0.0000000e+00   3.0107958e+01   1.9255543e+03   978.6431
 372  ;
 373   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 375                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 376                         quan(cod,reg,'povline_a_flex5');
 377   
 378    chkshr(reg)=sum(cod,shr(cod,reg));
 379   
 380  loop(reg,
 381    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 382  );
 383   
 384   
 385  *turn on dynamic sets to indicate positive quantities and existence of
 386  *price info for each region
 387   
 388   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 389                        AND price(cod,reg,'count') gt 4) = yes;
 390   
 391   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 392   
 393   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 394   display shrmiss;
 395   
 396    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 397                                             quan(cod,reg,'quan5'))/.9;
 398   
 399    display povline_ali;
 400   
 401   
 402  *boost values so shares sum to one;
 403  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 404   
 405  *fill out price matrix with maximum observed price outside of Maputo
 406   
 407  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 408           loop(r,
 409                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 410                                                price(cod,r,'price_uw5'));
 411           );
 412  );
 413   
 414  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 415   
 416  display 'should be an empty set', chkprice;
 417   
 418   
 419   
 420   
 421  Variables
 422     z                objective value
 423     q(cod,reg)       revised maximum entropy quanties in grams
 424     s(cod,reg)       derived maximum entropy shares
 425     povline(regq,reg)  estimated revealed preference matrix
 426  ;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:02:15 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427   
 428   
 429  Equations
 430     obj              objective equation
 431     rev(regq,reg)    revealed preference tests
 432     deflin(regq,reg) define revealed preference matrix
 433     defshr(cod,regq) define the endogenous budget shares
 434     cals(regq)       ensure that each bundle hits the calorie
 435   
 436  ;
 437   
 438     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 439                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 440   
 441     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 442                            q(cod,rq)*price(cod,r,'price_uw5'));
 443   
 444     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 445   
 446     defshr(cod,rq)$posquan(cod,rq) ..
 447               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 448   
 449     cals(rq) .. sum(cod$posquan(cod,rq),
 450                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 451   
 452  *set bounds and starting values for variables
 453   
 454    q.lo(cod,reg)=.00001;
 455    q.up(cod,reg)=inf;
 456    q.l(cod,reg)=quan(cod,reg,'quan5');
 457    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 458   
 459    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 460                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 461   
 462   
 463    display povline.l;
 464   
 465  *print the revealed preference matrix prior to optimisation;
 466  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_rp_inout.csv"/;
 467  put povline_rp;
 468  povline_rp.pc=5;
 469  povline_rp.nd=0;
 470  put " ";
 471  loop(reg,
 472        put reg.tl;
 473  );
 474  put /;
 475  loop(regq,
 476       put regq.tl;
 477       loop(reg,
 478           put povline.l(regq,reg);
 479       );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480       put /;
 481  );
 482  put /; put /; put /;
 483   
 484     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 485     s.lo(cod,regq)=.0001;
 486     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 487   
 488   
 489     model revpref /obj, deflin, rev, defshr, cals/;
 490   
 491     revpref.holdfixed=1;
 492   
 493     option limrow=100;
 494   
 495     option nlp=conopt;
 496   
 497     solve revpref using nlp minimizing z;
 498   
 499     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 500     display "this is without adjustment for calorie target or 90%", povline.l;
 501   
 502  put /;
 503  loop(rq,
 504       put rq.tl;
 505       loop(r,
 506           put povline.l(rq,r);
 507       );
 508       put /;
 509  );
 510  put /;
 511   
 512   
 513  PARAMETERS
 514     qent(cod,reg)  entropy quantities with all adjustments accounted for
 515     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 516    ;
 517  *readjust quantities to hit regional calorie target and calculate line;
 518     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 519   
 520     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 521                                             qent(cod,r))/.9;
 522   
 523     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 524   
 525     display perc_chng, povline_ent, povline_ali;
 526   
 527     file res/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/qent.csv"/;
 528   
 529     put res;
 530     res.pc=5;
 531     res.nd=6;
 532   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533  *recall that the basket reflects 90% of expenditure and 95% of calories";
 534     put "spdomain" ;
 535     put "product" ;
 536     put "quan5";
 537     put "qent";
 538     put "price";
 539     put "calperg";
 540   
 541     put /;
 542   
 543     loop(reg,
 544         loop(cod,
 545             put reg.tl;
 546             put cod.tl;
 547             put quan(cod,reg,'quan5');
 548             put qent(cod,reg);
 549             put price(cod,reg,'price_uw5')
 550             put quan(cod,reg,'calperg');
 551             put /;
 552         );
 553     );
 554   
 555     file lin/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_food_ent.csv"/;
 556   
 557     put lin;
 558     lin.pc=5;
 559  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 560   
 561     put "spdomain";
 562     put "flex";
 563     put "ent";
 564     put /;
 565   
 566     loop(reg,
 567           put reg.tl;
 568           put povline_ali(reg);
 569           put povline_ent(reg);
 570           put /;
 571     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/product_flex.inc
     3      104 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/price_unit_flex.inc
     4      268 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/quan_flex.inc


COMPILATION TIME     =        0.004 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    394 PARAMETER shrmiss  shares missing in each region pair

            1           2           3           4

1                   0.012       0.030       0.012
2       0.017                   0.020
3       0.099                               0.036
4       0.014                   0.118


----    399 PARAMETER povline_ali  food poverty line

1 634.131,    2 477.609,    3 368.368,    4 978.643


----    416 should be an empty set

----    416 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    463 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     570.718     465.184     380.314     577.436
2     527.683     429.848     395.178     525.274
3     607.893     442.458     331.531     496.284
4    1055.345     832.541     701.001     880.779

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


---- obj  =E=  objective equation

obj..  z - (1)*s(101,1) - (1)*s(101,2) - (1)*s(101,3) - (1)*s(101,4) - (1)*s(103,1) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,4) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4)
     
      - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,2) - (1)*s(112,3) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2)
     
      - (1)*s(116,3) - (1)*s(116,4) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(118,3) - (1)*s(119,2) - (1)*s(119,3) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,3) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,3)
     
      - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(132,1) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(132,4) - (1)*s(134,1) - (1)*s(135,1)
     
      - (1)*s(135,2) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(137,1) - (1)*s(137,2) - (1)*s(137,3) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,1) - (1)*s(139,2)
     
      - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2)
     
      - (1)*s(147,3) - (1)*s(147,4) - (1)*s(149,1) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 3.934669*q(101,1) - 1.367135*q(103,1) - 2.234773*q(105,1) - 1.463222*q(107,1) - 0.8445184*q(108,1) - 2.164459*q(110,1) - 1.347873*q(113,1) - 0.5979657*q(114,1) - 4.998111*q(117,1) - 4.005375*q(118,1) - 1.58701*q(122,1) - 1.112224*q(123,1)
     
      - 0.5247972*q(125,1) - 0.1541139*q(127,1) - 0.2280406*q(132,1) - 0.4825185*q(134,1) - 0.271077*q(135,1) - 0.2126916*q(136,1) - 0.4274805*q(137,1) - 0.1949726*q(138,1) - 0.3179986*q(139,1) - 0.8034931*q(140,1) - 1.474607*q(141,1) - 2.015743*q(144,1)
     
      - 2.79734*q(147,1) - 0.1618762*q(149,1) - 0.3959702*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 3.330662*q(101,1) - 0.3544743*q(103,1) - 2.555068*q(105,1) - 0.9772839*q(107,1) - 0.7282348*q(108,1) - 1.94066*q(110,1) - 1.091121*q(113,1) - 0.1368504*q(114,1) - 5.123709*q(117,1) - 4.292758*q(118,1) - 0.8483808*q(122,1)
     
      - 0.9219515*q(123,1) - 0.4365637*q(125,1) - 0.1396835*q(127,1) - 0.2112197*q(132,1) - 0.8581153*q(134,1) - 0.1891527*q(135,1) - 0.2255262*q(136,1) - 0.4305439*q(137,1) - 0.3034219*q(138,1) - 0.2546503*q(139,1) - 0.5437353*q(140,1)
     
      - 1.088823*q(141,1) - 0.7517834*q(144,1) - 2.349106*q(147,1) - 0.1177278*q(149,1) - 0.3096718*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 3.859804*q(101,1) - 0.5924933*q(103,1) - 0.5264764*q(105,1) - 0.6371206*q(107,1) - 1.243016*q(108,1) - 1.274973*q(110,1) - 0.5436692*q(113,1) - 0.118371*q(114,1) - 4.748762*q(117,1) - 4.05632*q(118,1) - 1.198901*q(122,1)
     
      - 1.056154*q(123,1) - 0.2667266*q(125,1) - 0.2748168*q(127,1) - 0.1149374*q(132,1) - 0.4004017*q(134,1) - 0.1497197*q(135,1) - 0.255756*q(136,1) - 0.727411*q(137,1) - 0.1574723*q(138,1) - 0.210293*q(139,1) - 0.5183733*q(140,1) - 0.628785*q(141,1)
     
      - 0.4043301*q(144,1) - 1.087019*q(147,1) - 0.1067172*q(149,1) - 0.3681626*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 3.939537*q(101,1) - 1.117097*q(103,1) - 3.587948*q(105,1) - 1.218526*q(107,1) - 0.2914833*q(108,1) - 1.866577*q(110,1) - 1.147976*q(113,1) - 0.4676223*q(114,1) - 5.588681*q(117,1) - 5.192665*q(118,1) - 1.580441*q(122,1)
     
      - 1.636253*q(123,1) - 0.4418164*q(125,1) - 0.4583513*q(127,1) - 0.1267492*q(132,1) - 0.9476517*q(134,1) - 0.3915389*q(135,1) - 0.4267493*q(136,1) - 0.4345875*q(137,1) - 0.1974602*q(138,1) - 0.2808501*q(139,1) - 0.5846478*q(140,1)
     
      - 0.9637048*q(141,1) - 1.254017*q(144,1) - 3.110978*q(147,1) - 0.2358844*q(149,1) - 0.4421334*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 3.934669*q(101,2) - 2.234773*q(105,2) - 1.463222*q(107,2) - 0.8445184*q(108,2) - 2.164459*q(110,2) - 0.2067026*q(112,2) - 1.347873*q(113,2) - 1.170251*q(115,2) - 1.407671*q(116,2) - 4.998111*q(117,2) - 6.148167*q(119,2) - 8.49475*q(121,2)
     
      - 1.58701*q(122,2) - 1.112224*q(123,2) - 0.5247972*q(125,2) - 0.1541139*q(127,2) - 0.2280406*q(132,2) - 0.271077*q(135,2) - 0.2126916*q(136,2) - 0.4274805*q(137,2) - 0.1949726*q(138,2) - 0.3179986*q(139,2) - 0.8034931*q(140,2) - 1.474607*q(141,2)
     
      - 1.988025*q(143,2) - 2.015743*q(144,2) - 2.79734*q(147,2) - 0.3959702*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 3.330662*q(101,2) - 2.555068*q(105,2) - 0.9772839*q(107,2) - 0.7282348*q(108,2) - 1.94066*q(110,2) - 0.2099703*q(112,2) - 1.091121*q(113,2) - 0.786184*q(115,2) - 0.547236*q(116,2) - 5.123709*q(117,2) - 5.332825*q(119,2)
     
      - 7.059546*q(121,2) - 0.8483808*q(122,2) - 0.9219515*q(123,2) - 0.4365637*q(125,2) - 0.1396835*q(127,2) - 0.2112197*q(132,2) - 0.1891527*q(135,2) - 0.2255262*q(136,2) - 0.4305439*q(137,2) - 0.3034219*q(138,2) - 0.2546503*q(139,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     deflin  =E=  define revealed preference matrix     
     
      - 0.5437353*q(140,2) - 1.088823*q(141,2) - 1.224401*q(143,2) - 0.7517834*q(144,2) - 2.349106*q(147,2) - 0.3096718*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 3.859804*q(101,2) - 0.5264764*q(105,2) - 0.6371206*q(107,2) - 1.243016*q(108,2) - 1.274973*q(110,2) - 0.1401365*q(112,2) - 0.5436692*q(113,2) - 0.3005755*q(115,2) - 0.4294292*q(116,2) - 4.748762*q(117,2) - 4.871663*q(119,2)
     
      - 5.486936*q(121,2) - 1.198901*q(122,2) - 1.056154*q(123,2) - 0.2667266*q(125,2) - 0.2748168*q(127,2) - 0.1149374*q(132,2) - 0.1497197*q(135,2) - 0.255756*q(136,2) - 0.727411*q(137,2) - 0.1574723*q(138,2) - 0.210293*q(139,2) - 0.5183733*q(140,2)
     
      - 0.628785*q(141,2) - 0.7189793*q(143,2) - 0.4043301*q(144,2) - 1.087019*q(147,2) - 0.3681626*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 3.939537*q(101,2) - 3.587948*q(105,2) - 1.218526*q(107,2) - 0.2914833*q(108,2) - 1.866577*q(110,2) - 0.7550601*q(112,2) - 1.147976*q(113,2) - 0.900814*q(115,2) - 0.6551356*q(116,2) - 5.588681*q(117,2) - 6.052018*q(119,2)
     
      - 10.23698*q(121,2) - 1.580441*q(122,2) - 1.636253*q(123,2) - 0.4418164*q(125,2) - 0.4583513*q(127,2) - 0.1267492*q(132,2) - 0.3915389*q(135,2) - 0.4267493*q(136,2) - 0.4345875*q(137,2) - 0.1974602*q(138,2) - 0.2808501*q(139,2) - 0.5846478*q(140,2)
     
      - 0.9637048*q(141,2) - 2.014511*q(143,2) - 1.254017*q(144,2) - 3.110978*q(147,2) - 0.4421334*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 3.934669*q(101,3) - 1.463222*q(107,3) - 0.8445184*q(108,3) - 0.6462106*q(111,3) - 0.2067026*q(112,3) - 1.347873*q(113,3) - 1.170251*q(115,3) - 1.407671*q(116,3) - 4.998111*q(117,3) - 4.005375*q(118,3) - 6.148167*q(119,3)
     
      - 8.49475*q(121,3) - 1.58701*q(122,3) - 1.112224*q(123,3) - 0.1541139*q(127,3) - 0.2280406*q(132,3) - 0.271077*q(135,3) - 0.2126916*q(136,3) - 0.4274805*q(137,3) - 0.1949726*q(138,3) - 0.3179986*q(139,3) - 0.8034931*q(140,3) - 1.474607*q(141,3)
     
      - 2.427495*q(146,3) - 2.79734*q(147,3) - 0.3959702*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 3.330662*q(101,3) - 0.9772839*q(107,3) - 0.7282348*q(108,3) - 0.4912*q(111,3) - 0.2099703*q(112,3) - 1.091121*q(113,3) - 0.786184*q(115,3) - 0.547236*q(116,3) - 5.123709*q(117,3) - 4.292758*q(118,3) - 5.332825*q(119,3) - 7.059546*q(121,3)
     
      - 0.8483808*q(122,3) - 0.9219515*q(123,3) - 0.1396835*q(127,3) - 0.2112197*q(132,3) - 0.1891527*q(135,3) - 0.2255262*q(136,3) - 0.4305439*q(137,3) - 0.3034219*q(138,3) - 0.2546503*q(139,3) - 0.5437353*q(140,3) - 1.088823*q(141,3) - 1.16446*q(146,3)
     
      - 2.349106*q(147,3) - 0.3096718*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 3.859804*q(101,3) - 0.6371206*q(107,3) - 1.243016*q(108,3) - 0.6143493*q(111,3) - 0.1401365*q(112,3) - 0.5436692*q(113,3) - 0.3005755*q(115,3) - 0.4294292*q(116,3) - 4.748762*q(117,3) - 4.05632*q(118,3) - 4.871663*q(119,3)
     
      - 5.486936*q(121,3) - 1.198901*q(122,3) - 1.056154*q(123,3) - 0.2748168*q(127,3) - 0.1149374*q(132,3) - 0.1497197*q(135,3) - 0.255756*q(136,3) - 0.727411*q(137,3) - 0.1574723*q(138,3) - 0.210293*q(139,3) - 0.5183733*q(140,3) - 0.628785*q(141,3)
     
      - 0.7919499*q(146,3) - 1.087019*q(147,3) - 0.3681626*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 3.939537*q(101,3) - 1.218526*q(107,3) - 0.2914833*q(108,3) - 1.127392*q(111,3) - 0.7550601*q(112,3) - 1.147976*q(113,3) - 0.900814*q(115,3) - 0.6551356*q(116,3) - 5.588681*q(117,3) - 5.192665*q(118,3) - 6.052018*q(119,3)
     
      - 10.23698*q(121,3) - 1.580441*q(122,3) - 1.636253*q(123,3) - 0.4583513*q(127,3) - 0.1267492*q(132,3) - 0.3915389*q(135,3) - 0.4267493*q(136,3) - 0.4345875*q(137,3) - 0.1974602*q(138,3) - 0.2808501*q(139,3) - 0.5846478*q(140,3) - 0.9637048*q(141,3)
     
      - 0.1123705*q(146,3) - 3.110978*q(147,3) - 0.4421334*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 3.934669*q(101,4) - 2.234773*q(105,4) - 1.463222*q(107,4) - 0.8445184*q(108,4) - 1.503232*q(109,4) - 2.164459*q(110,4) - 1.347873*q(113,4) - 1.170251*q(115,4) - 1.407671*q(116,4) - 4.998111*q(117,4) - 6.148167*q(119,4) - 1.112224*q(123,4)
     
      - 0.5247972*q(125,4) - 0.2280406*q(132,4) - 0.271077*q(135,4) - 0.2126916*q(136,4) - 0.1949726*q(138,4) - 0.8034931*q(140,4) - 1.474607*q(141,4) - 2.015743*q(144,4) - 2.79734*q(147,4) - 0.3959702*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 3.330662*q(101,4) - 2.555068*q(105,4) - 0.9772839*q(107,4) - 0.7282348*q(108,4) - 0.5801657*q(109,4) - 1.94066*q(110,4) - 1.091121*q(113,4) - 0.786184*q(115,4) - 0.547236*q(116,4) - 5.123709*q(117,4) - 5.332825*q(119,4)
     
      - 0.9219515*q(123,4) - 0.4365637*q(125,4) - 0.2112197*q(132,4) - 0.1891527*q(135,4) - 0.2255262*q(136,4) - 0.3034219*q(138,4) - 0.5437353*q(140,4) - 1.088823*q(141,4) - 0.7517834*q(144,4) - 2.349106*q(147,4) - 0.3096718*q(150,4) + povline(4,2) =E= 0
      ; (LHS = 0)
     
deflin(4,3)..  - 3.859804*q(101,4) - 0.5264764*q(105,4) - 0.6371206*q(107,4) - 1.243016*q(108,4) - 0.8021483*q(109,4) - 1.274973*q(110,4) - 0.5436692*q(113,4) - 0.3005755*q(115,4) - 0.4294292*q(116,4) - 4.748762*q(117,4) - 4.871663*q(119,4)
     
      - 1.056154*q(123,4) - 0.2667266*q(125,4) - 0.1149374*q(132,4) - 0.1497197*q(135,4) - 0.255756*q(136,4) - 0.1574723*q(138,4) - 0.5183733*q(140,4) - 0.628785*q(141,4) - 0.4043301*q(144,4) - 1.087019*q(147,4) - 0.3681626*q(150,4) + povline(4,3) =E= 0 ;
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     deflin  =E=  define revealed preference matrix     
     
      (LHS = 0)
     
deflin(4,4)..  - 3.939537*q(101,4) - 3.587948*q(105,4) - 1.218526*q(107,4) - 0.2914833*q(108,4) - 3.400762*q(109,4) - 1.866577*q(110,4) - 1.147976*q(113,4) - 0.900814*q(115,4) - 0.6551356*q(116,4) - 5.588681*q(117,4) - 6.052018*q(119,4)
     
      - 1.636253*q(123,4) - 0.4418164*q(125,4) - 0.1267492*q(132,4) - 0.3915389*q(135,4) - 0.4267493*q(136,4) - 0.1974602*q(138,4) - 0.5846478*q(140,4) - 0.9637048*q(141,4) - 1.254017*q(144,4) - 3.110978*q(147,4) - 0.4421334*q(150,4) + povline(4,4) =E= 0
      ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -43.0352869555805, INFES = 43.0352869555805 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = 37.1753807873256)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 484.627235820333)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 35.3358835679018)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = 12.6100353865369)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 402.692957519034)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 48.7830156171809)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 63.6461693563728)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 369.469526851824)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -303.342634252678, INFES = 303.342634252678 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -355.504575618266, INFES = 355.504575618266 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -384.494667290587, INFES = 384.494667290587 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(101,1)..  - 3.934669*q(101,1) + (570.717942030146)*s(101,1) + (0.136434181249028)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(101,2)..  - 3.330662*q(101,2) + (429.847691893267)*s(101,2) + (0.0931994975158305)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(101,3)..  - 3.859804*q(101,3) + (331.531460027286)*s(101,3) + (0.0178614906278428)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(101,4)..  - 3.939537*q(101,4) + (880.778748336916)*s(101,4) + (0.21621216873196)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 1.367135*q(103,1) + (570.717942030146)*s(103,1) + (0.0135342543607741)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 2.234773*q(105,1) + (570.717942030146)*s(105,1) + (0.0196780342797434)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(105,2)..  - 2.555068*q(105,2) + (429.847691893267)*s(105,2) + (0.0216933125139762)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 3.587948*q(105,4) + (880.778748336916)*s(105,4) + (0.0831236970878347)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 1.463222*q(107,1) + (570.717942030146)*s(107,1) + (0.0471227996075081)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.9772839*q(107,2) + (429.847691893267)*s(107,2) + (0.0183788437805226)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.6371206*q(107,3) + (331.531460027286)*s(107,3) + (0.0211690069316281)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 1.218526*q(107,4) + (880.778748336916)*s(107,4) + (0.017945361580552)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.8445184*q(108,1) + (570.717942030146)*s(108,1) + (0.0279576995490673)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.7282348*q(108,2) + (429.847691893267)*s(108,2) + (0.137638918847418)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 1.243016*q(108,3) + (331.531460027286)*s(108,3) + (0.0702274626938023)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.2914833*q(108,4) + (880.778748336916)*s(108,4) + (0.0437876659074309)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 3.400762*q(109,4) + (880.778748336916)*s(109,4) + (0.0481746819369979)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 2.164459*q(110,1) + (570.717942030146)*s(110,1) + (0.0290186509423843)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 1.94066*q(110,2) + (429.847691893267)*s(110,2) + (0.0145101866355879)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.866577*q(110,4) + (880.778748336916)*s(110,4) + (0.0103459537569242)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.6143493*q(111,3) + (331.531460027286)*s(111,3) + (0.0203546111240487)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.2099703*q(112,2) + (429.847691893267)*s(112,2) + (0.036713261073648)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,3)..  - 0.1401365*q(112,3) + (331.531460027286)*s(112,3) + (0.0103858543807792)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.347873*q(113,1) + (570.717942030146)*s(113,1) + (0.180882861312843)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 1.091121*q(113,2) + (429.847691893267)*s(113,2) + (0.134322239738101)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.5436692*q(113,3) + (331.531460027286)*s(113,3) + (0.0700455619203908)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 1.147976*q(113,4) + (880.778748336916)*s(113,4) + (0.0684590187374947)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.5979657*q(114,1) + (570.717942030146)*s(114,1) + (0.0135404127606602)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.786184*q(115,2) + (429.847691893267)*s(115,2) + (0.0276134707956307)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.3005755*q(115,3) + (331.531460027286)*s(115,3) + (0.0149328565415196)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(115,4)..  - 0.900814*q(115,4) + (880.778748336916)*s(115,4) + (0.0478984209397026)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.547236*q(116,2) + (429.847691893267)*s(116,2) + (0.0184658952814452)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.4294292*q(116,3) + (331.531460027286)*s(116,3) + (0.0700943874061347)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(116,4)..  - 0.6551356*q(116,4) + (880.778748336916)*s(116,4) + (0.0152240495866047)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 4.998111*q(117,1) + (570.717942030146)*s(117,1) + (0.041392785102936)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 5.123709*q(117,2) + (429.847691893267)*s(117,2) + (0.039433400237538)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 4.748762*q(117,3) + (331.531460027286)*s(117,3) + (0.0305295537471991)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 5.588681*q(117,4) + (880.778748336916)*s(117,4) + (0.0385773724356195)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 4.005375*q(118,1) + (570.717942030146)*s(118,1) + (0.0101041710590429)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(118,3)..  - 4.05632*q(118,3) + (331.531460027286)*s(118,3) + (0.0294459528964297)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 5.332825*q(119,2) + (429.847691893267)*s(119,2) + (0.0115301569514392)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,3)..  - 4.871663*q(119,3) + (331.531460027286)*s(119,3) + (0.0169826911360078)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 6.052018*q(119,4) + (880.778748336916)*s(119,4) + (0.00842478685117361)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 7.059546*q(121,2) + (429.847691893267)*s(121,2) + (0.0139167357028075)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 5.486936*q(121,3) + (331.531460027286)*s(121,3) + (0.0260799309632443)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 1.58701*q(122,1) + (570.717942030146)*s(122,1) + (0.0207773381992215)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.8483808*q(122,2) + (429.847691893267)*s(122,2) + (0.0237575096807036)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,3)..  - 1.198901*q(122,3) + (331.531460027286)*s(122,3) + (0.0198369138317071)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 1.112224*q(123,1) + (570.717942030146)*s(123,1) + (0.0114717489210511)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.9219515*q(123,2) + (429.847691893267)*s(123,2) + (0.0169338725799034)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 1.056154*q(123,3) + (331.531460027286)*s(123,3) + (0.0420149418799217)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 1.636253*q(123,4) + (880.778748336916)*s(123,4) + (0.00790209035242079)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.5247972*q(125,1) + (570.717942030146)*s(125,1) + (0.0276482326433545)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.4365637*q(125,2) + (429.847691893267)*s(125,2) + (0.040486142671427)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(125,4)..  - 0.4418164*q(125,4) + (880.778748336916)*s(125,4) + (0.0428611394894658)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.1541139*q(127,1) + (570.717942030146)*s(127,1) + (0.0257772226954796)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.1396835*q(127,2) + (429.847691893267)*s(127,2) + (0.0275220467663742)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.2748168*q(127,3) + (331.531460027286)*s(127,3) + (0.0516990741766074)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(132,1)..  - 0.2280406*q(132,1) + (570.717942030146)*s(132,1) + (0.00833585816409485)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.2112197*q(132,2) + (429.847691893267)*s(132,2) + (0.0190891002087752)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1149374*q(132,3) + (331.531460027286)*s(132,3) + (0.0187722279202492)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(132,4)..  - 0.1267492*q(132,4) + (880.778748336916)*s(132,4) + (0.00901760449336707)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.4825185*q(134,1) + (570.717942030146)*s(134,1) + (0.0139581390734396)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.271077*q(135,1) + (570.717942030146)*s(135,1) + (0.018975357729167)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,2)..  - 0.1891527*q(135,2) + (429.847691893267)*s(135,2) + (0.0107153588721111)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.1497197*q(135,3) + (331.531460027286)*s(135,3) + (0.0169353017621447)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.3915389*q(135,4) + (880.778748336916)*s(135,4) + (0.011323647992041)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.2126916*q(136,1) + (570.717942030146)*s(136,1) + (0.0296047352274374)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.2255262*q(136,2) + (429.847691893267)*s(136,2) + (0.0244700824381799)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.255756*q(136,3) + (331.531460027286)*s(136,3) + (0.0196402246769586)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.4267493*q(136,4) + (880.778748336916)*s(136,4) + (0.0185528642435966)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(137,1)..  - 0.4274805*q(137,1) + (570.717942030146)*s(137,1) + (0.00925714787625853)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(137,2)..  - 0.4305439*q(137,2) + (429.847691893267)*s(137,2) + (0.0209801618290408)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(137,3)..  - 0.727411*q(137,3) + (331.531460027286)*s(137,3) + (0.0149963201398872)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.1949726*q(138,1) + (570.717942030146)*s(138,1) + (0.0144416741289792)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.3034219*q(138,2) + (429.847691893267)*s(138,2) + (0.0472541039750893)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.1574723*q(138,3) + (331.531460027286)*s(138,3) + (0.0190218452400456)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1974602*q(138,4) + (880.778748336916)*s(138,4) + (0.0207026286100147)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


     defshr  =E=  define the endogenous budget shares

defshr(139,1)..  - 0.3179986*q(139,1) + (570.717942030146)*s(139,1) + (0.0260600134920482)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.2546503*q(139,2) + (429.847691893267)*s(139,2) + (0.0408120011010935)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.210293*q(139,3) + (331.531460027286)*s(139,3) + (0.0540582204378251)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.8034931*q(140,1) + (570.717942030146)*s(140,1) + (0.0448589540207749)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.5437353*q(140,2) + (429.847691893267)*s(140,2) + (0.024885405040775)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 0.5183733*q(140,3) + (331.531460027286)*s(140,3) + (0.0219309060135943)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.5846478*q(140,4) + (880.778748336916)*s(140,4) + (0.0488299030329742)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.474607*q(141,1) + (570.717942030146)*s(141,1) + (0.0863414010840931)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 1.088823*q(141,2) + (429.847691893267)*s(141,2) + (0.0336424277637921)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.628785*q(141,3) + (331.531460027286)*s(141,3) + (0.223162348967911)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.9637048*q(141,4) + (880.778748336916)*s(141,4) + (0.177392464152118)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 1.224401*q(143,2) + (429.847691893267)*s(143,2) + (0.020003355764041)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 2.015743*q(144,1) + (570.717942030146)*s(144,1) + (0.0418687563602825)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 0.7517834*q(144,2) + (429.847691893267)*s(144,2) + (0.0115344945876554)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 1.254017*q(144,4) + (880.778748336916)*s(144,4) + (0.0327602960171566)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.7919499*q(146,3) + (331.531460027286)*s(146,3) + (0.0402125392176902)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 2.79734*q(147,1) + (570.717942030146)*s(147,1) + (0.0742316341396925)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 2.349106*q(147,2) + (429.847691893267)*s(147,2) + (0.0564935729064883)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 1.087019*q(147,3) + (331.531460027286)*s(147,3) + (0.0368346895887677)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 3.110978*q(147,4) + (880.778748336916)*s(147,4) + (0.0173705884393916)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(149,1)..  - 0.1618762*q(149,1) + (570.717942030146)*s(149,1) + (0.0106988615792669)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.3959702*q(150,1) + (570.717942030146)*s(150,1) + (0.016027074441372)*povline(1,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 497


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(101,1) + 0.689*q(103,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1)
     
      + 0.4331*q(132,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.264*q(137,1) + 0.2016*q(138,1) + 0.261*q(139,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ;
     
      (LHS = 1683.14052706964, INFES = 359.35947293036 ****)
     
cals(2)..  0.689*q(101,2) + 1.0164*q(105,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.221*q(119,2) + 1.4835*q(121,2) + 0.6161*q(122,2) + 3.75*q(123,2)
     
      + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.364*q(135,2) + 0.1638*q(136,2) + 0.264*q(137,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1728.79427235838, INFES = 313.70572764162 ****)
     
cals(3)..  0.689*q(101,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 0.946*q(112,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 2.3534*q(118,3) + 1.221*q(119,3) + 1.4835*q(121,3) + 0.6161*q(122,3) + 3.75*q(123,3)
     
      + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.264*q(137,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 1.03*q(140,3) + 3.13*q(141,3) + 5.73*q(146,3) + 3.87*q(147,3) =E= 2042.5 ;
     
      (LHS = 1753.11072869668, INFES = 289.38927130332 ****)
     
cals(4)..  0.689*q(101,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 3.65*q(113,4) + 3.78*q(115,4) + 3.39*q(116,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 3.75*q(123,4) + 0.6*q(125,4) + 0.4331*q(132,4)
     
      + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.88*q(144,4) + 3.87*q(147,4) =E= 2042.5 ; (LHS = 1829.2766339773, INFES = 213.2233660227 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 497


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(101,1)
                (.LO, .L, .UP, .M = 1E-5, 19.789577, +INF, 0)
       -3.9347  deflin(1,1)
       -3.3307  deflin(1,2)
       -3.8598  deflin(1,3)
       -3.9395  deflin(1,4)
       -3.9347  defshr(101,1)
        0.689   cals(1)

q(101,2)
                (.LO, .L, .UP, .M = 1E-5, 12.028116, +INF, 0)
       -3.9347  deflin(2,1)
       -3.3307  deflin(2,2)
       -3.8598  deflin(2,3)
       -3.9395  deflin(2,4)
       -3.3307  defshr(101,2)
        0.689   cals(2)

q(101,3)
                (.LO, .L, .UP, .M = 1E-5, 1.5341831, +INF, 0)
       -3.9347  deflin(3,1)
       -3.3307  deflin(3,2)
       -3.8598  deflin(3,3)
       -3.9395  deflin(3,4)
       -3.8598  defshr(101,3)
        0.689   cals(3)

REMAINING 100 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(101,1)
                (.LO, .L, .UP, .M = 0.0001, 0.136434181249028, +INF, 0)
      (-1)      obj
     (570.7179) defshr(101,1)

s(101,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0931994975158305, +INF, 0)
      (-1)      obj
     (429.8477) defshr(101,2)

s(101,3)
                (.LO, .L, .UP, .M = 0.0001, 0.0178614906278428, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 497


     s  derived maximum entropy shares

     (331.5315) defshr(101,3)

REMAINING 100 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 570.717942030146, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1364) defshr(101,1)
       (0.0135) defshr(103,1)
       (0.0197) defshr(105,1)
       (0.0471) defshr(107,1)
       (0.028)  defshr(108,1)
       (0.029)  defshr(110,1)
       (0.1809) defshr(113,1)
       (0.0135) defshr(114,1)
       (0.0414) defshr(117,1)
       (0.0101) defshr(118,1)
       (0.0208) defshr(122,1)
       (0.0115) defshr(123,1)
       (0.0276) defshr(125,1)
       (0.0258) defshr(127,1)
       (0.0083) defshr(132,1)
       (0.014)  defshr(134,1)
       (0.019)  defshr(135,1)
       (0.0296) defshr(136,1)
       (0.0093) defshr(137,1)
       (0.0144) defshr(138,1)
       (0.0261) defshr(139,1)
       (0.0449) defshr(140,1)
       (0.0863) defshr(141,1)
       (0.0419) defshr(144,1)
       (0.0742) defshr(147,1)
       (0.0107) defshr(149,1)
       (0.016)  defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 465.183575461169, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 380.314475644466, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 497


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          136
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          223
NON ZERO ELEMENTS           963     NON LINEAR N-Z            309
DERIVATIVE POOL              10     CONSTANT POOL             119
CODE LENGTH                 929


GENERATION TIME      =        0.026 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.027 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  497

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0536

 RESOURCE USAGE, LIMIT          0.015      1000.000
 ITERATION COUNT, LIMIT        28    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 223 variables and 136 constraints
    with 963 Jacobian elements, 309 of which are nonlinear.
    The Hessian of the Lagrangian has 103 elements on the diagonal,
    103 elements below the diagonal, and 107 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.014 seconds
   of which: Function evaluations             0.002 = 14.3%
             1st Derivative evaluations       0.002 = 14.3%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0013      
1.2          .              .              .       -1.887760E-5      
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .             EPS         
2.2          .              .              .            -0.0016      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .       -6.427152E-5      
3.1          .              .              .             EPS         
3.2          .              .              .             EPS         
3.3          .              .              .            -0.0020      
3.4          .              .              .            -0.0002      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0011      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .             0.5129        +INF            EPS         
1.3          .           140.5732        +INF             .          
1.4          .           228.6879        +INF             .          
2.1          .              .            +INF      1.8877597E-5      
2.3          .            46.5227        +INF             .          
2.4          .           154.1641        +INF             .          
3.1          .            11.9530        +INF            EPS         
3.2          .            70.0490        +INF             .          
3.4          .           222.8201        +INF             .          
4.1          .            10.8993        +INF            EPS         
4.2          .              .            +INF      6.4271522E-5      
4.3          .              .            +INF            0.0002      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1          .              .              .             0.0013      
101.2          .              .              .             0.0016      
101.3          .              .              .             0.0022      
101.4          .              .              .             0.0011      
103.1          .              .              .             0.0013      
105.1          .              .              .             0.0013      
105.2          .              .              .             0.0016      
105.4          .              .              .             0.0011      
107.1          .              .              .             0.0013      
107.2          .              .              .             0.0016      
107.3          .              .              .             0.0023      
107.4          .              .              .             0.0012      
108.1          .              .              .             0.0013      
108.2          .              .              .             0.0015      
108.3          .              .              .             0.0019      
108.4          .              .              .             0.0022      
109.4          .              .              .             0.0011      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

110.1          .              .              .             0.0013      
110.2          .              .              .             0.0016      
110.4          .              .              .             0.0013      
111.3          .              .              .             0.0020      
112.2          .              .              .             0.0017      
112.3          .              .              .             0.0027      
113.1          .              .              .             0.0013      
113.2          .              .              .             0.0016      
113.3          .              .              .             0.0019      
113.4          .              .              .             0.0014      
114.1          .              .              .             0.0013      
115.2          .              .              .             0.0016      
115.3          .              .              .             0.0017      
115.4          .              .              .             0.0015      
116.2          .              .              .             0.0015      
116.3          .              .              .             0.0017      
116.4          .              .              .             0.0016      
117.1          .              .              .             0.0013      
117.2          .              .              .             0.0016      
117.3          .              .              .             0.0023      
117.4          .              .              .             0.0011      
118.1          .              .              .             0.0013      
118.3          .              .              .             0.0023      
119.2          .              .              .             0.0016      
119.3          .              .              .             0.0023      
119.4          .              .              .             0.0011      
121.2          .              .              .             0.0017      
121.3          .              .              .             0.0024      
122.1          .              .              .             0.0013      
122.2          .              .              .             0.0017      
122.3          .              .              .             0.0023      
123.1          .              .              .             0.0013      
123.2          .              .              .             0.0016      
123.3          .              .              .             0.0021      
123.4          .              .              .             0.0013      
125.1          .              .              .             0.0013      
125.2          .              .              .             0.0016      
125.4          .              .              .             0.0012      
127.1          .              .              .             0.0010      
127.2          .              .              .             0.0006      
127.3          .              .              .            -0.0002      
132.1          .              .              .             0.0013      
132.2          .              .              .             0.0016      
132.3          .              .              .             0.0020      
132.4          .              .              .             0.0014      
134.1          .              .              .             0.0013      
135.1          .              .              .             0.0013      
135.2          .              .              .             0.0017      
135.3          .              .              .             0.0024      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

135.4          .              .              .             0.0012      
136.1          .              .              .             0.0013      
136.2          .              .              .             0.0017      
136.3          .              .              .             0.0024      
136.4          .              .              .             0.0011      
137.1          .              .              .             0.0013      
137.2          .              .              .             0.0016      
137.3          .              .              .             0.0021      
138.1          .              .              .             0.0013      
138.2          .              .              .             0.0016      
138.3          .              .              .             0.0022      
138.4          .              .              .             0.0012      
139.1          .              .              .             0.0013      
139.2          .              .              .             0.0016      
139.3          .              .              .             0.0022      
140.1          .              .              .             0.0013      
140.2          .              .              .             0.0016      
140.3          .              .              .             0.0021      
140.4          .              .              .             0.0012      
141.1          .              .              .             0.0013      
141.2          .              .              .             0.0016      
141.3          .              .              .             0.0020      
141.4          .              .              .             0.0014      
143.2          .              .              .             0.0016      
144.1          .              .              .             0.0013      
144.2          .              .              .             0.0015      
144.4          .              .              .             0.0016      
146.3          .              .              .             0.0015      
147.1          .              .              .             0.0013      
147.2          .              .              .             0.0016      
147.3          .              .              .             0.0024      
147.4          .              .              .             0.0012      
149.1          .              .              .             0.0013      
150.1          .              .              .             0.0013      
150.2          .              .              .             0.0017      
150.3          .              .              .             0.0023      
150.4          .              .              .             0.0011      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   -5.860290E-6      
2      2042.5000      2042.5000      2042.5000   -1.830130E-5      
3      2042.5000      2042.5000      2042.5000   -8.218088E-5      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0536        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

101.1   1.0000000E-5        27.2910        +INF             .          
101.2   1.0000000E-5        18.4274        +INF             .          
101.3   1.0000000E-5         2.6399        +INF            EPS         
101.4   1.0000000E-5        35.2857        +INF             .          
103.1   1.0000000E-5         7.7132        +INF            EPS         
105.1   1.0000000E-5         6.9517        +INF             .          
105.2   1.0000000E-5         5.6294        +INF             .          
105.4   1.0000000E-5        15.0275        +INF             .          
107.1   1.0000000E-5        25.1951        +INF             .          
107.2   1.0000000E-5        12.2497        +INF             .          
107.3   1.0000000E-5        19.3031        +INF             .          
107.4   1.0000000E-5        10.2139        +INF             .          
108.1   1.0000000E-5        25.6441        +INF             .          
108.2   1.0000000E-5       114.9514        +INF             .          
108.3   1.0000000E-5        26.8383        +INF             .          
108.4   1.0000000E-5       229.4625        +INF             .          
109.4   1.0000000E-5         9.1190        +INF             .          
110.1   1.0000000E-5        10.4881        +INF             .          
110.2   1.0000000E-5         4.7870        +INF             .          
110.4   1.0000000E-5         4.1141        +INF             .          
111.3   1.0000000E-5        16.2954        +INF             .          
112.2   1.0000000E-5       120.8632        +INF             .          
112.3   1.0000000E-5        52.0606        +INF             .          
113.1   1.0000000E-5       104.3530        +INF             .          
113.2   1.0000000E-5        77.7548        +INF             .          
113.3   1.0000000E-5        63.2704        +INF             .          
113.4   1.0000000E-5        49.0017        +INF             .          
114.1   1.0000000E-5        17.3208        +INF             .          
115.2   1.0000000E-5        21.8945        +INF             .          
115.3   1.0000000E-5        21.1117        +INF             .          
115.4   1.0000000E-5        47.4737        +INF             .          
116.2   1.0000000E-5        20.7422        +INF             .          
116.3   1.0000000E-5        71.5944        +INF             .          
116.4   1.0000000E-5        22.4729        +INF             .          
117.1   1.0000000E-5         6.5297        +INF             .          
117.2   1.0000000E-5         5.0409        +INF             .          
117.3   1.0000000E-5         3.7003        +INF             .          
117.4   1.0000000E-5         4.4915        +INF             .          
118.1   1.0000000E-5         1.9883        +INF             .          
118.3   1.0000000E-5         4.1908        +INF             .          
119.2   1.0000000E-5         1.4207        +INF             .          
119.3   1.0000000E-5         2.0316        +INF             .          
119.4   1.0000000E-5         0.8970        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

121.2   1.0000000E-5         1.3124        +INF             .          
121.3   1.0000000E-5         2.9637        +INF             .          
122.1   1.0000000E-5        10.2472        +INF             .          
122.2   1.0000000E-5        18.8456        +INF             .          
122.3   1.0000000E-5         9.6184        +INF             .          
123.1   1.0000000E-5         7.9984        +INF             .          
123.2   1.0000000E-5        11.8482        +INF             .          
123.3   1.0000000E-5        20.9266        +INF             .          
123.4   1.0000000E-5         3.6908        +INF             .          
125.1   1.0000000E-5        41.2735        +INF             .          
125.2   1.0000000E-5        59.8321        +INF             .          
125.4   1.0000000E-5        68.6977        +INF             .          
127.1   1.0000000E-5       101.5395        +INF             .          
127.2   1.0000000E-5        67.9770        +INF             .          
127.3   1.0000000E-5        30.7969        +INF             .          
132.1   1.0000000E-5        28.5785        +INF             .          
132.2   1.0000000E-5        56.8890        +INF             .          
132.3   1.0000000E-5        81.0783        +INF             .          
132.4   1.0000000E-5        59.6047        +INF             .          
134.1   1.0000000E-5        22.9920        +INF             .          
135.1   1.0000000E-5        54.6818        +INF             .          
135.2   1.0000000E-5        37.9159        +INF             .          
135.3   1.0000000E-5        70.0450        +INF             .          
135.4   1.0000000E-5        19.7761        +INF             .          
136.1   1.0000000E-5       109.5974        +INF             .          
136.2   1.0000000E-5        73.1069        +INF             .          
136.3   1.0000000E-5        46.1485        +INF             .          
136.4   1.0000000E-5        28.4323        +INF             .          
137.1   1.0000000E-5        17.0496        +INF             .          
137.2   1.0000000E-5        31.7144        +INF             .          
137.3   1.0000000E-5        11.1423        +INF             .          
138.1   1.0000000E-5        58.6775        +INF             .          
138.2   1.0000000E-5        99.8280        +INF             .          
138.3   1.0000000E-5        67.5566        +INF             .          
138.4   1.0000000E-5        72.2293        +INF             .          
139.1   1.0000000E-5        64.2665        +INF             .          
139.2   1.0000000E-5       104.2049        +INF             .          
139.3   1.0000000E-5       145.2928        +INF             .          
140.1   1.0000000E-5        43.6113        +INF             .          
140.2   1.0000000E-5        29.4260        +INF             .          
140.3   1.0000000E-5        22.6655        +INF             .          
140.4   1.0000000E-5        61.1263        +INF             .          
141.1   1.0000000E-5        45.6041        +INF             .          
141.2   1.0000000E-5        19.4894        +INF             .          
141.3   1.0000000E-5       175.7044        +INF             .          
141.4   1.0000000E-5       152.1000        +INF             .          
143.2   1.0000000E-5        10.4148        +INF             .          
144.1   1.0000000E-5        16.0330        +INF             .          
144.2   1.0000000E-5         9.4341        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

144.4   1.0000000E-5        24.2820        +INF             .          
146.3   1.0000000E-5        19.6617        +INF             .          
147.1   1.0000000E-5        20.7689        +INF             .          
147.2   1.0000000E-5        15.6647        +INF             .          
147.3   1.0000000E-5        20.5787        +INF             .          
147.4   1.0000000E-5         3.9174        +INF             .          
149.1   1.0000000E-5        51.9691        +INF             .          
150.1   1.0000000E-5        31.8516        +INF             .          
150.2   1.0000000E-5        30.1525        +INF             .          
150.3   1.0000000E-5        36.2615        +INF             .          
150.4   1.0000000E-5        21.6659        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1         0.0001         0.1381        +INF             .          
101.2         0.0001         0.0968        +INF             .          
101.3         0.0001         0.0203        +INF             .          
101.4         0.0001         0.1810        +INF             .          
103.1         0.0001         0.0136        +INF             .          
105.1         0.0001         0.0200        +INF      7.9040775E-8      
105.2         0.0001         0.0227        +INF      -2.772490E-8      
105.4         0.0001         0.0702        +INF      1.2264786E-8      
107.1         0.0001         0.0474        +INF      4.3310475E-9      
107.2         0.0001         0.0189        +INF      2.0032635E-8      
107.3         0.0001         0.0245        +INF      -1.286160E-8      
107.4         0.0001         0.0162        +INF      -4.622332E-9      
108.1         0.0001         0.0279        +INF      -1.558779E-8      
108.2         0.0001         0.1320        +INF             .          
108.3         0.0001         0.0665        +INF      4.0673895E-9      
108.4         0.0001         0.0871        +INF             .          
109.4         0.0001         0.0404        +INF      2.3713900E-8      
110.1         0.0001         0.0292        +INF      1.4244148E-8      
110.2         0.0001         0.0147        +INF      1.7407832E-8      
110.4         0.0001         0.0100        +INF      2.7306292E-9      
111.3         0.0001         0.0199        +INF      1.2282650E-8      
112.2         0.0001         0.0400        +INF      -4.493562E-8      
112.3         0.0001         0.0145        +INF      -8.511379E-8      
113.1         0.0001         0.1809        +INF      4.7153386E-9      
113.2         0.0001         0.1338        +INF            EPS         
113.3         0.0001         0.0685        +INF      -4.310262E-8      
113.4         0.0001         0.0733        +INF      -6.597039E-8      
114.1         0.0001         0.0133        +INF      -1.368651E-8      
115.2         0.0001         0.0271        +INF      -1.815982E-8      
115.3         0.0001         0.0126        +INF      -3.777914E-8      
115.4         0.0001         0.0557        +INF            EPS         
116.2         0.0001         0.0179        +INF      4.8932712E-8      
116.3         0.0001         0.0613        +INF      2.9862015E-8      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

116.4         0.0001         0.0192        +INF      8.6378296E-9      
117.1         0.0001         0.0420        +INF      -7.260392E-9      
117.2         0.0001         0.0407        +INF      -8.581510E-9      
117.3         0.0001         0.0350        +INF      -7.472019E-9      
117.4         0.0001         0.0327        +INF      -2.226380E-8      
118.1         0.0001         0.0102        +INF      -8.022756E-9      
118.3         0.0001         0.0339        +INF            EPS         
119.2         0.0001         0.0119        +INF            EPS         
119.3         0.0001         0.0197        +INF      3.6097227E-8      
119.4         0.0001         0.0071        +INF      -2.485849E-9      
121.2         0.0001         0.0146        +INF      3.7223784E-8      
121.3         0.0001         0.0324        +INF      6.9651691E-8      
122.1         0.0001         0.0209        +INF      -3.805347E-8      
122.2         0.0001         0.0252        +INF      -7.165865E-9      
122.3         0.0001         0.0230        +INF      1.3012935E-8      
123.1         0.0001         0.0114        +INF      9.8966657E-9      
123.2         0.0001         0.0172        +INF      -2.536581E-8      
123.3         0.0001         0.0440        +INF      1.4811516E-8      
123.4         0.0001         0.0079        +INF            EPS         
125.1         0.0001         0.0279        +INF      1.6753924E-8      
125.2         0.0001         0.0412        +INF      -1.293692E-8      
125.4         0.0001         0.0395        +INF      1.5350220E-8      
127.1         0.0001         0.0201        +INF             .          
127.2         0.0001         0.0150        +INF             .          
127.3         0.0001         0.0169        +INF      -3.191620E-8      
132.1         0.0001         0.0084        +INF      -1.564305E-8      
132.2         0.0001         0.0190        +INF      -5.652724E-8      
132.3         0.0001         0.0186        +INF      8.5672596E-9      
132.4         0.0001         0.0098        +INF      -1.253150E-8      
134.1         0.0001         0.0143        +INF      3.0575190E-8      
135.1         0.0001         0.0191        +INF      2.4471135E-8      
135.2         0.0001         0.0113        +INF      3.7444887E-9      
135.3         0.0001         0.0209        +INF            EPS         
135.4         0.0001         0.0101        +INF      -6.922083E-9      
136.1         0.0001         0.0300        +INF      4.3598219E-8      
136.2         0.0001         0.0260        +INF      -2.908259E-8      
136.3         0.0001         0.0235        +INF      -3.159361E-8      
136.4         0.0001         0.0158        +INF      -2.602375E-9      
137.1         0.0001         0.0094        +INF      -4.513579E-8      
137.2         0.0001         0.0215        +INF      1.0226680E-8      
137.3         0.0001         0.0161        +INF      -2.588347E-8      
138.1         0.0001         0.0147        +INF      -2.473226E-8      
138.2         0.0001         0.0478        +INF      8.3458960E-9      
138.3         0.0001         0.0212        +INF      -4.878515E-8      
138.4         0.0001         0.0186        +INF      7.4598516E-8      
139.1         0.0001         0.0263        +INF      1.8943317E-8      
139.2         0.0001         0.0419        +INF      -1.273443E-8      
139.3         0.0001         0.0609        +INF      1.2473431E-8      
140.1         0.0001         0.0451        +INF      -6.729707E-8      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 497


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

140.2         0.0001         0.0252        +INF      -2.402302E-8      
140.3         0.0001         0.0234        +INF      6.1380888E-8      
140.4         0.0001         0.0465        +INF      -1.225632E-8      
141.1         0.0001         0.0865        +INF      6.7468160E-9      
141.2         0.0001         0.0335        +INF      -4.484985E-8      
141.3         0.0001         0.2201        +INF             .          
141.4         0.0001         0.1909        +INF      -1.416880E-8      
143.2         0.0001         0.0201        +INF      -3.468426E-8      
144.1         0.0001         0.0416        +INF      1.1312473E-8      
144.2         0.0001         0.0112        +INF             .          
144.4         0.0001         0.0397        +INF      1.4906789E-8      
146.3         0.0001         0.0310        +INF      3.9399045E-8      
147.1         0.0001         0.0747        +INF             .          
147.2         0.0001         0.0580        +INF      -4.181197E-8      
147.3         0.0001         0.0446        +INF      -1.013313E-8      
147.4         0.0001         0.0159        +INF      4.2976269E-9      
149.1         0.0001         0.0108        +INF      2.1864373E-8      
150.1         0.0001         0.0162        +INF      2.8507102E-8      
150.2         0.0001         0.0147        +INF      2.1777524E-8      
150.3         0.0001         0.0266        +INF      -1.145025E-8      
150.4         0.0001         0.0125        +INF            EPS         

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          777.4052        +INF             .          
1.2        -INF          634.0659        +INF             .          
1.3        -INF          513.8499        +INF             .          
1.4        -INF          778.7365        +INF             .          
2.1        -INF          777.9181        +INF             .          
2.2        -INF          634.0659        +INF             .          
2.3        -INF          571.9459        +INF             .          
2.4        -INF          767.8373        +INF             .          
3.1        -INF          917.9785        +INF             .          
3.2        -INF          680.5886        +INF             .          
3.3        -INF          501.8969        +INF             .          
3.4        -INF          767.8373        +INF             .          
4.1        -INF         1006.0931        +INF             .          
4.2        -INF          788.2300        +INF             .          
4.3        -INF          724.7169        +INF             .          
4.4        -INF          767.8373        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:02:15 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    500 this is without adjustment for calorie target or 90%

----    500 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     777.405     634.066     513.850     778.737
2     777.918     634.066     571.946     767.837
3     917.978     680.589     501.897     767.837
4    1006.093     788.230     724.717     767.837


----    525 PARAMETER perc_chng  percent change in line

1  12.249,    2  24.854,    3  29.938,    4 -21.924


----    525 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 711.809,    2 596.311,    3 478.651,    4 764.089


----    525 PARAMETER povline_ali  food poverty line

1 634.131,    2 477.609,    3 368.368,    4 978.643


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_food_ent.csv


EXECUTION TIME       =        0.009 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/list.lst
