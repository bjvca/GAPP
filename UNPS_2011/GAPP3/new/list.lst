GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/product_flex.inc
  20  101
  21  103
  22  105
  23  107
  24  108
  25  109
  26  110
  27  111
  28  112
  29  113
  30  114
  31  115
  32  116
  33  117
  34  118
  35  119
  36  120
  37  121
  38  122
  39  123
  40  125
  41  127
  42  132
  43  133
  44  134
  45  135
  46  136
  47  137
  48  138
  49  139
  50  140
  51  141
  52  143
  53  144
  54  146
  55  147
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  149
  57  150
  58  162
  59  166
  60  171
  61  /
  62   
  63   reg        4 spatial domains /1*4/
  64   r(reg)     all included spatial regions /1*4/
  65   
  66   ptit       price table titles
  67  /
  68    count      number of observations making up the price average
  69    price_uw5  average price
  70  /
  71   
  72   qtit       quantity table titles
  73  /
  74    calperg          calories per gram
  75    quan5            quantities in grams
  76    calpp            calories per person by region
  77    povline_a_flex5    value of flexible food bundle
  78  /
  79   
  80   
  81    posquan(cod,reg)  mark positive quantities in each region
  82    posprice(cod,reg) mark the existence of acceptable price info in each region
  83    chkprice(cod,reg) ensure that prices exist once all estimated
  84  ;
  85   
  86  alias(reg,regq);
  87  alias(r,rq);
  88   
  89  SCALAR
  90     caltarg single level of calories to target across regions / 2150 /
  91   ;
  92   
  93  PARAMETERS
  94   
  95    shr(cod,reg)         shares in each basket by region
  96    chkshr(reg)          check that the calculated shares sum to .9
  97    shrmiss(regq,reg)    shares missing in each region pair
  98    povline_ali(reg)       food poverty line
  99    perc_chng(reg)       percent change in line
 100    finmiss(reg)         final missing shares post optimization procedure
 101   ;
 102   
 103  Table  price(cod,reg,ptit)  price and related information
 104                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/price_unit_flex.inc
 106  101     .       1       103     4.756701
 107  101     .       2       67      3.239064
 108  101     .       3       13      3.593272
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  101     .       4       245     3.893665
 110  103     .       1       27      1.437854
 111  103     .       2       1       .3514767
 112  103     .       3       3       .5998543
 113  103     .       4       4       1.137845
 114  105     .       1       26      2.628082
 115  105     .       2       20      2.444625
 116  105     .       3       3       .506505
 117  105     .       4       109     3.742404
 118  107     .       1       62      1.712853
 119  107     .       2       37      1.155257
 120  107     .       3       39      .6123084
 121  107     .       4       46      1.45557
 122  108     .       1       38      .9977077
 123  108     .       2       126     .7862937
 124  108     .       3       63      1.193393
 125  108     .       4       105     .3008554
 126  109     .       1       19      1.572822
 127  109     .       2       7       .6181827
 128  109     .       3       2       .7791509
 129  109     .       4       51      3.423853
 130  110     .       1       55      2.559957
 131  110     .       2       34      1.858513
 132  110     .       3       13      .9285054
 133  110     .       4       44      1.887762
 134  111     .       1       5       .7570367
 135  111     .       2       8       .4831234
 136  111     .       3       20      .5697048
 137  111     .       4       9       1.137826
 138  112     .       1       16      .212545
 139  112     .       2       31      .2100683
 140  112     .       3       30      .1404846
 141  112     .       4       18      .6704296
 142  113     .       1       153     1.55073
 143  113     .       2       120     1.067183
 144  113     .       3       51      .4747798
 145  113     .       4       160     1.137578
 146  114     .       1       35      .5638121
 147  114     .       2       28      .1764906
 148  114     .       3       18      .1088572
 149  114     .       4       14      .5612096
 150  115     .       1       20      1.393468
 151  115     .       2       37      .7077817
 152  115     .       3       32      .2928546
 153  115     .       4       119     .9364981
 154  116     .       1       1       1.649006
 155  116     .       2       60      .5435081
 156  116     .       3       71      .4356074
 157  116     .       4       24      .6634116
 158  117     .       1       48      5.957156
 159  117     .       2       49      5.185062
 160  117     .       3       28      4.592496
 161  117     .       4       102     5.693115
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  118     .       1       17      4.683238
 163  118     .       2       16      4.34165
 164  118     .       3       16      3.983791
 165  118     .       4       11      5.583217
 166  119     .       1       9       6.677768
 167  119     .       2       18      5.424968
 168  119     .       3       13      4.58623
 169  119     .       4       13      6.115427
 170  120     .       1       1       4.122515
 171  120     .       3       5       .319865
 172  120     .       4       1       5.647403
 173  121     .       1       7       10.21411
 174  121     .       2       14      7.128051
 175  121     .       3       20      4.982974
 176  121     .       4       5       10.34329
 177  122     .       1       31      1.401376
 178  122     .       2       49      .8174804
 179  122     .       3       27      1.178441
 180  122     .       4       15      1.939509
 181  123     .       1       36      1.144556
 182  123     .       2       40      .9274722
 183  123     .       3       69      .8776883
 184  123     .       4       24      1.603947
 185  125     .       1       68      .5950685
 186  125     .       2       78      .4330402
 187  125     .       3       26      .2474701
 188  125     .       4       113     .4495577
 189  127     .       1       155     .1773119
 190  127     .       2       149     .1402947
 191  127     .       3       151     .2748609
 192  127     .       4       72      .5307403
 193  132     .       1       29      .2326038
 194  132     .       2       42      .1682742
 195  132     .       3       41      .1758461
 196  132     .       4       45      .1287464
 197  133     .       1       6       .2354674
 198  133     .       2       19      .3289416
 199  133     .       3       9       .116255
 200  133     .       4       5       .3231262
 201  134     .       1       28      .5713221
 202  134     .       2       9       .8520545
 203  134     .       3       2       .3752708
 204  134     .       4       22      .9531257
 205  135     .       1       176     .305634
 206  135     .       2       152     .2042784
 207  135     .       3       149     .1455904
 208  135     .       4       209     .4180501
 209  136     .       1       183     .2465848
 210  136     .       2       164     .2325483
 211  136     .       3       110     .2416098
 212  136     .       4       201     .4631969
 213  137     .       1       66      .486736
 214  137     .       2       87      .447572
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  137     .       3       45      .6590823
 216  137     .       4       57      .4392286
 217  138     .       1       74      .241862
 218  138     .       2       128     .2851832
 219  138     .       3       59      .1667549
 220  138     .       4       181     .1985872
 221  139     .       1       37      .3947161
 222  139     .       2       88      .231506
 223  139     .       3       149     .1909017
 224  139     .       4       31      .2907853
 225  140     .       1       44      1.166832
 226  140     .       2       36      .4375624
 227  140     .       3       19      .4704913
 228  140     .       4       86      .5853505
 229  141     .       1       127     1.665614
 230  141     .       2       80      1.141639
 231  141     .       3       172     .5807108
 232  141     .       4       276     .9591216
 233  143     .       1       13      2.281549
 234  143     .       2       37      1.158669
 235  143     .       3       16      .5893823
 236  143     .       4       6       2.041376
 237  144     .       1       99      2.415702
 238  144     .       2       54      .8271053
 239  144     .       3       7       .3636091
 240  144     .       4       148     1.362688
 241  146     .       1       3       2.558085
 242  146     .       2       12      1.171456
 243  146     .       3       77      .7583837
 244  146     .       4       1       .1100731
 245  147     .       1       151     3.378036
 246  147     .       2       142     2.464249
 247  147     .       3       71      1.128742
 248  147     .       4       110     3.258949
 249  149     .       1       203     .1895476
 250  149     .       2       139     .1167313
 251  149     .       3       80      .0992336
 252  149     .       4       124     .2430965
 253  150     .       1       224     .4653584
 254  150     .       2       242     .3092007
 255  150     .       3       228     .3528425
 256  150     .       4       379     .4373075
 257  162     .       1       2       2.447498
 258  162     .       2       19      .7327843
 259  162     .       3       32      .5388503
 260  162     .       4       6       1.239604
 261  166     .       1       33      .1615416
 262  166     .       2       22      .1222303
 263  166     .       3       16      .1381674
 264  166     .       4       111     .1367067
 265  171     .       1       50      .4016611
 266  171     .       2       27      .4472636
 267  171     .       3       24      .3055831
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  171     .       4       42      .3621643
 269  ;
 270   
 271  Table   quan(cod,reg,qtit)   quantity and related information
 272                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/quan_flex.inc
 274  101     .       1       6.8900000e-01   1.7339140e+01   1.7717268e+03   720.9248
 275  103     .       1       6.8900000e-01   5.9451804e+00   1.7717268e+03   720.9248
 276  105     .       1       1.0164000e+00   5.3436847e+00   1.7717268e+03   720.9248
 277  107     .       1       1.3440000e+00   1.9886307e+01   1.7717268e+03   720.9248
 278  108     .       1       3.1400000e+00   2.1491713e+01   1.7717268e+03   720.9248
 279  110     .       1       3.6100000e+00   7.7220197e+00   1.7717268e+03   720.9248
 280  113     .       1       3.6500000e+00   7.8194946e+01   1.7717268e+03   720.9248
 281  114     .       1       2.6600000e+00   1.0831192e+01   1.7717268e+03   720.9248
 282  117     .       1       1.7982000e+00   3.5712898e+00   1.7717268e+03   720.9248
 283  118     .       1       2.3534000e+00   1.3056444e+00   1.7717268e+03   720.9248
 284  122     .       1       6.1610000e-01   8.4133224e+00   1.7717268e+03   720.9248
 285  123     .       1       3.7500000e+00   6.7117848e+00   1.7717268e+03   720.9248
 286  125     .       1       6.0000000e-01   2.8561224e+01   1.7717268e+03   720.9248
 287  127     .       1       8.8400000e+00   9.5860313e+01   1.7717268e+03   720.9248
 288  134     .       1       4.9400000e-01   1.8124367e+01   1.7717268e+03   720.9248
 289  135     .       1       3.6400000e-01   4.0882225e+01   1.7717268e+03   720.9248
 290  136     .       1       1.6380000e-01   7.6775116e+01   1.7717268e+03   720.9248
 291  137     .       1       2.6400000e-01   1.2188353e+01   1.7717268e+03   720.9248
 292  138     .       1       2.0160000e-01   4.4211864e+01   1.7717268e+03   720.9248
 293  139     .       1       2.6100000e-01   4.9634163e+01   1.7717268e+03   720.9248
 294  140     .       1       1.0300000e+00   2.3688402e+01   1.7717268e+03   720.9248
 295  141     .       1       3.1300000e+00   3.4419868e+01   1.7717268e+03   720.9248
 296  144     .       1       5.8800000e+00   1.2029481e+01   1.7717268e+03   720.9248
 297  147     .       1       3.8700000e+00   1.4626566e+01   1.7717268e+03   720.9248
 298  149     .       1       0.0000000e+00   4.0536221e+01   1.7717268e+03   720.9248
 299  150     .       1       0.0000000e+00   2.3956709e+01   1.7717268e+03   720.9248
 300  101     .       2       6.8900000e-01   1.1090232e+01   1.8197834e+03   460.9003
 301  105     .       2       1.0164000e+00   3.0712702e+00   1.8197834e+03   460.9003
 302  107     .       2       1.3440000e+00   7.4737997e+00   1.8197834e+03   460.9003
 303  108     .       2       3.1400000e+00   7.2020241e+01   1.8197834e+03   460.9003
 304  110     .       2       3.6100000e+00   3.1721029e+00   1.8197834e+03   460.9003
 305  112     .       2       9.4600000e-01   7.0232132e+01   1.8197834e+03   460.9003
 306  113     .       2       3.6500000e+00   5.3671795e+01   1.8197834e+03   460.9003
 307  115     .       2       3.7800000e+00   1.6470713e+01   1.8197834e+03   460.9003
 308  116     .       2       3.3900000e+00   1.3624599e+01   1.8197834e+03   460.9003
 309  117     .       2       1.7982000e+00   3.0741625e+00   1.8197834e+03   460.9003
 310  119     .       2       1.2210000e+00   8.7979341e-01   1.8197834e+03   460.9003
 311  121     .       2       1.4835000e+00   7.6165414e-01   1.8197834e+03   460.9003
 312  122     .       2       6.1610000e-01   1.2730299e+01   1.8197834e+03   460.9003
 313  123     .       2       3.7500000e+00   8.1148863e+00   1.8197834e+03   460.9003
 314  125     .       2       6.0000000e-01   3.9155071e+01   1.8197834e+03   460.9003
 315  127     .       2       8.8400000e+00   8.8533974e+01   1.8197834e+03   460.9003
 316  132     .       2       4.3310000e-01   4.6456478e+01   1.8197834e+03   460.9003
 317  133     .       2       3.4310000e-01   9.5814533e+00   1.8197834e+03   460.9003
 318  135     .       2       3.6400000e-01   2.0718702e+01   1.8197834e+03   460.9003
 319  136     .       2       1.6380000e-01   4.4716862e+01   1.8197834e+03   460.9003
 320  137     .       2       2.6400000e-01   2.0065298e+01   1.8197834e+03   460.9003
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  138     .       2       2.0160000e-01   5.9899498e+01   1.8197834e+03   460.9003
 322  139     .       2       2.6100000e-01   7.2014153e+01   1.8197834e+03   460.9003
 323  140     .       2       1.0300000e+00   2.2928787e+01   1.8197834e+03   460.9003
 324  141     .       2       3.1300000e+00   1.3171539e+01   1.8197834e+03   460.9003
 325  143     .       2       5.6700000e+00   5.8290110e+00   1.8197834e+03   460.9003
 326  144     .       2       5.8800000e+00   6.1862955e+00   1.8197834e+03   460.9003
 327  147     .       2       3.8700000e+00   1.0013443e+01   1.8197834e+03   460.9003
 328  150     .       2       0.0000000e+00   1.8515596e+01   1.8197834e+03   460.9003
 329  101     .       3       6.8900000e-01   1.4008898e+00   1.8453798e+03   358.1996
 330  107     .       3       1.3440000e+00   1.0666061e+01   1.8453798e+03   358.1996
 331  108     .       3       3.1400000e+00   2.0166571e+01   1.8453798e+03   358.1996
 332  111     .       3       3.6500000e+00   1.1971324e+01   1.8453798e+03   358.1996
 333  113     .       3       3.6500000e+00   4.3665943e+01   1.8453798e+03   358.1996
 334  115     .       3       3.7800000e+00   1.7421501e+01   1.8453798e+03   358.1996
 335  116     .       3       3.3900000e+00   5.1588760e+01   1.8453798e+03   358.1996
 336  117     .       3       1.7982000e+00   2.0886359e+00   1.8453798e+03   358.1996
 337  118     .       3       2.3534000e+00   2.1567826e+00   1.8453798e+03   358.1996
 338  119     .       3       1.2210000e+00   1.1220524e+00   1.8453798e+03   358.1996
 339  121     .       3       1.4835000e+00   1.5760211e+00   1.8453798e+03   358.1996
 340  122     .       3       6.1610000e-01   6.0216269e+00   1.8453798e+03   358.1996
 341  123     .       3       3.7500000e+00   1.5360106e+01   1.8453798e+03   358.1996
 342  125     .       3       6.0000000e-01   1.3558714e+01   1.8453798e+03   358.1996
 343  127     .       3       8.8400000e+00   6.0530243e+01   1.8453798e+03   358.1996
 344  132     .       3       4.3310000e-01   3.4959503e+01   1.8453798e+03   358.1996
 345  135     .       3       3.6400000e-01   3.9101654e+01   1.8453798e+03   358.1996
 346  136     .       3       1.6380000e-01   2.7332378e+01   1.8453798e+03   358.1996
 347  137     .       3       2.6400000e-01   8.8706560e+00   1.8453798e+03   358.1996
 348  138     .       3       2.0160000e-01   4.0818275e+01   1.8453798e+03   358.1996
 349  139     .       3       2.6100000e-01   9.2288948e+01   1.8453798e+03   358.1996
 350  140     .       3       1.0300000e+00   1.5261217e+01   1.8453798e+03   358.1996
 351  141     .       3       3.1300000e+00   1.2215029e+02   1.8453798e+03   358.1996
 352  146     .       3       5.7300000e+00   1.9202816e+01   1.8453798e+03   358.1996
 353  147     .       3       3.8700000e+00   9.5629778e+00   1.8453798e+03   358.1996
 354  150     .       3       0.0000000e+00   2.1770216e+01   1.8453798e+03   358.1996
 355  101     .       4       6.8900000e-01   5.0005123e+01   1.9255543e+03   1006.263
 356  105     .       4       1.0164000e+00   2.0006527e+01   1.9255543e+03   1006.263
 357  107     .       4       1.3440000e+00   1.1761558e+01   1.9255543e+03   1006.263
 358  108     .       4       3.1400000e+00   1.2900763e+02   1.9255543e+03   1006.263
 359  109     .       4       6.4680000e-01   1.1964006e+01   1.9255543e+03   1006.263
 360  110     .       4       3.6100000e+00   5.8062539e+00   1.9255543e+03   1006.263
 361  113     .       4       3.6500000e+00   5.3233356e+01   1.9255543e+03   1006.263
 362  115     .       4       3.7800000e+00   4.7505680e+01   1.9255543e+03   1006.263
 363  116     .       4       3.3900000e+00   1.9456053e+01   1.9255543e+03   1006.263
 364  117     .       4       1.7982000e+00   7.2397323e+00   1.9255543e+03   1006.263
 365  119     .       4       1.2210000e+00   1.1679918e+00   1.9255543e+03   1006.263
 366  123     .       4       3.7500000e+00   4.4977431e+00   1.9255543e+03   1006.263
 367  125     .       4       6.0000000e-01   8.8340881e+01   1.9255543e+03   1006.263
 368  132     .       4       4.3310000e-01   5.9491055e+01   1.9255543e+03   1006.263
 369  135     .       4       3.6400000e-01   2.4830893e+01   1.9255543e+03   1006.263
 370  136     .       4       1.6380000e-01   3.7403065e+01   1.9255543e+03   1006.263
 371  138     .       4       2.0160000e-01   9.1933769e+01   1.9255543e+03   1006.263
 372  140     .       4       1.0300000e+00   7.2094765e+01   1.9255543e+03   1006.263
 373  141     .       4       3.1300000e+00   1.6577528e+02   1.9255543e+03   1006.263
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374  144     .       4       5.8800000e+00   2.1703485e+01   1.9255543e+03   1006.263
 375  147     .       4       3.8700000e+00   5.3069396e+00   1.9255543e+03   1006.263
 376  150     .       4       0.0000000e+00   3.0350103e+01   1.9255543e+03   1006.263
 377  ;
 378   
 379    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 380                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 381                         quan(cod,reg,'povline_a_flex5');
 382   
 383    chkshr(reg)=sum(cod,shr(cod,reg));
 384   
 385  loop(reg,
 386    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 387  );
 388   
 389   
 390  *turn on dynamic sets to indicate positive quantities and existence of
 391  *price info for each region
 392   
 393   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 394                        AND price(cod,reg,'count') gt 4) = yes;
 395   
 396   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 397   
 398   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 399   display shrmiss;
 400   
 401    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 402                                             quan(cod,reg,'quan5'))/.9;
 403   
 404    display povline_ali;
 405   
 406   
 407  *boost values so shares sum to one;
 408  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 409   
 410  *fill out price matrix with maximum observed price outside of Maputo
 411   
 412  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 413           loop(r,
 414                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 415                                                price(cod,r,'price_uw5'));
 416           );
 417  );
 418   
 419  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 420   
 421  display 'should be an empty set', chkprice;
 422   
 423   
 424   
 425   
 426  Variables
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 14:47:45 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427     z                objective value
 428     q(cod,reg)       revised maximum entropy quanties in grams
 429     s(cod,reg)       derived maximum entropy shares
 430     povline(regq,reg)  estimated revealed preference matrix
 431  ;
 432   
 433   
 434  Equations
 435     obj              objective equation
 436     rev(regq,reg)    revealed preference tests
 437     deflin(regq,reg) define revealed preference matrix
 438     defshr(cod,regq) define the endogenous budget shares
 439     cals(regq)       ensure that each bundle hits the calorie
 440   
 441  ;
 442   
 443     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 444                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 445   
 446     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 447                            q(cod,rq)*price(cod,r,'price_uw5'));
 448   
 449     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 450   
 451     defshr(cod,rq)$posquan(cod,rq) ..
 452               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 453   
 454     cals(rq) .. sum(cod$posquan(cod,rq),
 455                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 456   
 457  *set bounds and starting values for variables
 458   
 459    q.lo(cod,reg)=.00001;
 460    q.up(cod,reg)=inf;
 461    q.l(cod,reg)=quan(cod,reg,'quan5');
 462    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 463   
 464    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 465                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 466   
 467   
 468    display povline.l;
 469   
 470  *print the revealed preference matrix prior to optimisation;
 471  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_rp_inout.csv"/;
 472  put povline_rp;
 473  povline_rp.pc=5;
 474  povline_rp.nd=0;
 475  put " ";
 476  loop(reg,
 477        put reg.tl;
 478  );
 479  put /;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480  loop(regq,
 481       put regq.tl;
 482       loop(reg,
 483           put povline.l(regq,reg);
 484       );
 485       put /;
 486  );
 487  put /; put /; put /;
 488   
 489     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 490     s.lo(cod,regq)=.0001;
 491     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 492   
 493   
 494     model revpref /obj, deflin, rev, defshr, cals/;
 495   
 496     revpref.holdfixed=1;
 497   
 498     option limrow=100;
 499   
 500     option nlp=conopt;
 501   
 502     solve revpref using nlp minimizing z;
 503   
 504     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 505     display "this is without adjustment for calorie target or 90%", povline.l;
 506   
 507  put /;
 508  loop(rq,
 509       put rq.tl;
 510       loop(r,
 511           put povline.l(rq,r);
 512       );
 513       put /;
 514  );
 515  put /;
 516   
 517   
 518  PARAMETERS
 519     qent(cod,reg)  entropy quantities with all adjustments accounted for
 520     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 521    ;
 522  *readjust quantities to hit regional calorie target and calculate line;
 523     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 524   
 525     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 526                                             qent(cod,r))/.9;
 527   
 528     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 529   
 530     display perc_chng, povline_ent, povline_ali;
 531   
 532     file res/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/qent.csv"/;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533   
 534     put res;
 535     res.pc=5;
 536     res.nd=6;
 537   
 538  *recall that the basket reflects 90% of expenditure and 95% of calories";
 539     put "spdomain" ;
 540     put "product" ;
 541     put "quan5";
 542     put "qent";
 543     put "price";
 544     put "calperg";
 545   
 546     put /;
 547   
 548     loop(reg,
 549         loop(cod,
 550             put reg.tl;
 551             put cod.tl;
 552             put quan(cod,reg,'quan5');
 553             put qent(cod,reg);
 554             put price(cod,reg,'price_uw5')
 555             put quan(cod,reg,'calperg');
 556             put /;
 557         );
 558     );
 559   
 560     file lin/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_food_ent.csv"/;
 561   
 562     put lin;
 563     lin.pc=5;
 564  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 565   
 566     put "spdomain";
 567     put "flex";
 568     put "ent";
 569     put /;
 570   
 571     loop(reg,
 572           put reg.tl;
 573           put povline_ali(reg);
 574           put povline_ent(reg);
 575           put /;
 576     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/product_flex.inc
     3      105 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/price_unit_flex.inc
     4      273 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/quan_flex.inc


COMPILATION TIME     =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    399 PARAMETER shrmiss  shares missing in each region pair

            1           2           3           4

1                   0.012       0.046       0.012
2       0.016                   0.016
3       0.103                               0.041
4       0.013                   0.115


----    404 PARAMETER povline_ali  food poverty line

1  720.925,    2  460.900,    3  358.200,    4 1006.263


----    421 should be an empty set

----    421 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    468 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     648.832     453.000     343.377     587.481
2     597.750     414.810     361.102     526.087
3     712.391     452.640     322.380     503.750
4    1260.058     842.614     670.985     905.637

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


---- obj  =E=  objective equation

obj..  z - (1)*s(101,1) - (1)*s(101,2) - (1)*s(101,3) - (1)*s(101,4) - (1)*s(103,1) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,4) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4)
     
      - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,2) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3)
     
      - (1)*s(116,4) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(118,3) - (1)*s(119,2) - (1)*s(119,3) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,3) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,3) - (1)*s(123,1)
     
      - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(132,4) - (1)*s(133,2) - (1)*s(134,1) - (1)*s(135,1)
     
      - (1)*s(135,2) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(137,1) - (1)*s(137,2) - (1)*s(137,3) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,1) - (1)*s(139,2)
     
      - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2)
     
      - (1)*s(147,3) - (1)*s(147,4) - (1)*s(149,1) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 4.756701*q(101,1) - 1.437854*q(103,1) - 2.628082*q(105,1) - 1.712853*q(107,1) - 0.9977077*q(108,1) - 2.559957*q(110,1) - 1.55073*q(113,1) - 0.5638121*q(114,1) - 5.957156*q(117,1) - 4.683238*q(118,1) - 1.401376*q(122,1) - 1.144556*q(123,1)
     
      - 0.5950685*q(125,1) - 0.1773119*q(127,1) - 0.5713221*q(134,1) - 0.305634*q(135,1) - 0.2465848*q(136,1) - 0.486736*q(137,1) - 0.241862*q(138,1) - 0.3947161*q(139,1) - 1.166832*q(140,1) - 1.665614*q(141,1) - 2.415702*q(144,1) - 3.378036*q(147,1)
     
      - 0.1895476*q(149,1) - 0.4653584*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 3.239064*q(101,1) - 0.3514767*q(103,1) - 2.444625*q(105,1) - 1.155257*q(107,1) - 0.7862937*q(108,1) - 1.858513*q(110,1) - 1.067183*q(113,1) - 0.1764906*q(114,1) - 5.185062*q(117,1) - 4.34165*q(118,1) - 0.8174804*q(122,1)
     
      - 0.9274722*q(123,1) - 0.4330402*q(125,1) - 0.1402947*q(127,1) - 0.8520545*q(134,1) - 0.2042784*q(135,1) - 0.2325483*q(136,1) - 0.447572*q(137,1) - 0.2851832*q(138,1) - 0.231506*q(139,1) - 0.4375624*q(140,1) - 1.141639*q(141,1) - 0.8271053*q(144,1)
     
      - 2.464249*q(147,1) - 0.1167313*q(149,1) - 0.3092007*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 3.593272*q(101,1) - 0.5998543*q(103,1) - 0.506505*q(105,1) - 0.6123084*q(107,1) - 1.193393*q(108,1) - 0.9285054*q(110,1) - 0.4747798*q(113,1) - 0.1088572*q(114,1) - 4.592496*q(117,1) - 3.983791*q(118,1) - 1.178441*q(122,1)
     
      - 0.8776883*q(123,1) - 0.2474701*q(125,1) - 0.2748609*q(127,1) - 0.3752708*q(134,1) - 0.1455904*q(135,1) - 0.2416098*q(136,1) - 0.6590823*q(137,1) - 0.1667549*q(138,1) - 0.1909017*q(139,1) - 0.4704913*q(140,1) - 0.5807108*q(141,1)
     
      - 0.3636091*q(144,1) - 1.128742*q(147,1) - 0.0992336*q(149,1) - 0.3528425*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 3.893665*q(101,1) - 1.137845*q(103,1) - 3.742404*q(105,1) - 1.45557*q(107,1) - 0.3008554*q(108,1) - 1.887762*q(110,1) - 1.137578*q(113,1) - 0.5612096*q(114,1) - 5.693115*q(117,1) - 5.583217*q(118,1) - 1.939509*q(122,1) - 1.603947*q(123,1)
     
      - 0.4495577*q(125,1) - 0.5307403*q(127,1) - 0.9531257*q(134,1) - 0.4180501*q(135,1) - 0.4631969*q(136,1) - 0.4392286*q(137,1) - 0.1985872*q(138,1) - 0.2907853*q(139,1) - 0.5853505*q(140,1) - 0.9591216*q(141,1) - 1.362688*q(144,1) - 3.258949*q(147,1)
     
      - 0.2430965*q(149,1) - 0.4373075*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 4.756701*q(101,2) - 2.628082*q(105,2) - 1.712853*q(107,2) - 0.9977077*q(108,2) - 2.559957*q(110,2) - 0.212545*q(112,2) - 1.55073*q(113,2) - 1.393468*q(115,2) - 1.649006*q(116,2) - 5.957156*q(117,2) - 6.677768*q(119,2) - 10.21411*q(121,2)
     
      - 1.401376*q(122,2) - 1.144556*q(123,2) - 0.5950685*q(125,2) - 0.1773119*q(127,2) - 0.2326038*q(132,2) - 0.2354674*q(133,2) - 0.305634*q(135,2) - 0.2465848*q(136,2) - 0.486736*q(137,2) - 0.241862*q(138,2) - 0.3947161*q(139,2) - 1.166832*q(140,2)
     
      - 1.665614*q(141,2) - 2.281549*q(143,2) - 2.415702*q(144,2) - 3.378036*q(147,2) - 0.4653584*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 3.239064*q(101,2) - 2.444625*q(105,2) - 1.155257*q(107,2) - 0.7862937*q(108,2) - 1.858513*q(110,2) - 0.2100683*q(112,2) - 1.067183*q(113,2) - 0.7077817*q(115,2) - 0.5435081*q(116,2) - 5.185062*q(117,2) - 5.424968*q(119,2)
     
      - 7.128051*q(121,2) - 0.8174804*q(122,2) - 0.9274722*q(123,2) - 0.4330402*q(125,2) - 0.1402947*q(127,2) - 0.1682742*q(132,2) - 0.3289416*q(133,2) - 0.2042784*q(135,2) - 0.2325483*q(136,2) - 0.447572*q(137,2) - 0.2851832*q(138,2) - 0.231506*q(139,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     deflin  =E=  define revealed preference matrix     
     
      - 0.4375624*q(140,2) - 1.141639*q(141,2) - 1.158669*q(143,2) - 0.8271053*q(144,2) - 2.464249*q(147,2) - 0.3092007*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 3.593272*q(101,2) - 0.506505*q(105,2) - 0.6123084*q(107,2) - 1.193393*q(108,2) - 0.9285054*q(110,2) - 0.1404846*q(112,2) - 0.4747798*q(113,2) - 0.2928546*q(115,2) - 0.4356074*q(116,2) - 4.592496*q(117,2) - 4.58623*q(119,2)
     
      - 4.982974*q(121,2) - 1.178441*q(122,2) - 0.8776883*q(123,2) - 0.2474701*q(125,2) - 0.2748609*q(127,2) - 0.1758461*q(132,2) - 0.116255*q(133,2) - 0.1455904*q(135,2) - 0.2416098*q(136,2) - 0.6590823*q(137,2) - 0.1667549*q(138,2) - 0.1909017*q(139,2)
     
      - 0.4704913*q(140,2) - 0.5807108*q(141,2) - 0.5893823*q(143,2) - 0.3636091*q(144,2) - 1.128742*q(147,2) - 0.3528425*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 3.893665*q(101,2) - 3.742404*q(105,2) - 1.45557*q(107,2) - 0.3008554*q(108,2) - 1.887762*q(110,2) - 0.6704296*q(112,2) - 1.137578*q(113,2) - 0.9364981*q(115,2) - 0.6634116*q(116,2) - 5.693115*q(117,2) - 6.115427*q(119,2)
     
      - 10.34329*q(121,2) - 1.939509*q(122,2) - 1.603947*q(123,2) - 0.4495577*q(125,2) - 0.5307403*q(127,2) - 0.1287464*q(132,2) - 0.3231262*q(133,2) - 0.4180501*q(135,2) - 0.4631969*q(136,2) - 0.4392286*q(137,2) - 0.1985872*q(138,2) - 0.2907853*q(139,2)
     
      - 0.5853505*q(140,2) - 0.9591216*q(141,2) - 2.041376*q(143,2) - 1.362688*q(144,2) - 3.258949*q(147,2) - 0.4373075*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 4.756701*q(101,3) - 1.712853*q(107,3) - 0.9977077*q(108,3) - 0.7570367*q(111,3) - 1.55073*q(113,3) - 1.393468*q(115,3) - 1.649006*q(116,3) - 5.957156*q(117,3) - 4.683238*q(118,3) - 6.677768*q(119,3) - 10.21411*q(121,3) - 1.401376*q(122,3)
     
      - 1.144556*q(123,3) - 0.5950685*q(125,3) - 0.1773119*q(127,3) - 0.2326038*q(132,3) - 0.305634*q(135,3) - 0.2465848*q(136,3) - 0.486736*q(137,3) - 0.241862*q(138,3) - 0.3947161*q(139,3) - 1.166832*q(140,3) - 1.665614*q(141,3) - 2.558085*q(146,3)
     
      - 3.378036*q(147,3) - 0.4653584*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 3.239064*q(101,3) - 1.155257*q(107,3) - 0.7862937*q(108,3) - 0.4831234*q(111,3) - 1.067183*q(113,3) - 0.7077817*q(115,3) - 0.5435081*q(116,3) - 5.185062*q(117,3) - 4.34165*q(118,3) - 5.424968*q(119,3) - 7.128051*q(121,3)
     
      - 0.8174804*q(122,3) - 0.9274722*q(123,3) - 0.4330402*q(125,3) - 0.1402947*q(127,3) - 0.1682742*q(132,3) - 0.2042784*q(135,3) - 0.2325483*q(136,3) - 0.447572*q(137,3) - 0.2851832*q(138,3) - 0.231506*q(139,3) - 0.4375624*q(140,3) - 1.141639*q(141,3)
     
      - 1.171456*q(146,3) - 2.464249*q(147,3) - 0.3092007*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 3.593272*q(101,3) - 0.6123084*q(107,3) - 1.193393*q(108,3) - 0.5697048*q(111,3) - 0.4747798*q(113,3) - 0.2928546*q(115,3) - 0.4356074*q(116,3) - 4.592496*q(117,3) - 3.983791*q(118,3) - 4.58623*q(119,3) - 4.982974*q(121,3)
     
      - 1.178441*q(122,3) - 0.8776883*q(123,3) - 0.2474701*q(125,3) - 0.2748609*q(127,3) - 0.1758461*q(132,3) - 0.1455904*q(135,3) - 0.2416098*q(136,3) - 0.6590823*q(137,3) - 0.1667549*q(138,3) - 0.1909017*q(139,3) - 0.4704913*q(140,3)
     
      - 0.5807108*q(141,3) - 0.7583837*q(146,3) - 1.128742*q(147,3) - 0.3528425*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 3.893665*q(101,3) - 1.45557*q(107,3) - 0.3008554*q(108,3) - 1.137826*q(111,3) - 1.137578*q(113,3) - 0.9364981*q(115,3) - 0.6634116*q(116,3) - 5.693115*q(117,3) - 5.583217*q(118,3) - 6.115427*q(119,3) - 10.34329*q(121,3)
     
      - 1.939509*q(122,3) - 1.603947*q(123,3) - 0.4495577*q(125,3) - 0.5307403*q(127,3) - 0.1287464*q(132,3) - 0.4180501*q(135,3) - 0.4631969*q(136,3) - 0.4392286*q(137,3) - 0.1985872*q(138,3) - 0.2907853*q(139,3) - 0.5853505*q(140,3) - 0.9591216*q(141,3)
     
      - 0.1100731*q(146,3) - 3.258949*q(147,3) - 0.4373075*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 4.756701*q(101,4) - 2.628082*q(105,4) - 1.712853*q(107,4) - 0.9977077*q(108,4) - 1.572822*q(109,4) - 2.559957*q(110,4) - 1.55073*q(113,4) - 1.393468*q(115,4) - 1.649006*q(116,4) - 5.957156*q(117,4) - 6.677768*q(119,4) - 1.144556*q(123,4)
     
      - 0.5950685*q(125,4) - 0.2326038*q(132,4) - 0.305634*q(135,4) - 0.2465848*q(136,4) - 0.241862*q(138,4) - 1.166832*q(140,4) - 1.665614*q(141,4) - 2.415702*q(144,4) - 3.378036*q(147,4) - 0.4653584*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 3.239064*q(101,4) - 2.444625*q(105,4) - 1.155257*q(107,4) - 0.7862937*q(108,4) - 0.6181827*q(109,4) - 1.858513*q(110,4) - 1.067183*q(113,4) - 0.7077817*q(115,4) - 0.5435081*q(116,4) - 5.185062*q(117,4) - 5.424968*q(119,4)
     
      - 0.9274722*q(123,4) - 0.4330402*q(125,4) - 0.1682742*q(132,4) - 0.2042784*q(135,4) - 0.2325483*q(136,4) - 0.2851832*q(138,4) - 0.4375624*q(140,4) - 1.141639*q(141,4) - 0.8271053*q(144,4) - 2.464249*q(147,4) - 0.3092007*q(150,4) + povline(4,2) =E= 0
      ; (LHS = 0)
     
deflin(4,3)..  - 3.593272*q(101,4) - 0.506505*q(105,4) - 0.6123084*q(107,4) - 1.193393*q(108,4) - 0.7791509*q(109,4) - 0.9285054*q(110,4) - 0.4747798*q(113,4) - 0.2928546*q(115,4) - 0.4356074*q(116,4) - 4.592496*q(117,4) - 4.58623*q(119,4)
     
      - 0.8776883*q(123,4) - 0.2474701*q(125,4) - 0.1758461*q(132,4) - 0.1455904*q(135,4) - 0.2416098*q(136,4) - 0.1667549*q(138,4) - 0.4704913*q(140,4) - 0.5807108*q(141,4) - 0.3636091*q(144,4) - 1.128742*q(147,4) - 0.3528425*q(150,4) + povline(4,3) =E= 
     0 ; (LHS = 0)
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     deflin  =E=  define revealed preference matrix

deflin(4,4)..  - 3.893665*q(101,4) - 3.742404*q(105,4) - 1.45557*q(107,4) - 0.3008554*q(108,4) - 3.423853*q(109,4) - 1.887762*q(110,4) - 1.137578*q(113,4) - 0.9364981*q(115,4) - 0.6634116*q(116,4) - 5.693115*q(117,4) - 6.115427*q(119,4)
     
      - 1.603947*q(123,4) - 0.4495577*q(125,4) - 0.1287464*q(132,4) - 0.4180501*q(135,4) - 0.4631969*q(136,4) - 0.1985872*q(138,4) - 0.5853505*q(140,4) - 0.9591216*q(141,4) - 1.362688*q(144,4) - 3.258949*q(147,4) - 0.4373075*q(150,4) + povline(4,4) =E= 0
      ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -51.0821691045043, INFES = 51.0821691045043 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = 63.5582045761154)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 611.225832087982)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 38.1899453829321)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = 37.8302124552527)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 427.803493451126)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 20.997191615567)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 38.721969854879)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 348.604979351244)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -318.15600596273, INFES = 318.15600596273 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -379.54985905483, INFES = 379.54985905483 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -401.886938743931, INFES = 401.886938743931 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(101,1)..  - 4.756701*q(101,1) + (648.832350130057)*s(101,1) + (0.127116202761172)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(101,2)..  - 3.239064*q(101,2) + (414.810229350782)*s(101,2) + (0.0865985664795907)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(101,3)..  - 3.593272*q(101,3) + (322.379660755408)*s(101,3) + (0.0156144406927854)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(101,4)..  - 3.893665*q(101,4) + (905.636727532568)*s(101,4) + (0.214990394411531)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 1.437854*q(103,1) + (648.832350130057)*s(103,1) + (0.0131749001373746)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 2.628082*q(105,1) + (648.832350130057)*s(105,1) + (0.0216444842353042)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 2.444625*q(105,2) + (414.810229350782)*s(105,2) + (0.018100093443756)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     defshr  =E=  define the endogenous budget shares

defshr(105,4)..  - 3.742404*q(105,4) + (905.636727532568)*s(105,4) + (0.0826738850078443)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 1.712853*q(107,1) + (648.832350130057)*s(107,1) + (0.0524978765270309)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 1.155257*q(107,2) + (414.810229350782)*s(107,2) + (0.0208147215499873)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.6123084*q(107,3) + (322.379660755408)*s(107,3) + (0.0202584701835996)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 1.45557*q(107,4) + (905.636727532568)*s(107,4) + (0.0189035740905774)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.9977077*q(108,1) + (648.832350130057)*s(108,1) + (0.0330477472986543)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.7862937*q(108,2) + (414.810229350782)*s(108,2) + (0.136517997300625)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 1.193393*q(108,3) + (322.379660755408)*s(108,3) + (0.0746531112074794)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3008554*q(108,4) + (905.636727532568)*s(108,4) + (0.0428567448147207)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 3.423853*q(109,4) + (905.636727532568)*s(109,4) + (0.045231157913309)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 2.559957*q(110,1) + (648.832350130057)*s(110,1) + (0.0304670973652754)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 1.858513*q(110,2) + (414.810229350782)*s(110,2) + (0.0142122687914774)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.887762*q(110,4) + (905.636727532568)*s(110,4) + (0.0121028941754989)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.5697048*q(111,3) + (322.379660755408)*s(111,3) + (0.0211555553138002)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.2100683*q(112,2) + (414.810229350782)*s(112,2) + (0.035566973836943)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.55073*q(113,1) + (648.832350130057)*s(113,1) + (0.18688841360372)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 1.067183*q(113,2) + (414.810229350782)*s(113,2) + (0.13808152053803)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.4747798*q(113,3) + (322.379660755408)*s(113,3) + (0.0643083612526061)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 1.137578*q(113,4) + (905.636727532568)*s(113,4) + (0.066866871462642)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.5638121*q(114,1) + (648.832350130057)*s(114,1) + (0.00941191835733701)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.7077817*q(115,2) + (414.810229350782)*s(115,2) + (0.0281036204569918)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.2928546*q(115,3) + (322.379660755408)*s(115,3) + (0.0158259571798033)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.9364981*q(115,4) + (905.636727532568)*s(115,4) + (0.0491245305172411)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.5435081*q(116,2) + (414.810229350782)*s(116,2) + (0.017851729277124)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     defshr  =E=  define the endogenous budget shares

defshr(116,3)..  - 0.4356074*q(116,3) + (322.379660755408)*s(116,3) + (0.0697080130929041)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(116,4)..  - 0.6634116*q(116,4) + (905.636727532568)*s(116,4) + (0.0142522612632786)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 5.957156*q(117,1) + (648.832350130057)*s(117,1) + (0.032789256663211)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 5.185062*q(117,2) + (414.810229350782)*s(117,2) + (0.0384265431098992)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 4.592496*q(117,3) + (322.379660755408)*s(117,3) + (0.0297538994666414)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 5.693115*q(117,4) + (905.636727532568)*s(117,4) + (0.0455112158110132)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 4.683238*q(118,1) + (648.832350130057)*s(118,1) + (0.00942407305576168)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(118,3)..  - 3.983791*q(118,3) + (322.379660755408)*s(118,3) + (0.0266523362258748)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 5.424968*q(119,2) + (414.810229350782)*s(119,2) + (0.0115061075116948)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,3)..  - 4.58623*q(119,3) + (322.379660755408)*s(119,3) + (0.0159625156450434)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 6.115427*q(119,4) + (905.636727532568)*s(119,4) + (0.00788701294056312)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 7.128051*q(121,2) + (414.810229350782)*s(121,2) + (0.013088176641107)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 4.982974*q(121,3) + (322.379660755408)*s(121,3) + (0.0243603214494035)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 1.401376*q(122,1) + (648.832350130057)*s(122,1) + (0.018171455367876)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.8174804*q(122,2) + (414.810229350782)*s(122,2) + (0.0250880262401609)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,3)..  - 1.178441*q(122,3) + (322.379660755408)*s(122,3) + (0.0220117237205196)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 1.144556*q(123,1) + (648.832350130057)*s(123,1) + (0.0118397511499064)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.9274722*q(123,2) + (414.810229350782)*s(123,2) + (0.0181440353127026)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.8776883*q(123,3) + (322.379660755408)*s(123,3) + (0.0418183494931717)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 1.603947*q(123,4) + (905.636727532568)*s(123,4) + (0.00796582264466109)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.5950685*q(125,1) + (648.832350130057)*s(125,1) + (0.0261945704779319)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.4330402*q(125,2) + (414.810229350782)*s(125,2) + (0.040875847742211)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.2474701*q(125,3) + (322.379660755408)*s(125,3) + (0.0104081513752729)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.4495577*q(125,4) + (905.636727532568)*s(125,4) + (0.0438523770856074)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     defshr  =E=  define the endogenous budget shares

defshr(127,1)..  - 0.1773119*q(127,1) + (648.832350130057)*s(127,1) + (0.0261965579077826)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.1402947*q(127,2) + (414.810229350782)*s(127,2) + (0.0299434450822913)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.2748609*q(127,3) + (322.379660755408)*s(127,3) + (0.0516080854146118)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1682742*q(132,2) + (414.810229350782)*s(132,2) + (0.0188457904774977)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1758461*q(132,3) + (322.379660755408)*s(132,3) + (0.01906910704628)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(132,4)..  - 0.1287464*q(132,4) + (905.636727532568)*s(132,4) + (0.00845731950858471)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(133,2)..  - 0.3289416*q(133,2) + (414.810229350782)*s(133,2) + (0.00759802520723766)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.5713221*q(134,1) + (648.832350130057)*s(134,1) + (0.0159592095146537)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.305634*q(135,1) + (648.832350130057)*s(135,1) + (0.0192576679525079)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,2)..  - 0.2042784*q(135,2) + (414.810229350782)*s(135,2) + (0.0102031796594334)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.1455904*q(135,3) + (322.379660755408)*s(135,3) + (0.0176587612046679)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.4180501*q(135,4) + (905.636727532568)*s(135,4) + (0.0114621646695153)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.2465848*q(136,1) + (648.832350130057)*s(136,1) + (0.0291779172540364)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.2325483*q(136,2) + (414.810229350782)*s(136,2) + (0.0250688857304936)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.2416098*q(136,3) + (322.379660755408)*s(136,3) + (0.0204844510557219)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.4631969*q(136,4) + (905.636727532568)*s(136,4) + (0.0191301691194668)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(137,1)..  - 0.486736*q(137,1) + (648.832350130057)*s(137,1) + (0.00914336374352919)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(137,2)..  - 0.447572*q(137,2) + (414.810229350782)*s(137,2) + (0.0216500580771877)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(137,3)..  - 0.6590823*q(137,3) + (322.379660755408)*s(137,3) + (0.0181354256198705)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.241862*q(138,1) + (648.832350130057)*s(138,1) + (0.0164806360974828)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.2851832*q(138,2) + (414.810229350782)*s(138,2) + (0.0411810734387363)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.1667549*q(138,3) + (322.379660755408)*s(138,3) + (0.0211137617982722)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1985872*q(138,4) + (905.636727532568)*s(138,4) + (0.0201591534620047)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,1)..  - 0.3947161*q(139,1) + (648.832350130057)*s(139,1) + (0.0301948619580963)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     defshr  =E=  define the endogenous budget shares

defshr(139,2)..  - 0.231506*q(139,2) + (414.810229350782)*s(139,2) + (0.0401911701418521)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.1909017*q(139,3) + (322.379660755408)*s(139,3) + (0.0546502128053872)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 1.166832*q(140,1) + (648.832350130057)*s(140,1) + (0.0426001963017466)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.4375624*q(140,2) + (414.810229350782)*s(140,2) + (0.0241864215463323)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 0.4704913*q(140,3) + (322.379660755408)*s(140,3) + (0.0222727135114142)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.5853505*q(140,4) + (905.636727532568)*s(140,4) + (0.0465978305176618)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.665614*q(141,1) + (648.832350130057)*s(141,1) + (0.0883590560912388)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 1.141639*q(141,2) + (414.810229350782)*s(141,2) + (0.0362506552356618)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.5807108*q(141,3) + (322.379660755408)*s(141,3) + (0.22003246873552)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.9591216*q(141,4) + (905.636727532568)*s(141,4) + (0.175565595961688)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 1.158669*q(143,2) + (414.810229350782)*s(143,2) + (0.016281889568947)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 2.415702*q(144,1) + (648.832350130057)*s(144,1) + (0.0447875962177858)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 0.8271053*q(144,2) + (414.810229350782)*s(144,2) + (0.0123350810403695)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 1.362688*q(144,4) + (905.636727532568)*s(144,4) + (0.0326566686934817)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.7583837*q(146,3) + (322.379660755408)*s(146,3) + (0.045173763798791)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 3.378036*q(147,1) + (648.832350130057)*s(147,1) + (0.0761507444788658)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 2.464249*q(147,2) + (414.810229350782)*s(147,2) + (0.0594865197464554)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 1.128742*q(147,3) + (322.379660755408)*s(147,3) + (0.0334826789712307)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 3.258949*q(147,4) + (905.636727532568)*s(147,4) + (0.0190971114318665)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(149,1)..  - 0.1895476*q(149,1) + (648.832350130057)*s(149,1) + (0.0118421089855946)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.4653584*q(150,1) + (648.832350130057)*s(150,1) + (0.017182336496124)*povline(1,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(101,1) + 0.689*q(103,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1)
     
      + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.264*q(137,1) + 0.2016*q(138,1) + 0.261*q(139,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 1683.14063146584, INFES = 359.35936853416 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 502


     cals  =E=  ensure that each bundle hits the calorie

cals(2)..  0.689*q(101,2) + 1.0164*q(105,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.221*q(119,2) + 1.4835*q(121,2) + 0.6161*q(122,2) + 3.75*q(123,2)
     
      + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.3431*q(133,2) + 0.364*q(135,2) + 0.1638*q(136,2) + 0.264*q(137,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 1728.79431270821, INFES = 313.70568729179 ****)
     
cals(3)..  0.689*q(101,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 2.3534*q(118,3) + 1.221*q(119,3) + 1.4835*q(121,3) + 0.6161*q(122,3) + 3.75*q(123,3) + 0.6*q(125,3)
     
      + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.264*q(137,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 1.03*q(140,3) + 3.13*q(141,3) + 5.73*q(146,3) + 3.87*q(147,3) =E= 2042.5 ;
     
      (LHS = 1753.11069575746, INFES = 289.38930424254 ****)
     
cals(4)..  0.689*q(101,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 3.65*q(113,4) + 3.78*q(115,4) + 3.39*q(116,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 3.75*q(123,4) + 0.6*q(125,4) + 0.4331*q(132,4)
     
      + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.88*q(144,4) + 3.87*q(147,4) =E= 2042.5 ; (LHS = 1829.27653415816, INFES = 213.22346584184 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 502


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(101,1)
                (.LO, .L, .UP, .M = 1E-5, 17.33914, +INF, 0)
       -4.7567  deflin(1,1)
       -3.2391  deflin(1,2)
       -3.5933  deflin(1,3)
       -3.8937  deflin(1,4)
       -4.7567  defshr(101,1)
        0.689   cals(1)

q(101,2)
                (.LO, .L, .UP, .M = 1E-5, 11.090232, +INF, 0)
       -4.7567  deflin(2,1)
       -3.2391  deflin(2,2)
       -3.5933  deflin(2,3)
       -3.8937  deflin(2,4)
       -3.2391  defshr(101,2)
        0.689   cals(2)

q(101,3)
                (.LO, .L, .UP, .M = 1E-5, 1.4008898, +INF, 0)
       -4.7567  deflin(3,1)
       -3.2391  deflin(3,2)
       -3.5933  deflin(3,3)
       -3.8937  deflin(3,4)
       -3.5933  defshr(101,3)
        0.689   cals(3)

REMAINING 100 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(101,1)
                (.LO, .L, .UP, .M = 0.0001, 0.127116202761172, +INF, 0)
      (-1)      obj
     (648.8324) defshr(101,1)

s(101,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0865985664795907, +INF, 0)
      (-1)      obj
     (414.8102) defshr(101,2)

s(101,3)
                (.LO, .L, .UP, .M = 0.0001, 0.0156144406927854, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 502


     s  derived maximum entropy shares

     (322.3797) defshr(101,3)

REMAINING 100 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 648.832350130057, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1271) defshr(101,1)
       (0.0132) defshr(103,1)
       (0.0216) defshr(105,1)
       (0.0525) defshr(107,1)
       (0.033)  defshr(108,1)
       (0.0305) defshr(110,1)
       (0.1869) defshr(113,1)
       (0.0094) defshr(114,1)
       (0.0328) defshr(117,1)
       (0.0094) defshr(118,1)
       (0.0182) defshr(122,1)
       (0.0118) defshr(123,1)
       (0.0262) defshr(125,1)
       (0.0262) defshr(127,1)
       (0.016)  defshr(134,1)
       (0.0193) defshr(135,1)
       (0.0292) defshr(136,1)
       (0.0091) defshr(137,1)
       (0.0165) defshr(138,1)
       (0.0302) defshr(139,1)
       (0.0426) defshr(140,1)
       (0.0884) defshr(141,1)
       (0.0448) defshr(144,1)
       (0.0762) defshr(147,1)
       (0.0118) defshr(149,1)
       (0.0172) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 453.000174733714, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 343.376852370975, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 502


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          136
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          223
NON ZERO ELEMENTS           963     NON LINEAR N-Z            309
DERIVATIVE POOL              10     CONSTANT POOL             119
CODE LENGTH                 929


GENERATION TIME      =        0.007 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.008 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  502

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0614

 RESOURCE USAGE, LIMIT          0.049      1000.000
 ITERATION COUNT, LIMIT        65    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 223 variables and 136 constraints
    with 963 Jacobian elements, 309 of which are nonlinear.
    The Hessian of the Lagrangian has 103 elements on the diagonal,
    103 elements below the diagonal, and 107 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.048 seconds
   of which: Function evaluations             0.010 = 20.8%
             1st Derivative evaluations       0.002 =  4.2%
             2nd Derivative evaluations       0.001 =  2.1%
             Directional 2nd Derivative       0.001 =  2.1%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0010      
1.2          .              .              .             EPS         
1.3          .              .              .            -0.0001      
1.4          .              .              .             EPS         
2.1          .              .              .       -4.165005E-5      
2.2          .              .              .            -0.0016      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .             EPS         
3.1          .              .              .             EPS         
3.2          .              .              .             EPS         
3.3          .              .              .            -0.0020      
3.4          .              .              .            -0.0003      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0010      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF      4.1650052E-5      
1.3          .           160.5540        +INF             .          
1.4          .           268.7626        +INF             .          
2.1          .             7.2297        +INF            EPS         
2.3          .            61.8772        +INF             .          
2.4          .           162.1676        +INF             .          
3.1          .              .            +INF            0.0001      
3.2          .            55.5036        +INF             .          
3.4          .           204.0639        +INF             .          
4.1          .            41.5307        +INF            EPS         
4.2          .             2.9270        +INF            EPS         
4.3          .              .            +INF            0.0003      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1          .              .              .             0.0011      
101.2          .              .              .             0.0016      
101.3          .              .              .             0.0023      
101.4          .              .              .             0.0010      
103.1          .              .              .             0.0011      
105.1          .              .              .             0.0011      
105.2          .              .              .             0.0016      
105.4          .              .              .             0.0011      
107.1          .              .              .             0.0011      
107.2          .              .              .             0.0016      
107.3          .              .              .             0.0025      
107.4          .              .              .             0.0011      
108.1          .              .              .             0.0012      
108.2          .              .              .             0.0016      
108.3          .              .              .             0.0018      
108.4          .              .              .             0.0022      
109.4          .              .              .             0.0010      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

110.1          .              .              .             0.0011      
110.2          .              .              .             0.0016      
110.4          .              .              .             0.0012      
111.3          .              .              .             0.0020      
112.2          .              .              .             0.0015      
113.1          .              .              .             0.0011      
113.2          .              .              .             0.0016      
113.3          .              .              .             0.0020      
113.4          .              .              .             0.0014      
114.1          .              .              .             0.0010      
115.2          .              .              .             0.0016      
115.3          .              .              .             0.0018      
115.4          .              .              .             0.0015      
116.2          .              .              .             0.0016      
116.3          .              .              .             0.0018      
116.4          .              .              .             0.0016      
117.1          .              .              .             0.0011      
117.2          .              .              .             0.0016      
117.3          .              .              .             0.0023      
117.4          .              .              .             0.0011      
118.1          .              .              .             0.0011      
118.3          .              .              .             0.0024      
119.2          .              .              .             0.0016      
119.3          .              .              .             0.0024      
119.4          .              .              .             0.0010      
121.2          .              .              .             0.0016      
121.3          .              .              .             0.0026      
122.1          .              .              .             0.0011      
122.2          .              .              .             0.0016      
122.3          .              .              .             0.0024      
123.1          .              .              .             0.0011      
123.2          .              .              .             0.0016      
123.3          .              .              .             0.0022      
123.4          .              .              .             0.0013      
125.1          .              .              .             0.0011      
125.2          .              .              .             0.0016      
125.3          .              .              .             0.0023      
125.4          .              .              .             0.0012      
127.1          .              .              .             0.0007      
127.2          .              .              .             0.0005      
127.3          .              .              .            -0.0002      
132.2          .              .              .             0.0016      
132.3          .              .              .             0.0020      
132.4          .              .              .             0.0014      
133.2          .              .              .             0.0016      
134.1          .              .              .             0.0011      
135.1          .              .              .             0.0011      
135.2          .              .              .             0.0016      
135.3          .              .              .             0.0026      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

135.4          .              .              .             0.0011      
136.1          .              .              .             0.0012      
136.2          .              .              .             0.0016      
136.3          .              .              .             0.0025      
136.4          .              .              .             0.0011      
137.1          .              .              .             0.0012      
137.2          .              .              .             0.0016      
137.3          .              .              .             0.0022      
138.1          .              .              .             0.0011      
138.2          .              .              .             0.0016      
138.3          .              .              .             0.0022      
138.4          .              .              .             0.0011      
139.1          .              .              .             0.0011      
139.2          .              .              .             0.0016      
139.3          .              .              .             0.0023      
140.1          .              .              .             0.0011      
140.2          .              .              .             0.0016      
140.3          .              .              .             0.0022      
140.4          .              .              .             0.0012      
141.1          .              .              .             0.0011      
141.2          .              .              .             0.0016      
141.3          .              .              .             0.0020      
141.4          .              .              .             0.0014      
143.2          .              .              .             0.0016      
144.1          .              .              .             0.0010      
144.2          .              .              .             0.0016      
144.4          .              .              .             0.0015      
146.3          .              .              .             0.0014      
147.1          .              .              .             0.0011      
147.2          .              .              .             0.0016      
147.3          .              .              .             0.0026      
147.4          .              .              .             0.0012      
149.1          .              .              .             0.0011      
150.1          .              .              .             0.0011      
150.2          .              .              .             0.0016      
150.3          .              .              .             0.0024      
150.4          .              .              .             0.0010      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   -0.999577E-5      
2      2042.5000      2042.5000      2042.5000   -1.871527E-5      
3      2042.5000      2042.5000      2042.5000   -8.679321E-5      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0614        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

101.1   1.0000000E-5        25.6732        +INF            EPS         
101.2   1.0000000E-5        17.6991        +INF            EPS         
101.3   1.0000000E-5         2.3807        +INF             .          
101.4   1.0000000E-5        35.5015        +INF             .          
103.1   1.0000000E-5         8.4535        +INF             .          
105.1   1.0000000E-5         7.4182        +INF             .          
105.2   1.0000000E-5         4.8390        +INF             .          
105.4   1.0000000E-5        14.3251        +INF             .          
107.1   1.0000000E-5        28.0118        +INF             .          
107.2   1.0000000E-5        11.7979        +INF             .          
107.3   1.0000000E-5        20.1576        +INF             .          
107.4   1.0000000E-5         8.9297        +INF             .          
108.1   1.0000000E-5        32.5036        +INF             .          
108.2   1.0000000E-5       109.3081        +INF             .          
108.3   1.0000000E-5        27.3486        +INF             .          
108.4   1.0000000E-5       230.3489        +INF             .          
109.4   1.0000000E-5         8.5031        +INF             .          
110.1   1.0000000E-5        10.8212        +INF             .          
110.2   1.0000000E-5         4.9474        +INF             .          
110.4   1.0000000E-5         4.8181        +INF             .          
111.3   1.0000000E-5        17.9055        +INF             .          
112.2   1.0000000E-5       105.2320        +INF             .          
113.1   1.0000000E-5       107.9565        +INF             .          
113.2   1.0000000E-5        82.4175        +INF            EPS         
113.3   1.0000000E-5        65.6205        +INF             .          
113.4   1.0000000E-5        49.6326        +INF             .          
114.1   1.0000000E-5        14.4509        +INF             .          
115.2   1.0000000E-5        25.0609        +INF             .          
115.3   1.0000000E-5        23.6381        +INF             .          
115.4   1.0000000E-5        47.7137        +INF             .          
116.2   1.0000000E-5        21.0968        +INF            EPS         
116.3   1.0000000E-5        67.8879        +INF             .          
116.4   1.0000000E-5        21.5212        +INF             .          
117.1   1.0000000E-5         5.2893        +INF             .          
117.2   1.0000000E-5         4.8570        +INF             .          
117.3   1.0000000E-5         3.6017        +INF             .          
117.4   1.0000000E-5         5.2045        +INF             .          
118.1   1.0000000E-5         1.9473        +INF             .          
118.3   1.0000000E-5         3.7771        +INF             .          
119.2   1.0000000E-5         1.3951        +INF             .          
119.3   1.0000000E-5         1.9722        +INF             .          
119.4   1.0000000E-5         0.8309        +INF            EPS         
121.2   1.0000000E-5         1.2145        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

121.3   1.0000000E-5         3.0866        +INF             .          
122.1   1.0000000E-5        12.5416        +INF             .          
122.2   1.0000000E-5        20.3179        +INF             .          
122.3   1.0000000E-5        10.9640        +INF             .          
123.1   1.0000000E-5         9.6686        +INF             .          
123.2   1.0000000E-5        12.2977        +INF             .          
123.3   1.0000000E-5        24.5193        +INF             .          
123.4   1.0000000E-5         3.8779        +INF            EPS         
125.1   1.0000000E-5        40.4089        +INF             .          
125.2   1.0000000E-5        61.4693        +INF             .          
125.3   1.0000000E-5        23.3632        +INF             .          
125.4   1.0000000E-5        69.5968        +INF             .          
127.1   1.0000000E-5        98.2222        +INF             .          
127.2   1.0000000E-5        66.6155        +INF             .          
127.3   1.0000000E-5        30.2134        +INF             .          
132.2   1.0000000E-5        71.9244        +INF             .          
132.3   1.0000000E-5        51.2514        +INF             .          
132.4   1.0000000E-5        56.2474        +INF             .          
133.2   1.0000000E-5        14.8425        +INF            EPS         
134.1   1.0000000E-5        26.3701        +INF             .          
135.1   1.0000000E-5        58.1317        +INF             .          
135.2   1.0000000E-5        32.4780        +INF             .          
135.3   1.0000000E-5        78.4679        +INF             .          
135.4   1.0000000E-5        18.7633        +INF             .          
136.1   1.0000000E-5       115.9800        +INF            EPS         
136.2   1.0000000E-5        70.1864        +INF             .          
136.3   1.0000000E-5        51.4594        +INF             .          
136.4   1.0000000E-5        26.9797        +INF             .          
137.1   1.0000000E-5        19.2120        +INF             .          
137.2   1.0000000E-5        31.5595        +INF             .          
137.3   1.0000000E-5        14.0511        +INF             .          
138.1   1.0000000E-5        64.5771        +INF             .          
138.2   1.0000000E-5        93.4874        +INF             .          
138.3   1.0000000E-5        67.5120        +INF             .          
138.4   1.0000000E-5        70.3770        +INF             .          
139.1   1.0000000E-5        70.9774        +INF             .          
139.2   1.0000000E-5       114.3989        +INF             .          
139.3   1.0000000E-5       159.2437        +INF             .          
140.1   1.0000000E-5        33.5065        +INF             .          
140.2   1.0000000E-5        36.8215        +INF             .          
140.3   1.0000000E-5        24.4088        +INF             .          
140.4   1.0000000E-5        59.0095        +INF             .          
141.1   1.0000000E-5        47.9524        +INF            EPS         
141.2   1.0000000E-5        20.3930        +INF             .          
141.3   1.0000000E-5       181.2390        +INF             .          
141.4   1.0000000E-5       155.3259        +INF             .          
143.2   1.0000000E-5         8.9164        +INF             .          
144.1   1.0000000E-5        16.3125        +INF             .          
144.2   1.0000000E-5         9.4519        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

144.4   1.0000000E-5        22.3515        +INF             .          
146.3   1.0000000E-5        20.8208        +INF            EPS         
147.1   1.0000000E-5        20.4819        +INF             .          
147.2   1.0000000E-5        15.6841        +INF             .          
147.3   1.0000000E-5        18.4959        +INF             .          
147.4   1.0000000E-5         4.1260        +INF             .          
149.1   1.0000000E-5        58.5778        +INF             .          
150.1   1.0000000E-5        35.5296        +INF             .          
150.2   1.0000000E-5        29.6527        +INF             .          
150.3   1.0000000E-5        38.1653        +INF             .          
150.4   1.0000000E-5        21.2072        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

101.1         0.0001         0.1331        +INF             .          
101.2         0.0001         0.0903        +INF             .          
101.3         0.0001         0.0176        +INF            EPS         
101.4         0.0001         0.1776        +INF      8.5944950E-9      
103.1         0.0001         0.0132        +INF            EPS         
105.1         0.0001         0.0212        +INF            EPS         
105.2         0.0001         0.0186        +INF            EPS         
105.4         0.0001         0.0689        +INF      8.0731675E-9      
107.1         0.0001         0.0523        +INF            EPS         
107.2         0.0001         0.0215        +INF            EPS         
107.3         0.0001         0.0254        +INF      -1.875791E-9      
107.4         0.0001         0.0167        +INF      8.3750065E-9      
108.1         0.0001         0.0353        +INF             .          
108.2         0.0001         0.1353        +INF             .          
108.3         0.0001         0.0671        +INF            EPS         
108.4         0.0001         0.0890        +INF             .          
109.4         0.0001         0.0374        +INF             .          
110.1         0.0001         0.0302        +INF            EPS         
110.2         0.0001         0.0145        +INF            EPS         
110.4         0.0001         0.0117        +INF      7.3902762E-9      
111.3         0.0001         0.0210        +INF            EPS         
112.2         0.0001         0.0348        +INF             .          
113.1         0.0001         0.1824        +INF             .          
113.2         0.0001         0.1385        +INF             .          
113.3         0.0001         0.0640        +INF            EPS         
113.4         0.0001         0.0725        +INF      6.5307000E-9      
114.1         0.0001         0.0089        +INF      1.0300619E-9      
115.2         0.0001         0.0279        +INF            EPS         
115.3         0.0001         0.0142        +INF            EPS         
115.4         0.0001         0.0574        +INF      6.7605674E-9      
116.2         0.0001         0.0181        +INF             .          
116.3         0.0001         0.0608        +INF            EPS         
116.4         0.0001         0.0183        +INF      5.5072591E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

117.1         0.0001         0.0343        +INF            EPS         
117.2         0.0001         0.0397        +INF            EPS         
117.3         0.0001         0.0340        +INF            EPS         
117.4         0.0001         0.0381        +INF      7.8087533E-9      
118.1         0.0001         0.0099        +INF      -1.261664E-9      
118.3         0.0001         0.0309        +INF            EPS         
119.2         0.0001         0.0119        +INF      -1.878340E-9      
119.3         0.0001         0.0186        +INF            EPS         
119.4         0.0001         0.0065        +INF             .          
121.2         0.0001         0.0136        +INF            EPS         
121.3         0.0001         0.0316        +INF      -1.716128E-9      
122.1         0.0001         0.0191        +INF            EPS         
122.2         0.0001         0.0262        +INF            EPS         
122.3         0.0001         0.0266        +INF            EPS         
123.1         0.0001         0.0121        +INF            EPS         
123.2         0.0001         0.0180        +INF            EPS         
123.3         0.0001         0.0442        +INF            EPS         
123.4         0.0001         0.0080        +INF             .          
125.1         0.0001         0.0262        +INF      1.1304573E-9      
125.2         0.0001         0.0419        +INF            EPS         
125.3         0.0001         0.0119        +INF            EPS         
125.4         0.0001         0.0402        +INF      8.3834119E-9      
127.1         0.0001         0.0190        +INF             .          
127.2         0.0001         0.0147        +INF             .          
127.3         0.0001         0.0171        +INF             .          
132.2         0.0001         0.0191        +INF            EPS         
132.3         0.0001         0.0185        +INF            EPS         
132.4         0.0001         0.0093        +INF      7.7936693E-9      
133.2         0.0001         0.0077        +INF             .          
134.1         0.0001         0.0164        +INF            EPS         
135.1         0.0001         0.0194        +INF            EPS         
135.2         0.0001         0.0104        +INF      1.6669663E-9      
135.3         0.0001         0.0235        +INF      -2.125225E-9      
135.4         0.0001         0.0101        +INF      6.1379014E-9      
136.1         0.0001         0.0312        +INF             .          
136.2         0.0001         0.0257        +INF      -1.707427E-9      
136.3         0.0001         0.0256        +INF      -1.322349E-9      
136.4         0.0001         0.0161        +INF      1.0734188E-8      
137.1         0.0001         0.0102        +INF      -2.199438E-9      
137.2         0.0001         0.0222        +INF            EPS         
137.3         0.0001         0.0190        +INF            EPS         
138.1         0.0001         0.0170        +INF      -1.051620E-9      
138.2         0.0001         0.0420        +INF            EPS         
138.3         0.0001         0.0231        +INF            EPS         
138.4         0.0001         0.0180        +INF      6.8810575E-9      
139.1         0.0001         0.0305        +INF            EPS         
139.2         0.0001         0.0417        +INF            EPS         
139.3         0.0001         0.0625        +INF      -1.117245E-9      
140.1         0.0001         0.0426        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 502


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

140.2         0.0001         0.0254        +INF            EPS         
140.3         0.0001         0.0236        +INF            EPS         
140.4         0.0001         0.0444        +INF      7.2254269E-9      
141.1         0.0001         0.0870        +INF             .          
141.2         0.0001         0.0367        +INF            EPS         
141.3         0.0001         0.2163        +INF             .          
141.4         0.0001         0.1914        +INF      6.6309633E-9      
143.2         0.0001         0.0163        +INF            EPS         
144.1         0.0001         0.0429        +INF      1.0737207E-9      
144.2         0.0001         0.0123        +INF             .          
144.4         0.0001         0.0391        +INF      6.3174486E-9      
146.3         0.0001         0.0325        +INF             .          
147.1         0.0001         0.0754        +INF            EPS         
147.2         0.0001         0.0609        +INF            EPS         
147.3         0.0001         0.0429        +INF      -2.109367E-9      
147.4         0.0001         0.0173        +INF      7.3994301E-9      
149.1         0.0001         0.0121        +INF            EPS         
150.1         0.0001         0.0180        +INF            EPS         
150.2         0.0001         0.0144        +INF            EPS         
150.3         0.0001         0.0277        +INF            EPS         
150.4         0.0001         0.0119        +INF      9.0481241E-9      

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          917.7887        +INF            EPS         
1.2        -INF          642.3858        +INF             .          
1.3        -INF          486.5802        +INF             .          
1.4        -INF          819.7760        +INF             .          
2.1        -INF          917.7887        +INF             .          
2.2        -INF          635.1561        +INF             .          
2.3        -INF          542.0838        +INF             .          
2.4        -INF          781.1723        +INF             .          
3.1        -INF         1078.3427        +INF             .          
3.2        -INF          697.0333        +INF             .          
3.3        -INF          486.5802        +INF             .          
3.4        -INF          778.2453        +INF             .          
4.1        -INF         1186.5513        +INF             .          
4.2        -INF          797.3237        +INF             .          
4.3        -INF          690.6441        +INF             .          
4.4        -INF          778.2453        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 14:47:45 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    505 this is without adjustment for calorie target or 90%

----    505 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     917.789     642.386     486.580     819.776
2     917.789     635.156     542.084     781.172
3    1078.343     697.033     486.580     778.245
4    1186.551     797.324     690.644     778.245


----    530 PARAMETER perc_chng  percent change in line

1  16.565,    2  29.602,    3  29.549,    4 -23.037


----    530 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 840.347,    2 597.337,    3 464.044,    4 774.446


----    530 PARAMETER povline_ali  food poverty line

1  720.925,    2  460.900,    3  358.200,    4 1006.263


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/list.lst
