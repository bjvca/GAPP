-----------------------------------------------------------------------
      name:  log_000_boom
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/000_boom.log
  log type:  text
 opened on:   9 Jul 2013, 11:35:55

. 
. display "* # * # * # * # * # * # * # * # * # * # * # * # * # * # * # 
> * # *"
* # * # * # * # * # * # * # * # * # * # * # * # * # * # * # * # *

. display ""


. display "Generel information:"
Generel information:

. display "   UGANDA HOUSEHOLD BUDGET SURVEY 2009/10"
   UGANDA HOUSEHOLD BUDGET SURVEY 2009/10

. display "   Poverty rate estimation"
   Poverty rate estimation

. display "   Methodology: Iterative procedure and revealed preferences
>  tests"
   Methodology: Iterative procedure and revealed preferences tests

. display ""


. display "* # * # * # * # * # * # * # * # * # * # * # * # * # * # * # 
> * # *"
* # * # * # * # * # * # * # * # * # * # * # * # * # * # * # * # *

. 
. 
. *********************************************************************
> *****
. * 000_boom.do   (start)
. *
. * Reminders:
. *       1) Check very top of this file to make sure you are on the ri
> ght path! 
. *       2) GAMS 22.5 must be placed onto the path. See 190_revpref13_
> m1.bat.
. *          Typically this needs to be edited.
. *   3) In case of implementing a new survey the user must make necess
> ary
. *      changes in 010_initial.do, 020_hhdata.do and 030_rawdata.do.
. *
. * Process:
. * - The do-file prefix indicates first time a do-file is called
. *
. * KS, 2003
. * CA, 2009-2010
. * MAH, Apr. 2012
. *********************************************************************
> *****
. 
. clear all

. set more off

. set mem 700m

. 
. noisily display "Start time: " "$S_TIME"
Start time: 11:35:55

. 
. 
. 
. *********************************************************************
> *****
. * Macros. Region definitions. Demographic definitions.
. *********************************************************************
> *****
. do "$path/new/final_tableA1-A5-Haruna-2011.do"

. 
. *********************************************************************
. *********************************************************************
. **
. **     PROGRAMME:    preparing_household data_2010-2011 for Uganda_ta
> bles_A1_to_A5      
. **     AUTHOR:       HARUNA SEKABIRA
. **     OBJECTIVE:    Create standard tables A1 to A5 for UNPS 2010/20
> 11
. **
. **     DATA IN:      GSEC1.dta
. **                                       GSEC2.dta
. **                                       GSEC3.dta
. **                   GSEC15B.dta
. **
. **
. **
. **     DATA OUT:     hhdata.dta (table A1)
. **                                       indata.dta (table A2)
. **                                       calperg.dta (table A3)
. **                   cons_cod_trans.dta (table A4)
. **                   cons_cod.dta (table A5)
. **
. **     NOTES:           the files in the in folder here have been cop
> ied from C:\Users\Templeton\Desktop\GAPP\UNHS_2005\UNHS_III_SOCIO_DAT
> A
. **                  originally from UBOS and pasted in the in folder 
> as the original files for use              
. **
. *********************************************************************
> *****
. 
. clear

. set logtype text

. capture log close

. set more off

. 
. if c(os)=="Unix" {
. global path "/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/"
. }

. else{
. global path "C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_
> 2011\GAPP3"
. }

. 
. 
. **************************************************************
. * Table A1: Household Characteristics and interview details
. **************************************************************
. 
. use "$path/in/GSEC1.dta" 
(Household master record (1 record per household))

. *keep
. 
. ***------- Primary Sampling Unit
. * The primary sampling unit for the 2011 is the comm, using codes as 
> of 2005/6 UNHS and is the enumeration area.
. codebook comm 

-----------------------------------------------------------------------
comm                                 Current EA Code as in 2005/06 Data
-----------------------------------------------------------------------

                  type:  string (str8), but longest is str7

         unique values:  324                      missing "":  0/2716

              examples:  "1080033"
                         "2080001"
                         "3030033"
                         "3210030"

.         /* There are 324 unique values, the UNHS 10/11 report mention
> s 322, located in C:\Users\Templeton\Desktop\GAPP\UNHS_2011\GAPP3\wor
> king-files */
. rename comm psu

. label variable psu "Primary Sampling Unit"

. 
. ***------Interview date
. ** the interview date was in three propotions, the day, month and yea
> r and all these had been entered separately. However, this infromatio
> n is 
. ** replicated below in the survey quarters and months better thus mig
> ht be a repeat to do it here.
. 
. ***------- Interview Quarter
. * For the Mozambique Data, instead of using the regular quarter defin
> ition for their "surquar" variable they defined the quarters
. * relative to the time period covered by the survey: the survey ran f
> rom Sept 2008 to August 2009 so they defined the quarters
. * as follows: Sept-Nov 08, Dec08-Feb09, Mar-May 08 and June-Aug 08.
. * I will use the same framework
. tab month year,m 

 Month  of |        Year of interview
 interview |      2010       2011          . |     Total
-----------+---------------------------------+----------
         1 |         0        234          0 |       234 
         2 |         0        220          0 |       220 
         3 |         0        238          0 |       238 
         4 |         0        249          0 |       249 
         5 |         0        257          0 |       257 
         6 |         0        170          0 |       170 
         7 |         0        200          0 |       200 
         8 |         0        212          0 |       212 
         9 |         0        198          0 |       198 
        10 |       215          0          0 |       215 
        11 |       192          0          0 |       192 
        12 |       283          0          0 |       283 
         . |         0          0         48 |        48 
-----------+---------------------------------+----------
     Total |       690      1,978         48 |     2,716 


.         /* According to the repartition of months and year, the surve
> y ran from Oct 2010 to Sept 2011. I will define the
>          * the quarters accordingly */
. gen float survquar=1 if month>=10 & month<=12 & year==2010
(2026 missing values generated)

. replace survquar=2 if month>=1 & month<=3  & year==2011
(692 real changes made)

. replace survquar=3 if month>=4 & month<=6  & year==2011
(676 real changes made)

. replace survquar=4 if month>=7 & month<=9  & year==2011
(610 real changes made)

. label define lsurvquar 1 "Oct-Dec 10" 2 "Jan-Marc 11" 3 "Apr-June 11"
>  4 "July-Sept 2011"

. label values survquar lsurvquar

. label variable survquar "Sequential Survey Quarter (Oct-Dec 10 = 1)"

. 
. ***------- Sequential Interview month 
. * Following the Mozambique file, I am creating a survey month variabl
> e rather than an interview date variable as per the excel sheet
. * Number 1 corresponds to the first month of the survey and not to Ja
> nuary.
. gen float survmon=1 if month==10 & year==2010
(2501 missing values generated)

. replace survmon=2 if month==11 & year==2010
(192 real changes made)

. replace survmon=3 if month==12 & year==2010
(283 real changes made)

. replace survmon=4 if month==1 & year==2011
(234 real changes made)

. replace survmon=5 if month==2 & year==2011
(220 real changes made)

. replace survmon=6 if month==3 & year==2011
(238 real changes made)

. replace survmon=7 if month==4 & year==2011
(249 real changes made)

. replace survmon=8 if month==5 & year==2011
(257 real changes made)

. replace survmon=9 if month==6 & year==2011
(170 real changes made)

. replace survmon=10 if month==7 & year==2011
(200 real changes made)

. replace survmon=11 if month==8 & year==2011                          
>    
(212 real changes made)

. replace survmon=12 if month==9 & year==2011
(198 real changes made)

. label define lsurvmon 1 "Oct 10" 2 "Nov 10" 3 "Dec 10" 4 "Jan 11" 5 "
> Feb 11" 6 "Mac 11" 7 "Apr 11" 8 "May 11" 9 "Jun 11" 10 "Jul 11" 11 "A
> ug 11" 12 "Sep 11"

. 
. label values survmon lsurvmon

. tab survmon,m

    survmon |      Freq.     Percent        Cum.
------------+-----------------------------------
     Oct 10 |        215        7.92        7.92
     Nov 10 |        192        7.07       14.99
     Dec 10 |        283       10.42       25.41
     Jan 11 |        234        8.62       34.02
     Feb 11 |        220        8.10       42.12
     Mac 11 |        238        8.76       50.88
     Apr 11 |        249        9.17       60.05
     May 11 |        257        9.46       69.51
     Jun 11 |        170        6.26       75.77
     Jul 11 |        200        7.36       83.14
     Aug 11 |        212        7.81       90.94
     Sep 11 |        198        7.29       98.23
          . |         48        1.77      100.00
------------+-----------------------------------
      Total |      2,716      100.00

. label variable survmon "Sequential Survey Month (Oct 2010 = 1)"

. 
. ***------- Household Sample Weight
. rename wgt10 hhweight

. label variable hhweight "Household sample weight"

. 
. ***------- Household id
. codebook HHID /*there are  2,716 different values and 2,716 observati
> ons in the dataset so the variable "hh" uniquely identifies the obser
> vations */

-----------------------------------------------------------------------
HHID                            Unique HH Identifier Across Panel Waves
-----------------------------------------------------------------------

                  type:  string (str15)

         unique values:  2716                     missing "":  0/2716

              examples:  "109300040903"
                         "2083000510"
                         "3033001511"
                         "3213003002"

. rename HHID hhid

. label variable hhid "Household ID"

. 
. 
. ***------- Geographical Stratification during sampling
. 
. tab stratum

  UNPS Strata |
           of |
Representativ |
        eness |      Freq.     Percent        Cum.
--------------+-----------------------------------
      Kampala |        185        6.81        6.81
  Other Urban |        427       15.72       22.53
Central rural |        528       19.44       41.97
   East rural |        554       20.40       62.37
  North rural |        568       20.91       83.28
   West rural |        454       16.72      100.00
--------------+-----------------------------------
        Total |      2,716      100.00

. 
. *  UNPS Strata |
. *           of |
. *Representativ |
. *        eness |      Freq.     Percent        Cum.
. *--------------+-----------------------------------
. *      Kampala |        185        6.81        6.81
. *  Other Urban |        427       15.72       22.53
. *Central rural |        528       19.44       41.97
. *   East rural |        554       20.40       62.37
. *  North rural |        568       20.91       83.28
. *   West rural |        454       16.72      100.00
. *--------------+-----------------------------------
. *        Total |      2,716      100.00
. 
. * the 2010/2011 survey uses a tratification that aggregates all other
>  urban except kampala and this is an interesting way
. * that we have not used before so I choose to maintain it for the too
> l kit analysis
. rename stratum strata

. label variable strata "Geographical stratification variable during sa
> mpling (ranging from 1 to 6 sub regions)"
note: label truncated to 80 characters

. 
. ***----------------------rural/urban identifier 
. tab urban

Urban/Rural |
 Identifier |      Freq.     Percent        Cum.
------------+-----------------------------------
      Rural |      2,105       77.50       77.50
      Urban |        611       22.50      100.00
------------+-----------------------------------
      Total |      2,716      100.00

. 
. *Urban/Rural |
. * Identifier |      Freq.     Percent        Cum.
. *------------+-----------------------------------
. *      Rural |      2,105       77.50       77.50
. *      Urban |        611       22.50      100.00
. *------------+-----------------------------------
. *      Total |      2,716      100.00
. 
. gen rural=1 if urban==0
(611 missing values generated)

. replace rural=0 if urban==1
(611 real changes made)

. label variable rural "Rural/Urban Location"

. tab rural,m

Rural/Urban |
   Location |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        611       22.50       22.50
          1 |      2,105       77.50      100.00
------------+-----------------------------------
      Total |      2,716      100.00

. 
. *Rural/Urban |
. *   Location |      Freq.     Percent        Cum.
. *------------+-----------------------------------
. *      Urban |        611       22.50       22.50
. *      Rural |      2,105       77.50      100.00
. *------------+-----------------------------------
. *      Total |      2,716      100.00
. 
. ** just to confirm that the rural urban specification was not changed
> , we tabbed again to see if totals are still as before with substrat*
. 
. ***-----Regions used for temporal price index calculations
. tab region,m

  Region of |
  Residence |
 in 2009/10 |      Freq.     Percent        Cum.
------------+-----------------------------------
    Kampala |        184        6.77        6.77
    Central |        657       24.19       30.96
    Eastern |        647       23.82       54.79
   Northern |        693       25.52       80.30
    Western |        535       19.70      100.00
------------+-----------------------------------
      Total |      2,716      100.00

. 
. * Region of |
. *  Residence |
. * in 2009/10 |      Freq.     Percent        Cum.
. *------------+-----------------------------------
. *    Kampala |        184        6.77        6.77
. *    Central |        657       24.19       30.96
. *    Eastern |        647       23.82       54.79
. *   Northern |        693       25.52       80.30
. *    Western |        535       19.70      100.00
. *------------+-----------------------------------
. *      Total |      2,716      100.00
. 
. ** since Kampala has close to 200 respondents and we have so for not 
> experienced a scenario of an index involving Kampala olone, 
. ** I choose to maintain Kampala for price indices 
. clonevar reg_tpi = region 

. label variable reg_tpi "Regions used for temporal price index calcula
> tions"

. 
. ***------ Spatial domains (each with its own poverty line)
. 
. tab regurb

RegionXUrban- |
   Subregions |      Freq.     Percent        Cum.
--------------+-----------------------------------
Central rural |        529       19.53       19.53
Central urban |        304       11.23       30.76
   East rural |        554       20.46       51.22
   East urban |         93        3.43       54.65
  North rural |        568       20.97       75.63
  North urban |        125        4.62       80.24
   West rural |        454       16.77       97.01
   West urban |         81        2.99      100.00
--------------+-----------------------------------
        Total |      2,708      100.00

. 
. *RegionXUrban- |
. *   Subregions |      Freq.     Percent        Cum.
. *--------------+-----------------------------------
. *Central rural |        529       19.53       19.53
. *Central urban |        304       11.23       30.76
. *   East rural |        554       20.46       51.22
. *   East urban |         93        3.43       54.65
. *  North rural |        568       20.97       75.63
. *  North urban |        125        4.62       80.24
. *   West rural |        454       16.77       97.01
. *   West urban |         81        2.99      100.00
. *--------------+-----------------------------------
. *        Total |      2,708      100.00
. 
. * In the Arndt & Simler 2010 paper the spatial domains are a combinai
> son of regions and rural/urban delimitations + the capital
. * city, however in the 2010/11 some urban sections have far less than
>  200 respondents, so we shall combine all other regions 
. * (rural + urban)except the central since its urban would be boosted 
> by Kampala, getting us 5 spatial domains
. 
. gen float spdomain=1 if regurb==11
(2412 missing values generated)

. replace spdomain=2 if regurb==10
(529 real changes made)

. replace spdomain=3 if regurb==20 | regurb==21
(647 real changes made)

. replace spdomain=4 if regurb==30 | regurb==31
(693 real changes made)

. replace spdomain=5 if regurb==40 | regurb==41
(535 real changes made)

. 
. tab spdomain

   spdomain |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        304       11.23       11.23
          2 |        529       19.53       30.76
          3 |        647       23.89       54.65
          4 |        693       25.59       80.24
          5 |        535       19.76      100.00
------------+-----------------------------------
      Total |      2,708      100.00

. 
. 
. *   spdomain |      Freq.     Percent        Cum.
. *------------+-----------------------------------
. *          1 |        304       11.23       11.23
. *          2 |        529       19.53       30.76
. *          3 |        647       23.89       54.65
. *          4 |        693       25.59       80.24
. *          5 |        535       19.76      100.00
. *------------+-----------------------------------
. *      Total |      2,708      100.00
. 
. label define lspdomain 1 "Central Urban" 2 "Central Rural" 3 "Eastern
> " 4 "Northern" 5 "Western" 

. label values spdomain lspdomain

. label variable spdomain "Spatial domains: each with own poverty line 
> (they are 5)"

. *just to confirm allocations
. tab spdomain rural

      Spatial |
domains: each |
     with own |
 poverty line | Rural/Urban Location
 (they are 5) |         0          1 |     Total
--------------+----------------------+----------
Central Urban |       304          0 |       304 
Central Rural |         0        529 |       529 
      Eastern |        93        554 |       647 
     Northern |       125        568 |       693 
      Western |        81        454 |       535 
--------------+----------------------+----------
        Total |       603      2,105 |     2,708 


. 
. *      Spatial |
. *domains: each |
. *     with own |
. * poverty line | Rural/Urban Location
. * (they are 5) |         0          1 |     Total
. *--------------+----------------------+----------
. *Central Urban |       304          0 |       304 
. *Central Rural |         0        529 |       529 
. *      Eastern |        93        554 |       647 
. *     Northern |       125        568 |       693 
. *      Western |        81        454 |       535 
. *--------------+----------------------+----------
. *        Total |       603      2,105 |     2,708 
. 
. 
. ***---------------News; another way to specify variables, is the trad
> itional Uganda regions, North east central and western, represented i
> n region
. 
. gen float news=1 if regurb==11 | regurb==10
(1883 missing values generated)

. replace news=2  if regurb==20 | regurb==21
(647 real changes made)

. replace news=3  if regurb==30 | regurb==31
(693 real changes made)

. replace news=4  if regurb==40 | regurb==41
(535 real changes made)

. label define lnews 1 "Central" 2 "Eastern" 3 "Northern" 4 "Western" 

. label values news lnews

. label variable new "regions north, east, central and western; other w
> ays to dissagregate poverty lines"
note: label truncated to 80 characters

. tab news

    regions |
     north, |
      east, |
central and |
   western; |
 other ways |
         to |
dissagregat |
  e poverty |
        lin |      Freq.     Percent        Cum.
------------+-----------------------------------
    Central |        833       30.76       30.76
    Eastern |        647       23.89       54.65
   Northern |        693       25.59       80.24
    Western |        535       19.76      100.00
------------+-----------------------------------
      Total |      2,708      100.00

. * regions |
. *     north, |
. *      east, |
. *central and |
. *   western; |
. * other ways |
. *         to |
. *dissagregat |
. *  e poverty |
. *        lin |      Freq.     Percent        Cum.
. *------------+-----------------------------------
. *    Central |        833       30.76       30.76
. *    Eastern |        647       23.89       54.65
. *  Northern |        693       25.59       80.24
. *    Western |        535       19.76      100.00
. *------------+-----------------------------------
. *      Total |      2,708      100.00
. 
. ****-------geo1-geo?; other administrative geographical boundariies w
> here a survey is representative is not required as also done in news 
> rural and others
. 
. *** -------------------Bootstrap weights: the toolkit requires that t
> his should be=1 for all households and we generate it below
. 
. gen float bswt=1

. label variable bswt "bootstrap weights; and all equal to 1 for all ho
> useholds, as a toolkit requirement"
note: label truncated to 80 characters

. sort hhid

. save "$path/in/hhdata_hhsize.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/hhdata_hhsize.dta saved

. 
. **** --------------------------------Household size
. ** Since we need Household size in the hhdata.dta, and it was unavail
> able in the GSEC1.dta, we use the Unique person identifier in GSEC2.d
> ta
. 
. clear 

. use "$path/in/GSEC2.dta"
(Household master record (1 record per household))

. bysort HHID: gen pid=_n

. order HH pid

. collapse (count) pid, by (HHID)

. rename pid hhsize

. la var hhsize "number of household menbers"

. rename HHID hhid

. sort hhid

. save "$path/in/hhsize.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/hhsize.dta saved

. 
. clear 

. use "$path/in/hhdata_hhsize.dta"
(Household master record (1 record per household))

. merge 1:1 hhid using "$path/in/hhsize.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                             2
        from master                         2  (_merge==1)
        from using                          0  (_merge==2)

    matched                             2,714  (_merge==3)
    -----------------------------------------

. tab _m

                 _merge |      Freq.     Percent        Cum.
------------------------+-----------------------------------
        master only (1) |          2        0.07        0.07
            matched (3) |      2,714       99.93      100.00
------------------------+-----------------------------------
                  Total |      2,716      100.00

. drop _m 

. sort hhid

. destring hhid, replace
hhid has all characters numeric; replaced as double

. destring psu, replace
psu has all characters numeric; replaced as long

. save "$path/out/hhdata.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdata.dta saved

. save "$path/in/hhdata.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/hhdata.dta saved

. save "$path/work/hhdata.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/hhdata.dta saved

. 
. 
. ************************************************************
. * Table A2: Individual characteristics - demographics
. ************************************************************
. 
. clear

. 
. use "$path/in/GSEC2.dta" 
(Household master record (1 record per household))

. sort HHID

. 
. ***----- Household members
. *According to the enumerator manual of 2010/11, Usual and Regular hou
> sehold members are defined as follows:
. 
. *Usual members are defined as those persons who have been living in t
> he household for 6 months or
. *more during the last 12 months. However, members who have come to st
> ay in the household permanently
. *are to be included as usual members, even though they have lived in 
> this household for less than 6
. *months. Furthermore, children born to usual members on any date duri
> ng the last 12 months will be taken
. *as usual members. Both these categories will be given code "1" or "2
> " depending upon whether they are
. *present or absent on the date of the interview.
. 
. *Regular members refer to those persons who would have been usual mem
> bers of this household, but
. *have been away for more than six months during the last 12 months, f
> or education purposes, search of
. *employment, business transactions etc. and living in boarding school
> s, lodging houses or hostels etc.
. *These categories will be given code "3" or "4" depending upon presen
> ce or absence on the date of the
. *interview. */
. 
. /* 
> * For the purposes of the calculation of a poverty line we'll exclude
>  from the household the members who have left 
> the household permanently or died
> *  We'll keep the members away for more than 6 months but present on 
> the day of the interview
> */
. 
. rename  h2q7 resident

. drop if resident==7
(2588 observations deleted)

. 
. ***------ Household ID
. rename HHID hhid

. label variable hhid "Household ID"

. 
. ***------ Individual ID
. destring hhid PID, replace
hhid has all characters numeric; replaced as double
PID has all characters numeric; replaced as double

. gen double indid = hhid*100 +  PID

. 
. codebook indid

-----------------------------------------------------------------------
indid                                                       (unlabeled)
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.244e+11,4.231e+16]        units:  100
         unique values:  16592                    missing .:  0/16592

                  mean:   1.0e+13
              std. dev:   3.3e+14

           percentiles:        10%       25%       50%       75%       
> 90%
                           2.1e+11   2.3e+11   6.0e+11   8.1e+11   8.4e
> +11

.         * There are 16,592 different values, and there are 16,592 obs
> ervations in the dataset so indid uniquely identifies
.                 * the individuals
. label variable indid "Individual ID"

. 
. ***------ Sex
. rename  h2q3 sex

. label variable sex "Sex"

. 
. ***------ Age
. rename  h2q8 age

. label variable age "Age in years"

. 
. * In order to have the information on whether the mother resides in t
> he house or not we need the file "hsec3"
. sort indid

. save "$path/in/temp_A2_1.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/temp_A2_1.dta saved

. 
. clear

. use "$path/in/GSEC3.dta" 
(One record per person per household (i.e. The roster information) Sect
> ions 2 -5)

. 
. ***------ Individual ID
. rename HHID hhid

. destring hhid PID,replace
hhid has all characters numeric; replaced as double
PID has all characters numeric; replaced as double

. gen double indid=hhid*100 +  PID

. label variable indid "Individual ID"

. codebook indid

-----------------------------------------------------------------------
indid                                                     Individual ID
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.244e+11,4.231e+16]        units:  100
         unique values:  15196                    missing .:  0/15196

                  mean:   1.1e+13
              std. dev:   3.5e+14

           percentiles:        10%       25%       50%       75%       
> 90%
                           2.1e+11   2.3e+11   6.0e+11   8.1e+11   8.4e
> +11

.         * There are 15,196 different values, and there are 15,196 obs
> ervations in the dataset so indid uniquely identifies
.                 * the individuals
. 
. ***----- Mother lives in household?
. tab h3q5a,m

     Is the |
    natural |
  mother of |
     [NAME] |
  living in |
       this |
 household? |      Freq.     Percent        Cum.
------------+-----------------------------------
        Yes |      6,378       41.97       41.97
         No |      1,899       12.50       54.47
       Dead |        370        2.43       56.90
          . |      6,549       43.10      100.00
------------+-----------------------------------
      Total |     15,196      100.00

. *There are 6,549  (ie 43.2 %) missing responses, 
. * They have four categories: 1: Yes = 6,378 2: No = 1,899 3: No, Dead
>  = 370 4: Missing = 6,549. I will group them 
. gen motherhh=1 if h3q5a==1 
(8818 missing values generated)

. replace motherhh=0 if h3q5a==2 | h3q5a==3 | h3q5a==.
(8818 real changes made)

. label variable motherhh "Mother lives in hh"

. label define lmoth 0 "No" 1 "Yes"

. label values motherhh lmoth

. 
. keep indid motherhh

. sort indid

. merge 1:1 indid using "$path/in/temp_A2_1.dta"
(label df_YN already defined)
(label df_REGION already defined)
(label df_DISTRCICT already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                         1,662
        from master                       133  (_merge==1)
        from using                      1,529  (_merge==2)

    matched                            15,063  (_merge==3)
    -----------------------------------------

. tab _merge

                 _merge |      Freq.     Percent        Cum.
------------------------+-----------------------------------
        master only (1) |        133        0.80        0.80
         using only (2) |      1,529        9.14        9.94
            matched (3) |     15,063       90.06      100.00
------------------------+-----------------------------------
                  Total |     16,725      100.00

.         * There are some obs coming only from the using data. The exp
> lanation is that Section 3 of the questionnaire 
.         * is administered only to usual and regular household members
> , as is confirmed by the cross tab below
.         tab resident _merge

          What is the |
residential status of |        _merge
              [NAME]? | using onl  matched ( |     Total
----------------------+----------------------+----------
 Usual member present |       381     12,255 |    12,636 
  Usual member absent |        54      1,576 |     1,630 
Regular member presen |        14        394 |       408 
Regular member absent |        30        796 |       826 
                Guest |       765         15 |       780 
Usual member left 6 m |       116         13 |       129 
             Deceased |       169          4 |       173 
----------------------+----------------------+----------
                Total |     1,529     15,053 |    16,582 


.         * We leave the variable as is, with additional missing values
>  for the variable "motherhh".
. drop _merge

. 
. keep hhid indid sex age motherhh

. 
. save "$path/out/indata.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/indata.dta saved

. save "$path/in/indata.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/indata.dta saved

. save "$path/work/indata.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/indata.dta saved

. 
. **********************************************
. * Table A3: Calorie content of food items
. **********************************************
. * since the food products were the same across the surveys, we compil
> ed the calorie content and edible portion in an excel file then conve
> rted that file into a STATA file
. * The excel file (with more detailed information, inculding the sourc
> es) is in the "in" folder
. 
. clear

. use "$path/in/foodcomp_uganda_PANNELsurvey2011.dta"

. 
. * Since they did not include edible portions in the file I assume tha
> t the calorie per gram is only for the edible portion.
. * I will therefore compute calperg that way
. destring kcal_100g edible, replace
kcal_100g has all characters numeric; replaced as int
edible has all characters numeric; replaced as byte

. gen double calperg=((kcal_100g*edible)/100)/100

. keep product descript calperg

. label variable product "Food product code: numerical"

. label variable descript "Product Description: incl. product code in t
> he beginning"

. label variable calperg "Calorie content of food product: calories per
>  gram"

. destring product, replace
product has all characters numeric; replaced as int

. sort product

. save "$path/out/calperg.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/calperg.dta saved

. save "$path/in/calperg.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/calperg.dta saved

. save "$path/work/calperg.dta",replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/calperg.dta saved

. 
. clear

. *********************************************************************
> ******
. * Table A4: Amount and Quantity of food transactoin - Transaction lev
> el
. *********************************************************************
> ******
. 
. 
. use "$path/in/GSEC15B.dta"
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

. sort HHID

. rename HHID hhid

. la var hhid "household id"

. ** we drop alcoholic and tobacco as these were not considered basic i
> n foods generally and by GAPP, these included beer-152, other alcohol
> ic dricns-153
. ** cigarettes-155, other tobacco-156 and beer taken in restaurants-15
> 9, just like we did in the 2009 poverty calculations
. drop if inlist( itmcd ,152,153,155,156,159)
(1111 observations deleted)

. duplicates report  hhid itmcd

Duplicates in terms of hhid itmcd

--------------------------------------
   copies | observations       surplus
----------+---------------------------
        1 |        34121             0
--------------------------------------

. duplicates list  hhid itmcd

Duplicates in terms of hhid itmcd

(0 observations are duplicates)

. codebook hhid

-----------------------------------------------------------------------
hhid                                                       household id
-----------------------------------------------------------------------

                  type:  string (str15)

         unique values:  2656                     missing "":  0/34121

              examples:  "1083001606"
                         "2053001303"
                         "302300030403"
                         "3191000505"

. egen quantity=rowtotal( h15bq4 h15bq6 h15bq8 h15bq10)

.  
. la var quantity "quantity of food consumed by the household including
>  purchases, at home, away from home & kind"
note: label truncated to 80 characters

. ** these quantities and values are collected by UBOS at a 7 days basi
> s, thus we divide by 7 to get the daily figures as a requirement by G
> APP 
. gen quantityd = quantity/7

. drop quantity h15bq10 h15bq8 h15bq6 h15bq4

. la var quantityd "daily household food consumption"

. egen value=rowtotal ( h15bq5 h15bq7 h15bq9 h15bq11 )

. la var value "household food consumption in seven days"

. gen valuez = value/7 

. la var valuez "daily value of food consumed by the household"

. rename quantityd quantityz

. drop value h15bq11 h15bq9 h15bq7 h15bq5 h15bq13 h15bq12

. gen unit = 1

. la var unit "set equal to one since all observations are converted in
> to kg"

. gen food_cat = 1

. la var food_cat "food category equals 1, if product is food and 0 if 
> non food"

. 
. des hhid

              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
hhid            str15  %15s                   household id

. des food_cat

              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
food_cat        float  %9.0g                  food category equals 1,
                                                if product is food and
                                                0 if non food

. des valuez

              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
valuez          float  %9.0g                  daily value of food
                                                consumed by the
                                                household

. rename itmcd product

. la var product "Food product code: numerical"

. destring product, replace
product already numeric; no replace

. save "$path/in/household_table4.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/household_table4.dta saved

. save "$path/out/household_table4.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/household_table4.dta saved

. save "$path/work/household_table4.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/household_table4.dta saved

. set more off

. count
34121

. sort product untcd

. 
. ** to the quantities of the food in standard unite, the Kilograms, a 
> file called conversion factors was generated in excel with details
. ** of the sources of information, located in the "in" folder named "u
> cf_uganda_UNSH2005.xls" and a STATA extract of both excel and STATA u
> se named
. ** "conversionfactors.xls AND .dta" is also in the in folder for use 
> below. The file has equivalents of local units into kilograms and 
. ** we need it to convert the local units used in food consumption bun
> dles into kilograms. Since the foods and the local units were the sam
> e, this file is 
. ** similar to the one used for the 2009 data
. merge m:1 product untcd using  "$path/in/Conversionfactors.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        15,406
        from master                    15,123  (_merge==1)
        from using                        283  (_merge==2)

    matched                            18,998  (_merge==3)
    -----------------------------------------

. tab _m

                 _merge |      Freq.     Percent        Cum.
------------------------+-----------------------------------
        master only (1) |     15,123       43.96       43.96
         using only (2) |        283        0.82       44.78
            matched (3) |     18,998       55.22      100.00
------------------------+-----------------------------------
                  Total |     34,404      100.00

. drop _m

. ** I had to destring all the variables of the "conversionfactors.dta"
>  file to match type with that of "--table4.dta" to enable the merge s
> uccessful
. save "$path/in/household_table4cf.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/household_table4cf.dta saved

. save "$path/out/household_table4cf.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/household_table4cf.dta saved

. save "$path/work/household_table4cf.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/household_table4cf.dta saved

. gen quantity = quantityz* convfactor
(15406 missing values generated)

. 
. la var quantity "daily quantity consumed in Kgs per household"

. la var value  "daily value of consumption in UGX per per household"

. 
. drop convfactor

. sort hhid

. label drop _all

. destring hhid, replace
hhid has all characters numeric; replaced as double
(283 missing values generated)

. 
. save "$path/out/cons_cod_trans.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/cons_cod_trans.dta saved

. save "$path/in/cons_cod_trans.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/cons_cod_trans.dta saved

. save "$path/work/cons_cod_trans.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_cod_trans.dta saved

. 
. **   Generating Standard Table 5: TOTAL AMOUNT AND QUANTITY OF PRODUC
> TS: Food as well as non food
. **
. *********************************************************************
> **************************
. **  DATA IN:       GSEC4.dta : On Education costs, column h4q15g whic
> h has all total school expenses, it is on 365 dayss basis
. **                 GSEC5.dta : On Medical Expenditure, column 10 and 
> 11, on 30 days basis
. **                 GSEC14.dta : On assets Expenditure, column h14q5 o
> n total estimated present value, considering 10% value used per 365 d
> ays basis
. **                 GSEC15C.dta: On non-durables and frequently purcha
> sed items e.g imputed rent, electricity, soap etc, on 30 days basis, 
> columns h15cq: 5,7 & 9 for value
. **                 GSEC15D.dta: On semi-durable goods and services, c
> olumn 3, 4 & 5, on 365 days basis for value
. **                 GSEC15E.dta:     On Non-consumption expenses like 
> taxes, remitances away, subscriptions etc, on 365 days basis, colum 3
. **
. **  DATA OUT: cons_cod.dta
. *********************************************************************
> *********************************************************************
> ************
. clear

. 
. ***----------------------calculating Education expenses
. use "$path/in/GSEC4.dta"

. 
. rename HHID hhid

. codebook hhid

-----------------------------------------------------------------------
hhid                            Unique HH Identifier Across Panel Waves
-----------------------------------------------------------------------

                  type:  string (str15)

         unique values:  2650                     missing "":  0/12836

              examples:  "1103000906"
                         "208300070403"
                         "3033001507"
                         "3213003003"

. keep hhid h4q15g

. sort hhid

. ** since total education expenses were clooected in h4q10f and since 
> is at yearly basis, we divided it by 365 to get daily expenses on edu
> cation
. gen educationd = h4q15g/365
(7341 missing values generated)

. la var educationd "daily household expense on education"

. drop h4q15g

. save "$path/out/hhdeducationexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeducationexp.dta saved

. 
. clear

. **---------------------calculating medical expenses
. set more off

. use "$path/in/GSEC5.dta"

. 
. des

Contains data from C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\U
> NPS_2011\GAPP3/in/GSEC5.dta
  obs:        15,008                          
 vars:            15                          11 Apr 2013 16:55
 size:     1,095,584                          (_dta has notes)
-----------------------------------------------------------------------
              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
HHID            str15  %15s                   Unique HH Identifier
                                                Across Panel Waves
PID             str15  %15s                   Unique Person Identifier
                                                Across Panel Waves
h5q2            byte   %8.0g       df_YN      IS [NAME] ANSWERING FOR
                                                HIMSELF OR HERSELF?
h5q3            str17  %-17s                  WHAT IS THE NAME OF THE
                                                PERSON RESPONDING FOR
                                                [NAME]?
h5q4            byte   %8.0g       df_YN      During the past 30 days,
                                                did [NAME] suffer from
                                                any illness or injury?
h5q5            byte   %8.0g                  For how many days did
                                                [NAME] suffer due to
                                                illness or injury
                                                during the past 30
h5q6            byte   %8.0g                  For how many days did
                                                [NAME] have to stop
                                                doing [NAME]’susual
                                                activities due to
h5q7a           byte   %36.0g      df_SYMPTOMS
                                              Can you describe the
                                                symptoms that [NAME]
                                                primarily suffered due
                                                to the major il
h5q7b           byte   %36.0g      df_SYMPTOMS
                                              Can you describe the
                                                symptoms that [NAME]
                                                primarily suffered due
                                                to the major il
h5q8            byte   %8.0g       df_YN      Was anyone consulted
                                                (e.g. a doctor, nurse,
                                                pharmacist or
                                                traditional healer) fo
h5q9            byte   %35.0g      df_REASONNTCONSULT
                                              Why was no one consulted
                                                for the major illness?
h5q10           byte   %38.0g      df_FIRSTCONSULT
                                              Where did [NAME] go for
                                                the first consultation
                                                during the past 30
                                                days?
h5q11           double %10.0g                 Distance to the place
                                                where this treatment
                                                was sought for(IN KMS)?
h5q12           double %10.0g                 What was the cost of this
                                                consultation, including
                                                any medicine prescribed
                                                even i
h2q1            byte   %8.0g                  Individual Line Number in
                                                2010/11 Roster
-----------------------------------------------------------------------
Sorted by:  

. rename HHID hhid

. sort hhid

. keep hhid h5q12 

. rename h5q12 medicalexp

. gen medicalexpd = medicalexp/30
(10699 missing values generated)

. la var medicalexpd "household daily expenditure"

. save "$path/out/hhdmedicalexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdmedicalexp.dta saved

. 
. clear

. ****---------------calculating expenses on basic durable assests
. set more off 

. use "$path/in/GSEC14.dta"
(Household asset data (1 record per asset per household))

. des

Contains data from C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\U
> NPS_2011\GAPP3/in/GSEC14.dta
  obs:        59,597                          Household asset data (1
                                                record per asset per
                                                household)
 vars:            10                          11 Apr 2013 16:55
 size:     2,085,895                          (_dta has notes)
-----------------------------------------------------------------------
              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
HHID            str15  %15s                   Unique HH Identifier
                                                Across Panel Waves
h14q2           byte   %45.0g      df_ASSET   Asset code
h14q3           byte   %8.0g       df_YN      Do you, or anyone else in
                                                your household, own a
                                                functioning [ASSET]?
h14q4           int    %8.0g                  How many […] do your
                                                household own at
                                                present as a NUMBER?
h14q5           double %10.0g                 What is the total
                                                estimated value of all
                                                the assets own by your
                                                household?  ?
h14q6           byte   %8.0g                  Number of Assets in
                                                Wave-1
h14q7           long   %10.0g                 Value of Assets in Wave-1
h14q8           byte   %41.0g      df_W1_ASST_LESS
                                              Why less? ( No. Of
                                                Assets)
h14q9           byte   %48.0g      df_W1_ASST_MRE
                                              Why More?(No.Of Assets)
h14q10          byte   %8.0g                  Assets owned last year?
-----------------------------------------------------------------------
Sorted by:  

. save "$path/out/hhddurables.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhddurables.dta saved

. keep if inlist( h14q2 ,02,03,10,11,12,13)
(43343 observations deleted)

.  
. gen assetvalue = h14q5
(12148 missing values generated)

. 
. *********************************************************************
> *****************************************
. ** i took land-03, bicycle-10, motor cycle-11 and motorvehicle-12, bo
> at-13 and other buildings-02, as durables and assumed that a year, 
. ** the household can use 0.1% of these assests, just to limit the inf
> luence of assests that were inflating unnecessarily especially the ur
> ban poverty estimates,
. ** house not treated as an asset as the toolkit takes care of imputed
>  rent
. *********************************************************************
> ***************************************************
. gen dassetvalue = (assetvalue*0.001)/365
(12148 missing values generated)

. la var dassetvalue "household daily durables expenditure"

. rename HHID hhid

. sort hhid

. save "$path/out/hhddurablesexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhddurablesexp.dta saved

. 
. clear

. **----------------------calculating expenses on basic non durable ass
> est
. use "$path/in/GSEC14.dta"
(Household asset data (1 record per asset per household))

. save "$path/out/hhnondurables.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhnondurables.dta saved

. rename HHID hhid

. drop if inlist(  h14q2 ,01,02,03,10,11,12,13)
(18963 observations deleted)

. gen nondurablevalue = h14q5
(32582 missing values generated)

. ** also discounted them by 10% to get rough value used per year
. *** we considered furniture-04, Hh appliances as Kettle,flat iron-05,
>  electronics as tv-06, radio-07, generators-08, solar-panel-09
. *** ,other transport mean -14, jewelry&watches-15, mobilephone-16, co
> mputer-17, internet-18, other elwctronics-19, otherassets as lawn mor
> es-20, 
. **  others;-21 & 22, NOTE: figures are codes in data set
. la var nondurablevalue "household daily non-durables expenditure"

. sort hhid

. gen dnondurables = (nondurablevalue*0.001)/365
(32582 missing values generated)

. la var dnondurables "household daily non-durables expenditure"

. save "$path/out/hhdnondurablesexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdnondurablesexp.dta saved

. 
. clear

. set more off

. ***-------------------calculating expenses on basic frequently bought
>  items
. use "$path/in/GSEC15C.dta"
(HH consumption data (1 rec. per consumption item in cons. category C-E
>  per HH))

. des

Contains data from C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\U
> NPS_2011\GAPP3/in/GSEC15C.dta
  obs:        24,857                          HH consumption data (1
                                                rec. per consumption
                                                item in cons. category
                                                C-E per HH)
 vars:            11                          11 Apr 2013 16:55
 size:     1,541,134                          (_dta has notes)
-----------------------------------------------------------------------
              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
HHID            str13  %13s                   Unique HH Identifier
                                                Across Panel Waves
h15cq2          int    %10.0g                 
h15cq2_1        byte   %8.0g       df_YN      In the past [RECALL] did
                                                household purchase any
                                                [ITEM]?
h15cq3          int    %39.0g      unts       Unit code
h15cq4          double %10.0g                 How much came from
                                                purchases in the past
                                                [RECALL]? QUANTITY
h15cq5          double %10.0g                 How much came from
                                                purchases in the past
                                                [RECALL]? VALUE
h15cq6          double %10.0g                 How much came from
                                                own-production in the
                                                past [RECALL]? QUANTITY
h15cq7          long   %10.0g                 How much came from
                                                own-production in the
                                                past [RECALL]? VALUE
h15cq8          double %10.0g                 How much came from
                                                gifts\in-kind sources
                                                in the past [RECALL]?
                                                QUANTIY
h15cq9          long   %10.0g                 How much came from
                                                gifts\in-kind sources
                                                in the past [RECALL]?
                                                VALUE
h15cq10         long   %10.0g                 Market Price
-----------------------------------------------------------------------
Sorted by:  

. rename HHID hhid

. sort hhid

. ** here we considered rent of rented house-301, imputed rent of own h
> ouse-302, imputed rent of free given house-303, repair expenses-304, 
> water-305 
. ** electricity-306, generator fuels-307, parafin-308, charcoal-309, f
> irewood-310, matches-451, washing soap-452, bathing soap-453, toothpa
> ste-454, 
. ** taxifares-463, and expenditure on phones not owned-468
. ** and we dropped others-311, cosmetics-455, handbags-456, batteries-
> drycells-457, newspapers-458, others-459, tires-461, petrol-462, 
. *** bus fares-464, bodaboda fare-465, stamps/envelops-466, mobilephon
> eairtime-467 and others-469,health fees as consultation-501, medicine
> -502
. *** hospitalcharges-503, traditionaldoctors-504, others-505 since med
> ical expenses were cosidered in section 5, sports/theater-601,
. **  drycleaning-602, houseboys-603, barbers&beauty shops-604 and lodg
> ing-605. THESE HAVE BEEN CONSIDERED NON BASIC
. 
. drop if inlist( h15cq2 ,311,455,456,457,458,459,461,462,464,465,466,4
> 67,469,501,502,503,504,505,601,602,603,604,605)
(8846 observations deleted)

.  
. egen hhfrequents = rowtotal ( h15cq5 h15cq7 h15cq9)

. gen dhhfrequents = hhfrequents/30

. la var dhhfrequents "daily household expenditure on frequently bought
>  commodities"

. 
. save "$path/out/hhdfrequentsexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdfrequentsexp.dta saved

. 
. clear

. set more off

. ****------------------calculating basic expenses on semi durables
. *********************************************************************
> **********************
. **   in considering semi durable goods and services, the value of tho
> se services and goods recieved in kind, column h15dq9 of GSEC15D.dta 
> has been excluded
. **   just as in kind food consumptions were eliminated in table 4 as 
> per the GAPP guidelines, These have also been discounted by 10% usage
>  per year
. *********************************************************************
> *********************************************************************
> *********
. 
. use "$path/in/GSEC15D.dta"
(HH consumption data (1 rec. per consumption item in cons. category C-E
>  per HH))

. save "$path/out/hhsemidurables.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhsemidurables.dta saved

. des

Contains data from C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\U
> NPS_2011\GAPP3/out/hhsemidurables.dta
  obs:        21,227                          HH consumption data (1
                                                rec. per consumption
                                                item in cons. category
                                                C-E per HH)
 vars:            13                          9 Jul 2013 11:35
 size:     1,167,485                          (_dta has notes)
-----------------------------------------------------------------------
              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
HHID            str13  %13s                   Unique HH Identifier
                                                Across Panel Waves
h15dq2          int    %10.0g                 
h15dq2_1        byte   %8.0g       df_YN      In the past [RECALL] did
                                                household purchase any
                                                [ITEM]?
h15dq3          byte   %15.0g      df_UNIT    Unit code
h15dq4          double %10.0g                 How much came from
                                                purchases in the past
                                                [RECALL]? QUANTITY
h15dq5          long   %10.0g                 How much came from
                                                purchases in the past
                                                [RECALL]? VALUE
h15dq6          byte   %10.0g                 How much came from
                                                own-production in the
                                                past [RECALL]? QUANTITY
h15dq7          long   %10.0g                 How much came from
                                                own-production in the
                                                past [RECALL]? VALUE
h15dq8          byte   %10.0g                 How much came from
                                                gifts\in-kind sources
                                                in the past [RECALL]?
                                                QUANTIY
h15dq9          long   %10.0g                 How much came from
                                                gifts\in-kind sources
                                                in the past [RECALL]?
                                                VALUE
h15dq10         long   %10.0g                 Market Price
h15dq10_1       double %10.0g                 How much [ITEM] did your
                                                household consume in
                                                total in the past
                                                [RECALL]? QUANTI
h15dq10_2       long   %10.0g                 How much [ITEM] did your
                                                household consume in
                                                total in the past
                                                [RECALL]? VALUE
-----------------------------------------------------------------------
Sorted by:  

. sort HHID

. rename HHID hhid

. ** we have considered the following men clothing-201, womenclothing-2
> 02, childrenclothing-203, men footware-206, women footware-207, child
> ren footware-208
. ** bedding mattress-304, blankets-305, charcoal/parafin stoves-402, p
> lastic plates and tumblers-502
. ** and dropped other clothing-204, tailoring materials-205, other foo
> tware-209, furniture items-301, carpets-302, curtains&bedsheets-303, 
> others-306
. ** kettles-401, tv&radio-403, byclcles-404, radio-405, motors-406, mo
> torcycles-407,computers-408, phone handsets-409, others-410, jewelry&
> watches-411, 
. ** glass/table ware of codes 501 and 503-506, education cost (601-605
> ) as education done in section 4, and others like functions & premium
> s (701-703)
. ** as these have been consideered NON BASIC
. drop if inlist( h15dq2 ,204,205,208,209,301,302,303,306,401,403,404,4
> 05,406,407,408,409,410,411,501,503,504,505,506,601,602,603,604,605,70
> 1,702,703)
(11478 observations deleted)

. egen hhsemidurables = rowtotal ( h15dq5 h15dq7)

. sort hhid

. gen hhdsemidurs = (hhsemidurables*0.001)/365

. la var hhdsemidurs "household daily semi durables goods and seervices
>  expenses"

. drop hhsemidurables

. save "$path/out/hhdsemidurablesexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdsemidurablesexp.dta saved

. 
. clear

. ****-----------------------calculating basic non-consumption expenses
. ** The file GSEC15E.dta, where this information was kept was absent, 
> however we only picked out of it the graduated tax (compulsory per he
> ad annual tax)
. ** while using the the 2005 data, and such a tax was abolished and wa
> s no longer existing in 2010-2011 data collection period
. 
. 
. *********************************************************************
> *********
. ** after generating all daily non food total household expenditures o
> f various considered items, then we start merging these  seven hhd---
>  prefixed files, and ending with sufix exp to get all non food hh dai
> ly expenditure
. **
. *********************************************************************
> *************************
. 
. 
. use "$path/out/hhdeducationexp.dta", clear

. collapse (sum) educationd , by(hhid)

. sort hhid

. save "$path/out/hhdeducationexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeducationexp.dta saved

. 
. use "$path/out/hhdmedicalexp.dta", clear

. collapse (sum) medicalexpd , by(hhid)

. sort hhid

. save "$path/out/hhdmedicalexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdmedicalexp.dta saved

. 
. use "$path/out/hhdeducationexp.dta", clear

. merge 1:1 hhid using "$path/out/hhdmedicalexp.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                            22
        from master                        18  (_merge==1)
        from using                          4  (_merge==2)

    matched                             2,632  (_merge==3)
    -----------------------------------------

. drop _merge

. sort hhid

. save "$path/out/hhdeduc&medicex.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeduc&medicex.dta saved

. 
. 
. use "$path/out/hhddurablesexp.dta"
(Household asset data (1 record per asset per household))

. collapse (sum) dassetvalue , by(hhid)

. sort hhid

. save "$path/out/hhddurablesexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhddurablesexp.dta saved

. 
. use "$path/out/hhdeduc&medicex.dta"

. merge 1:1 hhid using "$path/out/hhddurablesexp.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                            61
        from master                         3  (_merge==1)
        from using                         58  (_merge==2)

    matched                             2,651  (_merge==3)
    -----------------------------------------

. drop _merge

. sort hhid

. save "$path/out/hhdeduc&medic&durabex.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeduc&medic&durabex.dta saved

. 
. use "$path/out/hhdnondurablesexp.dta"
(Household asset data (1 record per asset per household))

. collapse (sum) dnondurables , by(hhid)

. sort hhid

. save "$path/out/hhdnondurablesexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdnondurablesexp.dta saved

. 
. use "$path/out/hhdeduc&medic&durabex.dta"

. merge 1:1 hhid using "$path/out/hhdnondurablesexp.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                             3
        from master                         3  (_merge==1)
        from using                          0  (_merge==2)

    matched                             2,709  (_merge==3)
    -----------------------------------------

. drop _merge

. sort hhid

. save "$path/out/hhdeduc&medic&durab&nondurabex.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeduc&medic&durab&nondurabex.dta saved

. 
. 
. 
. use "$path/out/hhdfrequentsexp.dta"
(HH consumption data (1 rec. per consumption item in cons. category C-E
>  per HH))

. collapse (sum) dhhfrequents , by(hhid)

. sort hhid

. save "$path/out/hhdfrequentsexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdfrequentsexp.dta saved

. 
. use "$path/out/hhdeduc&medic&durab&nondurabex.dta"

. merge 1:1 hhid using "$path/out/hhdfrequentsexp.dta" 

    Result                           # of obs.
    -----------------------------------------
    not matched                            69
        from master                        69  (_merge==1)
        from using                          0  (_merge==2)

    matched                             2,643  (_merge==3)
    -----------------------------------------

. drop _merge

. sort hhid

. save "$path/out/hhdeduc&medic&durab&nondurab&freqsex.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeduc&medic&durab&nondurab&freqsex.dta saved

. 
. use "$path/out/hhdsemidurablesexp.dta"
(HH consumption data (1 rec. per consumption item in cons. category C-E
>  per HH))

. collapse (sum) hhdsemidurs , by(hhid)

. sort hhid

. save "$path/out/hhdsemidurablesexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdsemidurablesexp.dta saved

. 
. use "$path/out/hhdeduc&medic&durab&nondurab&freqsex.dta"

. merge 1:1 hhid using "$path/out/hhdsemidurablesexp.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                           362
        from master                       362  (_merge==1)
        from using                          0  (_merge==2)

    matched                             2,350  (_merge==3)
    -----------------------------------------

. drop _merge

. replace hhdsemidurs=0 if hhdsemidurs==.
(362 real changes made)

. sort hhid

. save "$path/out/hhdeduc&medic&durab&nondurab&freqs&semidurabex.dta", 
> replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhdeduc&medic&durab&nondurab&freqs&semidurabex.dta saved

. 
. 
. 
. gen hhnonfoodexp =  educationd+medicalexpd+dassetvalue+dnondurables+d
> hhfrequents+hhdsemidurs
(113 missing values generated)

. la var hhnonfoodexp "household total non food expenditure"

. keep hhid hhnonfoodexp

. 
. 
. gen product = 0

. la var product "product code equal to 1 for food and 0 for non food"

. gen food_cat = 0

. la var food_cat "food product or not equals 1 for foods and 0 for non
>  foods"

. gen prod_cat = 2

. la var prod_cat "COICOP product categories, 2 for all non food"

. replace product = 2 if product==0
(2712 real changes made)

. replace food_cat = 2 if food_cat==0
(2712 real changes made)

. gen descript = 2

. la var descript "product description including product code but equal
> s 2 for all non-foods"

. save "$path/out/hhtotalnonfoodexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhtotalnonfoodexp.dta saved

. label define descrip 2 " non food", add

. label values descript descrip

. label define descrip 1 " food", add

. replace descript = 1 in 6
(1 real change made)

. replace descript = 2 in 6
(1 real change made)

. sort hhid

. destring hhid, replace
hhid has all characters numeric; replaced as double

. save "$path/out/hhtotalnonfoodexp.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/hhtotalnonfoodexp.dta saved

. 
. use "$path/out/hhtotalnonfoodexp.dta"

. append using  "$path/out/cons_cod_trans.dta"

. 
. 
. rename quantityz quantityd

. egen cod_hh_nom = rowtotal( hhnonfoodexp valuez)

. la var cod_hh_nom "total household daily expenditure"

. la var quantityd "housedhold daily quantity of food consumed in Kgs"

. drop unit

. drop hhnonfoodexp

. sort hhid

. replace product = 999 if product==2
(2712 real changes made)

. la var product "product code is 999, if product is non food"

. replace prod_cat = 1 if prod_cat==.
(34404 real changes made)

. 
. replace descript=1 if descript==.
(34404 real changes made)

. label drop _all

. save "$path/out/cons_cod.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /out/cons_cod.dta saved

. save "$path/work/cons_cod.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_cod.dta saved

. save "$path/in/cons_cod.dta", replace
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /in/cons_cod.dta saved

. 
. 
. 
end of do-file

. do "$path/new/010_initial.do"

. cap log close

. log using "$path/rep/010_initial.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/010_initial.log
  log type:  text
 opened on:   9 Jul 2013, 11:35:58

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *********
> * 010_initial.do                (start)
> *********************************************************************
> *********;
. *********************************************************************
> *********
> * Purpose: Set some globals
> *********************************************************************
> *********;
. *********************************************************************
> *********
> * TPI basket
> *********************************************************************
> *********;
. * Number of items for Uganda i primarily set it to 30 on considering 
> a product for appearing over 1000 times on households menu min was 10
> 85 and max was 6157 however the relevant code in new is atvivated to 
> take care of this automatically;
. global product_tpi_n "30";

. * Code choose $product_tpi_n ;
. global product_tpi   "product_tpi==1";

. * Initial (arbitrary) quantile defining poor for price index calculat
> ions.
> * Mozambique: bottom 60%. Vietnam: bottom 20%. Tanzania: bottom 40% .
>  Uganda: headcount 2009 24.5% ;
. global tpi_bottom "50";

.  * Set the number of regions in the TPI calc for Uganda are set to 4 
> as east central north and east;
. global n_tpi "5";

. * To reproduce the mozambique 10 numbers, the following global should
>  be commented out. It controls a line in 140_iterate.do 
> * where observations not measured in kg are dropped. For all other da
> tasets, all observations should be converted to kg's before
> * the toolkit is run. For all other datasets, this line should theref
> ore be included.
> global MZ "*";
. *********************************************************************
> *********
> * Initial (arbitrary) quantile defining the (relatively) poor.
> *********************************************************************
> *********;
. global bottom "50";

. *********************************************************************
> *********
> * Number of iterations in 140_iterate.do
> *********************************************************************
> *********;
. global it_n "5";

. *********************************************************************
> *********
> * Set the number of regions in the spatial domain;
. *********************************************************************
> *********;
. global n_spdom "5";

. ******************* we deleted East urban (132 hhds), North urban (17
> 2 hhds) and West urban (107 hhds) because too few observations were i
> n those spatial domains;
.  ********************************************************************
> **********
> * Revealed preferences choices
> *********************************************************************
> *********;
. * Activate GAMS program according to number of regions in spatial dom
> ain;
. *global revpref "190_revpref13_m1.bat";
. *global no_temp_rev " ";
. * k spatial regions and no intertemporal revealed preference conditio
> n:
>   Activate the next two lines below;
. global no_temp_rev "*";

. global revpref "190_revpref13_r.bat";

.  ********************************************************************
> ******
> * 010_initial.do                (end)
> *********************************************************************
> *****;
. log close;
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/010_initial.log
  log type:  text
 closed on:   9 Jul 2013, 11:35:58
-----------------------------------------------------------------------

. 
end of do-file

. 
. *do "C:\user\gapp\z_data_preb/new/100_collect_expen_moz.do"
. *s;
. 
. *do "C:\user\gapp\z_data_preb/new/000_boom.do"
. 
. *global path "C:\user\gapp"
. 
. 
. 
. *********************************************************************
> *****;
. *********************************************************************
> *****;
. * This is the block of do files to set up the data to get nominal
. * consumption. These DO NOT need to be bootstrapped.
. *********************************************************************
> *****;
. *********************************************************************
> *****;
.         
.         * This code produces some once for all data for the in-folder
> . Don't
.         * run it unless you know what you are doing!!!
.                 * Produces education expenditure
.                 *do "$path\new\Create/education_Create.do"
.                 * Imputation of missing recepts-in-kind. Run the code
>  without this first...
.                 *do "$path\new\Create/0_code_chain.do"
.                 * First poverty lines dependent on IAF
.                 *do "$path\new\Create/povlines_first_iof_Create.do"
.                 * Match product codes for different surveys
.                 *do "$path\new\Create/match96_02_Create.do"
.                 * Basket from previous survey
.                 *do "$path\new\Create/smallbasket_iof_Create.do"
.                 * Match product codes between surveys
.                 *do "$path\new\Create/rev_pref_matchcodes_02-96_iof_C
> reate.do"
.                 * Update poverty lines
.                 *do "$path\new\Create/povlines-96-v1-vers7_iof_Create
> .do"               
.                 * Food share
.                 *do "$path\new\Create/foodshr96_iof_Create.do"
.                 
.                 *do "$path\new\Create/.do"
.                 *do "$path\new\Create/.do"
. 
. */
.         * This set of files takes the raw data and creates more handy
>  data 
.         * sets in the work-folder
.         do "$path/new/020_in_2_work_folder.do"

. clear all

. *global path "C:/Users/Templeton/Desktop/GAPP/GAPP-UGANDA-HARUNA"
. set mem 999m

. 
. cap log close

. log using "$path/rep/020_hhdata.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/020_hhdata.log
  log type:  text
 opened on:   9 Jul 2013, 11:35:58

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 020_hhdata.do         (start)
> *
> * Organize the hhid identifier in the HHData file the same way, and k
> eep
> * only the relevant variables.
> *
> * This file sets:
> * - interview month, quarter and year
> * - regions: make all needed regions. But in the end only the one spe
> cified
> *            in initial.do are kept. These are
> *            - rural: 0=urban, 1=rural
> *            - news: speficifying North, East, West, South. But combi
> nations
> *                    are also possible, eg. North-East, Center,...
> *            - reg_tpi: regions with own TPI
> *            - strata: strata regions
> *            - spdomain: spatial domains (regions with own poverty li
> ne)
> *            - news_ru_ur: combination of news and rural
> *********************************************************************
> *****;
. use "$path/in/hhdata.dta", clear;
(Household master record (1 record per household))

. *recode spdomain 10=1 11=2 20=3 30=4 40=5 these have been set to five
>  for Uganda to ensure hwe have at least 1000 households per domain;
. tab spdomain, missing;

      Spatial |
domains: each |
     with own |
 poverty line |
 (they are 5) |      Freq.     Percent        Cum.
--------------+-----------------------------------
Central Urban |        304       11.19       11.19
Central Rural |        529       19.48       30.67
      Eastern |        647       23.82       54.49
     Northern |        693       25.52       80.01
      Western |        535       19.70       99.71
            . |          8        0.29      100.00
--------------+-----------------------------------
        Total |      2,716      100.00

.         sort hhid;

.         save "$path/work/hhdata.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/hhdata.dta saved

.         sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |      2716    1.32e+11    4.07e+12   1.01e+09   2.12e+14
      region |      2716    2.271723    1.217652          0          4
       urban |      2716    .2249632     .417635          0          1
      regurb |      2708    23.65694    11.05195         10         41
      strata |      2716    3.830265    1.511984          1          6
-------------+--------------------------------------------------------
         psu |      2716     2435254     1116982    1010002    4190035
       h1aq1 |         0
      h1aq2b |         0
      h1aq3b |         0
      h1aq4b |         0
-------------+--------------------------------------------------------
         day |      2661     18.1879    8.160423          1         31
       month |      2668    6.456147     3.54244          1         12
        year |      2668    2010.741    .4379588       2010       2011
interview_~t |      2716    1.021723    .1458049          1          2
      reason |        49    46.42857    48.00477          1         99
-------------+--------------------------------------------------------
   hh_status |      2716    1.037555    .2688009          1          3
spitoff09_10 |      2716    .0942563    .2922387          0          1
spitoff10_11 |      2716    .0180412     .133125          0          1
    hhweight |      2715    2207.802    1694.047   308.1181   8736.727
    survquar |      2668    2.452024    1.105744          1          4
-------------+--------------------------------------------------------
     survmon |      2668    6.352699    3.368011          1         12
       rural |      2716    .7750368     .417635          0          1
     reg_tpi |      2716    2.271723    1.217652          0          4
    spdomain |      2708    3.231167    1.279732          1          5
        news |      2708    2.343427    1.111882          1          4
-------------+--------------------------------------------------------
        bswt |      2716           1           0          1          1
      hhsize |      2714     7.06706    3.584677          1         29

. use "$path/in/indata.dta", clear;
(One record per person per household (i.e. The roster information) Sect
> ions 2 -5)

.         *sort hhid;
.         save "$path/work/indata.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/indata.dta saved

.         sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
       indid |     16725    1.03e+13    3.30e+14   1.24e+11   4.23e+16
    motherhh |     15196    .4197157    .4935286          0          1
        hhid |     16592    5.58e+10    1.66e+12   1.01e+09   2.12e+14
         sex |     16592    .4836668    .4997482          0          1
         age |     15924    20.66874    18.32459          0        100

. use "$path/in/calperg.dta", clear;

.         *sort hhid;
.         save "$path/work/calperg.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/calperg.dta saved

.         sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     product |        62       130.5    18.04162        100        161
    descript |         0
     calperg |        62    1.980935    2.136932          0       8.84

. use "$path/in/cons_cod.dta", clear;

.                 save "$path/work/cons_cod.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_cod.dta saved

. use "$path/in/cons_cod_trans.dta", clear;
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

.                 save "$path/work/cons_cod_trans.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_cod_trans.dta saved

. /*
> use "$path/in/cons_cod_trans.dta", clear;
>         *sort hhid;
>         sum;
> for var value quantityd cod_hh_nom cod_hh_nom2 cod_hh_nom3: replace X
> =0 if X==.;
> collapse food_cat prod_cat (sum) value quantityd cod_hh_nom cod_hh_no
> m2 cod_hh_nom3, by(hhid product descript);
>         save "$path/work/cons_cod.dta", replace;
>         sum;
> */
>  
> *********************************************************************
> *****
> * 020_hhdata.do         (end)
> *********************************************************************
> *****;
. cap log close;

. 
end of do-file

.         
. /*
>         * All kind of raw expenditure is handled: daily, own and mont
> hly, rent and use value, education etc.
>         do "$path/new/030_rawdata.do"
> 
>         * Data set specific changes to each processed raw data set ta
> kes place here
>         do "$path/new/040_specifities.do"
> 
>         * These files summarizes and checks the data. But no temporal
>  deflation done here yet
>         do "$path/new/050_consump_nom.do"
> 
>         * Bring in data on food product's calories per gram
>         do "$path/new/060_calperg.do"
> */
. *********************************************************************
> *;
. *********************************************************************
> *;
. 
.                                 do "$path/new/070_calpp.do"          
>                    /* Calories per person in spatial domains*/

. *global path "C:/Users/Templeton/Desktop/GAPP/GAPP-UGANDA-HARUNA"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/070_calpp.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/070_calpp.log
  log type:  text
 opened on:   9 Jul 2013, 11:35:58

. clear

. set more off

. #delimit ;
delimiter now ;
. *global fert_rate "fert_rate";
. *********************************************************************
> **
> * 070_calpp.do          (start)
> *
> * Purpose: Determine calories required for each person per domain per
>  day.
> *********************************************************************
> **;
. /*
> This file uses:
>         work/indata.dta
>         work/hhdata.dta
> 
> This file creates:
>         work/calpp.dta
> */
> 
> *--------------------------------------------------------------------
> -----*
> * Include fertility rates from csv-file
> *--------------------------------------------------------------------
> -----*;
. clear;

. insheet sex rural age fert_rate using "$path/in/fert_rate_Uganda.csv"
> ;
(4 vars, 96 obs)

. ***************************************** check for Ugandan fertility
>  rates *************************************
> *********************************************************************
> ****************************************;
. sort sex rural age;

. tempfile fert_rate;

. save `fert_rate';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. list;

     +------------------------------+
     | sex   rural   age   fert_r~e |
     |------------------------------|
  1. |   2       0    12       .008 |
  2. |   2       0    13       .008 |
  3. |   2       0    14       .008 |
  4. |   2       0    15       .134 |
  5. |   2       0    16       .134 |
     |------------------------------|
  6. |   2       0    17       .134 |
  7. |   2       0    18       .134 |
  8. |   2       0    19       .134 |
  9. |   2       0    20       .313 |
 10. |   2       0    21       .313 |
     |------------------------------|
 11. |   2       0    22       .313 |
 12. |   2       0    23       .313 |
 13. |   2       0    24       .313 |
 14. |   2       0    25       .291 |
 15. |   2       0    26       .291 |
     |------------------------------|
 16. |   2       0    27       .291 |
 17. |   2       0    28       .291 |
 18. |   2       0    29       .291 |
 19. |   2       0    30       .232 |
 20. |   2       0    31       .232 |
     |------------------------------|
 21. |   2       0    32       .232 |
 22. |   2       0    33       .232 |
 23. |   2       0    34       .232 |
 24. |   2       0    35       .172 |
 25. |   2       0    36       .172 |
     |------------------------------|
 26. |   2       0    37       .172 |
 27. |   2       0    38       .172 |
 28. |   2       0    39       .172 |
 29. |   2       0    40       .074 |
 30. |   2       0    41       .074 |
     |------------------------------|
 31. |   2       0    42       .074 |
 32. |   2       0    43       .074 |
 33. |   2       0    44       .074 |
 34. |   2       0    45       .023 |
 35. |   2       0    46       .023 |
     |------------------------------|
 36. |   2       0    47       .023 |
 37. |   2       0    48       .023 |
 38. |   2       0    49       .023 |
 39. |   2       0    50       .006 |
 40. |   2       0    51       .006 |
     |------------------------------|
 41. |   2       0    52       .006 |
 42. |   2       0    53       .006 |
 43. |   2       0    54       .006 |
 44. |   2       0    55       .006 |
 45. |   2       0    56       .006 |
     |------------------------------|
 46. |   2       0    57       .006 |
 47. |   2       0    58       .006 |
 48. |   2       0    59       .006 |
 49. |   2       1    12       .008 |
 50. |   2       1    13       .008 |
     |------------------------------|
 51. |   2       1    14       .008 |
 52. |   2       1    15       .134 |
 53. |   2       1    16       .134 |
 54. |   2       1    17       .134 |
 55. |   2       1    18       .134 |
     |------------------------------|
 56. |   2       1    19       .134 |
 57. |   2       1    20       .313 |
 58. |   2       1    21       .313 |
 59. |   2       1    22       .313 |
 60. |   2       1    23       .313 |
     |------------------------------|
 61. |   2       1    24       .313 |
 62. |   2       1    25       .291 |
 63. |   2       1    26       .291 |
 64. |   2       1    27       .291 |
 65. |   2       1    28       .291 |
     |------------------------------|
 66. |   2       1    29       .291 |
 67. |   2       1    30       .232 |
 68. |   2       1    31       .232 |
 69. |   2       1    32       .232 |
 70. |   2       1    33       .232 |
     |------------------------------|
 71. |   2       1    34       .232 |
 72. |   2       1    35       .172 |
 73. |   2       1    36       .172 |
 74. |   2       1    37       .172 |
 75. |   2       1    38       .172 |
     |------------------------------|
 76. |   2       1    39       .172 |
 77. |   2       1    40       .074 |
 78. |   2       1    41       .074 |
 79. |   2       1    42       .074 |
 80. |   2       1    43       .074 |
     |------------------------------|
 81. |   2       1    44       .074 |
 82. |   2       1    45       .023 |
 83. |   2       1    46       .023 |
 84. |   2       1    47       .023 |
 85. |   2       1    48       .023 |
     |------------------------------|
 86. |   2       1    49       .023 |
 87. |   2       1    50       .006 |
 88. |   2       1    51       .006 |
 89. |   2       1    52       .006 |
 90. |   2       1    53       .006 |
     |------------------------------|
 91. |   2       1    54       .006 |
 92. |   2       1    55       .006 |
 93. |   2       1    56       .006 |
 94. |   2       1    57       .006 |
 95. |   2       1    58       .006 |
     |------------------------------|
 96. |   2       1    59       .006 |
     +------------------------------+

. *--------------------------------------------------------------------
> -----*
> * Now do the calorie needs for individuals
> *--------------------------------------------------------------------
> -----*;
. use "$path/work/indata.dta";
(One record per person per household (i.e. The roster information) Sect
> ions 2 -5)

. * CA bootstrap modification;
. sort hhid;

. merge hhid using "$path/work/hhdata.dta";
variable hhid does not uniquely identify observations in the master
    data

. tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        133        0.80        0.80
          2 |          3        0.02        0.81
          3 |     16,592       99.19      100.00
------------+-----------------------------------
      Total |     16,728      100.00

.  drop _m;

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
       indid |     16725    1.03e+13    3.30e+14   1.24e+11   4.23e+16
    motherhh |     15196    .4197157    .4935286          0          1
        hhid |     16595    5.58e+10    1.66e+12   1.01e+09   2.12e+14
         sex |     16592    .4836668    .4997482          0          1
         age |     15924    20.66874    18.32459          0        100
-------------+--------------------------------------------------------
      region |     16595    2.282013    1.194585          0          4
       urban |     16595    .2208497    .4148318          0          1
      regurb |     16561    23.68221      10.911         10         41
      strata |     16595    3.835372    1.489108          1          6
         psu |     16595     2438344     1101801    1010002    4190035
-------------+--------------------------------------------------------
       h1aq1 |         0
      h1aq2b |         0
      h1aq3b |         0
      h1aq4b |         0
         day |     16325    18.25893    8.105742          1         31
-------------+--------------------------------------------------------
       month |     16370    6.499695    3.520885          1         12
        year |     16370     2010.74    .4387412       2010       2011
interview_~t |     16595    1.017415    .1308153          1          2
      reason |       232    48.70259    48.32307          1         99
   hh_status |     16595    1.028924    .2370061          1          3
-------------+--------------------------------------------------------
spitoff09_10 |     16595    .0800844    .2714319          0          1
spitoff10_11 |     16595    .0140404    .1176609          0          1
    hhweight |     16594    1984.054    1511.524   308.1181   8736.727
    survquar |     16370    2.461454    1.111593          1          4
     survmon |     16370    6.377642    3.380194          1         12
-------------+--------------------------------------------------------
       rural |     16595    .7791503    .4148318          0          1
     reg_tpi |     16595    2.282013    1.194585          0          4
    spdomain |     16561    3.243464    1.253747          1          5
        news |     16561    2.346296    1.096685          1          4
        bswt |     16595           1           0          1          1
-------------+--------------------------------------------------------
      hhsize |     16593     8.69686    3.864144          1         29

. * Include fertility rates;
. sort sex rural age;

. merge sex rural age using `fert_rate';
variables sex rural age do not uniquely identify observations in the
    master data

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
       indid |     16725    1.03e+13    3.30e+14   1.24e+11   4.23e+16
    motherhh |     15196    .4197157    .4935286          0          1
        hhid |     16595    5.58e+10    1.66e+12   1.01e+09   2.12e+14
         sex |     16688    .4923897    .5113346          0          2
         age |     16020    20.75762    18.33681          0        100
-------------+--------------------------------------------------------
      region |     16595    2.282013    1.194585          0          4
       urban |     16595    .2208497    .4148318          0          1
      regurb |     16561    23.68221      10.911         10         41
      strata |     16595    3.835372    1.489108          1          6
         psu |     16595     2438344     1101801    1010002    4190035
-------------+--------------------------------------------------------
       h1aq1 |         0
      h1aq2b |         0
      h1aq3b |         0
      h1aq4b |         0
         day |     16325    18.25893    8.105742          1         31
-------------+--------------------------------------------------------
       month |     16370    6.499695    3.520885          1         12
        year |     16370     2010.74    .4387412       2010       2011
interview_~t |     16595    1.017415    .1308153          1          2
      reason |       232    48.70259    48.32307          1         99
   hh_status |     16595    1.028924    .2370061          1          3
-------------+--------------------------------------------------------
spitoff09_10 |     16595    .0800844    .2714319          0          1
spitoff10_11 |     16595    .0140404    .1176609          0          1
    hhweight |     16594    1984.054    1511.524   308.1181   8736.727
    survquar |     16370    2.461454    1.111593          1          4
     survmon |     16370    6.377642    3.380194          1         12
-------------+--------------------------------------------------------
       rural |     16691    .7775448    .4159077          0          1
     reg_tpi |     16595    2.282013    1.194585          0          4
    spdomain |     16561    3.243464    1.253747          1          5
        news |     16561    2.346296    1.096685          1          4
        bswt |     16595           1           0          1          1
-------------+--------------------------------------------------------
      hhsize |     16593     8.69686    3.864144          1         29
   fert_rate |        96    .1308125    .1150995       .006       .313
      _merge |     16824    1.005706    .0753254          1          2

. * Do calorie calculations ;
.     gen num=1;

.     gen cal = .;
(16824 missing values generated)

. * Same assumptions about sex/age specific calories need in IAF 1997, 
> IAF 2003 and IOF 2009;
. * Children (no difference between boys and girls)   ;
.      replace cal =  820 if age < 1;
(469 real changes made)

. * Add 500 cal per day for mothers in first six months of breast feedi
> ng
> * We assume that 60% of children under 1 are under six months old
> * And that all of them breast feed
> * We add these mother requirements of 300 on average to each child un
> der 1 whose mother is alive;
.     replace cal = 1120 if age <  1 & motherhh==1;
(412 real changes made)

.     replace cal = 1150 if age >= 1 & age <2;
(455 real changes made)

.     replace cal = 1350 if age >= 2 & age <3;
(533 real changes made)

.     replace cal = 1550 if age >= 3 & age <5;
(1089 real changes made)

. * Males ;
.     replace cal = 1850 if age >=  5 & age <7  & sex==1;
(561 real changes made)

.     replace cal = 2100 if age >=  7 & age <10 & sex==1;
(761 real changes made)

.     replace cal = 2200 if age >= 10 & age <12 & sex==1;
(521 real changes made)

.     replace cal = 2400 if age >= 12 & age <14 & sex==1;
(527 real changes made)

.     replace cal = 2650 if age >= 14 & age <16 & sex==1;
(516 real changes made)

.     replace cal = 2850 if age >= 16 & age <18 & sex==1;
(407 real changes made)

.     replace cal = 3000 if age >= 18 & age <30 & sex==1;
(1301 real changes made)

.     replace cal = 2900 if age >= 30 & age <60 & sex==1;
(1517 real changes made)

.     replace cal = 2450 if age>=60 & age~=. & sex==1;
(379 real changes made)

. * Girls 5-12 years (probability of pregnancy assumed = 0) ;
.     replace cal = 1750 if age >=  5 & age < 7 & sex==2;
(0 real changes made)

.     replace cal = 1800 if age >=  7 & age <10 & sex==2;
(0 real changes made)

.     replace cal = 1950 if age >= 10 & age <12 & sex==2;
(0 real changes made)

. * Women with a correction for pregnancy. We add 285 calories per for 
> the final trimester.
> * To do this we find the probability that rural and urban women are p
> regnant from
> * live births data in the 1997 census over the past 12 months (no cor
> rection for still births).
> * 3/4*probability of birth gives probability of preganancy. Probabili
> ty of final trimester is one
> * third of that of that or 1/4 of the probability of birth
> 
> * Women urban;
.     replace cal = 2100 + (fert_rate*285)/4 if age >= 12 & age <14 & s
> ex==2 & rural==0;
(2 real changes made)

.     replace cal = 2150 + (fert_rate*285)/4 if age >= 14 & age <18 & s
> ex==2 & rural==0;
(4 real changes made)

.     replace cal = 2100 + (fert_rate*285)/4 if age >= 18 & age <30 & s
> ex==2 & rural==0;
(12 real changes made)

.     replace cal = 2150 + (fert_rate*285)/4 if age >= 30 & age <60 & s
> ex==2 & rural==0;
(30 real changes made)

. * Women rural;
.     replace cal = 2100 + (fert_rate*285)/4 if age >= 12 & age <14 & s
> ex==2 & rural==1;
(2 real changes made)

.     replace cal = 2150 + (fert_rate*285)/4 if age >= 14 & age <18 & s
> ex==2 & rural==1;
(4 real changes made)

.     replace cal = 2100 + (fert_rate*285)/4 if age >= 18 & age <30 & s
> ex==2 & rural==1;
(12 real changes made)

.     replace cal = 2150 + (fert_rate*285)/4 if age >= 30 & age <60 & s
> ex==2 & rural==1;
(30 real changes made)

. * Women 60+ are not pregnant ;
.     replace cal = 1950 if age>=60 & age~=. & sex==2;
(0 real changes made)

.     count if cal ==.;
 7692

.     *Fill in these two observations for IAF 2002/03:;
.     * 1) this one is a child;
.     *replace cal = 1500 if cal ==. & age==.;
.     * 2) this one is 21 years old;
.     *replace cal = 2500 if cal ==. & b2==.;
.     collapse (sum) cal num (max) psu hhsize hhweight strata rural spd
> omain, by (hhid);

.     gen chk=hhsize - num;
(3 missing values generated)

.     sum chk;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         chk |      2714    .9532056    1.604116          0         27

.     drop chk;

.     gen calpp = cal / hhsize;
(3 missing values generated)

.     sort spdomain;

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |      2716    1.32e+11    4.07e+12   1.01e+09   2.12e+14
         cal |      2717    7526.675    6008.854          0   205894.8
         num |      2717    6.192124    5.287038          1        229
         psu |      2716     2435254     1116982    1010002    4190035
      hhsize |      2714     7.06706    3.584677          1         29
-------------+--------------------------------------------------------
    hhweight |      2715    2207.802    1694.047   308.1181   8736.727
      strata |      2716    3.830265    1.511984          1          6
       rural |      2717    .7751196    .4175804          0          1
    spdomain |      2708    3.231167    1.279732          1          5
       calpp |      2714    1094.596     533.153          0       3000

. * MAH ;
.  sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |      2716    1.32e+11    4.07e+12   1.01e+09   2.12e+14
         cal |      2717    7526.675    6008.854          0   205894.8
         num |      2717    6.192124    5.287038          1        229
         psu |      2716     2435254     1116982    1010002    4190035
      hhsize |      2714     7.06706    3.584677          1         29
-------------+--------------------------------------------------------
    hhweight |      2715    2207.802    1694.047   308.1181   8736.727
      strata |      2716    3.830265    1.511984          1          6
       rural |      2717    .7751196    .4175804          0          1
    spdomain |      2708    3.231167    1.279732          1          5
       calpp |      2714    1094.596     533.153          0       3000

.  codebook hhid;

-----------------------------------------------------------------------
hhid                                                       Household ID
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2716                     missing .:  1/2717

                  mean:   1.3e+11
              std. dev:   4.1e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   3.0e+09   4.0e+09   1.1e
> +11

. collapse (mean) calpp[aw=hhsize*hhweight], by (spdomain);

. sort spdomain;

. save "$path/work/calpp.dta",replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/calpp.dta saved

. *********************************************************************
> **
> * 070_calpp.do          (end)
> *********************************************************************
> **;
. log close;
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/070_calpp.log
  log type:  text
 closed on:   9 Jul 2013, 11:35:58
-----------------------------------------------------------------------

. 
end of do-file

.                                 do "$path/new/080_conpc.do"          
>                    /* Nominal food/non-food expenditure */

. *global path "C:/Users/Templeton/Desktop/GAPP/GAPP-UGANDA-HARUNA"
. clear all

. set mem 100m

. 
. clear

. cap log close

. log using "$path/rep/080_conpc.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/080_conpc.log
  log type:  text
 opened on:   9 Jul 2013, 11:35:58

. set more off

. 
. 
. *********************************************************************
> ******
. * 080_conpc.do          (start)
. *
. * Creates a file with per capita nominal consumption divided between 
> food
. * and non-food categories based on the calorie definition of food
. * rather than the COICOP (INE) definition of food. ready for 
. * temporal deflation when necessary
. *********************************************************************
> ******* 
. 
. /*
> This file uses:
>         work/hhdata.dta
>         work/consump_nom.dta
>       
> This file creates:
>         work/conpc.dta
> */
. 
. 
. 
. *********************************************************************
> ******
. * Food expenditure
. *********************************************************************
> ******* 
. *use "$path/in/cons_cod.dta" 
. use "$path/work/cons_cod.dta" 

.             *sort product 
.             *merge product using "$path/work/food_cat.dta" 
.             *tab _m 
.             *drop _m 
.             keep if food_cat==1 
(2995 observations deleted)

.             collapse (sum) cod_hh_nom, by(hhid) 

.             rename cod_hh_nom food_hh_nom 

.                 sort hhid 

.             keep hhid food_hh_nom 

.             tempfile foodexp 

. save `foodexp' 
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. 
. *********************************************************************
> ******
. * Food expenditure merged with all expenditure
. *********************************************************************
> ******* 
. use "$path/work/cons_cod.dta" 

. *use "$path/in/cons_cod.dta" 
. *use "$path/in/cons_cat.dta" 
. sum 

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     36833    1.34e+11    4.13e+12   1.01e+09   2.12e+14
     product |     37094    197.1675    225.8068        100        999
    food_cat |     36833     1.07363    .2611707          1          2
    prod_cat |     37116    1.073068     .260252          1          2
    descript |     37116    1.073068     .260252          1          2
-------------+--------------------------------------------------------
       untcd |     33603    55.59504    39.11441          1        133
      h15bq2 |         0
     h15bq2b |         0
     h15bq2c |     33702    5.974364     3.23507          1         12
     h15bq2d |         0
-------------+--------------------------------------------------------
     h15bq3a |     34121           1           0          1          1
     h15bq3b |     34111    4.109847    2.379586          1          7
     h15bq3c |        22    48522.68    66379.85          1     166089
     h15bq14 |     33682    6.794333    240.1296          0      28000
     h15bq15 |     33680    3284.011    6913.258          0     600000
-------------+--------------------------------------------------------
   quantityd |     34121    .5441537    1.353663          0   71.42857
      valuez |     34121    470.5371    985.3928   1.428571   85714.29
    quantity |     18998    .7658831    2.589936          0         60
  cod_hh_nom |     37116    779.4658    4851.598          0   779153.5

. collapse (sum) cod_hh_nom, by(hhid) 

. *gen cons_pc_nom = cons_hh_nom/hhsize 
. rename cod_hh_nom cons_hh_nom 

. *keep  hhid cons_pc_nom cons_hh_nom  
. *keep hhid cod_hh_nom 
. *use "$path/in/cons_cod.dta" 
. *use "$path/in/consump_nom.dta" 
. *use "$path/work/consump_nom.dta" 
. *            keep  hhid cons_hh_nom  
.             display _N 
2713

.             keep  hhid cons_hh_nom  

.             sort hhid 

.             merge hhid using "$path/work/hhdata.dta" 

.             tab _m 

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          2 |          4        0.15        0.18
          3 |      2,712       99.82      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.             drop _m 

. gen cons_pc_nom = cons_hh_nom/hhsize 
(6 missing values generated)

.             sort hhid 

.             merge hhid using `foodexp' 

.             tab _m 

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         61        2.25        2.25
          3 |      2,656       97.75      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.                 drop if _merge==2 
(0 observations deleted)

.             replace food_hh_nom=0 if _merge==1 & food_hh_nom==. 
(61 real changes made)

.             drop _m 

.                 gen food_pc_nom=food_hh_nom/hhsize 
(3 missing values generated)

.                 gen nf_hh_nom=cons_hh_nom-food_hh_nom 
(4 missing values generated)

.             gen nf_pc_nom=nf_hh_nom/hhsize 
(6 missing values generated)

.  
.             keep hhid cons_hh_nom food_pc_nom nf_pc_nom cons_pc_nom s
> urvquar spdomain news reg_tpi rural hhweight hhsize 

.             lab var food_pc_nom "nominal food consumption per capita"
>  

.             lab var nf_pc_nom "nominal non-food consumption per capit
> a" 

. keep hhid cons_hh_nom cons_pc_nom food_pc_nom nf_pc_nom 

.             sort hhid 

. 
. * MAH   sum  codebook hhid 
. save "$path/work/conpc.dta", replace 
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/conpc.dta saved

. 
. 
. *********************************************************************
> ******
. * 080_conpc.do          (end)
. *********************************************************************
> ******* 
. 
. 
. log close 
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/080_conpc.log
  log type:  text
 closed on:   9 Jul 2013, 11:35:58
-----------------------------------------------------------------------

. 
end of do-file

.                                 do "$path/new/090_temp_index.do"     
>            /* Temporal price index */

. *global path "C:/Users/Templeton/Desktop/GAPP/GAPP-UGANDA-HARUNA"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/090_temp_index.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/090_temp_index.log
  log type:  text
 opened on:   9 Jul 2013, 11:35:58

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 090_temp_index.do     (start)
> *********************************************************************
> *****;
. *do "$path/new/010_initial.do";
. *********************************************************************
> *****
> * Program to compute the temporal price index (intra-survey)
> * 
> * The index is based on 6 regions (North/Center/South by rural/urban)
>  
> * and four quarters. For IAF 2002/03 (t=t1) it is based on the same 9
> * commodities used for the analysis of the 1996 IAF (t=t0), 
> * except that we have to go to 8 commodities because the 2002-03 surv
> ey 
> * does not distinguish between large and small groundnuts, which were
>  
> * separate items in the old index. For IOF 2008/09 (t=t2) we expand t
> he
> * the food basket to include the 15 most important food products amon
> g
> * the poorest.
> *
> * The commodity weights for the items vary by the 6 regions, and are 
> * calculated from the observations in the IAF2002, using the relative
> ly 
> * poor households (below median nominal consumption per capita).
> *
> * The unit values (prices) calculated here are also based on the pric
> es 
> * paid by the relatively poor, using the same definition.
> *
> * K Simler, Sep 2003
> * CA
> * MAH, April 2010
> * URB, Feb 2013 (automatization to any number of n_tpi's)
> *********************************************************************
> *****;
. /*
> This file uses:
>         work/own.dta
>         work/receipts.dta
>         work/daily.dta
>         work/hhdata
>         work/cons_cat.dta
> 
> This file creates:
>         work/tpi_unit_val_quarterly.dta
>         work/tpi_unit_val_monthly.dta
>         work/tpi_news_share.dta
>         work/tpi_reg_tpi_share.dta
>         work/temp_index_news.dta
>         work/temp_index_reg_tpi.dta
> */      
> 
> 
> *********************************************************************
> *****
> * Either the products used for intertemporal price index is specified
> * explicitly, or they are automatically found as the the n_tpi produc
> ts
> * with the highest weighted expenditure shares among the $bottom % po
> orest
> * part of the population
> *********************************************************************
> *****;
. * Generating the n_tpi most important food items for the poorest $bot
> tom % ;
. *********************************************************************
> *****
> * Find the n_tpi most important food products among the lowest $botto
> m %
> * (start)
> *********************************************************************
> *****;
. *--------------------------------------------------------------------
> ----*
> * Population weights for each HH
> *--------------------------------------------------------------------
> ----*;
. use "$path/work/hhdata.dta", clear;
(Household master record (1 record per household))

. keep hhid hhweight hhsize;

. gen popwt = hhweight*hhsize;
(2 missing values generated)

. lab var popwt "Population weights = hhsize X hhweight";

. sort hhid;

. tempfile popwt;

. save `popwt', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |      2716    1.32e+11    4.07e+12   1.01e+09   2.12e+14
    hhweight |      2715    2207.802    1694.047   308.1181   8736.727
      hhsize |      2714     7.06706    3.584677          1         29
       popwt |      2714       13754    11237.33   548.9749   104660.2

. *--------------------------------------------------------------------
> ----*
> * Make list of all consumed products
> *--------------------------------------------------------------------
> ----*;
. *use "$path/in/cons_cod.dta", clear;
. *save "$path/work/cons_cod.dta", replace;
. use "$path/work/cons_cod.dta", clear;

. keep product descript;

. collapse product, by(descript);

. sort product;

. tempfile descript;

. save `descript', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    descript |         2         1.5    .7071068          1          2
     product |         2    566.4601    611.7038   133.9201        999

. *--------------------------------------------------------------------
> ----*
> * Find the poorest part of the population
> *--------------------------------------------------------------------
> ----*;
. use
> "$path/work/cons_cod.dta", clear;

. *use
> *"$path/work/cons_cod.dta", clear;
. ********************************************check the COICOP categori
> es to create the variable prod_cat, for the moment it is equal to foo
> d_cat******;
. keep hhid prod_cat product cod_hh_nom;

. sort hhid;

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     36833    1.34e+11    4.13e+12   1.01e+09   2.12e+14
     product |     37094    197.1675    225.8068        100        999
    prod_cat |     37116    1.073068     .260252          1          2
  cod_hh_nom |     37116    779.4658    4851.598          0   779153.5

. merge hhid using `popwt';
variable hhid does not uniquely identify observations in the master
    data

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     36837    1.34e+11    4.13e+12   1.01e+09   2.12e+14
     product |     37094    197.1675    225.8068        100        999
    prod_cat |     37116    1.073068     .260252          1          2
  cod_hh_nom |     37116    779.4658    4851.598          0   779153.5
    hhweight |     36836    2108.699      1640.9   308.1181   8736.727
-------------+--------------------------------------------------------
      hhsize |     36835    7.420877    3.609826          1         29
       popwt |     36835    13937.78    11273.38   548.9749   104660.2
      _merge |     37120    2.984644    .1742655          1          3

. drop _merge;

. preserve;

. collapse (sum) cod_hh_nom (mean) popwt hhweight hhsize, by(hhid);

. gen cod_pc_nom = cod_hh_nom/hhsize;
(3 missing values generated)

.         sum cod_pc_nom [aw=popwt] , detail;

                         cod_pc_nom
-------------------------------------------------------------
      Percentiles      Smallest
 1%            0              0
 5%     260.9333              0
10%     409.6299              0       Obs                2714
25%     668.8983              0       Sum of Wgt.  37328356.8

50%     1104.543                      Mean           1504.397
                        Largest       Std. Dev.       2331.71
75%     1779.927       22622.85
90%     2869.876       24333.24       Variance        5436870
95%     3752.067        25012.8       Skewness       20.55279
99%      7342.72       72809.41       Kurtosis       607.2117

.         global medcpc_= r(p$tpi_bottom);

.         gen bottom_ = cod_pc_nom <= $medcpc_;

. sum [aw=popwt];

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
        hhid |    2714  37328356.8    1.47e+11   2.95e+12   1.01e+09   
> 2.12e+14
  cod_hh_nom |    2714  37328356.8    12066.55   24394.61          0   
> 800903.5
       popwt |    2714  37328356.8    22931.77   17291.44   548.9749   
> 104660.2
    hhweight |    2714  37328356.8    3059.501   2065.404   308.1181   
> 8736.727
      hhsize |    2714  37328356.8    8.214561   4.009234          1   
>       29
-------------+---------------------------------------------------------
> --------
  cod_pc_nom |    2714  37328356.8    1504.397    2331.71          0   
> 72809.41
     bottom_ |    2714  37328356.8    .5011333   .5000909          0   
>        1

. sum [aw=hhweight];

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
        hhid |    2715  5994181.97    3.93e+11   7.30e+12   1.01e+09   
> 2.12e+14
  cod_hh_nom |    2715  5994181.97    9368.529   18628.17          0   
> 800903.5
       popwt |    2714  5985445.24    19080.64   14826.93   548.9749   
> 104660.2
    hhweight |    2715  5994181.97    3507.165   2259.003   308.1181   
> 8736.727
      hhsize |    2714  5985445.24    6.236521   3.512924          1   
>       29
-------------+---------------------------------------------------------
> --------
  cod_pc_nom |    2714  5985445.24    1717.403   2331.066          0   
> 72809.41
     bottom_ |    2715  5994181.97    .4623049   .4986689          0   
>        1

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |      2716    1.32e+11    4.07e+12   1.01e+09   2.12e+14
  cod_hh_nom |      2717    10648.01    19418.15          0   800903.5
       popwt |      2714       13754    11237.33   548.9749   104660.2
    hhweight |      2715    2207.802    1694.047   308.1181   8736.727
      hhsize |      2714     7.06706    3.584677          1         29
-------------+--------------------------------------------------------
  cod_pc_nom |      2714    1623.596    2172.951          0   72809.41
     bottom_ |      2717     .479205    .4996593          0          1

. keep if bottom_==1;
(1415 observations deleted)

. keep hhid;

. sort hhid;

. tempfile hhid;

. save `hhid';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp saved

. restore;

. sort hhid;

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     36837    1.34e+11    4.13e+12   1.01e+09   2.12e+14
     product |     37094    197.1675    225.8068        100        999
    prod_cat |     37116    1.073068     .260252          1          2
  cod_hh_nom |     37116    779.4658    4851.598          0   779153.5
    hhweight |     36836    2108.699      1640.9   308.1181   8736.727
-------------+--------------------------------------------------------
      hhsize |     36835    7.420877    3.609826          1         29
       popwt |     36835    13937.78    11273.38   548.9749   104660.2

. merge hhid using `hhid';
variable hhid does not uniquely identify observations in the master
    data

. tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     23,038       62.06       62.06
          3 |     14,082       37.94      100.00
------------+-----------------------------------
      Total |     37,120      100.00

. keep if _m==3;
(23038 observations deleted)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     14082    3.45e+10    2.01e+11   1.02e+09   2.32e+12
     product |     14060    213.8213    251.0211        101        999
    prod_cat |     14079    1.092265    .2894101          1          2
  cod_hh_nom |     14079    442.7824    706.3152          0   10186.25
    hhweight |     14082    2013.337     1508.87   308.1181   8736.727
-------------+--------------------------------------------------------
      hhsize |     14082    7.781494    3.125146          1         29
       popwt |     14082    14532.55    10987.52   821.0083   104660.2
      _merge |     14082           3           0          3          3

. *--------------------------------------------------------------------
> ----*
> * Keep only food product expenditure by the poor. Calculate food prod
> uct
> * share of total food expenditure by the poor
> *--------------------------------------------------------------------
> ----*;
. keep if prod_cat==1;
(1302 observations deleted)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     12780    3.43e+10    2.00e+11   1.02e+09   2.32e+12
     product |     12761    133.8944    16.60476        101        171
    prod_cat |     12780           1           0          1          1
  cod_hh_nom |     12780    333.7895    484.9957   1.428571       6000
    hhweight |     12780    2001.618    1500.487   308.1181   8736.727
-------------+--------------------------------------------------------
      hhsize |     12780     7.82097    3.111165          1         29
       popwt |     12780    14549.36    10973.88   821.0083   104660.2
      _merge |     12780           3           0          3          3

. sort product;

. *preserve;
. collapse (sum) cod_hh_nom [aw=hhweight], by(product);

. sort cod;

. egen total=sum(cod_hh_nom);

. gen sh=100*cod_hh_nom/total;

. *--------------------------------------------------------------------
> ----*
> * Include product labels
> *--------------------------------------------------------------------
> ----*;
. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     product |        65    135.0308     20.5015        101        171
  cod_hh_nom |        66    62887.99    88728.84   205.2439   401496.7
       total |        66     4150607           0    4150607    4150607
          sh |        66    1.515152    2.137732   .0049449   9.673204

. sort product;

. merge product using `descript';

. tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         66       97.06       97.06
          2 |          2        2.94      100.00
------------+-----------------------------------
      Total |         68      100.00

. keep if _merge==1 | _merge==3;
(2 observations deleted)

. drop _merge;

. sort sh;

. *list;
. list in -$product_tpi_n/-1;

     +----------------------------------------------------+
     | product   cod_hh~m     total         sh   descript |
     |----------------------------------------------------|
 37. |     146   41441.88   4150607   .9984534          . |
 38. |     137   41898.93   4150607   1.009465          . |
 39. |     150   42706.76   4150607   1.028928          . |
 40. |     135   44361.56   4150607   1.068797          . |
 41. |     118   47857.49   4150607   1.153024          . |
     |----------------------------------------------------|
 42. |     132    52645.4   4150607   1.268378          . |
 43. |     119   56660.49   4150607   1.365113          . |
 44. |     138    66774.6   4150607   1.608791          . |
 45. |     112   68340.06   4150607   1.646508          . |
 46. |     144   68681.96   4150607   1.654745          . |
     |----------------------------------------------------|
 47. |     110   69695.33   4150607    1.67916          . |
 48. |     139   73861.18   4150607   1.779527          . |
 49. |     136   75139.76   4150607   1.810332          . |
 50. |     115   82468.33   4150607   1.986898          . |
 51. |     121   83050.34   4150607    2.00092          . |
     |----------------------------------------------------|
 52. |     122   86492.53   4150607   2.083852          . |
 53. |     123   97560.52   4150607   2.350512          . |
 54. |     116    97738.8   4150607   2.354807          . |
 55. |     127   101154.8   4150607   2.437108          . |
 56. |     105   103756.3   4150607   2.499785          . |
     |----------------------------------------------------|
 57. |     140   107049.5   4150607   2.579129          . |
 58. |     107     115040   4150607   2.771644          . |
 59. |     125   135413.7   4150607   3.262503          . |
 60. |     157   160456.6   4150607   3.865859          . |
 61. |     117   179087.8   4150607   4.314738          . |
     |----------------------------------------------------|
 62. |     147   180979.6   4150607   4.360317          . |
 63. |     108   303198.4   4150607   7.304918          . |
 64. |     113   346470.6   4150607   8.347468          . |
 65. |     101   388034.3   4150607   9.348856          . |
 66. |     141   401496.7   4150607   9.673204          . |
     +----------------------------------------------------+

. list product descript in -$product_tpi_n/-1;

     +--------------------+
     | product   descript |
     |--------------------|
 37. |     146          . |
 38. |     137          . |
 39. |     150          . |
 40. |     135          . |
 41. |     118          . |
     |--------------------|
 42. |     132          . |
 43. |     119          . |
 44. |     138          . |
 45. |     112          . |
 46. |     144          . |
     |--------------------|
 47. |     110          . |
 48. |     139          . |
 49. |     136          . |
 50. |     115          . |
 51. |     121          . |
     |--------------------|
 52. |     122          . |
 53. |     123          . |
 54. |     116          . |
 55. |     127          . |
 56. |     105          . |
     |--------------------|
 57. |     140          . |
 58. |     107          . |
 59. |     125          . |
 60. |     157          . |
 61. |     117          . |
     |--------------------|
 62. |     147          . |
 63. |     108          . |
 64. |     113          . |
 65. |     101          . |
 66. |     141          . |
     +--------------------+

. *restore;
. *--------------------------------------------------------------------
> ----*
> * Keep the required number of most important food products
> *--------------------------------------------------------------------
> ----*;
. keep in -$product_tpi_n/-1;
(36 observations deleted)

. list;

     +----------------------------------------------------+
     | product   cod_hh~m     total         sh   descript |
     |----------------------------------------------------|
  1. |     146   41441.88   4150607   .9984534          . |
  2. |     137   41898.93   4150607   1.009465          . |
  3. |     150   42706.76   4150607   1.028928          . |
  4. |     135   44361.56   4150607   1.068797          . |
  5. |     118   47857.49   4150607   1.153024          . |
     |----------------------------------------------------|
  6. |     132    52645.4   4150607   1.268378          . |
  7. |     119   56660.49   4150607   1.365113          . |
  8. |     138    66774.6   4150607   1.608791          . |
  9. |     112   68340.06   4150607   1.646508          . |
 10. |     144   68681.96   4150607   1.654745          . |
     |----------------------------------------------------|
 11. |     110   69695.33   4150607    1.67916          . |
 12. |     139   73861.18   4150607   1.779527          . |
 13. |     136   75139.76   4150607   1.810332          . |
 14. |     115   82468.33   4150607   1.986898          . |
 15. |     121   83050.34   4150607    2.00092          . |
     |----------------------------------------------------|
 16. |     122   86492.53   4150607   2.083852          . |
 17. |     123   97560.52   4150607   2.350512          . |
 18. |     116    97738.8   4150607   2.354807          . |
 19. |     127   101154.8   4150607   2.437108          . |
 20. |     105   103756.3   4150607   2.499785          . |
     |----------------------------------------------------|
 21. |     140   107049.5   4150607   2.579129          . |
 22. |     107     115040   4150607   2.771644          . |
 23. |     125   135413.7   4150607   3.262503          . |
 24. |     157   160456.6   4150607   3.865859          . |
 25. |     117   179087.8   4150607   4.314738          . |
     |----------------------------------------------------|
 26. |     147   180979.6   4150607   4.360317          . |
 27. |     108   303198.4   4150607   7.304918          . |
 28. |     113   346470.6   4150607   8.347468          . |
 29. |     101   388034.3   4150607   9.348856          . |
 30. |     141   401496.7   4150607   9.673204          . |
     +----------------------------------------------------+

. gen product_tpi=1;

. keep product product_tpi;

. list;

     +--------------------+
     | product   produc~i |
     |--------------------|
  1. |     146          1 |
  2. |     137          1 |
  3. |     150          1 |
  4. |     135          1 |
  5. |     118          1 |
     |--------------------|
  6. |     132          1 |
  7. |     119          1 |
  8. |     138          1 |
  9. |     112          1 |
 10. |     144          1 |
     |--------------------|
 11. |     110          1 |
 12. |     139          1 |
 13. |     136          1 |
 14. |     115          1 |
 15. |     121          1 |
     |--------------------|
 16. |     122          1 |
 17. |     123          1 |
 18. |     116          1 |
 19. |     127          1 |
 20. |     105          1 |
     |--------------------|
 21. |     140          1 |
 22. |     107          1 |
 23. |     125          1 |
 24. |     157          1 |
 25. |     117          1 |
     |--------------------|
 26. |     147          1 |
 27. |     108          1 |
 28. |     113          1 |
 29. |     101          1 |
 30. |     141          1 |
     +--------------------+

. sort product;

. tempfile product_tpi;

. save `product_tpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp saved

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     product |        30       126.7    15.08402        101        157
 product_tpi |        30           1           0          1          1

. clear;

. *********************************************************************
> *****
> * Find the n_tpi most important food products among the lowest $botto
> m %
> * (end)
> *********************************************************************
> *****;
. *********************************************************************
> *****;
. * First, need to calculate the average prices for the food items, by 
> * strata and quarter. For this, we are using the "unit values"
> * (value/quantity) for the observations in the consumption questionna
> ires,
> * including daily, own and receipts-in-kind.
> *
> * The unit values are constructed as sum(value)/sum(quantity), which 
> effectively
> * weights them by the quantity and value of the transaction. Sampling
> * weights are also used.
> *
> * Get the own consumption file, and limit analysis to the observation
> s
> * in KGs where both value and quantity are available.
> *********************************************************************
> *****;
. use "$path/work/cons_cod.dta";

. *use "$path/work/cons_cod.dta";
. keep if prod_cat==1;
(2712 observations deleted)

. drop if quantityd==0 | quantityd==.;
(1062 observations deleted)

. *keep if quantityd!=. & cod_hh_nom2!=.;
. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     33342    1.37e+11    4.18e+12   1.01e+09   2.12e+14
     product |     33320    133.3781    16.98235        101        171
    food_cat |     33342           1           0          1          1
    prod_cat |     33342           1           0          1          1
    descript |     33342           1           0          1          1
-------------+--------------------------------------------------------
       untcd |     33320    55.74619     39.1895          1        133
      h15bq2 |         0
     h15bq2b |         0
     h15bq2c |     32923    5.831789    3.135899          1         12
     h15bq2d |         0
-------------+--------------------------------------------------------
     h15bq3a |     33342           1           0          1          1
     h15bq3b |     33337     4.09425    2.381471          1          7
     h15bq3c |        22    48522.68    66379.85          1     166089
     h15bq14 |     32913    4.368152    54.27286          0       7000
     h15bq15 |     32911    3057.808    6173.454          0     600000
-------------+--------------------------------------------------------
   quantityd |     33342    .5568673    1.366798   .0071429   71.42857
      valuez |     33342    438.0954     880.029   1.428571   85714.29
    quantity |     18219    .7986303     2.63978   .0004286         60
  cod_hh_nom |     33342    438.0954     880.029   1.428571   85714.29

. sort product;

. merge product using `product_tpi';
variable product does not uniquely identify observations in the
    master data

. tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      7,781       23.34       23.34
          2 |          1        0.00       23.34
          3 |     25,561       76.66      100.00
------------+-----------------------------------
      Total |     33,343      100.00

. drop _merge;

. keep if $product_tpi;
(7781 observations deleted)

. *        replace valued_ac=0 if valued_ac==.;
. *        replace quantityd_ac=0 if quantityd_ac==.;
.         gen valued_tot=cod_hh_nom;
(1 missing value generated)

.         gen quantityd_tot=quantityd;
(1 missing value generated)

. *               replace quantityd_tot=0 if (valued_tot>0 & valued_tot
> <.) & quantityd_tot==.;
.         keep if quantityd_tot!=. & valued_tot!=.;
(1 observation deleted)

.                 collapse (sum) valued_tot quantityd_tot, by(hhid prod
> uct);

.                 sort hhid;

. tempfile acredd;

. save `acredd' , replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp saved

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     25561    1.46e+11    4.39e+12   1.01e+09   2.12e+14
     product |     25561    130.0653    14.31836        101        150
  valued_tot |     25561     487.644    964.7436   2.857143   85714.29
quantityd_~t |     25561    .5451678    1.096971   .0071429         60

. /*
> *********************************************************************
> *****;
> * Create a data set with an empty 1 observation. Used to avoid empty 
> data
> * sets when the survey do not have the Mozambican set up
> *********************************************************************
> *****;
> use "$path/work/own.dta";
> 
> preserve;
> keep in 1;
> drop unit valued quantityd;
> gen unit=2;
> gen valued=0;
> gen quantityd=0;
> tempfile 1obs;
> save `1obs';
> restore;
> 
> *********************************************************************
> *****;
> * Own consumption
> *********************************************************************
> *****;
> sum;
> sort product;
> merge product using `product_tpi';
> tab _merge;
> drop _merge;
> 
> keep if $product_tpi;
> 
> 
> 
> * Comment out below if IAF 2002/03 ( START ) ;
> 
> rename quantityd quantity;
> do "$path/new/110a_conversions.do";
> rename quantity quantityd;
> 
> * Comment out below if IAF 2002/03 ( END ) ;
> 
> 
> 
>         keep if unit==2 & quantityd!=. & valued!=.;
>         collapse (sum) valued quantityd , by(hhid product);
>         rename valued valued_ac;
>         rename quantityd quantityd_ac;
>         compress;
>         sort hhid product;
>         tempfile ac;
> save `ac', replace;
> 
> *********************************************************************
> *****;
> * Now do a similar thing with receipts-in-kind file.
> *********************************************************************
> *****;
> use "$path/work/receipts.dta";
> 
> sum;
> sort product;
> merge product using `product_tpi';
> tab _merge;
> drop _merge;
> 
> 
> 
> keep if $product_tpi;
> append using `1obs';
> 
> 
> 
> * Comment out below if IAF 2002/03 ( START ) ;
> 
> rename quantityd quantity;
> do "$path/new/110a_conversions.do";
> rename quantity quantityd;
> 
> * Comment out below if IAF 2002/03 ( END ) ;
> 
> 
> 
>         keep if unit==2 & quantityd!=. & valued!=.;
>         collapse (sum) valued quantityd , by(hhid product);
>         rename valued valued_re;
>         rename quantityd quantityd_re;
>         compress;
>         sort hhid product;
>         tempfile re;
> save `re', replace;
> 
> *********************************************************************
> *****;
> * And also with the daily expenditure file.
> *********************************************************************
> *****;
> use "$path/work/daily.dta";
> 
> sum;
> sort product;
> merge product using `product_tpi';
> tab _merge;
> drop _merge;
> 
> keep if $product_tpi;
> 
> 
> 
> * Comment out below if IAF 2002/03 ( START ) ;
> 
> *rename quantityd quantity;
> do "$path/new/110a_conversions.do";
> *rename quantity quantityd;
> 
> * Comment out below if IAF 2002/03 ( END ) ;
> 
> 
> 
>         collapse (sum) value quantity days , 
>                 by(hhid product unit);
> 
>         gen valued=value/7 if days<=7;
>         replace valued=value/days if days>7 & days<.;
>         gen quantityd=quantity/7 if days<=7;
>         replace quantityd=quantity/days if days>7 & days<.;
> 
>         keep if unit==2 & quantityd!=. & valued!=.;
>         collapse (sum) valued quantityd , by(hhid product);
> 
>         rename valued valued_dd;
>         rename quantityd quantityd_dd;
>         compress;
>         sort hhid product;
>         tempfile dd;
> save `dd', replace;
> 
> 
> 
> 
> *********************************************************************
> *****;
> * Merge the three components (own, daily, receipts) together at the H
> H/product level, 
> * then aggregate to the regional level, using the sample weights (hhw
> eight).
> * We DON'T want to weight by "hhsize" because the quantity and value 
> are
> * already for the household (i.e., other things equal, larger househo
> lds
> * are buying larger quantities, and therefore already getting more we
> ight).
> * Then calculate sum(val)/sum(quantity) to get the quantity weighted 
> mean
> * unit value in each strata in each quarter.
> *********************************************************************
> *****;
> use `ac';
>         sort hhid product;
>         merge hhid product using `re';
>         tab _m;
>         drop _m;
>         
>         sort hhid product;
>         merge hhid product using `dd';
>         tab _m;
>         drop _m;
>         
>         replace valued_ac=0 if valued_ac==.;
>         replace valued_re=0 if valued_re==.;
>         replace valued_dd=0 if valued_dd==.;
>         replace quantityd_ac=0 if quantityd_ac==.;
>         replace quantityd_re=0 if quantityd_re==.;
>         replace quantityd_dd=0 if quantityd_dd==.;
> 
>         gen valued_tot=valued_ac+valued_re+valued_dd;
>         gen quantityd_tot=quantityd_ac+quantityd_re+quantityd_dd;
> 
>         sort hhid;
> 
>         tempfile acredd;
> save `acredd' , replace;
> */
> 
> 
> 
> use "$path/work/hhdata.dta";
(Household master record (1 record per household))

.         keep strata hhid hhweight hhsize rural survmon survquar news 
> spdomain reg_tpi;

.         sort hhid;

.         tempfile hhd;

. save `hhd' , replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000007.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000007.tmp saved

. use `acredd', clear;

.         merge hhid using `hhd';
variable hhid does not uniquely identify observations in the master
    data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        158        0.61        0.61
          3 |     25,561       99.39      100.00
------------+-----------------------------------
      Total |     25,719      100.00

.         drop _merge;

.                 tab survquar , miss;

    Sequential |
Survey Quarter |
 (Oct-Dec 10 = |
            1) |      Freq.     Percent        Cum.
---------------+-----------------------------------
    Oct-Dec 10 |      6,767       26.31       26.31
   Jan-Marc 11 |      6,361       24.73       51.04
   Apr-June 11 |      6,638       25.81       76.85
July-Sept 2011 |      5,905       22.96       99.81
             . |         48        0.19      100.00
---------------+-----------------------------------
         Total |     25,719      100.00

.                 tab survmon survquar, miss;

Sequential |
    Survey |
Month (Oct | Sequential Survey Quarter (Oct-Dec 10 = 1)
 2010 = 1) | Oct-Dec 1  Jan-Marc   Apr-June   July-Sept |     Total
-----------+--------------------------------------------+----------
    Oct 10 |     2,114          0          0          0 |     2,114 
    Nov 10 |     1,849          0          0          0 |     1,849 
    Dec 10 |     2,804          0          0          0 |     2,804 
    Jan 11 |         0      2,241          0          0 |     2,241 
    Feb 11 |         0      2,040          0          0 |     2,040 
    Mac 11 |         0      2,080          0          0 |     2,080 
    Apr 11 |         0          0      2,461          0 |     2,461 
    May 11 |         0          0      2,524          0 |     2,524 
    Jun 11 |         0          0      1,653          0 |     1,653 
    Jul 11 |         0          0          0      2,026 |     2,026 
    Aug 11 |         0          0          0      2,087 |     2,087 
    Sep 11 |         0          0          0      1,792 |     1,792 
         . |         0          0          0          0 |        48 
-----------+--------------------------------------------+----------
     Total |     6,767      6,361      6,638      5,905 |    25,719 


           | Sequential
           |   Survey
Sequential |  Quarter
    Survey |  (Oct-Dec
Month (Oct |  10 = 1)
 2010 = 1) |         . |     Total
-----------+-----------+----------
    Oct 10 |         0 |     2,114 
    Nov 10 |         0 |     1,849 
    Dec 10 |         0 |     2,804 
    Jan 11 |         0 |     2,241 
    Feb 11 |         0 |     2,040 
    Mac 11 |         0 |     2,080 
    Apr 11 |         0 |     2,461 
    May 11 |         0 |     2,524 
    Jun 11 |         0 |     1,653 
    Jul 11 |         0 |     2,026 
    Aug 11 |         0 |     2,087 
    Sep 11 |         0 |     1,792 
         . |        48 |        48 
-----------+-----------+----------
     Total |        48 |    25,719 


.         compress;
product was float now int
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
hhsize was long now byte

.         sort hhid;

. save `acredd', replace;
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp saved

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     25719    1.46e+11    4.38e+12   1.01e+09   2.12e+14
     product |     25561    130.0653    14.31836        101        150
  valued_tot |     25561     487.644    964.7436   2.857143   85714.29
quantityd_~t |     25561    .5451678    1.096971   .0071429         60
      strata |     25719    3.718418    1.492715          1          6
-------------+--------------------------------------------------------
    hhweight |     25718    2115.725     1647.65   308.1181   8736.727
    survquar |     25671    2.455027    1.111435          1          4
     survmon |     25671    6.345098    3.373594          1         12
       rural |     25719    .7517011    .4320345          0          1
     reg_tpi |     25719    2.202457    1.192897          0          4
-------------+--------------------------------------------------------
    spdomain |     25711    3.150636    1.264136          1          5
        news |     25711    2.277819    1.077952          1          4
      hhsize |     25717    7.455885    3.568308          1         29

. *********************************************************************
> *****;
. * Need to merge with the file that has nominal consumption per househ
> old,
> * and compute nominal consumption per capita from that, so that we ca
> n
> * choose the relatively poor (i.e., below median nominal consumption 
> per
> * capita).
> *********************************************************************
> *****;
. use "$path/work/conpc.dta", clear;

. keep hhid cons_hh_nom;

. *use "$path/in/cons_cat.dta" ;
. *save "$path/work/cons_cat.dta", replace ;
. *use "$path/work/cons_cat.dta" ;
. *CA modified to merge in hhdata for bootstrap;
.        sort hhid;

.         merge hhid using "$path/work/hhdata.dta";

.           tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.  drop _m;

.         collapse (mean) cons_hh_nom hhsize hhweight , by(hhid);

.         gen cpc=cons_hh_nom/hhsize;
(6 missing values generated)

.         sum cpc [aw=hhsize*hhweight] , detail;

                             cpc
-------------------------------------------------------------
      Percentiles      Smallest
 1%            0              0
 5%     265.0561              0
10%     411.1111              0       Obs                2711
25%     670.9687              0       Sum of Wgt.  37293839.4

50%     1104.543                      Mean           1505.789
                        Largest       Std. Dev.      2332.339
75%      1779.96       22622.85
90%     2869.876       24333.24       Variance        5439806
95%     3752.067        25012.8       Skewness       20.55362
99%      7342.72       72809.41       Kurtosis       607.0688

.         global medcpc=r(p$tpi_bottom);

.         gen bottom_tpi=cpc<=$medcpc;

.         keep hhid bottom_tpi;

.         sort hhid;

.         tempfile bottom_tpi;

. save `bottom_tpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000008.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000008.tmp saved

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |      2716    1.32e+11    4.07e+12   1.01e+09   2.12e+14
  bottom_tpi |      2717    .4781008    .4996121          0          1

. use `acredd' ;

.         merge hhid using `bottom_tpi';
variable hhid does not uniquely identify observations in the master
    data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.00        0.00
          3 |     25,719      100.00      100.00
------------+-----------------------------------
      Total |     25,720      100.00

.         drop _merge;

.         keep if bottom_tpi;
(15340 observations deleted)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     10380    3.57e+10    2.06e+11   1.02e+09   2.32e+12
     product |     10290    130.7179    14.35797        101        150
  valued_tot |     10290    356.5663     503.747   2.857143       6000
quantityd_~t |     10290    .5574098    1.049894   .0142857   34.28571
      strata |     10380    4.256455    1.210375          1          6
-------------+--------------------------------------------------------
    hhweight |     10380    2020.376    1513.909   308.1181   8736.727
    survquar |     10337    2.365096    1.081621          1          4
     survmon |     10337     6.08842    3.313607          1         12
       rural |     10380     .895183    .3063322          0          1
     reg_tpi |     10380    2.509827    .9775393          0          4
-------------+--------------------------------------------------------
    spdomain |     10373    3.498409    1.002274          1          5
        news |     10373    2.522992    .9516749          1          4
      hhsize |     10380    7.785838     3.11214          1         29
  bottom_tpi |     10380           1           0          1          1

. * Drop one HH with extremely high quantity and low value in IAF 2002/
> 03 (t=t1) ;
. *        drop if hhid==263001;
.         preserve;

.                 collapse (sum) valued_tot quantityd_tot [aw=hhweight]
>  , 
>                                 by(reg_tpi news product survmon);

.                         drop if product==.;
(25 observations deleted)

.                         gen ppkg=valued_tot/quantityd_tot;

.                         lab var ppkg "Unit value per kg";

.                         sort reg_tpi product ;

.                         compress;

.                         tempfile uvm;

.                 save `uvm', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000a.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000a.tmp saved

.                 save "$path/work/tpi_unit_val_monthly.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/tpi_unit_val_monthly.dta saved

.         restore;

.         preserve;

.                 collapse (sum) valued_tot quantityd_tot [aw=hhweight]
>  , 
>                                 by(reg_tpi news product survquar);

.                         drop if product==.;
(18 observations deleted)

.                         gen ppkg=valued_tot/quantityd_tot;

.                         sort reg_tpi product survquar;

.                         list in  1/3;

     +------------------------------------------------------+
  1. | product |    survquar | reg_tpi |    news | valued~t |
     |     107 | Jan-Marc 11 | Kampala | Central | 379.0834 |
     |------------------------------------------------------|
     |         quanti~t         |             ppkg          |
     |         .6591906         |          575.074          |
     +------------------------------------------------------+

     +------------------------------------------------------+
  2. | product |    survquar | reg_tpi |    news | valued~t |
     |     108 | Apr-June 11 | Kampala | Central | 28.57143 |
     |------------------------------------------------------|
     |         quanti~t         |             ppkg          |
     |         .0357143         |         799.9999          |
     +------------------------------------------------------+

     +------------------------------------------------------+
  3. | product |    survquar | reg_tpi |    news | valued~t |
     |     110 |  Oct-Dec 10 | Kampala | Central | 2686.375 |
     |------------------------------------------------------|
     |         quanti~t         |             ppkg          |
     |         1.343187         |             2000          |
     +------------------------------------------------------+

.                         list in -3/-1;

     +---------------------------------------------------------+
492. | product |       survquar | reg_tpi |    news | valued~t |
     |     150 |    Jan-Marc 11 | Western | Western |  3863.17 |
     |---------------------------------------------------------|
     |          quanti~t          |              ppkg          |
     |          11.94009          |          323.5462          |
     +---------------------------------------------------------+

     +---------------------------------------------------------+
493. | product |       survquar | reg_tpi |    news | valued~t |
     |     150 |    Apr-June 11 | Western | Western | 2374.271 |
     |---------------------------------------------------------|
     |          quanti~t          |              ppkg          |
     |          5.814196          |          408.3575          |
     +---------------------------------------------------------+

     +---------------------------------------------------------+
494. | product |       survquar | reg_tpi |    news | valued~t |
     |     150 | July-Sept 2011 | Western | Western | 1951.101 |
     |---------------------------------------------------------|
     |          quanti~t          |              ppkg          |
     |          8.450549          |          230.8846          |
     +---------------------------------------------------------+

.                         tempfile uvq;

.                 save "$path/work/tpi_unit_val_quarterly.dta", replace
> ;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/tpi_unit_val_quarterly.dta saved

.                 save `uvq', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp saved

.         restore;

.         *************************************************************
> *************;
. * Toss out the bottom 5% and top 5% of the HH-LEVEL prices per kg in
> * each reg_tpi & product combination. This should eliminate outliers 
> that
> * may have an undue influence on the price calculation. Then use samp
> le
> * weighting PLUS quantity weighting on those HH-level observations.
> *********************************************************************
> *****;
.         preserve;

.                 gen hhppkg=valued_tot/quantityd_tot;
(90 missing values generated)

.                 egen lower5=pctile(hhppkg), p(5) by(reg_tpi product);
(90 missing values generated)

.                 egen upper5=pctile(hhppkg), p(95) by(reg_tpi product)
> ;
(90 missing values generated)

.                 keep if hhppkg>=lower5 & hhppkg<=upper5;
(644 observations deleted)

.                                 gen hhqtywt=hhweight*quantityd_tot;
(90 missing values generated)

.                                 collapse (sum) valued_tot quantityd_t
> ot [aw=hhqtywt] , 
>                                 by(reg_tpi news product survquar);

.                         drop if product==.;
(0 observations deleted)

.                         gen ppkg_trim=valued_tot/quantityd_tot;

.                         lab var ppkg_trim "90% trimmed unit value per
>  kg";

.                         sort reg_tpi product survquar;

.                         list , nol;

     +-----------------------------------------------------------+
  1. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        2 |       0 |    1 | 407.1217 |  .771344 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         527.8082                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  2. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        3 |       0 |    1 | 28.57143 | .0357143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         799.9999                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  3. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        1 |       0 |    1 | 3621.665 | 1.810833 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  4. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        2 |       0 |    1 | 216.3679 |  .108184 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  5. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        3 |       0 |    1 | 1973.699 | .8830373 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2235.126                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  6. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        1 |       0 |    1 | 3123.031 | 3.306041 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         944.6438                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  7. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        2 |       0 |    1 | 1648.749 | 1.101152 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1497.295                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  8. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        3 |       0 |    1 | 3861.863 | 2.235071 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1727.848                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
  9. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        3 |       0 |    1 | 186.3665 | .2516307 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         740.6353                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 10. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        1 |       0 |    1 | 2568.003 | .5592698 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4591.706                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 11. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        2 |       0 |    1 | 428.5714 | .0714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             6000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 12. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        3 |       0 |    1 | 1428.571 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             5000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 13. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        1 |       0 |    1 | 1620.143 | .3815002 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          4246.77                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 14. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        1 |       0 |    1 | 571.4286 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 15. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        2 |       0 |    1 | 142.8571 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 16. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        1 |       0 |    1 | 142.8571 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 17. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        2 |       0 |    1 | 285.7143 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 18. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        3 |       0 |    1 | 1450.349 | 2.400864 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         604.0945                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 19. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        1 |       0 |    1 | 1781.888 | 2.084391 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         854.8721                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 20. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        3 |       0 |    1 |     1200 |        1 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1200                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 21. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        1 |       0 |    1 | 924.2195 | 7.615772 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          121.356                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 22. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        2 |       0 |    1 | 503.8883 | 2.533954 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         198.8546                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 23. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        3 |       0 |    1 | 604.1272 | 2.746361 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         219.9737                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 24. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        1 |       0 |    1 | 214.2857 | .4285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 25. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        1 |       0 |    1 | 489.9695 | 3.121034 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         156.9895                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 26. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        2 |       0 |    1 | 342.0069 | .7138063 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         479.1312                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 27. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        3 |       0 |    1 | 491.4345 |  2.66431 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         184.4509                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 28. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        1 |       0 |    1 | 905.0191 | 4.145914 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         218.2918                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 29. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        2 |       0 |    1 |   345.36 | 2.204952 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         156.6292                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 30. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        3 |       0 |    1 | 629.3058 | 2.616377 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         240.5257                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 31. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        2 |       0 |    1 | 120.2713 | .5115731 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         235.1009                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 32. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        3 |       0 |    1 | 570.6872 | 2.241921 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         254.5527                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 33. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        1 |       0 |    1 | 71.42857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 34. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        3 |       0 |    1 | 42.85714 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              300                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 35. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        1 |       0 |    1 | 85.71429 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              300                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 36. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        1 |       0 |    1 | 742.8571 | .5714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1300                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 37. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        1 |       0 |    1 |  943.352 | .4525184 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2084.671                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 38. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        2 |       0 |    1 | 791.2162 | .5090737 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1554.227                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 39. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        3 |       0 |    1 | 1355.766 | .8571429 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1581.727                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 40. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        2 |       0 |    1 | 283.7055 | .4532841 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          625.889                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 41. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        3 |       0 |    1 | 142.8571 | .2169185 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         658.5751                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 42. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        1 |       0 |    1 | 3060.381 | 1.279969 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2390.98                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 43. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        2 |       0 |    1 |  1348.96 | .5620667 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2400                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 44. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        3 |       0 |    1 | 1526.507 | .6194932 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2464.122                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 45. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        1 |       0 |    1 | 225.3914 | .8539839 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         263.9294                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 46. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        2 |       0 |    1 | 182.8431 | .7280533 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         251.1397                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 47. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        3 |       0 |    1 | 161.8092 | .3869489 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         418.1669                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 48. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        1 |       1 |    1 | 48082.01 | 12.94923 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3713.117                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 49. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        2 |       1 |    1 | 28914.92 | 9.896146 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2921.837                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 50. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        3 |       1 |    1 | 30137.71 | 6.390902 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          4715.72                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 51. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        4 |       1 |    1 | 11652.73 | 4.480864 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2600.554                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 52. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        1 |       1 |    1 | 3635.647 | 2.211883 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1643.688                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 53. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        2 |       1 |    1 | 6916.458 |  1.69845 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4072.219                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 54. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        3 |       1 |    1 | 3083.075 |  5.12687 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         601.3561                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 55. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        4 |       1 |    1 | 3032.885 | .9450139 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3209.355                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 56. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        1 |       1 |    1 | 27447.89 | 28.53089 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          962.041                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 57. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        2 |       1 |    1 | 13329.77 | 7.601938 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1753.469                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 58. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        3 |       1 |    1 |  10159.7 | 6.782445 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1497.941                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 59. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        4 |       1 |    1 | 10568.01 | 5.565521 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1898.835                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 60. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        1 |       1 |    1 | 5159.026 | 7.586006 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         680.0715                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 61. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        2 |       1 |    1 | 22209.42 | 25.68866 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         864.5613                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 62. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        3 |       1 |    1 | 15381.67 | 19.49979 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         788.8124                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 63. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        4 |       1 |    1 | 1387.993 | 1.430553 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         970.2493                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 64. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        1 |       1 |    1 | 6750.387 | 3.840359 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1757.749                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 65. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        2 |       1 |    1 | 7944.997 |  3.90922 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2032.374                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 66. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        3 |       1 |    1 | 3376.791 | 1.401152 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2410.01                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 67. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        4 |       1 |    1 | 214.2857 | .0714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             3000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 68. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        1 |       1 |    1 | 999.4657 | 3.055439 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         327.1104                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 69. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        2 |       1 |    1 | 1241.393 | 8.112843 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         153.0157                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 70. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        4 |       1 |    1 | 2830.457 | 28.30457 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              100                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 71. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        1 |       1 |    1 | 53130.62 | 58.58154 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         906.9517                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 72. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        2 |       1 |    1 | 39585.82 | 34.93704 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1133.062                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 73. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        3 |       1 |    1 | 30580.45 | 19.74637 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1548.661                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 74. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        4 |       1 |    1 |  14636.7 | 7.561322 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1935.732                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 75. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        1 |       1 |    1 | 3428.712 | 5.305869 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         646.2111                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 76. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        2 |       1 |    1 | 2397.687 | 1.208619 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1983.823                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 77. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        3 |       1 |    1 | 564.3405 |  .785824 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         718.1514                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 78. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        1 |       1 |    1 | 342.8571 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1200                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 79. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        1 |       1 |    1 | 11500.57 | 3.093238 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3717.972                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 80. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        2 |       1 |    1 | 2138.866 | .4708078 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4542.971                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 81. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        3 |       1 |    1 | 10120.04 | 2.032358 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4979.456                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 82. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        4 |       1 |    1 | 1798.912 | .3903554 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4608.397                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 83. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        1 |       1 |    1 | 3902.466 | 1.032424 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3779.905                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 84. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        2 |       1 |    1 | 7354.505 | 1.705084 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          4313.28                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 85. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        3 |       1 |    1 | 6222.137 | 1.750229 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3555.042                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 86. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        4 |       1 |    1 | 867.8613 | .1875015 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4628.557                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 87. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        1 |       1 |    1 | 1397.972 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4892.901                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 88. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        2 |       1 |    1 | 357.1429 | .0714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             5000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 89. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        3 |       1 |    1 | 857.1429 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             6000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 90. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        4 |       1 |    1 |     1000 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             7000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 91. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        1 |       1 |    1 | 3499.898 | .7675031 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          4560.11                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 92. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        2 |       1 |    1 | 1428.571 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         9999.999                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 93. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        3 |       1 |    1 | 2142.857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                            15000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 94. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        1 |       1 |    1 | 3210.978 | 2.474324 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1297.719                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 95. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        2 |       1 |    1 | 1604.336 | 1.069557 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 96. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        3 |       1 |    1 | 7091.772 |  9.49799 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         746.6603                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 97. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        4 |       1 |    1 | 1086.937 | 1.400611 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         776.0446                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 98. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        1 |       1 |    1 | 3276.417 | 3.439815 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          952.498                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
 99. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        2 |       1 |    1 | 3418.165 | 5.929639 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         576.4542                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
100. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        3 |       1 |    1 | 759.0632 | .6609835 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1148.385                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
101. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        4 |       1 |    1 | 1080.359 | 2.115664 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         510.6476                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
102. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        1 |       1 |    1 | 7122.603 | 15.55732 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         457.8296                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
103. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        2 |       1 |    1 | 19612.07 | 34.32023 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         571.4435                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
104. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        3 |       1 |    1 | 10302.52 | 27.84404 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         370.0081                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
105. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        4 |       1 |    1 | 3707.861 | 11.12278 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         333.3574                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
106. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        1 |       1 |    1 | 6177.654 | 47.38039 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         130.3842                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
107. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        2 |       1 |    1 | 6161.568 | 43.55623 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         141.4624                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
108. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        3 |       1 |    1 | 2623.463 | 18.63161 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         140.8071                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
109. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        4 |       1 |    1 | 1339.927 | 9.170023 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         146.1204                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
110. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        1 |       1 |    1 | 1660.679 | 16.76062 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         99.08221                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
111. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        2 |       1 |    1 |  2281.82 | 20.00711 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         114.0504                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
112. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        3 |       1 |    1 | 780.2601 | 3.655854 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         213.4276                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
113. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        4 |       1 |    1 | 3859.037 | 38.24437 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         100.9047                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
114. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        1 |       1 |    1 | 2612.445 | 17.37152 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         150.3867                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
115. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        2 |       1 |    1 |  2861.18 | 19.67435 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         145.4269                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
116. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        3 |       1 |    1 | 4037.807 | 21.03158 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         191.9878                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
117. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        4 |       1 |    1 | 582.2637 | 1.345014 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         432.9053                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
118. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        1 |       1 |    1 | 4612.442 | 32.40562 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         142.3346                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
119. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        2 |       1 |    1 | 3873.908 | 29.20927 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          132.626                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
120. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        3 |       1 |    1 | 4598.465 | 25.99528 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         176.8961                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
121. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        4 |       1 |    1 | 1091.258 |    6.961 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         156.7675                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
122. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        1 |       1 |    1 | 7289.962 |  25.3436 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         287.6451                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
123. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        2 |       1 |    1 | 3006.565 | 6.516779 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         461.3575                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
124. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        3 |       1 |    1 | 783.2855 | 1.692801 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         462.7157                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
125. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        4 |       1 |    1 |  321.182 | .7487669 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         428.9478                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
126. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        1 |       1 |    1 | 2905.083 | 12.99935 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         223.4791                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
127. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        2 |       1 |    1 | 2872.425 | 13.23648 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         217.0082                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
128. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        3 |       1 |    1 | 3738.142 | 19.62024 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         190.5248                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
129. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        4 |       1 |    1 | 996.0446 | 5.369731 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         185.4925                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
130. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        1 |       1 |    1 |  792.576 | 7.067476 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         112.1441                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
131. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        2 |       1 |    1 | 572.9956 | 5.920896 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         96.77515                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
132. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        3 |       1 |    1 |  4571.78 | 10.67725 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         428.1796                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
133. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        4 |       1 |    1 | 1142.541 | 2.970713 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         384.6016                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
134. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        1 |       1 |    1 | 32735.94 | 60.17217 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          544.038                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
135. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        2 |       1 |    1 | 2889.947 | 2.103635 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1373.787                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
136. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        3 |       1 |    1 |  5110.13 | 4.194984 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1218.153                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
137. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        4 |       1 |    1 | 214.2857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
138. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        1 |       1 |    1 | 12991.43 | 11.30666 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1149.007                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
139. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        2 |       1 |    1 | 42323.86 | 36.15178 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1170.727                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
140. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        3 |       1 |    1 | 15592.07 | 12.65257 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1232.324                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
141. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        4 |       1 |    1 | 11199.86 | 9.746709 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1149.092                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
142. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        1 |       1 |    1 | 10684.66 | 5.495898 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1944.115                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
143. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        2 |       1 |    1 | 11958.02 | 11.21106 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1066.627                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
144. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        3 |       1 |    1 |  13445.6 | 5.136331 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2617.745                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
145. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        4 |       1 |    1 | 1500.552 | .7595865 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1975.486                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
146. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        1 |       1 |    1 | 142.8571 | .0714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
147. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        1 |       1 |    1 | 18033.67 | 7.228385 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2494.84                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
148. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        2 |       1 |    1 | 20555.55 | 7.887624 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2606.051                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
149. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        3 |       1 |    1 | 13698.99 | 5.257813 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2605.454                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
150. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        4 |       1 |    1 | 1622.827 | .4215581 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3849.592                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
151. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        1 |       1 |    1 | 2239.661 | 6.111324 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         366.4772                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
152. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        2 |       1 |    1 | 6822.531 | 17.07668 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         399.5233                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
153. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        3 |       1 |    1 | 1572.079 | 3.750385 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          419.178                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
154. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        4 |       1 |    1 | 616.1587 |  1.61376 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         381.8156                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
155. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        1 |       2 |    2 | 28068.52 | 8.046997 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3488.074                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
156. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        2 |       2 |    2 | 21201.75 | 9.879481 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2146.039                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
157. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        3 |       2 |    2 | 64542.45 | 15.77744 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4090.806                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
158. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        4 |       2 |    2 |  19139.3 | 7.632611 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2507.57                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
159. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        1 |       2 |    2 | 20281.21 | 9.977516 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2032.692                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
160. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        2 |       2 |    2 | 4044.057 |  1.61369 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2506.094                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
161. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        3 |       2 |    2 | 4660.469 | 1.444165 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3227.102                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
162. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        4 |       2 |    2 | 8100.008 | 1.521023 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         5325.369                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
163. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        1 |       2 |    2 | 12216.45 | 9.925015 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1230.874                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
164. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        2 |       2 |    2 | 7082.089 | 8.837265 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         801.3892                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
165. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        3 |       2 |    2 | 23075.35 | 31.75497 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         726.6687                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
166. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        4 |       2 |    2 | 4733.612 | 3.669018 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1290.158                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
167. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        1 |       2 |    2 | 40215.58 | 81.66935 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         492.4195                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
168. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        2 |       2 |    2 | 55036.84 | 107.0564 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         514.0918                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
169. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        3 |       2 |    2 | 85092.27 | 129.8859 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         655.1309                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
170. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        4 |       2 |    2 | 43716.92 | 46.59307 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         938.2708                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
171. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        1 |       2 |    2 | 7532.983 | 5.796148 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1299.653                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
172. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        2 |       2 |    2 | 6876.252 |  3.92923 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1750.025                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
173. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        3 |       2 |    2 | 13857.66 | 6.658931 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2081.063                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
174. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        4 |       2 |    2 | 27014.41 |  14.7118 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1836.242                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
175. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        1 |       2 |    2 | 8026.776 | 78.83954 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         101.8115                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
176. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        2 |       2 |    2 | 1303.809 | 3.035436 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         429.5292                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
177. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        3 |       2 |    2 | 19334.88 | 190.7692 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         101.3522                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
178. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        4 |       2 |    2 | 31960.45 | 205.3997 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         155.6012                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
179. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        1 |       2 |    2 | 30851.96 | 50.57915 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         609.9739                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
180. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        2 |       2 |    2 | 55931.95 | 55.85797 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1001.324                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
181. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        3 |       2 |    2 |  38652.5 | 29.36552 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1316.255                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
182. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        4 |       2 |    2 | 140897.5 | 150.2987 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                           937.45                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
183. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        1 |       2 |    2 | 17617.02 | 22.04549 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          799.121                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
184. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        2 |       2 |    2 | 15270.31 | 17.89433 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         853.3605                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
185. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        3 |       2 |    2 | 8070.473 | 12.03533 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         670.5654                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
186. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        4 |       2 |    2 |  7485.15 | 11.64548 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         642.7517                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
187. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        1 |       2 |    2 | 23623.65 |  33.7636 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          699.678                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
188. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        2 |       2 |    2 |  23294.6 | 100.8094 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         231.0756                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
189. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        3 |       2 |    2 | 8648.044 | 14.30332 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         604.6179                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
190. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        4 |       2 |    2 | 3683.191 | 5.768276 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         638.5254                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
191. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        1 |       2 |    2 | 24657.19 | 5.806686 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4246.345                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
192. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        2 |       2 |    2 | 27187.02 | 6.367041 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4269.961                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
193. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        3 |       2 |    2 |  22189.7 | 4.244621 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         5227.721                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
194. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        4 |       2 |    2 | 15452.39 |  2.85824 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          5406.26                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
195. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        1 |       2 |    2 | 5329.023 | 1.528054 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3487.458                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
196. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        2 |       2 |    2 | 2908.327 | .7941739 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3662.078                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
197. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        3 |       2 |    2 | 6193.843 | 1.551397 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3992.429                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
198. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        4 |       2 |    2 | 1366.234 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4781.818                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
199. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        1 |       2 |    2 | 10413.22 | 2.519887 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4132.416                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
200. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        2 |       2 |    2 | 8739.325 | 1.934546 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4517.507                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
201. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        3 |       2 |    2 | 7809.659 | 1.790865 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4360.832                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
202. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        4 |       2 |    2 | 5974.481 | 1.020931 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         5851.991                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
203. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        1 |       2 |    2 | 6622.496 |        1 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         6622.496                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
204. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        2 |       2 |    2 | 9103.506 |  1.47835 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         6157.884                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
205. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        3 |       2 |    2 | 7689.818 |        1 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         7689.817                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
206. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        1 |       2 |    2 | 4526.135 | 5.078802 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         891.1816                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
207. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        2 |       2 |    2 | 20039.08 | 34.89166 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          574.323                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
208. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        3 |       2 |    2 | 14238.49 | 16.45597 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         865.2477                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
209. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        4 |       2 |    2 | 8008.997 | 9.084589 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         881.6027                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
210. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        1 |       2 |    2 | 6914.516 |  11.1735 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         618.8315                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
211. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        2 |       2 |    2 | 4794.962 | 7.798695 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         614.8417                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
212. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        3 |       2 |    2 |  9042.25 | 10.65208 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         848.8715                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
213. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        4 |       2 |    2 | 4563.064 | 7.048058 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         647.4214                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
214. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        1 |       2 |    2 | 31683.47 | 104.0887 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          304.389                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
215. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        2 |       2 |    2 | 22636.51 | 81.98242 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         276.1142                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
216. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        3 |       2 |    2 |  22939.6 | 51.00632 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         449.7403                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
217. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        4 |       2 |    2 | 12521.89 | 30.01509 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         417.1866                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
218. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        1 |       2 |    2 | 8775.801 | 85.36585 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         102.8022                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
219. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        2 |       2 |    2 | 10607.82 | 116.8727 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         90.76389                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
220. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        3 |       2 |    2 | 15828.49 | 107.6462 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         147.0418                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
221. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        4 |       2 |    2 | 10266.03 | 86.60652 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         118.5364                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
222. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        1 |       2 |    2 |  4302.21 | 79.79332 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         53.91691                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
223. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        2 |       2 |    2 | 4367.154 | 36.78229 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         118.7298                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
224. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        3 |       2 |    2 | 25865.81 | 289.1773 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         89.44619                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
225. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        4 |       2 |    2 | 883.7887 | 1.767577 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
226. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        1 |       2 |    2 | 2954.124 | 35.08245 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         84.20518                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
227. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        2 |       2 |    2 | 4159.697 | 39.52548 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         105.2409                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
228. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        3 |       2 |    2 |   3187.7 | 25.85003 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         123.3151                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
229. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        4 |       2 |    2 | 2882.584 | 19.44254 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         148.2617                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
230. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        1 |       2 |    2 | 10057.28 | 59.67253 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         168.5411                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
231. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        2 |       2 |    2 | 9313.535 | 40.68234 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         228.9331                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
232. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        3 |       2 |    2 | 7286.471 | 42.35325 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         172.0404                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
233. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        4 |       2 |    2 | 7225.013 | 30.53606 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          236.606                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
234. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        1 |       2 |    2 | 3469.914 | 8.470174 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         409.6627                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
235. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        2 |       2 |    2 | 7984.436 | 23.83234 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         335.0252                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
236. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        3 |       2 |    2 | 3508.921 | 7.378018 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         475.5913                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
237. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        4 |       2 |    2 | 8310.418 | 21.94284 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         378.7303                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
238. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        1 |       2 |    2 | 7960.636 |  35.6637 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          223.214                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
239. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        2 |       2 |    2 | 5958.525 | 22.19428 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         268.4712                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
240. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        3 |       2 |    2 | 21097.81 | 73.64633 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         286.4747                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
241. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        4 |       2 |    2 | 10974.53 | 46.52416 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         235.8888                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
242. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        1 |       2 |    2 | 7996.587 | 31.65163 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         252.6438                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
243. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        2 |       2 |    2 | 11713.57 | 55.17506 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         212.2982                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
244. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        3 |       2 |    2 | 15277.26 |  50.6965 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         301.3475                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
245. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        4 |       2 |    2 | 5598.229 | 26.09163 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         214.5603                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
246. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        1 |       2 |    2 | 12177.26 | 18.81687 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         647.1458                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
247. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        2 |       2 |    2 | 887.1206 | 1.786241 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         496.6409                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
248. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        3 |       2 |    2 | 14779.05 | 43.01447 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         343.5832                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
249. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        4 |       2 |    2 | 15674.88 | 48.66425 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         322.1025                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
250. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        1 |       2 |    2 | 14343.49 | 16.72477 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                           857.62                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
251. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        2 |       2 |    2 | 14420.21 | 19.15658 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         752.7548                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
252. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        3 |       2 |    2 | 12844.66 | 13.16878 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         975.3874                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
253. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        4 |       2 |    2 | 22018.42 | 23.94075 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         919.7043                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
254. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        1 |       2 |    2 | 3817.386 | 7.347066 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         519.5797                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
255. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        2 |       2 |    2 | 6878.174 | 21.91458 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         313.8629                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
256. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        3 |       2 |    2 | 1142.898 |  2.39915 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         476.3762                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
257. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        4 |       2 |    2 | 21916.05 |  26.5916 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         824.1719                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
258. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        1 |       2 |    2 |  288.604 | .4285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         673.4094                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
259. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        2 |       2 |    2 |  211.044 | .4723901 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         446.7578                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
260. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        3 |       2 |    2 | 642.8571 | .4285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
261. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        4 |       2 |    2 | 2542.667 | 1.882372 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1350.778                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
262. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        1 |       2 |    2 | 33976.26 | 14.24246 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2385.562                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
263. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        2 |       2 |    2 |  23123.7 | 16.13881 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1432.801                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
264. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        3 |       2 |    2 |  22121.5 | 10.76934 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2054.118                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
265. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        4 |       2 |    2 | 16716.45 | 10.17317 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          1643.19                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
266. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        1 |       2 |    2 | 2294.598 | 9.604885 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          238.899                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
267. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        2 |       2 |    2 | 2497.561 | 10.24209 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         243.8526                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
268. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        3 |       2 |    2 | 3165.536 | 10.45611 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         302.7451                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
269. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        4 |       2 |    2 | 3581.897 | 11.84163 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         302.4834                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
270. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        1 |       3 |    3 | 4967.888 | 1.142857 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4346.901                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
271. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        2 |       3 |    3 | 7437.076 | 1.562128 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4760.862                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
272. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        3 |       3 |    3 | 6748.517 | 1.824382 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          3699.07                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
273. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        4 |       3 |    3 | 826.8876 | .4661054 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1774.036                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
274. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        1 |       3 |    3 | 142.8571 | .0714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
275. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        2 |       3 |    3 | 4663.914 | 1.833247 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2544.073                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
276. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        3 |       3 |    3 | 112.8174 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         394.8608                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
277. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        4 |       3 |    3 | 71.42857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
278. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        1 |       3 |    3 | 8040.463 | 9.792742 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         821.0636                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
279. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        2 |       3 |    3 | 6706.343 | 11.97888 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         559.8472                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
280. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        3 |       3 |    3 | 42695.73 | 81.49771 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         523.8887                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
281. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        4 |       3 |    3 | 19492.47 | 37.76009 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         516.2188                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
282. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        1 |       3 |    3 | 17248.43 | 7.707369 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2237.914                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
283. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        2 |       3 |    3 | 31087.07 |   91.048 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          341.436                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
284. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        3 |       3 |    3 |  32812.7 | 64.71262 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         507.0526                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
285. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        4 |       3 |    3 | 26574.82 | 24.72165 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1074.962                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
286. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        1 |       3 |    3 |  4124.27 | 3.448877 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          1195.83                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
287. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        2 |       3 |    3 | 3139.814 | 3.562282 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         881.4052                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
288. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        3 |       3 |    3 | 5173.791 | 5.379594 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         961.7439                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
289. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        4 |       3 |    3 | 571.4286 | .5714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
290. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        1 |       3 |    3 | 12270.79 | 145.5353 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          84.3149                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
291. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        3 |       3 |    3 |  1706.26 | 4.213063 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         404.9927                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
292. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        4 |       3 |    3 | 15104.51 | 131.2928 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         115.0445                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
293. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        1 |       3 |    3 | 16155.08 | 33.19848 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         486.6209                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
294. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        2 |       3 |    3 | 35720.55 | 47.47844 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          752.353                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
295. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        3 |       3 |    3 | 13256.26 | 27.55665 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         481.0547                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
296. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        4 |       3 |    3 | 14210.57 | 43.86372 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         323.9709                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
297. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        1 |       3 |    3 | 1101.454 | 4.332984 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         254.2022                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
298. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        2 |       3 |    3 | 4324.562 | 16.72531 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          258.564                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
299. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        3 |       3 |    3 | 2079.086 |  8.01065 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         259.5402                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
300. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        4 |       3 |    3 | 27867.57 | 92.24238 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         302.1124                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
301. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        1 |       3 |    3 | 22390.74 | 33.65276 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         665.3463                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
302. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        2 |       3 |    3 | 26380.51 | 80.67308 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         327.0051                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
303. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        3 |       3 |    3 | 31167.37 | 84.84532 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         367.3434                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
304. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        4 |       3 |    3 | 20032.46 | 72.24566 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         277.2826                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
305. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        1 |       3 |    3 | 14081.24 | 3.152133 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          4467.21                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
306. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        2 |       3 |    3 | 21943.13 | 4.802056 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4569.528                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
307. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        3 |       3 |    3 | 24426.55 | 4.972858 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4911.975                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
308. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        4 |       3 |    3 | 5017.394 | .9533045 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          5263.16                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
309. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        1 |       3 |    3 | 2907.122 | .6466722 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4495.511                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
310. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        2 |       3 |    3 | 9304.502 | 2.191414 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4245.889                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
311. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        3 |       3 |    3 | 7616.332 | 1.678906 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4536.486                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
312. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        4 |       3 |    3 | 1978.993 | .9663173 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2047.975                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
313. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        1 |       3 |    3 | 5254.855 |  1.37212 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3829.734                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
314. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        2 |       3 |    3 | 2654.662 |  .558817 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4750.503                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
315. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        3 |       3 |    3 | 6964.424 | 1.353175 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         5146.729                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
316. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        4 |       3 |    3 | 9877.456 | 1.895393 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         5211.297                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
317. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        1 |       3 |    3 | 18343.81 | 3.688892 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4972.717                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
318. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        2 |       3 |    3 | 7821.086 | 1.285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         6083.067                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
319. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        3 |       3 |    3 | 10339.84 | 1.428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         7237.885                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
320. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        4 |       3 |    3 | 12289.34 | 1.430793 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         8589.181                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
321. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        1 |       3 |    3 | 5703.447 | 9.076863 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                           628.35                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
322. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        2 |       3 |    3 | 13773.38 | 10.16585 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1354.867                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
323. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        3 |       3 |    3 | 3382.475 | 3.204562 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1055.519                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
324. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        4 |       3 |    3 | 7245.594 |  4.56663 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1586.639                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
325. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        1 |       3 |    3 | 12283.18 | 10.36399 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1185.178                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
326. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        2 |       3 |    3 | 19142.66 | 18.63051 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          1027.49                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
327. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        3 |       3 |    3 | 20462.06 | 27.98573 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         731.1603                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
328. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        4 |       3 |    3 | 11859.78 |  12.6189 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          939.842                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
329. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        1 |       3 |    3 | 4514.052 | 16.26732 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         277.4921                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
330. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        2 |       3 |    3 | 14049.12 | 46.71038 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         300.7708                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
331. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        3 |       3 |    3 | 7473.755 | 30.96703 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         241.3455                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
332. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        4 |       3 |    3 | 3408.031 | 11.50998 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         296.0937                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
333. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        1 |       3 |    3 | 19339.17 |  146.261 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         132.2237                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
334. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        2 |       3 |    3 | 9000.441 | 41.47013 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         217.0343                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
335. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        3 |       3 |    3 | 14878.72 | 43.13813 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         344.9087                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
336. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        4 |       3 |    3 | 11461.48 |   31.541 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         363.3836                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
337. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        1 |       3 |    3 | 1428.319 | 8.974451 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         159.1539                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
338. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        2 |       3 |    3 | 1818.749 | 17.74215 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         102.5101                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
339. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        3 |       3 |    3 | 10643.54 | 245.6678 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         43.32494                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
340. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        4 |       3 |    3 | 171.4286 | .5714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              300                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
341. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        1 |       3 |    3 | 4845.196 | 40.26694 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         120.3269                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
342. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        2 |       3 |    3 | 3884.938 | 27.75414 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         139.9769                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
343. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        3 |       3 |    3 | 3658.724 | 26.22431 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         139.5165                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
344. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        4 |       3 |    3 | 4991.967 | 39.27579 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         127.1004                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
345. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        1 |       3 |    3 | 6040.488 | 28.77007 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         209.9574                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
346. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        2 |       3 |    3 | 5641.602 | 33.59406 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         167.9345                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
347. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        3 |       3 |    3 | 6421.008 | 25.29744 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         253.8205                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
348. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        4 |       3 |    3 | 6825.797 | 26.38291 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         258.7204                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
349. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        1 |       3 |    3 | 2588.567 | 5.156594 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         501.9916                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
350. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        2 |       3 |    3 | 2324.474 | 4.472299 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         519.7493                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
351. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        3 |       3 |    3 | 5567.743 | 8.975486 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         620.3278                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
352. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        4 |       3 |    3 | 8796.051 | 16.89926 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         520.4993                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
353. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        1 |       3 |    3 | 2631.943 | 18.11466 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         145.2935                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
354. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        2 |       3 |    3 | 3454.946 | 16.94016 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                           203.95                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
355. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        3 |       3 |    3 | 5186.693 | 45.22391 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         114.6892                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
356. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        4 |       3 |    3 | 7425.516 | 49.05396 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         151.3745                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
357. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        1 |       3 |    3 | 11627.37 | 58.19232 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         199.8093                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
358. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        2 |       3 |    3 |  15483.4 | 106.1031 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         145.9278                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
359. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        3 |       3 |    3 | 15374.87 | 79.86614 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         192.5079                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
360. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        4 |       3 |    3 | 8434.146 | 55.03667 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          153.246                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
361. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        1 |       3 |    3 | 6123.507 |  24.1863 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         253.1808                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
362. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        2 |       3 |    3 | 142.8571 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
363. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        3 |       3 |    3 | 1922.871 | 4.575411 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          420.262                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
364. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        4 |       3 |    3 | 10761.22 | 20.24615 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         531.5196                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
365. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        1 |       3 |    3 | 49952.36 | 106.3487 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         469.7035                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
366. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        2 |       3 |    3 |    60507 | 90.92962 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         665.4268                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
367. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        3 |       3 |    3 | 62314.72 | 83.37877 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         747.3691                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
368. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        4 |       3 |    3 | 75355.24 | 131.2953 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         573.9371                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
369. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        1 |       3 |    3 |  366.955 | 1.473307 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         249.0689                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
370. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        2 |       3 |    3 | 641.1347 | 1.723314 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         372.0359                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
371. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        3 |       3 |    3 | 213.2845 | .4285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         497.6637                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
372. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        4 |       3 |    3 | 71.42857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
373. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        1 |       3 |    3 | 10276.82 | 15.41251 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         666.7842                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
374. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        2 |       3 |    3 | 10983.14 | 17.03883 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         644.5952                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
375. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        3 |       3 |    3 | 15053.41 | 19.36736 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         777.2566                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
376. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        4 |       3 |    3 | 9789.203 | 10.03019 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         975.9738                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
377. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        1 |       3 |    3 |  16570.8 | 21.46384 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         772.0334                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
378. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        2 |       3 |    3 | 27701.55 | 63.69353 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         434.9194                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
379. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        3 |       3 |    3 | 13146.06 | 10.59866 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1240.352                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
380. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        4 |       3 |    3 | 3255.987 | 2.760837 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1179.348                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
381. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        1 |       3 |    3 | 3128.915 | 9.370352 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         333.9165                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
382. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        2 |       3 |    3 | 3221.257 | 9.559562 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          336.967                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
383. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        3 |       3 |    3 | 3934.313 | 10.93699 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         359.7253                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
384. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        4 |       3 |    3 | 3991.864 | 11.57833 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         344.7704                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
385. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        1 |       4 |    4 |  80538.7 | 25.66734 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3137.789                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
386. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        2 |       4 |    4 | 58934.24 |  21.7332 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2711.715                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
387. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        3 |       4 |    4 | 61453.63 | 24.65483 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2492.56                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
388. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     101 |        4 |       4 |    4 | 49660.79 | 14.36325 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          3457.49                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
389. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        1 |       4 |    4 | 12867.31 | 7.955344 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1617.443                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
390. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        2 |       4 |    4 | 30707.44 | 11.14309 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2755.739                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
391. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        3 |       4 |    4 | 21163.18 |  6.76746 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         3127.197                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
392. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     105 |        4 |       4 |    4 | 22293.17 | 10.10256 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2206.685                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
393. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        1 |       4 |    4 | 3582.676 | 3.582676 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
394. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        2 |       4 |    4 | 2895.398 | 3.013092 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         960.9391                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
395. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        3 |       4 |    4 | 689.3032 | .6893032 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
396. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     107 |        4 |       4 |    4 | 3876.577 | 3.420148 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1133.453                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
397. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        1 |       4 |    4 | 13729.18 | 93.70011 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         146.5226                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
398. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        2 |       4 |    4 | 17562.67 | 85.67091 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         205.0015                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
399. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        3 |       4 |    4 |  16376.2 | 70.73048 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         231.5295                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
400. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     108 |        4 |       4 |    4 | 4693.262 | 25.64843 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         182.9844                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
401. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        1 |       4 |    4 |  1142.35 | .6009132 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1901.023                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
402. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        2 |       4 |    4 | 6135.005 | 4.808774 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1275.794                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
403. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     110 |        4 |       4 |    4 | 285.7143 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
404. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        1 |       4 |    4 |  2998.53 | 9.107293 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          329.245                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
405. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        2 |       4 |    4 |  621.719 | 5.529422 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         112.4383                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
406. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        3 |       4 |    4 | 399.7506 | 2.947166 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          135.639                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
407. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     112 |        4 |       4 |    4 | 57.14286 | .5714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         99.99999                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
408. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        1 |       4 |    4 | 14122.07 | 16.35177 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         863.6415                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
409. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        2 |       4 |    4 | 26626.25 | 25.17089 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1057.819                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
410. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        3 |       4 |    4 | 29481.41 | 22.75417 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1295.648                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
411. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     113 |        4 |       4 |    4 | 5665.371 | 4.205332 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1347.188                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
412. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        1 |       4 |    4 |  2005.92 | 2.845513 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         704.9417                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
413. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        2 |       4 |    4 | 22298.28 | 40.60448 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         549.1582                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
414. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        3 |       4 |    4 | 12723.32 | 14.28472 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         890.6943                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
415. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     115 |        4 |       4 |    4 | 9645.932 |  12.0952 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         797.5009                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
416. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        1 |       4 |    4 | 1928.387 | 5.200268 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         370.8245                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
417. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        2 |       4 |    4 | 11654.16 | 28.85323 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         403.9116                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
418. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        3 |       4 |    4 | 1363.626 | 3.115075 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         437.7505                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
419. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     116 |        4 |       4 |    4 | 1178.152 | 1.207613 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         975.6038                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
420. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        1 |       4 |    4 | 4875.541 | 1.071889 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4548.552                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
421. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        2 |       4 |    4 | 12700.74 | 2.612685 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4861.182                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
422. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        3 |       4 |    4 | 12253.99 |  2.45787 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4985.612                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
423. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     117 |        4 |       4 |    4 | 9401.977 | 1.566996 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             6000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
424. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        2 |       4 |    4 | 1964.889 | .4285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4584.741                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
425. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        3 |       4 |    4 | 1285.714 | .2142857 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             6000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
426. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     118 |        4 |       4 |    4 | 942.8133 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         6599.692                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
427. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        1 |       4 |    4 | 3828.304 | .8724113 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         4388.187                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
428. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        2 |       4 |    4 | 714.2857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             5000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
429. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        3 |       4 |    4 | 1547.885 | .2579809 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             6000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
430. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     119 |        4 |       4 |    4 | 2931.146 | .4444352 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         6595.216                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
431. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        2 |       4 |    4 | 2142.857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                            15000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
432. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     121 |        3 |       4 |    4 | 714.2857 | .1428571 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             5000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
433. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        1 |       4 |    4 | 1650.287 | 1.520221 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1085.558                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
434. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        2 |       4 |    4 | 2125.521 |  1.06276 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
435. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        3 |       4 |    4 | 4312.383 | 2.121704 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2032.509                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
436. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     122 |        4 |       4 |    4 | 571.4286 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
437. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        1 |       4 |    4 | 709.3217 | .4285714 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1655.084                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
438. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        2 |       4 |    4 |  1562.57 | 1.070804 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1459.249                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
439. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        3 |       4 |    4 | 2227.963 | 4.961765 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         449.0263                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
440. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     123 |        4 |       4 |    4 | 714.2857 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             2500                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
441. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        1 |       4 |    4 | 27319.45 | 87.77043 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         311.2603                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
442. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        2 |       4 |    4 | 21606.25 | 39.25533 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          550.403                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
443. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        3 |       4 |    4 | 15153.89 | 45.39048 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         333.8561                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
444. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     125 |        4 |       4 |    4 |   3649.6 | 10.84753 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         336.4453                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
445. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        1 |       4 |    4 | 745.0512 | 3.164231 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         235.4605                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
446. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        2 |       4 |    4 | 970.0195 | 10.45927 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         92.74256                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
447. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        3 |       4 |    4 | 2487.499 |   7.3166 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         339.9803                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
448. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     127 |        4 |       4 |    4 | 978.0741 | .3622416 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2700.06                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
449. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        1 |       4 |    4 | 5679.812 | 105.6843 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         53.74322                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
450. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        2 |       4 |    4 | 721.2561 | 10.93984 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         65.92928                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
451. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        3 |       4 |    4 | 5891.731 | 60.95041 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         96.66434                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
452. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     132 |        4 |       4 |    4 | 342.8571 | 1.714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                              200                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
453. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        1 |       4 |    4 | 1627.081 | 8.329784 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         195.3329                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
454. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        2 |       4 |    4 | 2573.228 | 11.08155 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         232.2084                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
455. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        3 |       4 |    4 | 1569.938 | 6.046518 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         259.6432                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
456. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     135 |        4 |       4 |    4 | 1812.824 | 3.761343 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         481.9619                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
457. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        1 |       4 |    4 | 4316.831 | 15.22806 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         283.4788                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
458. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        2 |       4 |    4 | 4258.991 | 15.28867 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         278.5717                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
459. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        3 |       4 |    4 | 4646.172 | 18.22038 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         254.9986                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
460. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     136 |        4 |       4 |    4 | 2290.164 | 8.472773 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         270.2969                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
461. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        1 |       4 |    4 | 1643.178 | 4.098514 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         400.9205                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
462. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        2 |       4 |    4 | 1705.077 | 4.523637 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         376.9261                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
463. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        3 |       4 |    4 | 1298.239 | 2.858759 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         454.1268                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
464. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     137 |        4 |       4 |    4 | 874.5645 | 2.566905 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         340.7077                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
465. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        1 |       4 |    4 | 4423.536 |  25.5229 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         173.3164                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
466. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        2 |       4 |    4 | 3574.877 | 24.17221 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          147.892                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
467. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        3 |       4 |    4 | 4919.803 | 21.02539 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         233.9935                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
468. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     138 |        4 |       4 |    4 | 1269.481 | 6.483075 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         195.8146                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
469. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        1 |       4 |    4 | 1011.461 |  6.45961 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         156.5824                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
470. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        2 |       4 |    4 | 1392.123 | 3.212658 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         433.3245                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
471. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        3 |       4 |    4 | 1048.108 | 2.337052 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         448.4743                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
472. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     139 |        4 |       4 |    4 | 289.9218 | 2.153756 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         134.6122                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
473. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        1 |       4 |    4 | 25739.14 | 57.72439 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         445.8972                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
474. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        2 |       4 |    4 | 4679.111 | 8.428073 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         555.1816                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
475. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        3 |       4 |    4 | 22633.15 |  54.6754 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         413.9549                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
476. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     140 |        4 |       4 |    4 | 571.4286 | .5714286 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                             1000                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
477. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        1 |       4 |    4 | 21527.68 | 28.68216 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         750.5599                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
478. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        2 |       4 |    4 | 63802.72 | 81.13268 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         786.3997                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
479. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        3 |       4 |    4 |  34786.2 | 36.17293 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         961.6639                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
480. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     141 |        4 |       4 |    4 | 31505.68 | 37.20631 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         846.7831                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
481. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        1 |       4 |    4 | 2274.482 | 2.611028 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         871.1058                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
482. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        2 |       4 |    4 |  15733.1 | 16.28673 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         966.0072                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
483. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        3 |       4 |    4 | 2602.709 | 2.200396 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         1182.837                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
484. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     144 |        4 |       4 |    4 |  9061.98 | 6.284748 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                           1441.9                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
485. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     146 |        3 |       4 |    4 | 28.57143 | .2857143 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         99.99999                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
486. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        1 |       4 |    4 | 5434.508 | 2.164815 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                          2510.38                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
487. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        2 |       4 |    4 | 7339.647 | 2.719462 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2698.934                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
488. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        3 |       4 |    4 | 4048.493 | 1.711047 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2366.091                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
489. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     147 |        4 |       4 |    4 |  1456.49 | .5599361 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         2601.173                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
490. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        1 |       4 |    4 | 2573.836 | 7.554765 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         340.6904                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
491. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        2 |       4 |    4 | 9133.724 | 24.20272 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         377.3842                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
492. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        3 |       4 |    4 | 2701.043 | 6.799084 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         397.2657                          |
     +-----------------------------------------------------------+

     +-----------------------------------------------------------+
493. | product | survquar | reg_tpi | news | valued~t | quanti~t |
     |     150 |        4 |       4 |    4 | 2240.551 | 5.208878 |
     |-----------------------------------------------------------|
     |                         ppkg_t~m                          |
     |                         430.1408                          |
     +-----------------------------------------------------------+

.                         tempfile uvq2;

.                         keep reg_tpi product survquar ppkg_trim;

.                 save `uvq2', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000e.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000e.tmp saved

.                                 use `uvq' ;

.                         merge reg_tpi product survquar using `uvq2';
(label lbreg already defined)
(label lsurvquar already defined)

.                         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.20        0.20
          3 |        493       99.80      100.00
------------+-----------------------------------
      Total |        494      100.00

.                         drop _merge;

.                 save `uvq', replace;
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp saved

.                 save "$path/work/tpi_unit_val_quarterly.dta", replace
> ;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/tpi_unit_val_quarterly.dta saved

.         restore;

. *********************************************************************
> *****;
. * Now calculate the weights for the temporal price index. The weights
> * will be based on the bottom 50% of the national nominal consumption
> * per capita (see below). We let the weights vary by strata (3 region
> s X rural/urban).
> *
> * First, make a small file that has the total nominal HH daily consum
> ption,
> * to use as our denominator. We cannot simply use the `bottom_tpi' fi
> le that
> * was created earlier because we will need some other variables from
> * the cons_cat.dta file.
> *********************************************************************
> *****;
. use "$path/work/conpc.dta", clear;

. keep hhid cons_hh_nom;

. *use "$path/in/cons_cat.dta", clear ;
. *CA modified to merge in hhdata for bootstrap;
.        sort hhid;

.         merge hhid using "$path/work/hhdata.dta";

.           tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         collapse (mean) cons_hh_nom hhsize strata hhweight rural news
>  survquar reg_tpi,
>                 by(hhid);

.         lab var cons_hh_nom "Nominal daily HH consumption";

.         rename hhsize   cc_hhs;

.         rename strata   cc_reg;

.         rename hhweight cc_hhw;

.         rename rural    cc_rur;

.         rename news     cc_news;

.         rename survquar cc_qua;

.         rename reg_tpi  cc_reg_tpi;

.         sort hhid;

.         tempfile thhcons;

. save `thhcons', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000f.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000f.tmp saved

. *********************************************************************
> *****;
. * Merge the file with consumption on the food products with HH consum
> ption file,
> * then use "fillin" to take care of cases where a household did not
> * consume all n_tpi commodities. Note that we need to do the merge
> * first because there are some households that are not in `acredd' at
> * all, because they did not consume *any* of the n_tpi items. Then re
> place
> * missing values in the "filled in" observations with the relevant va
> lues 
> * for that household.
> *********************************************************************
> *****;
. use `acredd';

.         cap drop _merge;

.         drop if product==.;
(158 observations deleted)

.         merge hhid using `thhcons';
variable hhid does not uniquely identify observations in the master
    data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        159        0.62        0.62
          3 |     25,561       99.38      100.00
------------+-----------------------------------
      Total |     25,720      100.00

.         for var valued_tot quantityd_tot : replace X=0 if _merge==2;

->  replace valued_tot=0 if _merge==2
(159 real changes made)

->  replace quantityd_tot=0 if _merge==2
(159 real changes made)

.                 /*
>         for var valued_ac quantityd_ac valued_re quantityd_re valued_
> dd quantityd_dd 
>                 valued_tot quantityd_tot : replace X=0 if _merge==2;
>                                 */
> 
>         replace hhsize  =cc_hhs     if _merge==2;
(156 real changes made)

.         replace strata  =cc_reg     if _merge==2;
(158 real changes made)

.         replace hhweight=cc_hhw     if _merge==2;
(157 real changes made)

.         replace rural   =cc_rur     if _merge==2;
(158 real changes made)

.         replace news    =cc_news        if _merge==2;
(150 real changes made)

.         replace survquar=cc_qua     if _merge==2;
(110 real changes made)

.         replace reg_tpi =cc_reg_tpi     if _merge==2;
(158 real changes made)

.         drop _merge cc_* ;

.                 fillin hhid product;

.         replace valued_tot=0 if _fillin;
(55790 real changes made)

.                 for var quantityd_tot 
>                 strata rural hhweight hhsize survquar survmon news re
> g_tpi cons_hh_nom :
>                 egen tmp=mean(X), by(hhid) \
>                 replace X=tmp if _fillin \
>                 drop tmp;

->  egen tmp=mean(quantityd_tot), by(hhid)

->  replace quantityd_tot=tmp if _fillin
(55790 real changes made)

->  drop tmp

->  egen tmp=mean(strata), by(hhid)
(30 missing values generated)

->  replace strata=tmp if _fillin
(55761 real changes made)

->  drop tmp

->  egen tmp=mean(rural), by(hhid)
(30 missing values generated)

->  replace rural=tmp if _fillin
(55761 real changes made)

->  drop tmp

->  egen tmp=mean(hhweight), by(hhid)
(60 missing values generated)

->  replace hhweight=tmp if _fillin
(55732 real changes made)

->  drop tmp

->  egen tmp=mean(hhsize), by(hhid)
(90 missing values generated)

->  replace hhsize=tmp if _fillin
(55703 real changes made)

->  drop tmp

->  egen tmp=mean(survquar), by(hhid)
(1470 missing values generated)

->  replace survquar=tmp if _fillin
(54369 real changes made)

->  drop tmp

->  egen tmp=mean(survmon), by(hhid)
(4770 missing values generated)

->  replace survmon=tmp if _fillin
(51179 real changes made)

->  drop tmp

->  egen tmp=mean(news), by(hhid)
(270 missing values generated)

->  replace news=tmp if _fillin
(55529 real changes made)

->  drop tmp

->  egen tmp=mean(reg_tpi), by(hhid)
(30 missing values generated)

->  replace reg_tpi=tmp if _fillin
(55761 real changes made)

->  drop tmp

->  egen tmp=mean(cons_hh_nom), by(hhid)
(120 missing values generated)

->  replace cons_hh_nom=tmp if _fillin
(55674 real changes made)

->  drop tmp

.                                 /*
>         for var valued_ac quantityd_ac valued_re quantityd_re valued_
> dd quantityd_dd 
>                 quantityd_tot 
>                 strata rural hhweight hhsize survquar survmon news re
> g_tpi cons_hh_nom :
>                 egen tmp=mean(X), by(hhid) \
>                 replace X=tmp if _fillin \
>                 drop tmp;
>                                 */
> 
> *********************************************************************
> *****;
. * Now calculate the shares, and then the mean shares in each strata, 
> * using hhweight*hhsize weighting. 
> * Note that we are not doing quantity weighting now for the shares.
> *********************************************************************
> *****;
.         gen share = valued_tot/cons_hh_nom ;
(1770 missing values generated)

.         gen popwt = hhsize*hhweight;
(90 missing values generated)

.         lab var share "HH share in total consumption";

.         lab var popwt "Population weight: hhsize*hhweight";

. *********************************************************************
> *****;
. * Select the bottom 50% (weighted) of the distribution of nominal per
>  
> * capita consumption.
> *********************************************************************
> *****;
.         gen cpc=cons_hh_nom/hhsize;
(180 missing values generated)

.         sum cpc [aw=hhweight] , detail;

                             cpc
-------------------------------------------------------------
      Percentiles      Smallest
 1%            0              0
 5%     280.3179              0
10%     437.8763              0       Obs               81330
25%      712.543              0       Sum of Wgt.   179111489

50%     1186.441                      Mean           1721.735
                        Largest       Std. Dev.       2331.99
75%     2013.102       72809.41
90%     3456.587       72809.41       Variance        5438178
95%     4825.591       72809.41       Skewness        13.4445
99%     9387.867       72809.41       Kurtosis        354.825

.         global medcpc=r(p$tpi_bottom);

. * MAH ;
.  sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     81480    1.32e+11    4.07e+12   1.01e+09   2.12e+14
     product |     78793    125.6552    13.95636        101        150
  valued_tot |     81510     152.922    585.7047          0   85714.29
quantityd_~t |     81510    .5202694    .7101384          0         60
      strata |     81480    3.830265    1.511715          1          6
-------------+--------------------------------------------------------
    hhweight |     81450    2207.802    1693.745   308.1181   8736.727
    survquar |     80040    2.452024    1.105543          1          4
     survmon |     76740    6.381939    3.384659          1         12
       rural |     81480    .7750368    .4175606          0          1
     reg_tpi |     81480    2.271723    1.217436          0          4
-------------+--------------------------------------------------------
    spdomain |     25561    3.151207    1.263125          1          5
        news |     81240    2.343427    1.111683          1          4
      hhsize |     81420     7.06706    3.584038          1         29
 cons_hh_nom |     81390    10663.71    19424.69          0   800903.5
     _fillin |     81510    .6844559    .4647351          0          1
-------------+--------------------------------------------------------
       share |     79740     .017125    .0489474          0   .8368428
       popwt |     81420       13754    11235.33   548.9749   104660.2
         cpc |     81330    1625.393    2173.094          0   72809.41

.  codebook hhid;

-----------------------------------------------------------------------
hhid                            Unique HH Identifier Across Panel Waves
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2716                     missing .:  30/81510

                  mean:   1.3e+11
              std. dev:   4.1e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   3.0e+09   4.0e+09   1.1e
> +11

.         keep if cpc<=$medcpc;
(39600 observations deleted)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     41910    3.87e+10    2.14e+11   1.02e+09   2.32e+12
     product |     40513    125.6552    13.95645        101        150
  valued_tot |     41910    99.05711    317.5722          0   7142.857
quantityd_~t |     41910    .5303596    .6607161          0   34.28571
      strata |     41910    4.280601     1.27978          1          6
-------------+--------------------------------------------------------
    hhweight |     41910    2137.265    1603.897   308.1181   8736.727
    survquar |     40620    2.362629    1.087389          1          4
     survmon |     39150    6.159387    3.362086          1         12
       rural |     41910     .889048    .3140765          0          1
     reg_tpi |     41910    2.549034    1.043069          0          4
-------------+--------------------------------------------------------
    spdomain |     11324    3.487813    1.008982          1          5
        news |     41700    2.570504    1.012378          1          4
      hhsize |     41910    7.406586    3.233173          1         29
 cons_hh_nom |     41910     5060.07    3227.614          0   24355.92
     _fillin |     41910    .7276068    .4451965          0          1
-------------+--------------------------------------------------------
       share |     40320    .0193228    .0561963          0   .7688493
       popwt |     41910    14445.04    11143.66   821.0083   104660.2
         cpc |     41910    684.9044     297.346          0   1186.441

.                 collapse (mean) share (median) medshare=share [aw=pop
> wt] , 
>                         by(reg_tpi product);

.                 egen sumsh=sum(share) , by(reg_tpi);

.                 replace share=share/sumsh;
(138 real changes made)

.                 drop sumsh;

.                 egen sumsh=sum(medshare) , by(reg_tpi);

.                 replace medshare=medshare/sumsh;
(32 real changes made)

.                 drop sumsh;

.                 lab var share "Reg 6: Mean HH share of total consumpt
> ion";

.                 lab var medshare "Reg 6: Median HH share of total con
> sumption";

.                 sort reg_tpi product;

.                 save "$path/work/tpi_reg_tpi_share.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/tpi_reg_tpi_share.dta saved

.                 tempfile tempwt6;

.                 save `tempwt6', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000g.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000g.tmp saved

. use `uvq', clear;

.         sort reg_tpi product;

. save , replace;
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp saved

. use `tempwt6';

.         merge reg_tpi product using `uvq';
variables reg_tpi product do not uniquely identify observations in
    C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         12        2.37        2.37
          3 |        494       97.63      100.00
------------+-----------------------------------
      Total |        506      100.00

.         gen tpi1     =ppkg     *share;
(12 missing values generated)

.         gen tpi1_trim=ppkg_trim*share;
(13 missing values generated)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     product |       501    125.8643    13.92485        101        150
     reg_tpi |       506    2.233202    1.302307          0          4
       share |       506    .0369824     .041727          0   .2116086
    medshare |       506    .0374253    .1022018          0   .6349863
    survquar |       494    2.441296    1.104846          1          4
-------------+--------------------------------------------------------
        news |       494    2.362348    1.139499          1          4
  valued_tot |       494    7211.761    9275.803   28.57143   73773.88
quantityd_~t |       494    11.34558    16.05755   .0357143   103.8481
        ppkg |       494    1562.441    2060.906   54.77777      20000
   ppkg_trim |       493    1454.453    1892.222   43.32494      15000
-------------+--------------------------------------------------------
      _merge |       506    2.952569    .3046233          1          3
        tpi1 |       494    64.52358    111.1795   .0031017   818.9936
   tpi1_trim |       493    59.91261    105.2727   .0031017   731.6347

. keep if survquar!=.;
(12 observations deleted)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     product |       494    125.9899    13.88952        101        150
     reg_tpi |       494    2.267206    1.282373          0          4
       share |       494    .0378808    .0418261    .000031   .2116086
    medshare |       494    .0383344    .1032692          0   .6349863
    survquar |       494    2.441296    1.104846          1          4
-------------+--------------------------------------------------------
        news |       494    2.362348    1.139499          1          4
  valued_tot |       494    7211.761    9275.803   28.57143   73773.88
quantityd_~t |       494    11.34558    16.05755   .0357143   103.8481
        ppkg |       494    1562.441    2060.906   54.77777      20000
   ppkg_trim |       493    1454.453    1892.222   43.32494      15000
-------------+--------------------------------------------------------
      _merge |       494           3           0          3          3
        tpi1 |       494    64.52358    111.1795   .0031017   818.9936
   tpi1_trim |       493    59.91261    105.2727   .0031017   731.6347

. list in  1/3;

     +--------------------------------------------------------------+
  1. | product  | reg_tpi  |    share  |  medshare  |     survquar  |
     |     107  | Kampala  | .0053843  |         0  |  Jan-Marc 11  |
     |--------------------------------------------------------------|
     |    news | valued~t | quanti~t |     ppkg | ppkg_t~m | _merge |
     | Central | 379.0834 | .6591906 |  575.074 | 527.8082 |      3 |
     |--------------------------------------------------------------|
     |               tpi1           |           tpi1_t~m            |
     |           3.096391           |           2.841896            |
     +--------------------------------------------------------------+

     +--------------------------------------------------------------+
  2. | product  | reg_tpi  |    share  |  medshare  |     survquar  |
     |     108  | Kampala  | .0010273  |         0  |  Apr-June 11  |
     |--------------------------------------------------------------|
     |    news | valued~t | quanti~t |     ppkg | ppkg_t~m | _merge |
     | Central | 28.57143 | .0357143 | 799.9999 | 799.9999 |      3 |
     |--------------------------------------------------------------|
     |               tpi1           |           tpi1_t~m            |
     |           .8218583           |           .8218583            |
     +--------------------------------------------------------------+

     +--------------------------------------------------------------+
  3. | product  | reg_tpi  |    share  |  medshare  |     survquar  |
     |     110  | Kampala  | .1016642  |  .0610215  |   Oct-Dec 10  |
     |--------------------------------------------------------------|
     |    news | valued~t | quanti~t |     ppkg | ppkg_t~m | _merge |
     | Central | 2686.375 | 1.343187 |     2000 |     2000 |      3 |
     |--------------------------------------------------------------|
     |               tpi1           |           tpi1_t~m            |
     |           203.3285           |           203.3285            |
     +--------------------------------------------------------------+

. list in -3/-1;

     +--------------------------------------------------------------+
492. | product | reg_tpi  |    share  | medshare  |       survquar  |
     |     150 | Western  | .0152696  | .0413099  |    Jan-Marc 11  |
     |---------+----------+-----------------------------------------|
     |    news | valued~t | quanti~t |     ppkg | ppkg_t~m | _merge |
     | Western |  3863.17 | 11.94009 | 323.5462 | 377.3842 |      3 |
     |--------------------------------------------------------------|
     |               tpi1           |           tpi1_t~m            |
     |           4.940417           |           5.762502            |
     +--------------------------------------------------------------+

     +--------------------------------------------------------------+
493. | product | reg_tpi  |    share  | medshare  |       survquar  |
     |     150 | Western  | .0152696  | .0413099  |    Apr-June 11  |
     |---------+----------+-----------------------------------------|
     |    news | valued~t | quanti~t |     ppkg | ppkg_t~m | _merge |
     | Western | 2374.271 | 5.814196 | 408.3575 | 397.2657 |      3 |
     |--------------------------------------------------------------|
     |               tpi1           |           tpi1_t~m            |
     |            6.23545           |           6.066083            |
     +--------------------------------------------------------------+

     +--------------------------------------------------------------+
494. | product | reg_tpi  |    share  | medshare  |       survquar  |
     |     150 | Western  | .0152696  | .0413099  | July-Sept 2011  |
     |---------+----------+-----------------------------------------|
     |    news | valued~t | quanti~t |     ppkg | ppkg_t~m | _merge |
     | Western | 1951.101 | 8.450549 | 230.8846 | 430.1408 |      3 |
     |--------------------------------------------------------------|
     |               tpi1           |           tpi1_t~m            |
     |           3.525512           |           6.568072            |
     +--------------------------------------------------------------+

.         *************************************************************
> *************;
. * Find TPI level and indexes for non-trimmed and trimmed prices
> *********************************************************************
> *****;
. * Not trimmed ;
.         collapse (sum) tpi1 tpi1_trim  , by(reg_tpi survquar);

.                 for num 1/$n_tpi :
>                         sum tpi1 if reg_tpi==X & survquar==2 , meanon
> ly \
>                         sum tpi1 if reg_tpi==X & survquar==4 , meanon
> ly \
>                         global baseX=r(mean);

->  sum tpi1 if reg_tpi==1 & survquar==2 , meanonly

->  sum tpi1 if reg_tpi==1 & survquar==4 , meanonly

->  global base1=r(mean)

->  sum tpi1 if reg_tpi==2 & survquar==2 , meanonly

->  sum tpi1 if reg_tpi==2 & survquar==4 , meanonly

->  global base2=r(mean)

->  sum tpi1 if reg_tpi==3 & survquar==2 , meanonly

->  sum tpi1 if reg_tpi==3 & survquar==4 , meanonly

->  global base3=r(mean)

->  sum tpi1 if reg_tpi==4 & survquar==2 , meanonly

->  sum tpi1 if reg_tpi==4 & survquar==4 , meanonly

->  global base4=r(mean)

->  sum tpi1 if reg_tpi==5 & survquar==2 , meanonly

->  sum tpi1 if reg_tpi==5 & survquar==4 , meanonly

->  global base5=r(mean)

.                 lab var tpi1 "Temporal price index before normalizati
> on";

.                                 foreach v of numlist 1/$n_tpi { ;
  2.                                         if `v'==1 { ;
  3.                                                 gen tpi=tpi1/${bas
> e`v'} if reg_tpi==`v' ;
  4.                                         } ;
  5.                                         if `v'>1 { ;
  6.                                                 replace tpi=tpi1/$
> {base`v'} if reg_tpi==`v' ;
  7.                                         } ;
  8.                                 } ;
(15 missing values generated)
(4 real changes made)
(4 real changes made)
(4 real changes made)
(0 real changes made)

.                                                                      
>                            *gen     tpi=tpi1/$base1 if reg_tpi==1;
.                 *replace tpi=tpi1/$base2 if reg_tpi==2;
.                 *replace tpi=tpi1/$base3 if reg_tpi==3;
.                 *replace tpi=tpi1/$base4 if reg_tpi==4;
.                 *replace tpi=tpi1/$base5 if reg_tpi==5;
.                 *replace tpi=tpi1/$base6 if reg_tpi==6;
.                                                                      
>            lab var tpi "Temporal price index (Q4=1)";

. * Trimmed ;
.                 for num 1/$n_tpi :
>                         sum tpi1_trim if reg_tpi==X & survquar==2 , m
> eanonly \
>                         sum tpi1_trim if reg_tpi==X & survquar==4 , m
> eanonly \
>                         global baseX=r(mean);

->  sum tpi1_trim if reg_tpi==1 & survquar==2 , meanonly

->  sum tpi1_trim if reg_tpi==1 & survquar==4 , meanonly

->  global base1=r(mean)

->  sum tpi1_trim if reg_tpi==2 & survquar==2 , meanonly

->  sum tpi1_trim if reg_tpi==2 & survquar==4 , meanonly

->  global base2=r(mean)

->  sum tpi1_trim if reg_tpi==3 & survquar==2 , meanonly

->  sum tpi1_trim if reg_tpi==3 & survquar==4 , meanonly

->  global base3=r(mean)

->  sum tpi1_trim if reg_tpi==4 & survquar==2 , meanonly

->  sum tpi1_trim if reg_tpi==4 & survquar==4 , meanonly

->  global base4=r(mean)

->  sum tpi1_trim if reg_tpi==5 & survquar==2 , meanonly

->  sum tpi1_trim if reg_tpi==5 & survquar==4 , meanonly

->  global base5=r(mean)

.                 lab var tpi1_trim "Six regions: TRIMMED Temporal pric
> e index before normalization";

.                                 foreach v of numlist 1/$n_tpi { ;
  2.                                         if `v'==1 { ;
  3.                                                 gen tpi_trim=tpi1_
> trim/${base`v'} if reg_tpi==`v' ;
  4.                                         } ;
  5.                                         if `v'>1 { ;
  6.                                                 replace tpi_trim=t
> pi1_trim/${base`v'} if reg_tpi==`v' ;
  7.                                         } ;
  8.                                 } ;
(15 missing values generated)
(4 real changes made)
(4 real changes made)
(4 real changes made)
(0 real changes made)

.                                                 lab var tpi_trim "TRI
> MMED Temporal price index (Q4=1)";

.                 sort reg_tpi survquar;

.             drop if reg_tpi<1 | reg_tpi>$n_tpi;
(3 observations deleted)

. gen tpi_diff = tpi - tpi_trim;

. lab var tpi_diff "TPI difference btw trimmed/untrimmed";

. twoway (connected tpi_trim survquar),yline(1) by(, title("TPI: Trimme
> d"))
> by(reg_tpi) sav("$path/work/reg_tpi-tpi_trim", replace);
(file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
> 3/work/reg_tpi-tpi_trim.gph saved)

. graph export "$path/work/reg_tpi-tpi_trim.tif", replace;
(file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
> 3/work/reg_tpi-tpi_trim.tif written in TIFF format)

. list reg_tpi survquar tpi tpi_trim tpi_diff;

     +-------------------------------------------------------------+
     |  reg_tpi         survquar        tpi   tpi_trim    tpi_diff |
     |-------------------------------------------------------------|
  1. |  Central       Oct-Dec 10   .7239144   .8300514    -.106137 |
  2. |  Central      Jan-Marc 11   .8704891   .9190172   -.0485281 |
  3. |  Central      Apr-June 11   .9502902    1.09376   -.1434702 |
  4. |  Central   July-Sept 2011          1          1           0 |
  5. |  Eastern       Oct-Dec 10   .6489185   .9582967   -.3093781 |
     |-------------------------------------------------------------|
  6. |  Eastern      Jan-Marc 11   .6784458   .8724771   -.1940312 |
  7. |  Eastern      Apr-June 11   .8296075   1.159266    -.329658 |
  8. |  Eastern   July-Sept 2011          1          1           0 |
  9. | Northern       Oct-Dec 10   .8185163   .9776408   -.1591245 |
 10. | Northern      Jan-Marc 11   .7455733   .9172838   -.1717106 |
     |-------------------------------------------------------------|
 11. | Northern      Apr-June 11   .8513338   .9885486   -.1372148 |
 12. | Northern   July-Sept 2011          1          1           0 |
 13. |  Western       Oct-Dec 10    .696188   .7983326   -.1021445 |
 14. |  Western      Jan-Marc 11   .8595559   .8675156   -.0079597 |
 15. |  Western      Apr-June 11   .9390652    .875642    .0634232 |
     |-------------------------------------------------------------|
 16. |  Western   July-Sept 2011          1          1           0 |
     +-------------------------------------------------------------+

.                 sort reg_tpi survquar;

. keep reg_tpi survquar tpi_trim;

. save "$path/work/temp_index_reg_tpi.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/temp_index_reg_tpi.dta saved

.                        **********************************************
> ****************************
> * 090_temp_index.do     (end)
> *********************************************************************
> *****;
. cap log close;

. 
end of do-file

.                                 do "$path/new/100_food_basket_flex.do
> "  /* Flexible food basket */

. *global path "C:/user/gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/100_food_basket_flex.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/100_food_basket_flex.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:04

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 100_food_basket_flex.do     (start)
> *
> * This file is to get the data from the cons_cod.dta in work and then
>  
> * to create the do file with the 90% of the consumption expenditures 
> * using a flexible basket of goods.
> *
> * NOTE: we actually keep goods representing 95% of expenditure
> * in order to facilitate dropping of some goods (such as rats) where
> * quantity and nutrition information is unknown.
> *
> * We base our basket on the bottom 60 percent of consumption per capi
> ta
> * (weighted by hhweight*hhsize). We use the TEMPORALLY-ADJUSTED
> * NOMINAL consumption because we don't have a spatial adjustment yet.
> *
> * (Then we iterate this process to arrive at a final food bundle in l
> ater code)
> *********************************************************************
> *****;
. *CA modified to bring in hhdata into bootstrap;
. /*
> This file uses:
>                 work/cons_cod.dta
>                 work/hhdata.dta
>                 work/products.dta
>                 work/consump_nom.dta
>                 work/temp_index_reg_tpi.dta
>                 work/food_cat.dta
> 
> This file creates:
>                 work/food_basket_flex.dta
>                 work/codes_food_basket_flex.dta
> */
> 
> 
> 
> *do "$path/new/010_initial.do";
. *********************************************************************
> *****;
. * First, make a small temp file that has the temporally adjusted 
> * nominal consumption per capita, using work/consump_nom and 
> * work/temp_index_reg_tpi.dta. Make a dummy variable indicating
> * whether they are in the bottom 60%.
> *********************************************************************
> *****;
. use "$path/work/conpc.dta", clear;

. *use "$path/work/consump_nom.dta", clear;
. *CA modified to merge in work/hhdata.dta for bootstrap;
.         sort hhid;

.         merge hhid using "$path/work/hhdata.dta";

.         tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _m;

.         keep hhid hhweight hhsize cons_pc_nom reg_tpi rural survquar;

.         sort reg_tpi survquar;

.         cap drop _merge;

.         merge reg_tpi survquar using "$path/work/temp_index_reg_tpi.d
> ta";
variables reg_tpi survquar do not uniquely identify observations in
    the master data
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        225        8.28        8.28
          3 |      2,492       91.72      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         sort hhid;

.         merge hhid using "$path/work/conpc.dta";

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.                 gen food_pc_tpi  = food_pc_nom /tpi_trim;
(225 missing values generated)

.         lab var food_pc_tpi "Temp-adjusted per capita food consumptio
> n/day";

.         gen cons_pc_tpi = food_pc_tpi + nf_pc_nom;
(225 missing values generated)

.         lab var cons_pc_tpi "Temp adjusted total consumption/day";

.         gen one=1;

.         tempfile contpi;

.         save `contpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

.         collapse (p$bottom) one cons_pc_tpi [aw=hhsize*hhweight] ;

.         rename cons_pc_tpi pctile_60;

.         tempfile 60pct;

.         sort one;

.         save `60pct', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved

.                 use `contpi';

.                 sort one;

.                 merge one using `60pct';
variable one does not uniquely identify observations in the master
    data

.                 tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.                 drop _merge;

.                 drop one;

.                         gen bottom_basket=cons_pc_tpi< pctile_60;

.                 tab bottom_basket [aw=hhsize*hhweight];

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 1,453.0937       53.54       53.54
          1 | 1,260.9063       46.46      100.00
------------+-----------------------------------
      Total |      2,714      100.00

.                 lab var bottom_basket "=1 if in bottom 60% of PCE";

.                                 sort hhid;

. save `contpi' , replace;
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. *********************************************************************
> *****;
. * Next, need to keep only the food products in order to calculate the
>  
> * food poverty line, and then calculate the food expenses by code.
> *********************************************************************
> *****;
. use "$path/work/cons_cod.dta";

. /*
>         sort product;
>         merge product using "$path/work/food_cat.dta";
>         tab _merge;
>         keep if _merge==3;
>         drop _merge;
> */
>         
>         keep if food_cat;
(0 observations deleted)

.         codebook hhid;

-----------------------------------------------------------------------
hhid                            Unique HH Identifier Across Panel Waves
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2712                     missing .:  283/37116

                  mean:   1.3e+11
              std. dev:   4.1e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   2.2e+09   4.0e+09   1.1e
> +11

.         sort hhid;

. *********************************************************************
> *****;
. * Next, merge in the consumption information, and select those in bot
> tom
> * 60% of nominal distribution, after making temporal adjustment. 
> *********************************************************************
> *****;
.         merge hhid using `contpi';
variable hhid does not uniquely identify observations in the master
    data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          4        0.01        0.01
          3 |     37,116       99.99      100.00
------------+-----------------------------------
      Total |     37,120      100.00

.         keep if _merge==3;
(4 observations deleted)

.         drop _merge;

.         keep if bottom_basket==1;
(23874 observations deleted)

.      ****************************************************************
> **********;
. * Calculate food shares. Since we're only doing shares here, we can
> * work with the expenditures without doing temporal adjustment.
> *********************************************************************
> *****;
.           gen  food_expenditure= cod_hh_nom;

.                             *gen  food_expenditure= own_valued + dail
> y_valued + monthly_valued + educ_valued;
.           egen tot_food_expen= sum (food_expen), by (hhid) ;

.           count if food_expenditure==.;
    0

.           count if tot_food_expen==.;
    0

.                     gen food_share= food_expenditure/tot_food_expen;
(10 missing values generated)

.           count if food_share==.;
   10

.           drop if food_share==.;
(10 observations deleted)

.           sort hhid product;

.                         tempfile food_basket_flex;

. save `food_basket_flex', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved

. *********************************************************************
> ***********;
. * Now prepare to get the variable spdomain to the using dataset, and 
> then find the 
> * total shares by each product in order to select the most important 
> goods in the 
> * basket.
> *********************************************************************
> ***********;
.                 preserve;

.                 use "$path/work/hhdata.dta", clear;
(Household master record (1 record per household))

.                         keep hhid spdomain;

.                         sort hhid;

.                         tempfile spdomain;

.                 save `spdomain' , replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp saved

.                 restore;

.                            collapse (mean) hhweight, by (hhid);

.            sort hhid ;

.             merge hhid using `spdomain';

.            tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |      1,529       56.30       56.30
          3 |      1,187       43.70      100.00
------------+-----------------------------------
      Total |      2,716      100.00

.            drop if _m==2;
(1529 observations deleted)

.            drop _merge;

.             collapse (sum) hhweight , by(spdomain);

.            rename hhweight tothhweight;

.            tempfile tothhweight;

. save `tothhweight';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp saved

. use `food_basket_flex';

.           sort hhid;

.           merge hhid using `spdomain';
variable hhid does not uniquely identify observations in the master
    data

.           tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |      1,529       10.36       10.36
          3 |     13,232       89.64      100.00
------------+-----------------------------------
      Total |     14,761      100.00

.           sort _m;

.           drop if _m==2;
(1529 observations deleted)

.           drop _m;

.           sort spdomain;

.             merge spdomain using `tothhweight';
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

.           tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     13,232      100.00      100.00
------------+-----------------------------------
      Total |     13,232      100.00

.           drop _merge;

.             sort spdomain product;

.             gen f_share_w=(food_share*hhweight)/tothhweight;

.                                                 *drop descript;
.                         *gen descript = 0;
.             collapse (sum) f_share_w, by(spdomain product descript);

.                      sort spdomain f_share_w;

.           by spdomain: gen cumshr= sum(f_share_w);

.                     count if cumshr<=.075;
  164

.           drop if cumshr<=.075;
(164 observations deleted)

.             lab var f_share_w "average food share for the 13 regions"
> ;

. save "$path/work/food_basket_flex.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/food_basket_flex.dta saved

. * List first spatial region to get an idea about contents;
. list product spdomain f_share_w cumshr if spdomain==1;

     +-----------------------------------------------+
     | product        spdomain   f_shar~w     cumshr |
     |-----------------------------------------------|
  1. |     157   Central Urban   .0101097   .0796525 |
  2. |     135   Central Urban   .0112005   .0908529 |
  3. |     137   Central Urban   .0135283   .1043813 |
  4. |     102   Central Urban   .0137683   .1181496 |
  5. |     103   Central Urban   .0139247   .1320743 |
     |-----------------------------------------------|
  6. |     112   Central Urban   .0144115   .1464858 |
  7. |     136   Central Urban   .0201746   .1666604 |
  8. |     117   Central Urban   .0241995   .1908599 |
  9. |     127   Central Urban   .0251527   .2160126 |
 10. |     141   Central Urban   .0305866   .2465992 |
     |-----------------------------------------------|
 11. |     110   Central Urban   .0310484   .2776476 |
 12. |     147   Central Urban   .0432177   .3208652 |
 13. |     144   Central Urban   .0521724   .3730377 |
 14. |     113   Central Urban   .0843913   .4574289 |
 15. |       .   Central Urban   .2610612   .7184901 |
     |-----------------------------------------------|
 16. |     999   Central Urban   .2815099          1 |
     +-----------------------------------------------+

.                     gen numreg=1;

.           collapse (sum) numreg cumshr, by (product descript);

.                           keep product descript numreg;

.           display _N;
40

.                     lab var numreg "number of goods in the basket";

. /*
>           merge product using "$path/work/products.dta";
>             tab _merge;
>           keep if _merge==3;
> */
>           keep product descript numreg;

.             sort product;

.                display _N;
40

.   save "$path/work/codes_food_basket_flex.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/codes_food_basket_flex.dta saved

. *********************************************************************
> *****
> * 100_food_basket_flex.do     (end)
> *********************************************************************
> *****;
. cap log close;

. 
end of do-file

.                                 do "$path/new/110_price_unit_flex.do"
>    /* Flexible basket: Prices */

. *global path "C:/user/gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/110_price_unit_flex.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/110_price_unit_flex.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:05

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *******************
> * 110_price_unit_flex.do                (start)
> *
> * Purpose: This do file creates a price_unit_flex database with the u
> nit prices of the
> * goods of the flexible food basket in order to determine the poverty
>  lines per spatial
> * domain. It uses the files work/daily.dta and work/own.dta file and 
> draw unit prices
> * by: sum of values and quantity
> *********************************************************************
> *******************;
. *CA modified to bring in work/hhdata.dta for bootstrap
> *CA check for price calcs conditional on number of observations;
. /*
> This file uses:
>         work/daily.dta
>         work/own.dta
>         work/hhdata.dta
>         work/consump_nom.dta
>         work/codes_food_basket_flex.dta
>         work/temp_index_reg_tpi.dta
>           new/conversions.do
> 
> This file creates:
>         work/price_unit_flex.dta
>         work/bottom_basket.dta
> */
> 
> 
> 
> 
> *do "$path/new/010_initial.do";
. *********************************************************************
> *****************
> * Create sorted data set with daily and own and the matched codes
> *********************************************************************
> *****************;
. use "$path/work/cons_cod_trans.dta", clear;
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

. *use "$path/in/cons_cod_trans.dta", clear;
. *save "$path/work/cons_cod_trans.dta", replace;
. *drop if quantityd==0 ;
. keep hhid product food_cat valuez quantityz unit;

. rename valuez    value;

. rename quantityz quantity;

. drop if quantity==0 ;
(779 observations deleted)

. *drop count;
.         sort product;

.         gen count=1;

.                 tempfile dd_acsort;

. save `dd_acsort', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. /*
> use "$path/work/daily.dta";
> tempfile dd_acsort;
>         drop days;
>         sort product;
>         tempfile dd_acsort;
> save `dd_acsort', replace;
> 
> use "$path/work/own.dta";
>         keep hhid product valued quantityd unit;
>         rename valued value;
>         rename quantityd quantity;
> 
>         *CHECK THE ZEROS IN quantity FOR NOW DELETE;
>         drop if quantity==0;
> 
>         append using `dd_acsort';
> 
> *CA modified to merge in work/hhdata.dta for bootstrap;
>         sort hhid;
>       merge hhid using "$path/work/hhdata.dta";
>       tab _m;
> 
> * Drop observations if non existent in HH data set;
> drop if _m!=3;
> drop _m;
> 
> 
>         sort product;
>         gen count=1;
> 
> 
> save `dd_acsort', replace;
> */
> 
> 
> *********************************************************************
> *****************;
. * Merge the flexible food basket codes with the daily and own data se
> ts
> * Drop all codes not a part of the flexible food basket
> *********************************************************************
> *****************;
.         merge product using "$path/work/codes_food_basket_flex.dta";
variable product does not uniquely identify observations in the
    master data
product was int now float

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      5,957       17.71       17.71
          2 |          2        0.01       17.72
          3 |     27,668       82.28      100.00
------------+-----------------------------------
      Total |     33,627      100.00

.         drop if _merge~=3;
(5959 observations deleted)

.         drop _merge;

. *********************************************************************
> *****************;
. * Drop observations where product code or quantity or value informati
> on is unavailable
> *********************************************************************
> *****************;
.                                 codebook hhid;

-----------------------------------------------------------------------
hhid                                                       household id
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2582                     missing .:  149/27668

                  mean:   1.4e+11
              std. dev:   4.2e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   2.2e+09   4.0e+09   1.1e
> +11

. *        drop if product==. | value==. | quantity==.  ;
.                                 codebook hhid;

-----------------------------------------------------------------------
hhid                                                       household id
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2582                     missing .:  149/27668

                  mean:   1.4e+11
              std. dev:   4.2e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   2.2e+09   4.0e+09   1.1e
> +11

. *********************************************************************
> *****************;
. * Convert non-KG quantities (units and liters) to kilograms;
. *********************************************************************
> *****************;
. *do "$path/new/110a_conversions.do"
> 
> ********************************************************************
> * There remain a few difficult to interpret observations such as lite
> rs
> * of fish and liters of pasta. These are dropped
> ********************************************************************;
. *        drop if unit~=2;
. ********************************************************************
> * Merge in labels for the 13 spatial domains
> ********************************************************************;
.         preserve;

.                 use "$path/work/hhdata.dta", clear;
(Household master record (1 record per household))

.                                                                      
>    keep hhid spdomain reg_tpi survquar;

.                         sort hhid;

.                         tempfile spdomainreg_tpi;

.                 save `spdomainreg_tpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved

.                                 codebook hhid;

-----------------------------------------------------------------------
hhid                                                       Household ID
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2716                     missing .:  0/2716

                  mean:   1.3e+11
              std. dev:   4.1e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   3.0e+09   4.0e+09   1.1e
> +11

.         restore;

.                 sort hhid;

.         merge hhid using `spdomainreg_tpi';
variable hhid does not uniquely identify observations in the master
    data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        149        0.54        0.54
          2 |        134        0.48        1.02
          3 |     27,519       98.98      100.00
------------+-----------------------------------
      Total |     27,802      100.00

.         drop _merge;

.         drop if product==.;
(156 observations deleted)

. codebook hhid;

-----------------------------------------------------------------------
hhid                                                       household id
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2560                     missing .:  149/27646

                  mean:   1.4e+11
              std. dev:   4.2e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   2.2e+09   4.0e+09   1.1e
> +11

. tab spd;

      Spatial |
domains: each |
     with own |
 poverty line |
 (they are 5) |      Freq.     Percent        Cum.
--------------+-----------------------------------
Central Urban |      3,604       13.11       13.11
Central Rural |      5,265       19.15       32.25
      Eastern |      6,960       25.31       57.57
     Northern |      7,111       25.86       83.43
      Western |      4,557       16.57      100.00
--------------+-----------------------------------
        Total |     27,497      100.00

. sum if spd>=3;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     18628    5.28e+10    2.42e+11   1.07e+09   2.32e+12
     product |     18777    131.0222    15.66918        101        171
    quantity |     18628    .5872794    1.198033   .0071429         60
       value |     18628    437.5707    673.2686   2.857143      15000
        unit |     18628           1           0          1          1
-------------+--------------------------------------------------------
    food_cat |     18628           1           0          1          1
       count |     18777           1           0          1          1
    descript |     18777           1           0          1          1
      numreg |     18777    3.612718    1.193151          1          5
    survquar |     18628    2.514119    1.123197          1          4
-------------+--------------------------------------------------------
     reg_tpi |     18628    2.871001    .7756638          2          4
    spdomain |     18628    3.871001    .7756638          3          5

. table spdomain, content(mean quantity count quantity count hhid) row 
> missing;

--------------------------------------------------------------
Spatial       |
domains: each |
with own      |
poverty line  |
(they are 5)  | mean(quantity)     N(quantity)         N(hhid)
--------------+-----------------------------------------------
Central Urban |       .4384165           3,604           3,604
Central Rural |       .5270678           5,265           5,265
      Eastern |        .622596           6,960           6,960
     Northern |       .5400435           7,111           7,111
      Western |       .6070493           4,557           4,557
              | 
        Total |       .5562391          27,497          27,497
--------------------------------------------------------------

.         drop if product==. | value==. | quantity==.  ;
(149 observations deleted)

. codebook hhid;

-----------------------------------------------------------------------
hhid                                                       household id
-----------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [1.013e+09,2.115e+14]        units:  1
         unique values:  2560                     missing .:  0/27497

                  mean:   1.4e+11
              std. dev:   4.2e+12

           percentiles:        10%       25%       50%       75%       
> 90%
                           1.1e+09   1.1e+09   2.2e+09   4.0e+09   1.1e
> +11

. tab spd;

      Spatial |
domains: each |
     with own |
 poverty line |
 (they are 5) |      Freq.     Percent        Cum.
--------------+-----------------------------------
Central Urban |      3,604       13.11       13.11
Central Rural |      5,265       19.15       32.25
      Eastern |      6,960       25.31       57.57
     Northern |      7,111       25.86       83.43
      Western |      4,557       16.57      100.00
--------------+-----------------------------------
        Total |     27,497      100.00

. ********************************************************************
> * Merge in temporal price index to convert nominal value to real
> ********************************************************************;
.         sort reg_tpi survquar;

.         merge reg_tpi survquar using "$path/work/temp_index_reg_tpi.d
> ta";
variables reg_tpi survquar do not uniquely identify observations in
    the master data
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      2,134        7.76        7.76
          3 |     25,363       92.24      100.00
------------+-----------------------------------
      Total |     27,497      100.00

.         drop if _merge ~= 3;
(2134 observations deleted)

.         drop _merge;

.         gen value_r=value/tpi_trim;

. *********************************************************************
> *****;
. * Identify relatively poor households, based on nominal temporally ad
> justed
> * consumption per capita. Only work with these households for the pri
> ce
> * calculations.
> *********************************************************************
> *****;
.                 preserve;

.                         use "$path/work/conpc.dta", clear;

. *                       use "$path/work/consump_nom.dta", clear;
. *CA modified to merge in work/hhdata.dta for bootstrap;
.         sort hhid;

.       merge hhid using "$path/work/hhdata.dta";

.       tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.       drop _m;

. *CA modified to keep bswt;
.                                 keep hhid hhweight hhsize cons_pc_nom
>  bswt ;

.                                 sort hhid;

.                                 merge hhid using `spdomainreg_tpi';
(label lbreg already defined)
(label lsurvquar already defined)
(label lspdomain already defined)

.                                 tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.                                 drop _merge;

.                                 sort reg_tpi survquar;

.                                 cap drop _merge;

.                                 merge reg_tpi survquar using "$path/w
> ork/temp_index_reg_tpi.dta";
variables reg_tpi survquar do not uniquely identify observations in
    the master data
(label lsurvquar already defined)
(label lbreg already defined)

.                                 tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        225        8.28        8.28
          3 |      2,492       91.72      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.                                 drop _merge;

.                                 sort hhid;

.                                 merge hhid using "$path/work/conpc.dt
> a";

.                                 tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.                                 drop _merge;

.                                 gen food_pc_tpi  = food_pc_nom /tpi_t
> rim;
(225 missing values generated)

.                                 lab var food_pc_tpi "Temp-adjusted pe
> r capita food consumption/day";

.                                                                 * Non
> -food not TPI adjusted ;
.                                 gen cons_pc_tpi = food_pc_tpi + nf_pc
> _nom;
(225 missing values generated)

.                                 lab var cons_pc_tpi "Temp adjusted to
> tal consumption/day";

.                                 gen one=1;

.                                 tempfile contpi;

.                                 save `contpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp saved

.                                 collapse (p$bottom) one cons_pc_tpi [
> aw=hhsize*hhweight], by(spdomain) ;

.                                 rename cons_pc_tpi pctile_60;

.                                 tempfile 60pct;

.                                 sort spdomain;

.                                 save `60pct', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp saved

.                                 use `contpi';

.                                         sort spdomain;

.                                         merge spdomain using `60pct';
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

.                                         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.                                         drop _merge;

.                                         drop one;

.                                         sort spdomain;

.                                         gen bottom_basket=cons_pc_tpi
> < pctile_60;

.                                         by spdomain: tab bottom_baske
> t [aw=hhsize*hhweight];

-----------------------------------------------------------------------
-> spdomain = Central Urban

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |  241.69825       79.51       79.51
          1 |62.30174983       20.49      100.00
------------+-----------------------------------
      Total |        304      100.00

-----------------------------------------------------------------------
-> spdomain = Central Rural

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 266.462553       50.37       50.37
          1 | 262.537447       49.63      100.00
------------+-----------------------------------
      Total |        529      100.00

-----------------------------------------------------------------------
-> spdomain = Eastern

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |326.7689633       50.58       50.58
          1 |319.2310367       49.42      100.00
------------+-----------------------------------
      Total |        646      100.00

-----------------------------------------------------------------------
-> spdomain = Northern

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 352.503617       50.87       50.87
          1 | 340.496383       49.13      100.00
------------+-----------------------------------
      Total |        693      100.00

-----------------------------------------------------------------------
-> spdomain = Western

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |278.7435543       52.10       52.10
          1 |256.2564457       47.90      100.00
------------+-----------------------------------
      Total |        535      100.00

-----------------------------------------------------------------------
-> spdomain = .

bottom_bask |
         et |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |          7      100.00      100.00
------------+-----------------------------------
      Total |          7      100.00


.                                         lab var bottom_basket "=1 if 
> in bottom (60%) of PCE";

.                                         sort hhid;

.                                                                 save 
> "$path/work/bottom_basket.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/bottom_basket.dta saved

.         restore;

.         sort hhid;

.         merge hhid using "$path/work/bottom_basket.dta";
variable hhid does not uniquely identify observations in the master
    data
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        319        1.24        1.24
          3 |     25,363       98.76      100.00
------------+-----------------------------------
      Total |     25,682      100.00

.         drop _merge;

.                         * Only keep price observations for the poor ;
.         keep if bottom_basket==1;
(15277 observations deleted)

.         *************************************************************
> *************;
. * Toss out the bottom 5% and top 5% of the HH-LEVEL prices per kg in
> * for each spdomain & product combination. This should eliminate outl
> iers
> * that may have an undue influence on the price calculation. 
> *********************************************************************
> *****;
.                 gen hhppkg=value_r/quantity;
(50 missing values generated)

.                 egen lower5=pctile(hhppkg), p(5) by(spdomain product)
> ;
(50 missing values generated)

.                 egen upper5=pctile(hhppkg), p(95) by(spdomain product
> );
(50 missing values generated)

. sum;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        hhid |     10405    3.95e+10    2.23e+11   1.02e+09   2.31e+12
     product |     10355    131.5637    15.75313        101        171
    quantity |     10355    .5502244    1.016882   .0142857   34.28571
       value |     10355    366.5467    539.4332   2.857143   7714.286
        unit |     10355           1           0          1          1
-------------+--------------------------------------------------------
    food_cat |     10355           1           0          1          1
       count |     10355           1           0          1          1
    descript |     10355           1           0          1          1
      numreg |     10355     3.64423    1.169494          1          5
    survquar |     10405    2.397886     1.08078          1          4
-------------+--------------------------------------------------------
     reg_tpi |     10405    2.298799    1.046866          1          4
    spdomain |     10405    3.235175    1.149257          1          5
    tpi_trim |     10405    .9620845    .0953176   .7983326   1.159266
     value_r |     10355    382.8098    557.7301   3.274749   8261.106
 cons_pc_nom |     10405    765.0789    347.5735          0   2452.366
-------------+--------------------------------------------------------
    hhweight |     10405    2002.106    1470.699   308.1181   8736.727
        bswt |     10405           1           0          1          1
      hhsize |     10405    7.854974    3.157322          1         29
 cons_hh_nom |     10405    5995.319    3950.675          0   39287.83
 food_pc_nom |     10405    521.6734    249.4096          0   1803.061
-------------+--------------------------------------------------------
   nf_pc_nom |     10405    243.4055    188.3797          0   1715.154
 food_pc_tpi |     10405    545.9181    263.8467          0   1814.827
 cons_pc_tpi |     10405    789.3236    358.2619          0   2449.415
   pctile_60 |     10405    1175.064    389.3798   895.5701   2489.117
bottom_bas~t |     10405           1           0          1          1
-------------+--------------------------------------------------------
      hhppkg |     10355    1227.363     1650.93   3.034752   17290.76
      lower5 |     10355    447.1951     706.767    25.2896   5763.585
      upper5 |     10355    2567.291    2467.469   114.2019   17290.76

. describe;

Contains data from C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp
  obs:        10,405                          HH food cons. (1 rec
                                                per item cons. cat A& B
                                                per HH; Cat B: only
                                                T6SQ1 + T6AEQ3)
 vars:            28                          9 Jul 2013 11:36
 size:     1,259,005                          (_dta has notes)
-----------------------------------------------------------------------
              storage  display     value
variable name   type   format      label      variable label
-----------------------------------------------------------------------
hhid            double %10.0g                 household id
product         float  %39.0g      itmds      Food product code:
                                                numerical
quantity        float  %9.0g                  daily household food
                                                consumption
value           float  %9.0g                  daily value of
                                                consumption in UGX per
                                                per household
unit            float  %9.0g                  set equal to one since
                                                all observations are
                                                converted into kg
food_cat        float  %9.0g                  food category equals 1,
                                                if product is food and
                                                0 if non food
count           float  %9.0g                  
descript        float  %9.0g       descrip    product description
                                                including product code
                                                but equals 2 for all
                                                non-foods
numreg          double %9.0g                  number of goods in the
                                                basket
survquar        float  %14.0g      lsurvquar
                                              Sequential Survey Quarter
                                                (Oct-Dec 10 = 1)
reg_tpi         byte   %24.0g      lbreg      Regions used for temporal
                                                price index
                                                calculations
spdomain        float  %13.0g      lspdomain
                                              Spatial domains: each
                                                with own poverty line
                                                (they are 5)
tpi_trim        float  %9.0g                  TRIMMED Temporal price
                                                index (Q4=1)
value_r         float  %9.0g                  
cons_pc_nom     float  %9.0g                  
hhweight        float  %9.0g                  Household sample weight
bswt            float  %9.0g                  bootstrap weights; and
                                                all equal to 1 for all
                                                households, as a
                                                toolkit requireme
hhsize          long   %9.0g                  number of household
                                                menbers
cons_hh_nom     double %9.0g                  (sum) cod_hh_nom
food_pc_nom     float  %9.0g                  nominal food consumption
                                                per capita
nf_pc_nom       float  %9.0g                  nominal non-food
                                                consumption per capita
food_pc_tpi     float  %9.0g                  Temp-adjusted per capita
                                                food consumption/day
cons_pc_tpi     float  %9.0g                  Temp adjusted total
                                                consumption/day
pctile_60       float  %9.0g                  (p 50) cons_pc_tpi
bottom_basket   float  %9.0g                  =1 if in bottom (60%) of
                                                PCE
hhppkg          float  %9.0g                  
lower5          float  %9.0g                  
upper5          float  %9.0g                  
-----------------------------------------------------------------------
Sorted by:  
     Note:  dataset has changed since last saved

. keep if hhppkg-lower5>=0 & hhppkg-upper5<=0;
(801 observations deleted)

. *********************************************************************
> * Note that we do prices in three ways. First, by summing quantity an
> d value 
> * This average price price_unitw is thus quantity/value weighted. Sec
> ond, we
> * calculate the price and take simple means for a transaction weighte
> d
> * price, price_unitt. Last we take the median, price_unitm. But in th
> e end
> * we only use price_unitw
> *********************************************************************
> ;
.         gen price_unitt=value_r/(quantity*1000);

.         gen price_unitm=price_unitt;

.                 *CA modified to count the boot sample weight bswt;
.         collapse (sum) quantity value_r count bswt 
>                  (mean) price_unitt 
>                  (median) price_unitm [aw=hhweight], by(spdomain prod
> uct);

.         *Generate weighted price per gram ;
.         gen price_unitw=value_r/(quantity*1000);

.         drop value_r quantity;

.         sort spdomain product;

.         lab var price_unitt "simple average of calculated prices - tr
> ansaction weighted";

.         lab var price_unitm "median of prices";

.         lab var price_unitw "value share weighted mean prices";

. * Get an idea of the difference between the price measures;
.         gen ratiotw=price_unitt/price_unitw;

.         gen ratiomw=price_unitm/price_unitw;

.         sum ratiotw ratiomw;

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     ratiotw |       185      1.2179    .3331531   .8040299    3.07245
     ratiomw |       185      1.0032    .2398947   .2391765   2.132446

.         sort product;

.         merge product using "$path/work/codes_food_basket_flex.dta";
variable product does not uniquely identify observations in the
    master data

.         tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          3        1.60        1.60
          3 |        185       98.40      100.00
------------+-----------------------------------
      Total |        188      100.00

.         count if _merge~=3;
    3

.         drop if _merge~=3;
(3 observations deleted)

.         drop _merge;

.         sort product spdomain;

. save "$path/work/price_unit_flex.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/price_unit_flex.dta saved

. *********************************************************************
> *******************
> * 110_price_unit_flex.do                (end)
> *********************************************************************
> *******************;
. cap log close;

. 
end of do-file

.                                 do "$path/new/120_povline_food_flex_o
> riginal.do"        /* Flexible basket: Poverty line */

. *global path "C:/user/gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/120_povline_food_flex.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/120_povline_food_flex.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:06

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 120_povline_food_flex.do      (start)
> *
> * Use the file with the food basket (food_basket_flex), which is in s
> hares. 
> * Then merge it with the prices file, and then with the calories file
> .
> * Along the way, drop those observations where we have no price infor
> mation
> * or no calorie information.
> *********************************************************************
> *****;
. /*
> This file uses:
>         work/food_basket_flex.dta
>         work/price_unit_flex.dta
>         work/calperg.dta
>         work/calpp.dta
> 
> This file creates:
>         work/povline_flex.dta
> */
> 
> 
> * start with the quantity information;
. use "$path/work/food_basket_flex.dta";

.         sort product spdomain;

.         * merge in price information;
.         merge product spdomain using "$path/work/price_unit_flex.dta"
> ;
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         12        6.09        6.09
          2 |         79       40.10       46.19
          3 |        106       53.81      100.00
------------+-----------------------------------
      Total |        197      100.00

.         list product spdomain descript if _merge==1;

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
105. |     157   Central Urban          1 |
106. |     157   Central Rural          1 |
107. |     157         Eastern          1 |
108. |     157        Northern          1 |
109. |     157         Western          1 |
     |------------------------------------|
112. |     999   Central Urban          2 |
113. |     999   Central Rural          2 |
114. |     999         Eastern          2 |
115. |     999        Northern          2 |
116. |     999         Western          2 |
     |------------------------------------|
117. |       .   Central Urban          1 |
118. |       .   Central Rural          1 |
     +------------------------------------+

.         drop if _merge ~=3;
(91 observations deleted)

.         drop _merge;

.         sort product;

.         * merge in information on calories per gram;
.         merge product using "$path/work/calperg.dta";
variable product does not uniquely identify observations in the
    master data
(note: descript is str26 in using data but will be float now)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          2        1.50        1.50
          2 |         27       20.30       21.80
          3 |        104       78.20      100.00
------------+-----------------------------------
      Total |        133      100.00

.         * This tells where we are lacking calorie info or are lacking
>  quantity info due to 
>         * missing price info above;
.         list product spdomain descript if _merge==1;

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
105. |     166         Western          1 |
106. |     171   Central Rural          1 |
     +------------------------------------+

.         drop if _merge~=3;
(29 observations deleted)

.         drop _merge;

.         sort spdomain f_share_w;

.                 * CA modified to handle bootstrap counting;
.         * determine if any quantity has fewer than 10 price observati
> ons;
.         by spdomain: count if round(bswt)<10;

-----------------------------------------------------------------------
-> spdomain = Central Urban
    2
-----------------------------------------------------------------------
-> spdomain = Central Rural
    0
-----------------------------------------------------------------------
-> spdomain = Eastern
    0
-----------------------------------------------------------------------
-> spdomain = Northern
    0
-----------------------------------------------------------------------
-> spdomain = Western
    0

.         drop if round(bswt) < 10;
(2 observations deleted)

.         by spdomain: egen baskshr=sum(f_share_w);

.         by spdomain: gen cumshr1=sum(f_share_w);

.         * bundle was cut at 92.5 percent- cut back to 90 percent if n
> ecessary;
.         drop if cumshr1<=baskshr-.9;
(0 observations deleted)

.         * reobtain the share represented from the average basket- sho
> uld be slightly more than 90;
.         drop baskshr;

.         by spdomain: egen baskshr=sum(f_share_w);

.         by spdomain: sum baskshr;

-----------------------------------------------------------------------
-> spdomain = Central Urban

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     baskshr |        11    .3495967           0   .3495967   .3495967

-----------------------------------------------------------------------
-> spdomain = Central Rural

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     baskshr |        20    .4647196           0   .4647196   .4647196

-----------------------------------------------------------------------
-> spdomain = Eastern

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     baskshr |        26    .6146116           0   .6146116   .6146116

-----------------------------------------------------------------------
-> spdomain = Northern

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     baskshr |        26    .5427582           0   .5427582   .5427582

-----------------------------------------------------------------------
-> spdomain = Western

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
     baskshr |        19    .6340601           0   .6340601   .6340601


.         * obtain quantities and calories provided by these quantities
> ;
.         gen quan=f_share_w/price_unitw;

.                         /* how many g in 1 MT exp on food item */
>         gen cal_ir=quan*calperg;

.                                 /* how many cal in 1 MT exp on food i
> tem */
>         by spdomain: egen calreg=sum(cal_ir);

.         /* how many cal in 1 MT exp in food basket*/
> 
>         * merge in calorie requirements;
.         sort spdomain;

.         merge spdomain using "$path/work/calpp.dta";
variable spdomain does not uniquely identify observations in the
    master data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.97        0.97
          3 |        102       99.03      100.00
------------+-----------------------------------
      Total |        103      100.00

.         drop _merge;

.         * get the expansion factor to hit 95% of calorie requirements
> ;
.         gen ratio=.95*calpp/calreg;
(1 missing value generated)

.                         replace quan=quan*ratio;
(102 real changes made)

.         replace cal_ir=quan*calperg;
(99 real changes made)

.         * do a consistency check;
.         sort spdomain;

.         by spdomain: egen chkcal=sum(cal_ir);

.         replace chkcal=chkcal/.95-calpp ;
(103 real changes made)

.                         * these values should be about zero;
.         by spdomain: sum chkcal;

-----------------------------------------------------------------------
-> spdomain = Central Urban

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
      chkcal |        11    6.42e-06           0   6.42e-06   6.42e-06

-----------------------------------------------------------------------
-> spdomain = Central Rural

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
      chkcal |        20   -.0000385           0  -.0000385  -.0000385

-----------------------------------------------------------------------
-> spdomain = Eastern

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
      chkcal |        26    .0000385           0   .0000385   .0000385

-----------------------------------------------------------------------
-> spdomain = Northern

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
      chkcal |        26    .0000321           0   .0000321   .0000321

-----------------------------------------------------------------------
-> spdomain = Western

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
      chkcal |        19   -.0000707           0  -.0000707  -.0000707

-----------------------------------------------------------------------
-> spdomain = .

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
      chkcal |         1   -1346.905           .  -1346.905  -1346.905


.         * obtain the value of each good in the bundle;
.         gen val_ir=quan*price_unitw;
(1 missing value generated)

.         * the sum of the value of the goods in the bundle is assumed 
> to represent 90% of expenditure;
.         by spdomain: egen povline_f_flex90=sum(val_ir);

.         replace povline_f_flex=povline_f_flex90/.9;
(102 real changes made)

.         collapse (mean) povline_f_flex, by (spdomain);

.                 lab var povline_f_flex "Food poverty line. Flexible b
> asket";

.         sort spdomain;

.         keep spdomain povline_f_flex;

. save "$path/work/povline_food_flex.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povline_food_flex.dta saved

. /*
> * To be used in 140_iterate.do;
> gen cutoff = 1.5 * povline_f_flex;
> keep spdomain cutoff;
> save "$path/work/povlines_first_iterate.dta", replace;
> */
> 
> *********************************************************************
> *****
> * 120_povline_food_flex.do      (end)
> *********************************************************************
> *****;
. log close;
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/120_povline_food_flex.log
  log type:  text
 closed on:   9 Jul 2013, 11:36:06
-----------------------------------------------------------------------

. 
end of do-file

.                                 do "$path/new/130_povmeas_flex.do"   
>            /* Flexible basket: Poverty rates */

. *global path "C:/user/gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/130_povmeas_flex.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/130_povmeas_flex.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:06

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 130_povmeas_flex.do           (start)
> *
> * Purpose:
> * Initial poverty measures calculation for flexible basket. (Before a
> ny iteration)
> *********************************************************************
> *****;
. *CA modified to add work/hhdata.dta for bootstrap;
. /*
> This file uses:
>         in/foodshr96.dta
>         work/povline_f_flex.dta
>         work/consump_nom.dta
>         work/hhdata.dta
>         work/temp_index_reg_tpi.dta
> 
> This file creates:
>         work/foodshr96.dta
>         work/povmeas.dta
>         work/povlines.dta
>         work/cons_real.dta
> */
> 
> 
> 
> *********************************************************************
> *****;
. * Bring in data file with nominal consumption per capita, and deflate
>  it
> * by temporal price index.
> *********************************************************************
> *****;
. use "$path/work/hhdata.dta", clear;
(Household master record (1 record per household))

.         keep hhid strata reg_tpi spdomain news rural survmon survquar
> ;

.         tab reg_tpi, miss;

    Regions |
   used for |
   temporal |
price index |
calculation |
          s |      Freq.     Percent        Cum.
------------+-----------------------------------
    Kampala |        184        6.77        6.77
    Central |        657       24.19       30.96
    Eastern |        647       23.82       54.79
   Northern |        693       25.52       80.30
    Western |        535       19.70      100.00
------------+-----------------------------------
      Total |      2,716      100.00

.         tab survquar, miss;

    Sequential |
Survey Quarter |
 (Oct-Dec 10 = |
            1) |      Freq.     Percent        Cum.
---------------+-----------------------------------
    Oct-Dec 10 |        690       25.41       25.41
   Jan-Marc 11 |        692       25.48       50.88
   Apr-June 11 |        676       24.89       75.77
July-Sept 2011 |        610       22.46       98.23
             . |         48        1.77      100.00
---------------+-----------------------------------
         Total |      2,716      100.00

.         keep hhid spdomain reg_tpi survquar;

.         sort hhid;

.         tempfile spdomainreg_tpi;

. save `spdomainreg_tpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. use "$path/work/conpc.dta", clear;

. *use "$path/work/consump_nom.dta", clear;
. *CA modified to merge in work/hhdata.dta for bootstrap;
.     sort hhid;

.     merge hhid using "$path/work/hhdata.dta";

.     tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.     drop _m;

.         keep hhid hhweight hhsize cons_pc_nom ;

.         sort hhid;

.         merge hhid using `spdomainreg_tpi';
(label lbreg already defined)
(label lsurvquar already defined)
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         sort reg_tpi survquar;

.         merge reg_tpi survquar using "$path/work/temp_index_reg_tpi.d
> ta";
variables reg_tpi survquar do not uniquely identify observations in
    the master data
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        225        8.28        8.28
          3 |      2,492       91.72      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         sort hhid;

.         merge hhid using "$path/work/conpc.dta";

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         gen food_pc_tpi  = food_pc_nom /tpi_trim;
(225 missing values generated)

.         lab var food_pc_tpi "Temp-adjusted per capita food consumptio
> n/day";

.                 gen cons_pc_tpi = food_pc_tpi + nf_pc_nom;
(225 missing values generated)

.         lab var cons_pc_tpi "Temp adjusted total consumption/day";

.         gen one=1;

. * TPI deflated per capita consumption ;
.         tempfile contpi;

. save `contpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved

. *********************************************************************
> *****
> * Calculate non-food expenditure for HH around the food poverty line
> *
> * Develop a discrete triangular weighted distribution. This gives a
> * weight of  1 to HH at +/- 18-20% from food poverty line, and
> * weight of  2 to HH at +/- 16-18% from food poverty line, and ...
> * weight of 10 to HH at +/-  0- 2% from food poverty line.
> * This weight is called triwt below.
> *********************************************************************
> *****;
. use `contpi';

.         sort spdomain;

.         merge spdomain using "$path/work/povline_food_flex.dta";
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

. gen     triwt = 0 ;

. replace triwt = 11 - round(50*abs(cons_pc_tpi/povline_f_flex-1)+0.5)
>                 if abs(cons_pc_tpi/povline_f_flex-1)<=0.2;
(106 real changes made)

.                                         * Nearness to poverty line an
> d population weights ;
.         gen tripopwt=triwt*hhweight*hhsize;
(3 missing values generated)

.         preserve;

.                 collapse (mean) nf_pc_nom [aw=tripopwt] ,
>                         by(spdomain);

.                                         rename nf_pc_nom povline_na_f
> lex;

.                 lab var povline_na_flex "Nonfood poverty line. Flexib
> le bundle";

.                                 tempfile znf;

.                 sort spdomain;

.                 save `znf', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp saved

.                 tab spdomain;

      Spatial |
domains: each |
     with own |
 poverty line |
 (they are 5) |      Freq.     Percent        Cum.
--------------+-----------------------------------
Central Rural |          1       25.00       25.00
      Eastern |          1       25.00       50.00
     Northern |          1       25.00       75.00
      Western |          1       25.00      100.00
--------------+-----------------------------------
        Total |          4      100.00

.         restore;

.         sort spdomain;

.         merge spdomain using `znf';
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        313       11.52       11.52
          3 |      2,404       88.48      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

. *********************************************************************
> *****;
. * Poverty line is the sum of the food and non-food poverty lines
> *********************************************************************
> *****;
.         gen povline_flex=povline_f_flex + povline_na_flex;
(313 missing values generated)

.         lab var povline_flex "Poverty line. Flexible bundle";

.         sort spdomain;

. save "$path/work/povlines.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povlines.dta saved

. *********************************************************************
> *****;
. * Create spatial price index, based on the total poverty line, with
> * adjustment so that mean (and total) nominal consumption equals
> * mean (and total) spatially deflated consumption.
> *
> * Choose arbitrary strata to be the base at first: we just use the fi
> rst stratum.
> *********************************************************************
> *****;
. use `contpi';

.         sort spdomain;

.         merge spdomain using "$path/work/povlines.dta";
variable spdomain does not uniquely identify observations in the
    master data
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/povlines.dta
(label lbreg already defined)
(label lsurvquar already defined)
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         * Real consumption pc, temporally deflated ;
.         gen cr= cons_pc_tpi ;
(225 missing values generated)

.         * Poverty line;
.         gen linpob=povline_flex;
(313 missing values generated)

.         *qui sum linpob if spdomain==1, meanonly;
.         sum linpob if spdomain==3, meanonly;

.         global spi_base=r(mean);

.         * Spatial price index ;
.         gen spi=linpob/$spi_base;
(313 missing values generated)

.         * Real consumption pc, temporally and spatially deflated ;
.         gen cr2=cr/spi;
(351 missing values generated)

.         qui sum cr [aw=hhweight*hhsize];

.         global sumcr=r(sum);

.         qui sum cr2 [aw=hhweight*hhsize];

.         global sumcr2=r(sum);

.         replace spi=spi*$sumcr2/$sumcr;
(2404 real changes made)

.         gen linpobr=linpob/spi;
(313 missing values generated)

.         replace cr2=cr/spi;
(2358 real changes made)

.         sum cr cr2 linpob linpobr [aw=hhweight*hhsize];

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
         cr2 |    2366  33287447.6     1529.28   2098.911          0   
> 61161.88
      linpob |    2403  33844588.9    483.4337   164.8043   323.7984   
> 703.8991
     linpobr |    2403  33844588.9    491.8102          0   491.8102   
> 491.8102

.         lab var cr      "Temporally-adjusted cons pc";

.         lab var cr2     "Spatially & temporally adjusted cons pc";

.         lab var linpob  "Poverty line";

.         lab var linpobr "Real poverty line";

.         lab var spi     "Spatial price index";

. *********************************************************************
> *****
> * calculate poverty measures with the flexible food bundle
> *********************************************************************
> *****;
.         gen h = 100     if cr <=(linpob);
(2163 missing values generated)

.         replace  h = 0 if cr > (linpob);
(2163 real changes made)

.                         gen             pg      = ((linpob - cr )/lin
> pob) *100;
(351 missing values generated)

.         replace         pg      = 0             if h==0;
(2163 real changes made)

.         gen             spg     = ((( linpob - cr )/ linpob )^2)*100;
(351 missing values generated)

.         replace         spg     = 0             if h==0;
(2163 real changes made)

.         gen h_flex=h;

.         gen pg_flex=pg;
(313 missing values generated)

.         gen spg_flex=spg;
(313 missing values generated)

.         lab var h_flex   "Poverty headcount. Flex bundle";

.         lab var pg_flex  "Poverty gap. Flex bundle";

.         lab var spg_flex "Squared poverty gap. Flex bundle";

.         sort hhid;

.         merge hhid using "$path/work/hhdata.dta";
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop if _merge~=3;
(1 observation deleted)

.         drop _merge;

.         gen popwt=hhsize*hhweight;
(2 missing values generated)

.                 * Stata 10.1 syntax ;
.         svyset , clear;

.         svyset [pweight=popwt] , str(strata) psu(psu);

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>

.         svy: mean h_flex pg_flex spg_flex;
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2403
Number of PSUs   =     288        Population size  =  33844589
                                  Design df        =       282

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
      h_flex |   11.03457          .             .           .
     pg_flex |   4.152206          .             .           .
    spg_flex |   2.533686          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.

.         svy: mean h_flex pg_flex spg_flex , over(rural);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2403
Number of PSUs   =     288        Population size  =  33844589
                                  Design df        =       282

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex       |
           0 |   3.215378          .             .           .
           1 |   11.58892          .             .           .
-------------+------------------------------------------------
pg_flex      |
           0 |     .60231          .             .           .
           1 |   4.403878          .             .           .
-------------+------------------------------------------------
spg_flex     |
           0 |   .2759845          .             .           .
           1 |   2.693747          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.

.         svy: mean h_flex pg_flex spg_flex , over(news);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2403
Number of PSUs   =     288        Population size  =  33844589
                                  Design df        =       282

      Central: news = Central
      Eastern: news = Eastern
     Northern: news = Northern
      Western: news = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex       |
     Central |    13.4672          .             .           .
     Eastern |   2.506036          .             .           .
    Northern |   7.211695          .             .           .
     Western |   21.84331          .             .           .
-------------+------------------------------------------------
pg_flex      |
     Central |   7.863899          .             .           .
     Eastern |    .881476          .             .           .
    Northern |   1.511279          .             .           .
     Western |   7.329021          .             .           .
-------------+------------------------------------------------
spg_flex     |
     Central |   6.421195          .             .           .
     Eastern |   .3858987          .             .           .
    Northern |    .538026          .             .           .
     Western |   3.790671          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.

.         svy: mean h_flex pg_flex spg_flex , over(reg_tpi);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2403
Number of PSUs   =     288        Population size  =  33844589
                                  Design df        =       282

      Central: reg_tpi = Central
      Eastern: reg_tpi = Eastern
     Northern: reg_tpi = Northern
      Western: reg_tpi = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex       |
     Central |    13.4672          .             .           .
     Eastern |   2.506036          .             .           .
    Northern |   7.211695          .             .           .
     Western |   21.84331          .             .           .
-------------+------------------------------------------------
pg_flex      |
     Central |   7.863899          .             .           .
     Eastern |    .881476          .             .           .
    Northern |   1.511279          .             .           .
     Western |   7.329021          .             .           .
-------------+------------------------------------------------
spg_flex     |
     Central |   6.421195          .             .           .
     Eastern |   .3858987          .             .           .
    Northern |    .538026          .             .           .
     Western |   3.790671          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.

.         svy: mean h_flex pg_flex spg_flex , over(strata);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2403
Number of PSUs   =     288        Population size  =  33844589
                                  Design df        =       282

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex       |
     Kampala |          0  (omitted)
   _subpop_2 |   3.215378          .             .           .
   _subpop_3 |   13.53644          .             .           .
   _subpop_4 |   2.680107          .             .           .
   _subpop_5 |   7.721144          .             .           .
   _subpop_6 |   22.94611          .             .           .
-------------+------------------------------------------------
pg_flex      |
     Kampala |          0  (omitted)
   _subpop_2 |     .60231          .             .           .
   _subpop_3 |   7.904327          .             .           .
   _subpop_4 |   .9348123          .             .           .
   _subpop_5 |   1.676808          .             .           .
   _subpop_6 |   7.747521          .             .           .
-------------+------------------------------------------------
spg_flex     |
     Kampala |          0  (omitted)
   _subpop_2 |   .2759845          .             .           .
   _subpop_3 |   6.454206          .             .           .
   _subpop_4 |   .4066088          .             .           .
   _subpop_5 |    .598921          .             .           .
   _subpop_6 |   4.014982          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.

.         svy: mean h_flex pg_flex spg_flex , over(spdomain);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2403
Number of PSUs   =     288        Population size  =  33844589
                                  Design df        =       282

    _subpop_1: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex       |
   _subpop_1 |    13.4672          .             .           .
     Eastern |   2.506036          .             .           .
    Northern |   7.211695          .             .           .
     Western |   21.84331          .             .           .
-------------+------------------------------------------------
pg_flex      |
   _subpop_1 |   7.863899          .             .           .
     Eastern |    .881476          .             .           .
    Northern |   1.511279          .             .           .
     Western |   7.329021          .             .           .
-------------+------------------------------------------------
spg_flex     |
   _subpop_1 |   6.421195          .             .           .
     Eastern |   .3858987          .             .           .
    Northern |    .538026          .             .           .
     Western |   3.790671          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.

.         compress;
hhsize was long now byte
survquar was float now byte
spdomain was float now byte
one was float now byte
triwt was float now byte
h was float now byte
h_flex was float now byte
survmon was float now byte
rural was float now byte
news was float now byte
bswt was float now byte

.         sort hhid;

. save "$path/work/cons_real.dta" , replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_real.dta saved

.         collapse  (mean) h_flex pg_flex spg_flex [aw=hhweight*hhsize]
> ;

. save "$path/work/povmeas.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povmeas.dta saved

. *** HARUNA, the file Povmeas.dta gives the headcount poverty rates us
> ing flexible food bundle without inflicting reveales preferences
> *** therefore specifications in line 226 of this do file have been ch
> anged repeatedly to generate these counts for particular
> *** classifications of interest including strata spdomain region urba
> n/rural (urban) and national (done by removing the by command 
> *********************************************************************
> *****
> * 130_povmeas_flex.do           (end)
> *********************************************************************
> *****;
. log close;
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/130_povmeas_flex.log
  log type:  text
 closed on:   9 Jul 2013, 11:36:06
-----------------------------------------------------------------------

. 
end of do-file

.                                 do "$path/new/140_iterate_bjorn.do" $
> it_n $bottom       /* Flexible basket: Iterations */

. *global path "C:/user/gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/140_iterate.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/140_iterate.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:06

. clear

. set more off

. #delimit ;
delimiter now ;
. *global povline_initial "$path/in/povlines_first_iof.dta";
. *********************************************************************
> *****
> * 140_iterate.do        (start)
> *
> * Purpose: Create flexible food basket and poverty line with iterativ
> e procedure
> *
> * This program will take the results from the first pass at the
> * poverty lines and applies the corresponding spatial deflator to
> * re-select the relatively poor, their consumption bundles, and
> * their prices.
> *
> * Welfare indicator is here always temporally and spatially adjusted 
> per capita
> * expenditure. Here called cr_it< >.
> *
> * We will iterate this process 5 times which here assures convergence
> .
> *
> * CA, Mar 2010: Relatively poor are those below last iterated poverty
>  line
> * MAH, Apr 2010: Cleaning
> * URB, feb 2012: Commented out "drop if unit~=2"
> *********************************************************************
> *****;
. /*
> This file uses:
>             in/povlines_first_new.dta
>         work/hhdata.dta
>         work/consump_nom.dta
>         work/own.dta
>         work/daily.dta
>         work/temp_index_reg_tpi.dta
>         work/cons_cod.dta
>         work/food_cat.dta
>         work/cons_real.dta
>         work/products.dta
>         work/match96_02.dta
>         new/conversions.do
>         
> This file creates (where `pass' is the number of the iteration):
>         work/codes_food_basket_flex_it`pass'.dta
>         work/price_unit_flex_it`pass'.dta
>         work/quan_flex_it`pass'.dta
>         work/match_cod_flex_it`pass'.csv
>         work/relpoor_it`pass'.dta
>         work/povlines_it`pass'.dta
>         work/foodshares_it`pass'.dta
>         work/nat_pov_flex.csv
>         work/rur_pov_flex.csv
>         work/strata_pov_flex.csv
>         work/spdomain_pov_flex.csv
>         work/reg_tpi_pov_flex.csv
> */
> 
> *********************************************************************
> *****;
. * Make a key file that will be used over and over, without change
> * in every iteration. This will include the TEMPORALLY deflated consu
> mption
> * and various HH data such as hhweight, spdomain, etc.
> *********************************************************************
> *****;
. use "$path/work/conpc.dta";

.         sort hhid;

.         merg hhid using "$path/work/hhdata.dta";

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         sort reg_tpi survquar;

.         merge reg_tpi survquar using "$path/work/temp_index_reg_tpi.d
> ta";
variables reg_tpi survquar do not uniquely identify observations in
    the master data
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        225        8.28        8.28
          3 |      2,492       91.72      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.                 gen food_pc_tpi = food_pc_nom /tpi_trim;
(225 missing values generated)

.         gen cons_pc_tpi = food_pc_tpi + nf_pc_nom;
(225 missing values generated)

.         lab var food_pc_tpi "Temp-adjusted per capita food consumptio
> n/day";

.         lab var cons_pc_tpi "Temp adjusted total consumption/day";

.         tempfile contpi;

.         sort hhid;

. save `contpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. save contpi_, replace;
file contpi_.dta saved

. *use "$path/in/povlines_first_iterate.dta", clear;
. *save "$path/work/povlines_first.dta", replace;
. *********************************************************************
> *****;
. * Now set some information pertaining to the iterations. For now we'l
> l
> * manually set the number of iterations. Also specify the percentile
> * cutpoint that we will use for defining the relatively poor.
> *********************************************************************
> *****;
. local lastpass=0;

. local pass=1;

. * Use these two lines to manually specify the number of iterations
> * and the cutpoint here in the do file.;
.   *local maxit=5;
.   *local cutpt=50;
. * Use these few lines if you want to specify the number of iterations
> * and percentile cutpoint by passing them as parameters on the comman
> d
> * line, e.g.:   wstata do new/iterate1.do 5 50;
. if "`1'"=="" | "`2'"=="" {      ;
.         di in red "Error: you need to specify number of iterations as
>  first parameter";
.         di in red "       and percentile cutpoint as second parameter
>  on command line.";
. };

. local maxit `1';

. local cutpt `2';

. tempfile cutoff;

. di "*****************************************************************
> *****";
**********************************************************************

. while `pass' <= `maxit' {;
  2.         **********************************************************
> ****************;
. *********************************************************************
> *****;
. * Pick out the bottom X percent in real consumption per capita 
> * (temporally & spatially adjusted), as ranked by the previous iterat
> ion.
> * The percentile to use is defined by "cutpt". This produces a file t
> hat
> * has the hhid, and a dummy variable indicating if they were below th
> e
> * cutpoint on the last iteration.
> *********************************************************************
> *****;
. *********************************************************************
> *****;
. /*
> * Comment out if IOF 2008/09. (This code included instead of below co
> de in order to replicate published figures 2002/03). ( START ) ;
> 
>         if "`pass'"=="1" {      ;
>               use `contpi', clear;
>               sort spdomain;
>               merge spdomain using "$path/work/povlines_first.dta";
>               tab _m;
>               drop _m;
> *              gen relpoor`pass'= cons_pc_tpi<=cutoff;
>                gen relpoor`pass'= cons_pc_tpi if cons_pc_tpi<=cutoff;
>               rename cons_pc_tpi cr_it0;
>               sort hhid;
>          save "$path/work/relpoor_it`pass'.dta", replace;
> *        use "$path/work/cons_real.dta", clear;
> *              gen cr_it0=cr2;
>         };
>         
> 
> * Comment out if IOF 2008/09. (This code included instead of below co
> de in order to replicate published figures 2002/03). ( END ) ;
> */
> 
> 
> 
> * Comment out if IAF 2002/03. (This code below excluded in order to r
> eplicate published figures 2002/03). ( START ) ;
.         if "`pass'"=="1" { ;
  3. * Find real income at cut point initially;
.                 use "$path/work/cons_real.dta", clear;
  4.                                     gen cr_it0=cr2;
  5.                         cap drop one;
  6.             gen one=1;
  7.                                     collapse (p`cutpt') one cr_it`
> lastpass' [aw=popwt] ;
  8.                                     rename cr_it`lastpass' cutoff;
  9.                                     sort one;
 10.             save `cutoff', replace;
 11.             save cutoff, replace;
 12.  * Find relatively poor initially;
.             use "$path/work/cons_real.dta", clear;
 13.                                                 gen cr_it`lastpass
> '=cr2;
 14.             cap drop one;
 15.             cap drop cutoff;
 16.             gen one=1;
 17.                                     sort one;
 18.             merge one using `cutoff';
 19.             tab _merge;
 20.             drop _merge;
 21.                                     drop one;
 22.                            gen relpoor`pass'=cr_it`lastpass'<=cuto
> ff;
 23.             *lab var relpoor`pass' "=1 if in bottom of PCE";
.                                     tab relpoor`pass' [aw=popwt];
 24.                                     keep hhid cr_it`lastpass' relp
> oor`pass' popwt;
 25.             sort hhid;
 26.         save "$path/work/relpoor_it`pass'.dta", replace;
 27.         };
 28. * Comment out if IAF 2002/03. (This code below excluded in order t
> o replicate published figures 2002/03). ( END ) ;
.                 if `pass'>1 {   ;
 29. * Find real income at cut point in iteration number `pass' ;
.                 use "$path/work/cons_real_it`lastpass'.dta" , clear;
 30.                                                 cap drop one;
 31.                 gen one=1;
 32.                                                                 *C
> A modified from hhweight*hhsize to popwt;
.                 collapse (p`cutpt') one cr_it`lastpass' [aw=popwt] ;
 33.                         rename cr_it`lastpass' cutoff;
 34.                                                                   
>       sort one;
 35.         save `cutoff', replace;
 36.         * Find relatively poor in iteration number `pass' ;
.                 use "$path/work/cons_real_it`lastpass'.dta", clear;
 37.                                                 cap drop one;
 38.                 gen one=1;
 39.                                                 sort one;
 40.                 merge one using `cutoff';
 41.                 tab _merge;
 42.                 drop _merge;
 43.                                                 drop one;
 44.                 gen relpoor`pass'=cr_it`lastpass'<=cutoff;
 45.                 *lab var relpoor`pass' "=1 if in bottom of PCE";
.                                                 tab relpoor`pass' [aw
> =popwt];
 46. *CA modified to popwt above and to keep popwt below;
.                 keep hhid cr_it`lastpass' relpoor`pass' popwt;
 47.                 sort hhid;
 48.         save "$path/work/relpoor_it`pass'.dta", replace;
 49.         };
 50.         **********************************************************
> ****************;
. * Get the consumption file, and select only those codes that are food
> ,
> * using our definition of "food", which includes alcoholic beverages.
> *********************************************************************
> *****;
.         use "$path/work/cons_cod.dta", clear;
 51. *CA modified to merge in work/hhdata.dta for bootstrap;
.     sort hhid;
 52.     merge hhid using "$path/work/hhdata.dta";
 53.     tab _m;
 54.     drop _m;
 55.         /*
>                 sort product;
>                 merge product using "$path/work/food_cat.dta";
>                 tab _merge;
>                 keep if _merge==3;
>                 drop _merge;
> */
> 
>                                 * Only food transactions ;
.                 keep if food_cat==1;
 56.                 sort hhid;
 57. ******************************************************************
> ********;
. * Merge with file that has temporally AND spatially adjusted consumpt
> ion
> * per capita from the previous iteration, and also identifies those b
> elow 
> * the cutoff. Then select only those who are below the cutoff.
> *********************************************************************
> *****;
.                 merge hhid using "$path/work/relpoor_it`pass'.dta";
 58.                 tab _merge;
 59.                 drop _merge;
 60.                                 * Keep only transactions by the po
> or ;
.                 keep if relpoor`pass';
 61. ******************************************************************
> ********;
. * Calculate HH level food shares. Since we're only doing shares here,
>  we can
> * work with the expenditures without doing temporal adjustment.
> *********************************************************************
> *****;
.                 gen  food_expenditure = cod_hh_nom;
 62.                 *gen  food_expenditure= own_valued + daily_valued 
> + monthly_valued + educ_valued;
.                 egen tot_food_expen= sum (food_expen), by (hhid) ;
 63.                 count if food_expenditure==.;
 64.                 count if tot_food_expen==.;
 65.                 gen food_share= food_expenditure/tot_food_expen;
 66.                 count if food_share==.;
 67.                 drop if food_share==.;
 68.                 sort hhid product;
 69.                 tempfile foodshares;
 70.         save `foodshares', replace;
 71. ******************************************************************
> **************;
. * Now find the total (economy wise, e.g. not by HH) shares by each pr
> oduct in
> * order to select the most important goods in each domain's basket.
> *********************************************************************
> ***********;
.                 collapse (mean) hhweight spdomain, by (hhid);
 72.                 sort hhid ;
 73.                  collapse (sum) hhweight , by(spdomain);
 74.                 rename hhweight tothhweight;
 75.                 tempfile tothhweight;
 76.                 sort spdomain;
 77.         save `tothhweight', replace;
 78.         use `foodshares', clear;
 79.                 sort spdomain;
 80.                 merge spdomain using `tothhweight';
 81.                 tab _merge;
 82.                 drop _merge;
 83.                 sort spdomain product;
 84.                 gen f_share_w`pass'=(food_share*hhweight)/tothhwei
> ght;
 85.                 collapse (sum) f_share_w`pass', by(spdomain produc
> t descript);
 86.                                sort spdomain f_share_w`pass';
 87.                 by spdomain: gen cumshr`pass'= sum(f_share_w`pass'
> );
 88.                 count if cumshr`pass'<=.075;
 89.                 drop if cumshr`pass'<=.075;
 90.                 lab var f_share_w`pass' "average food share for th
> e 13 spatial domains";
 91.         save `foodshares', replace;
 92.                                                 * Number of spatia
> ls domains a food product appears ;
.                 gen numreg=1;
 93.                 collapse (sum) numreg cumshr`pass', by (product de
> script);
 94.                 keep product numreg descript;
 95.                 display _N;
 96.                 sort product;
 97.                                 * Include food product labels ;
. *                merge product using "$path/work/products.dta";
. *                tab _merge;
. *                keep if _merge==3;
.                 keep product descript numreg;
 98.                   sort product;
 99.                      display _N;
100.           save "$path/work/codes_food_basket_flex_it`pass'.dta", r
> eplace;
101. ******************************************************************
> ********;
. *********************************************************************
> *****;
. * That is pretty much the part equivalent to "100_food_basket_flex.do
> ",
> * which figures out the food shares for the relevant reference group.
>  Now
> * we figure out the prices with a code stream that is adapted from
> * "110_price_unit_flex.do".
> *********************************************************************
> *****;
. *********************************************************************
> *****;
. *********************************************************************
> *****************
> * Create sorted data set with daily + own expenditure and the matched
>  codes
> *********************************************************************
> *****************;
. use "$path/in/cons_cod_trans.dta", clear;
102. *save "$path/work/cons_cod_trans.dta", replace;
. *drop value   ;
. *drop quantity;
. keep hhid product food_cat valuez quantityz unit;
103. rename valuez    value;
104. rename quantityz quantity;
105. *drop count;
. drop if quantity==0 ;
106.         tempfile dd_acsort;
107.         save    `dd_acsort', replace;
108. /*
>         use "$path/work/daily.dta", clear;
>                 drop days;
>                 sort product;
>                 tempfile dd_acsort;
>         save `dd_acsort', replace;
>         
>         use "$path/work/own.dta", clear;
>                 keep hhid product valued quantityd unit;
>                 rename valued value;
>                 rename quantityd quantity;
>         
>                 *CHECK THE ZEROS IN quantity FOR NOW DELETE;
>                 drop if quantity==0;
>         
>                 append using `dd_acsort';
> */
> 
>                 *CA modified to insert work/hhdata.dta for bootstrap;
.                 sort hhid;
109.                 merge hhid using "$path/work/hhdata.dta";
110.                 tab _m;
111.                  drop if _m==2;
112.                 drop _m;
113.                                 sort product;
114.                 gen count=1;
115.         save `dd_acsort', replace;
116.         **********************************************************
> ****************;
. * Merge the basket codes with the dd  and own data sets.
> * Drop all codes not a part of the flexible food basket
> *********************************************************************
> *****;
.                 merge product using "$path/work/codes_food_basket_fle
> x_it`pass'.dta";
117.                         tab _merge;
118.                 drop if _merge~=3;
119.                 drop _merge;
120. ******************************************************************
> ********************
> * Drop observations where product code, quantity or value information
>  is unavailable
> *********************************************************************
> *****************;
.                 drop if product==. | value==. | quantity==.  ;
121.         **********************************************************
> ****************************
> * Convert non-KG quantities (units, liters) into kilograms
> *********************************************************************
> *****************;
. *do "$path/new/110a_conversions.do"
> 
> ********************************************************************
> * There remain a few difficult to interpret observations such as lite
> rs
> * of fish and liters of pasta. These are dropped.
> ********************************************************************;
. *                $MZ drop if unit~=2;
.         *************************************************************
> *************;
. * Bring in the spdomain and reg_tpi variables, and also the informati
> on on
> * relatively poor households.
> *********************************************************************
> *****;
.                 preserve;
122.                                                 * Temporally adjus
> ted expenditure ;
.                         use `contpi', clear;
123.                                 keep hhid hhweight spdomain reg_tp
> i survquar tpi_trim cons_pc_tpi ;
124.                                 sort hhid;
125.                                 tempfile hhd2;
126.                         save `hhd2', replace;
127.                 restore;
128.                                 compress;
129.                 sort hhid;
130.                 merge hhid using `hhd2';
131.                 tab _merge;
132.                 drop _merge;
133.                 sort hhid;
134.                 merge hhid using "$path/work/relpoor_it`pass'.dta"
> ;
135.                 tab _merge;
136.                 drop _merge;
137.                                                 * Keep nominal foo
> d transactions by poor people ;
.                 keep if relpoor`pass';
138.                 drop if product==.;
139.                                                                 * 
> Temporally deflate transaction values ;
.                 gen value_r=value/tpi_trim;
140. ******************************************************************
> ********;
. * Toss out the bottom 5% and top 5% of the HH-LEVEL prices per kg in
> * each spdomain & product combination. This should eliminate outliers
> * that may have an undue influence on the price calculation. 
> *********************************************************************
> *****;
.                 gen hhppkg=value_r/quantity;
141.                 egen lower5=pctile(hhppkg), p(5)  by(spdomain prod
> uct);
142.                 egen upper5=pctile(hhppkg), p(95) by(spdomain prod
> uct);
143.                 keep if hhppkg>=lower5 & hhppkg<=upper5;
144. ******************************************************************
> ***
> * Note that we do prices in three ways. First, by summing quantity an
> d value 
> * This average price price_uw is thus quantity/value weighted. Second
> , we
> * calculate the price and take simple means for a transaction weighte
> d
> * price, price_ut. Last we take the median, price_um. But in the end
> * we only use price_unitw
> *********************************************************************
> ;
.                 gen price_ut`pass'=value_r/(quantity*1000);
145.                 gen price_um`pass'=price_ut;
146.                 collapse (sum) 
>                         quantity value_r count bswt (mean) price_ut (
> median) price_um [aw=hhweight], 
>                         by(spdomain product);
147.                 *Generate weighted price per gram ;
.                 gen price_uw`pass'=value_r/(quantity*1000);
148.                 drop value_r quantity;
149.                 sort spdomain product;
150.                 lab var price_ut`pass' "Average of calculated pric
> es - transaction weighted";
151.                 lab var price_um`pass' "Median of prices";
152.                 lab var price_uw`pass' "Value share weighted mean 
> prices";
153. * Get an idea of the difference between the price measures;
.                 gen ratiotw`pass'=price_ut`pass'/price_uw`pass';
154.                 gen ratiomw`pass'=price_um`pass'/price_uw`pass';
155.                 sum ratiotw`pass' ratiomw`pass';
156.                 sort product;
157.                 merge product using "$path/work/codes_food_basket_
> flex_it`pass'.dta";
158.                 tab _m;
159.                 count if _merge~=3;
160.                 drop if _merge~=3;
161.                 drop _merge;
162.                 sort product spdomain;
163.         save "$path/work/price_unit_flex_it`pass'.dta", replace;
164. ******************************************************************
> ********;
. *********************************************************************
> *****;
. * That concludes the prices part. Now we move to calculating the food
> * poverty lines, which draws code from "120_povline_flex.do" with ver
> y few
> * changes:
> * - The changes facilitate accumulating vectors
> *   of intermediate results across iterations, rather than generating
>  a
> *   bunch of new files.
> *********************************************************************
> *****;
. *********************************************************************
> *****;
. *********************************************************************
> *****;
. * Use the file with the food basket (`foodshares'), which is in share
> s. 
> * Then merge it with the prices file, and then with the calories file
> .
> * Along the way, drop those observations where we have no price infor
> mation
> * or no calorie information, but list them out.
> *********************************************************************
> *****;
.         use `foodshares', clear;
165.                 sort product spdomain;
166.                 merge product spdomain using "$path/work/price_uni
> t_flex_it`pass'.dta";
167.                         tab _merge;
168.                 list product spdomain descript if _merge==1;
169.                         drop if _merge ~=3;
170.                 drop _merge;
171.                 sort product;
172.                         merge product using "$path/work/calperg.dt
> a";
173.                 tab _merge;
174.                                                 * This tells where
>  we are lacking calorie info or are lacking quantity info due to 
>                 * missing price info above;
.                 list product spdomain descript if _merge==1;
175.                         drop if _merge~=3;
176.                 drop _merge;
177.                 sort spdomain f_share_w`pass';
178.                                 *CA modified to change count bswt;
.                 by spdomain: count if round(bswt)<10;
179.                                 sum bswt;
180.                                                 drop if round(bswt
> ) < 10;
181.                                                                 * 
> Total food share in spatial domain ;
.                 by spdomain: egen baskshr=sum(f_share_w`pass');
182.                                 * Cumulated food share in spatial 
> domain ;
.                 by spdomain: gen  cumshr =sum(f_share_w`pass');
183.                 drop if cumshr<=baskshr-.9;
184.                         drop baskshr;
185.                 by spdomain: egen baskshr=sum(f_share_w`pass');
186.                 tabstat baskshr , by(spdomain) st(n mean sd min ma
> x);
187.                                                                 * 
> How many grams in 1 MT exp on food item ;
.                                 gen quan`pass'=f_share_w`pass'/price_
> uw`pass';
188.                                 * How many calories in 1 MT exp on
>  food item ;
.                 gen cal_ir`pass'=quan`pass'*calperg;
189.                                 * how many calories in 1 MT exp in
>  food basket ;
.                 by spdomain: egen calreg=sum(cal_ir);
190.                         sort spdomain;
191.                 merge spdomain using "$path/work/calpp.dta";
192.                 tab _merge;
193.                 drop _merge;
194.                                                         * get the 
> expansion factor to hit 95% of calorie requirements ;
.                 gen ratio=.95*calpp/calreg;
195.                         replace quan`pass'=quan`pass'*ratio;
196.                 replace cal_ir`pass'=quan`pass'*calperg;
197.                         sort spdomain product;
198.                 by spdomain: egen chkcal=sum(cal_ir`pass');
199.                 replace chkcal=chkcal/.95-calpp ;
200.                                                 tabstat chkcal , b
> y(spdomain) st(n mean sd min max);
201.                         gen val_ir`pass'=quan`pass'*price_uw`pass'
> ;
202.                         by spdomain: egen povline_f_flex90_`pass'=
> sum(val_ir`pass');
203.                 replace povline_f=povline_f_flex90_`pass'/.9;
204.                 *drop product96;
. keep product spdomain quan`pass'  price_uw`pass' val_ir`pass' povline
> _f_flex90_`pass' calpp calperg;
205.                     save "$path/work/quan_flex_it`pass'.dta", repl
> ace;
206.                         collapse (mean) povline_f_flex90_`pass', b
> y (spdomain);
207.                                                 keep spdomain povl
> ine_f_flex90_`pass';
208.                 sort spdomain;
209.                 save "$path/work/povline_food_flex_it`pass'.dta", 
> replace;
210.         **********************************************************
> ****************;
. *********************************************************************
> *****;
. * Now comes the part that draws the non-food and total poverty lines,
> * and generates estimates of poverty measures. This is drawn from 
> * "130_povmeas_flex.do" with a few changes.
> *********************************************************************
> *****;
. *********************************************************************
> *****;
. *********************************************************************
> *****
> * Calculate non-food expenditure for HH around the food poverty line
> *
> * Develop a discrete triangular weighted distribution. This gives a
> * weight of  1 to HH at +/- 18-20% from food poverty line, and
> * weight of  2 to HH at +/- 16-18% from food poverty line, and ...
> * weight of 10 to HH at +/-  0- 2% from food poverty line.
> * This weight is called triwt below.
> *********************************************************************
> *****;
.         use `contpi', clear;
211.                 sort spdomain;
212.                 merge spdomain using "$path/work/povline_food_flex
> _it`pass'.dta";
213.                 tab _merge;
214.                 drop _merge;
215.                 gen triwt=0;
216.                 replace triwt = 11 - round(50*abs(cons_pc_tpi/povl
> ine_f_flex90_`pass'-1)+0.5) if abs(cons_pc_tpi/povline_f_flex90_`pass
> '-1) <= 0.2;
217.                                 ***since the poor were very few in
>  Kampala and Central urban for Uganda we added 1 to weights****;
.                                 * Nearness to poverty line and popula
> tion weights ;
.                 gen tripopwt=(0.001+triwt)*hhweight*hhsize;
218.                                                 preserve;
219.                         collapse (mean) nf_pc_nom [aw=tripopwt] , 
> by(spdomain);
220.                         rename nf_pc_nom povline_nf_flex`pass';
221.                         lab var povline_nf_flex`pass' "Nonfood pov
> erty line. Flexible bundle";
222.                         tempfile znf;
223.                         sort spdomain;
224.                         save `znf', replace;
225.                                                                 re
> store;
226.                                 sort spdomain;
227.                 merge spdomain using `znf';
228.                 tab _merge;
229.                 drop _merge;
230. ******************************************************************
> ********
> * Poverty line is the sum of the food and non-food poverty lines
> *********************************************************************
> *****;
.                 gen povline_flex`pass'=povline_f_flex90_`pass' + povl
> ine_nf_flex`pass';
231. keep spdomain povline_flex`pass';
232.                 sort spdomain;
233.         save "$path/work/povlines_it`pass'.dta", replace;
234. ******************************************************************
> ********;
. * Create spatial price index, based on the total poverty line, with
> * adjustment so that mean (and total) nominal consumption equals
> * mean (and total) spatially deflated consumption.
> *
> * Choose arbitrary strata to be the base at first: we just use the fi
> rst stratum.
> *********************************************************************
> *****;
.         use `contpi', clear;
235.                 sort spdomain;
236.                 merge spdomain using "$path/work/povlines_it`pass'
> .dta";
237.                 tab _merge;
238.                 drop _merge;
239.                 gen cr= cons_pc_tpi ;
240.                 gen linpob`pass'=povline_flex`pass';
241.                 qui sum linpob`pass' if spdomain==1, meanonly;
242.                 global spi_base=r(mean);
243.                 gen spi`pass'=linpob`pass'/$spi_base;
244.                 gen cr_it`pass'=cr/spi`pass';
245.                 qui sum cr [aw=hhweight*hhsize];
246.                 global sumcr=r(sum);
247.                 qui sum cr_it`pass' [aw=hhweight*hhsize];
248.                 global sumcr2=r(sum);
249.                 replace spi`pass'=spi`pass'*$sumcr2/$sumcr;
250.                 gen linpobr`pass'=linpob`pass'/spi`pass';
251.                 replace cr_it`pass'=cr/spi`pass';
252.                 su cr cr_it`pass' linpob`pass' linpobr`pass' [aw=h
> hweight*hhsize];
253.                 lab var cr "Temporally-adjusted cons pc";
254.                 lab var cr_it`pass' "Spatially & temporally adjust
> ed cons pc";
255.                 lab var linpob`pass' "Poverty line";
256.                 lab var linpobr`pass' "Real poverty line";
257.                 lab var spi`pass' "Spatial price index";
258.                 gen linpob=linpob`pass';
259. ******************************************************************
> ********
> * calculate poverty measures with the flexible food bundle
> *********************************************************************
> *****;
.                 gen h=100 if cr_it`pass'<=linpobr`pass' & linpobr`pas
> s'~=. & cr_it`pass'~=.;
260.                 replace  h   = 0 if cr_it`pass' > linpobr`pass' & 
> linpobr`pass'~=. & cr_it`pass'~=.;
261.                 gen      pg  = ((linpobr`pass' - cr_it`pass' )/lin
> pobr`pass') *100;
262.                 replace  pg  = 0             if h==0;
263.                 gen      spg = ((( linpobr`pass' - cr_it`pass' )/ 
> linpobr`pass' )^2)*100;
264.                 replace  spg = 0             if h==0;
265.                 gen h_flex`pass'  =h;
266.                 gen pg_flex`pass' =pg;
267.                 gen spg_flex`pass'=spg;
268.                                 lab var h_flex`pass'   "Poverty he
> adcount. Flexible bundle";
269.                 lab var pg_flex`pass'  "Poverty gap. Flexible bund
> le";
270.                 lab var spg_flex`pass' "Squared poverty gap. Flexi
> ble bundle";
271.                 gen popwt=hhsize*hhweight;
272.                         * Stata 10.1 syntax ;
.                         svyset , clear;
273.                         svyset [pweight=popwt] , str(strata) psu(p
> su);
274.                 svy: mean h_flex`pass' pg_flex`pass' spg_flex`pass
> ';
275.                 svy: mean h_flex`pass' pg_flex`pass' spg_flex`pass
> ' , over(rural);
276.                 svy: mean h_flex`pass' pg_flex`pass' spg_flex`pass
> ' , over(strata);
277.                 svy: mean h_flex`pass' pg_flex`pass' spg_flex`pass
> ' , over(strata rural);
278.                 svy: mean h_flex`pass' pg_flex`pass' spg_flex`pass
> ' , over(spdomain);
279. *preserve;
. keep hhid popwt cr_it`pass' h_flex`pass' pg_flex`pass' spg_flex`pass'
>  rural news reg_tpi strata spdomain;
280.                 compress;
281.                 sort hhid;
282.         save "$path/work/cons_real_it`pass'.dta" , replace;
283. *restore;
.                                 * New cutoff point (percentile) to us
> e in next iteration is equal to the poverty ;
.                 * rate in this iteration ;
.                                                 sum h_flex`pass' [aw=
> popwt] ;
284.                                 * Comment out next line for IAF 20
> 02/03 in order to replicate official figures ( START );
.                 * URB: In this case, we just use the poorest 50% as t
> here are too few actually poor to calculate the bundle and prices..;
.                 local cutpt= $tpi_bottom;
285. *               local cutpt= round(r(mean));
.                 * Comment out next line for IAF 2002/03 in order to r
> eplicate official figures ( END );
. *       save foodshares tempfile to disk;
.         use `foodshares', clear;
286.         save "$path/work/foodshares_it`pass'.dta", replace;
287.         local lastpass = `pass';
288.         local pass = `pass' + 1;
289.         };
(350 missing values generated)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
file cutoff.dta saved
(350 missing values generated)
variable one does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,716      100.00      100.00
------------+-----------------------------------
      Total |      2,716      100.00

   relpoor1 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 1,503.2608       55.39       55.39
          1 | 1,210.7392       44.61      100.00
------------+-----------------------------------
      Total |      2,714      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/relpoor_it1.dta saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.76        0.76
          2 |          4        0.01        0.77
          3 |     36,833       99.23      100.00
------------+-----------------------------------
      Total |     37,120      100.00
(2999 observations deleted)
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |         60        0.18        0.18
          3 |     34,121       99.82      100.00
------------+-----------------------------------
      Total |     34,181      100.00
(23289 observations deleted)
(9 missing values generated)
    9
    0
(9 missing values generated)
    9
(9 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp saved
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     10,883      100.00      100.00
------------+-----------------------------------
      Total |     10,883      100.00
  135
(135 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
42
42
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/codes_food_basket_flex_it1.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(779 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.84        0.84
          2 |        110        0.33        1.16
          3 |     33,342       98.84      100.00
------------+-----------------------------------
      Total |     33,735      100.00
(110 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp saved
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      3,661       10.89       10.89
          2 |          1        0.00       10.89
          3 |     29,964       89.11      100.00
------------+-----------------------------------
      Total |     33,626      100.00
(3662 observations deleted)
(175 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000007.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000007.tmp saved
product was float now int
unit was float now byte
food_cat was float now byte
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
bswt was float now byte
hhsize was long now byte
count was float now byte
descript was float now byte
numreg was double now byte
variable hhid does not uniquely identify observations in the master
    data
survquar was byte now float
spdomain was byte now float
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        156        0.52        0.52
          3 |     29,789       99.48      100.00
------------+-----------------------------------
      Total |     29,945      100.00
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.00        0.00
          3 |     29,944      100.00      100.00
------------+-----------------------------------
      Total |     29,945      100.00
(19854 observations deleted)
(44 observations deleted)
(740 observations deleted)

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    ratiotw1 |       159    1.288192    .4768824   .9618641   4.315717
    ratiomw1 |       159    1.063617    .3547853   .3428777   3.198781
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          2        1.24        1.24
          3 |        159       98.76      100.00
------------+-----------------------------------
      Total |        161      100.00
    2
(2 observations deleted)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/price_unit_flex_it1.dta saved
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          5        3.05        3.05
          2 |         52       31.71       34.76
          3 |        107       65.24      100.00
------------+-----------------------------------
      Total |        164      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
104. |     157   Central Rural          1 |
105. |     157         Eastern          1 |
106. |     157        Northern          1 |
107. |     157         Western          1 |
112. |       .   Central Rural          1 |
     +------------------------------------+
(57 observations deleted)
variable product does not uniquely identify observations in the
    master data
(note: descript is str26 in using data but will be float now)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          4        3.03        3.03
          2 |         25       18.94       21.97
          3 |        103       78.03      100.00
------------+-----------------------------------
      Total |        132      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
104. |     162        Northern          1 |
105. |     166         Western          1 |
106. |     171   Central Rural          1 |
107. |     171         Eastern          1 |
     +------------------------------------+
(29 observations deleted)

-----------------------------------------------------------------------
-> spdomain = Central Rural
    0
-----------------------------------------------------------------------
-> spdomain = Eastern
    1
-----------------------------------------------------------------------
-> spdomain = Northern
    1
-----------------------------------------------------------------------
-> spdomain = Western
    0

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        bswt |       103    78.85437    62.65661          6        331
(2 observations deleted)
(0 observations deleted)

Summary for variables: baskshr
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Rural |        25  .7573137         0  .7573137  .7573137
      Eastern |        27  .8916079         0  .8916079  .8916079
     Northern |        26  .8504013         0  .8504013  .8504013
      Western |        23  .8848824         0  .8848824  .8848824
--------------+--------------------------------------------------
        Total |       101  .8462276  .0536716  .7573137  .8916079
-----------------------------------------------------------------
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          2        1.94        1.94
          3 |        101       98.06      100.00
------------+-----------------------------------
      Total |        103      100.00
(2 missing values generated)
(101 real changes made)
(96 real changes made)
(103 real changes made)

Summary for variables: chkcal
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |         1 -1060.045         . -1060.045 -1060.045
Central Rural |        25  .0000899         0  .0000899  .0000899
      Eastern |        27 -.0000257         0 -.0000257 -.0000257
     Northern |        26  .0000321         0  .0000321  .0000321
      Western |        23 -.0000707         0 -.0000707 -.0000707
--------------+--------------------------------------------------
        Total |       102 -10.39259  104.9601 -1060.045  .0000899
-----------------------------------------------------------------
(2 missing values generated)
(101 real changes made)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/quan_flex_it1.dta saved
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povline_food_flex_it1.dta saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(99 real changes made)
(3 missing values generated)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000009.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000009.tmp saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povlines_it1.dta saved
variable spdomain does not uniquely identify observations in the
    master data
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/povlines_it1.dta
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(225 missing values generated)
(225 missing values generated)
(2708 real changes made)
(9 missing values generated)
(2482 real changes made)

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
      cr_it1 |    2492  34690902.7    1467.411   1952.191          0   
> 56019.25
     linpob1 |    2714  37328356.8    589.4915   383.9129          0   
> 1666.636
    linpobr1 |    2707    37257099    468.8762   .0000131   468.8762   
> 468.8762
(2451 missing values generated)
(2226 real changes made)
(225 missing values generated)
(2226 real changes made)
(225 missing values generated)
(2226 real changes made)
(225 missing values generated)
(225 missing values generated)
(225 missing values generated)
(3 missing values generated)

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     h_flex1 |   11.36297          .             .           .
    pg_flex1 |   4.395072          .             .           .
   spg_flex1 |    2.70294          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex1      |
           0 |   10.12667          .             .           .
           1 |   11.50414          .             .           .
-------------+------------------------------------------------
pg_flex1     |
           0 |   3.787533          .             .           .
           1 |   4.464442          .             .           .
-------------+------------------------------------------------
spg_flex1    |
           0 |   2.259359          .             .           .
           1 |   2.753589          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex1      |
     Kampala |          0  (omitted)
   _subpop_2 |   10.12667          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.777134          .             .           .
   _subpop_6 |   24.35194          .             .           .
-------------+------------------------------------------------
pg_flex1     |
     Kampala |          0  (omitted)
   _subpop_2 |   3.787533          .             .           .
   _subpop_3 |   8.184908          .             .           .
   _subpop_4 |   .9129342          .             .           .
   _subpop_5 |   1.124124          .             .           .
   _subpop_6 |   8.388749          .             .           .
-------------+------------------------------------------------
spg_flex1    |
     Kampala |          0  (omitted)
   _subpop_2 |   2.259359          .             .           .
   _subpop_3 |   6.613541          .             .           .
   _subpop_4 |   .3928803          .             .           .
   _subpop_5 |   .4119675          .             .           .
   _subpop_6 |   4.341361          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

         Over: strata rural
    _subpop_1: Kampala 1
    _subpop_2: Other Urban 0
    _subpop_3: Central rural 1
    _subpop_4: East rural 1
    _subpop_5: North rural 1
    _subpop_6: West rural 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex1      |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   10.12667          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.777134          .             .           .
   _subpop_6 |   24.35194          .             .           .
-------------+------------------------------------------------
pg_flex1     |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   3.787533          .             .           .
   _subpop_3 |   8.184908          .             .           .
   _subpop_4 |   .9129342          .             .           .
   _subpop_5 |   1.124124          .             .           .
   _subpop_6 |   8.388749          .             .           .
-------------+------------------------------------------------
spg_flex1    |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   2.259359          .             .           .
   _subpop_3 |   6.613541          .             .           .
   _subpop_4 |   .3928803          .             .           .
   _subpop_5 |   .4119675          .             .           .
   _subpop_6 |   4.341361          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex1      |
   _subpop_1 |   21.85824          .             .           .
   _subpop_2 |   13.97271          .             .           .
     Eastern |   2.530198          .             .           .
    Northern |   5.200971          .             .           .
     Western |   23.18836          .             .           .
-------------+------------------------------------------------
pg_flex1     |
   _subpop_1 |   8.609504          .             .           .
   _subpop_2 |     8.1428          .             .           .
     Eastern |    .865327          .             .           .
    Northern |   1.012014          .             .           .
     Western |   7.928226          .             .           .
-------------+------------------------------------------------
spg_flex1    |
   _subpop_1 |   5.265976          .             .           .
   _subpop_2 |   6.579518          .             .           .
     Eastern |    .374839          .             .           .
    Northern |   .3708813          .             .           .
     Western |   4.093801          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
rural was float now byte
spdomain was float now byte
news was float now byte
h_flex1 was float now byte
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_real_it1.dta saved

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
     h_flex1 |    2492  34690902.7    11.36297   31.74247          0   
>      100
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/foodshares_it1.dta saved
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
variable one does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

   relpoor2 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 1,452.0966       53.50       53.50
          1 | 1,261.9034       46.50      100.00
------------+-----------------------------------
      Total |      2,714      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/relpoor_it2.dta saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.76        0.76
          2 |          4        0.01        0.77
          3 |     36,833       99.23      100.00
------------+-----------------------------------
      Total |     37,120      100.00
(2999 observations deleted)
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |         61        0.18        0.18
          3 |     34,121       99.82      100.00
------------+-----------------------------------
      Total |     34,182      100.00
(22262 observations deleted)
(11 missing values generated)
   11
    0
(11 missing values generated)
   11
(11 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000a.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000a.tmp saved
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000b.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000b.tmp saved
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     11,909      100.00      100.00
------------+-----------------------------------
      Total |     11,909      100.00
  164
(164 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000a.tmp saved
46
46
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/codes_food_basket_flex_it2.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(779 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.84        0.84
          2 |        110        0.33        1.16
          3 |     33,342       98.84      100.00
------------+-----------------------------------
      Total |     33,735      100.00
(110 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp saved
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      3,030        9.01        9.01
          2 |          1        0.00        9.01
          3 |     30,595       90.99      100.00
------------+-----------------------------------
      Total |     33,626      100.00
(3031 observations deleted)
(181 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000e.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000e.tmp saved
product was float now int
unit was float now byte
food_cat was float now byte
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
bswt was float now byte
hhsize was long now byte
count was float now byte
descript was float now byte
numreg was double now byte
variable hhid does not uniquely identify observations in the master
    data
survquar was byte now float
spdomain was byte now float
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        134        0.44        0.44
          3 |     30,414       99.56      100.00
------------+-----------------------------------
      Total |     30,548      100.00
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     30,548      100.00      100.00
------------+-----------------------------------
      Total |     30,548      100.00
(19474 observations deleted)
(45 observations deleted)
(775 observations deleted)

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    ratiotw2 |       219     1.27601     .524948   .8082206    4.31711
    ratiomw2 |       219     1.06976    .3987479   .3428777   4.587382
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          2        0.90        0.90
          3 |        219       99.10      100.00
------------+-----------------------------------
      Total |        221      100.00
    2
(2 observations deleted)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/price_unit_flex_it2.dta saved
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          7        3.10        3.10
          2 |         81       35.84       38.94
          3 |        138       61.06      100.00
------------+-----------------------------------
      Total |        226      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
133. |     157   Central Urban          1 |
134. |     157   Central Rural          1 |
135. |     157         Eastern          1 |
136. |     157        Northern          1 |
137. |     157         Western          1 |
     |------------------------------------|
144. |       .   Central Urban          1 |
145. |       .   Central Rural          1 |
     +------------------------------------+
(88 observations deleted)
variable product does not uniquely identify observations in the
    master data
(note: descript is str26 in using data but will be float now)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          5        3.13        3.13
          2 |         22       13.75       16.88
          3 |        133       83.13      100.00
------------+-----------------------------------
      Total |        160      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
134. |     162        Northern          1 |
135. |     166         Western          1 |
136. |     170   Central Urban          1 |
137. |     171   Central Rural          1 |
138. |     171         Eastern          1 |
     +------------------------------------+
(27 observations deleted)

-----------------------------------------------------------------------
-> spdomain = Central Urban
    4
-----------------------------------------------------------------------
-> spdomain = Central Rural
    0
-----------------------------------------------------------------------
-> spdomain = Eastern
    0
-----------------------------------------------------------------------
-> spdomain = Northern
    1
-----------------------------------------------------------------------
-> spdomain = Western
    0

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        bswt |       133    67.38346    58.33442          5        336
(5 observations deleted)
(0 observations deleted)

Summary for variables: baskshr
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25  .7935855         0  .7935855  .7935855
Central Rural |        26  .7531532         0  .7531532  .7531532
      Eastern |        28  .9005471         0  .9005471  .9005471
     Northern |        26  .8576869         0  .8576869  .8576869
      Western |        23   .885156         0   .885156   .885156
--------------+--------------------------------------------------
        Total |       128  .8382452  .0566272  .7531532  .9005471
-----------------------------------------------------------------
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.78        0.78
          3 |        128       99.22      100.00
------------+-----------------------------------
      Total |        129      100.00
(1 missing value generated)
(128 real changes made)
(121 real changes made)
(129 real changes made)

Summary for variables: chkcal
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25  .0000707         0  .0000707  .0000707
Central Rural |        26  .0000257         0  .0000257  .0000257
      Eastern |        28 -.0000257         0 -.0000257 -.0000257
     Northern |        26 -.0000964         0 -.0000964 -.0000964
      Western |        23  .0000578         0  .0000578  .0000578
--------------+--------------------------------------------------
        Total |       128  4.22e-06  .0000613 -.0000964  .0000707
-----------------------------------------------------------------
(1 missing value generated)
(128 real changes made)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/quan_flex_it2.dta saved
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povline_food_flex_it2.dta saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(96 real changes made)
(3 missing values generated)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000g.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000g.tmp saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povlines_it2.dta saved
variable spdomain does not uniquely identify observations in the
    master data
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/povlines_it2.dta
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(225 missing values generated)
(225 missing values generated)
(2708 real changes made)
(9 missing values generated)
(2482 real changes made)

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
      cr_it2 |    2492  34690902.7    1467.411   1952.888          0   
> 55674.09
     linpob2 |    2714  37328356.8    622.5717    479.812          0   
> 2025.139
    linpobr2 |    2707    37257099    468.3002   .0000142   468.3001   
> 468.3002
(2439 missing values generated)
(2214 real changes made)
(225 missing values generated)
(2214 real changes made)
(225 missing values generated)
(2214 real changes made)
(225 missing values generated)
(225 missing values generated)
(225 missing values generated)
(3 missing values generated)

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     h_flex2 |   11.99919          .             .           .
    pg_flex2 |   4.577506          .             .           .
   spg_flex2 |   2.787255          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex2      |
           0 |    15.0638          .             .           .
           1 |   11.64927          .             .           .
-------------+------------------------------------------------
pg_flex2     |
           0 |   5.373952          .             .           .
           1 |   4.486566          .             .           .
-------------+------------------------------------------------
spg_flex2    |
           0 |   2.947772          .             .           .
           1 |   2.768927          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex2      |
     Kampala |          0  (omitted)
   _subpop_2 |    15.0638          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.649407          .             .           .
   _subpop_6 |   25.02446          .             .           .
-------------+------------------------------------------------
pg_flex2     |
     Kampala |          0  (omitted)
   _subpop_2 |   5.373952          .             .           .
   _subpop_3 |   8.213851          .             .           .
   _subpop_4 |   .8996534          .             .           .
   _subpop_5 |   1.036598          .             .           .
   _subpop_6 |   8.544508          .             .           .
-------------+------------------------------------------------
spg_flex2    |
     Kampala |          0  (omitted)
   _subpop_2 |   2.947772          .             .           .
   _subpop_3 |   6.629168          .             .           .
   _subpop_4 |   .3851901          .             .           .
   _subpop_5 |   .3861707          .             .           .
   _subpop_6 |   4.419361          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

         Over: strata rural
    _subpop_1: Kampala 1
    _subpop_2: Other Urban 0
    _subpop_3: Central rural 1
    _subpop_4: East rural 1
    _subpop_5: North rural 1
    _subpop_6: West rural 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex2      |
   _subpop_1 |          0  (omitted)
   _subpop_2 |    15.0638          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.649407          .             .           .
   _subpop_6 |   25.02446          .             .           .
-------------+------------------------------------------------
pg_flex2     |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   5.373952          .             .           .
   _subpop_3 |   8.213851          .             .           .
   _subpop_4 |   .8996534          .             .           .
   _subpop_5 |   1.036598          .             .           .
   _subpop_6 |   8.544508          .             .           .
-------------+------------------------------------------------
spg_flex2    |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   2.947772          .             .           .
   _subpop_3 |   6.629168          .             .           .
   _subpop_4 |   .3851901          .             .           .
   _subpop_5 |   .3861707          .             .           .
   _subpop_6 |   4.419361          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex2      |
   _subpop_1 |   34.36474          .             .           .
   _subpop_2 |   13.97271          .             .           .
     Eastern |   2.530198          .             .           .
    Northern |   5.085983          .             .           .
     Western |   23.81301          .             .           .
-------------+------------------------------------------------
pg_flex2     |
   _subpop_1 |   12.60323          .             .           .
   _subpop_2 |   8.171595          .             .           .
     Eastern |   .8529052          .             .           .
    Northern |   .9332167          .             .           .
     Western |   8.077013          .             .           .
-------------+------------------------------------------------
spg_flex2    |
   _subpop_1 |   7.001587          .             .           .
   _subpop_2 |   6.595064          .             .           .
     Eastern |   .3675852          .             .           .
    Northern |   .3476573          .             .           .
     Western |   4.167709          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
rural was float now byte
spdomain was float now byte
news was float now byte
h_flex2 was float now byte
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_real_it2.dta saved

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
     h_flex2 |    2492  34690902.7    11.99919   32.50173          0   
>      100
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/foodshares_it2.dta saved
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
variable one does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

   relpoor3 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 1,452.8686       53.53       53.53
          1 | 1,261.1314       46.47      100.00
------------+-----------------------------------
      Total |      2,714      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/relpoor_it3.dta saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.76        0.76
          2 |          4        0.01        0.77
          3 |     36,833       99.23      100.00
------------+-----------------------------------
      Total |     37,120      100.00
(2999 observations deleted)
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |         61        0.18        0.18
          3 |     34,121       99.82      100.00
------------+-----------------------------------
      Total |     34,182      100.00
(22149 observations deleted)
(11 missing values generated)
   11
    0
(11 missing values generated)
   11
(11 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000h.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000h.tmp saved
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000i.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000i.tmp saved
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     12,022      100.00      100.00
------------+-----------------------------------
      Total |     12,022      100.00
  165
(165 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000h.tmp saved
46
46
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/codes_food_basket_flex_it3.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(779 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000j.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000j.tmp saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.84        0.84
          2 |        110        0.33        1.16
          3 |     33,342       98.84      100.00
------------+-----------------------------------
      Total |     33,735      100.00
(110 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000j.tmp saved
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      3,030        9.01        9.01
          2 |          1        0.00        9.01
          3 |     30,595       90.99      100.00
------------+-----------------------------------
      Total |     33,626      100.00
(3031 observations deleted)
(181 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000l.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000l.tmp saved
product was float now int
unit was float now byte
food_cat was float now byte
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
bswt was float now byte
hhsize was long now byte
count was float now byte
descript was float now byte
numreg was double now byte
variable hhid does not uniquely identify observations in the master
    data
survquar was byte now float
spdomain was byte now float
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        134        0.44        0.44
          3 |     30,414       99.56      100.00
------------+-----------------------------------
      Total |     30,548      100.00
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     30,548      100.00      100.00
------------+-----------------------------------
      Total |     30,548      100.00
(19391 observations deleted)
(45 observations deleted)
(776 observations deleted)

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    ratiotw3 |       219    1.274658    .5061596   .8083197    4.31711
    ratiomw3 |       219    1.074855    .3842247   .3428777   4.108816
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          2        0.90        0.90
          3 |        219       99.10      100.00
------------+-----------------------------------
      Total |        221      100.00
    2
(2 observations deleted)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/price_unit_flex_it3.dta saved
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          7        3.10        3.10
          2 |         82       36.28       39.38
          3 |        137       60.62      100.00
------------+-----------------------------------
      Total |        226      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
132. |     157   Central Urban          1 |
133. |     157   Central Rural          1 |
134. |     157         Eastern          1 |
135. |     157        Northern          1 |
136. |     157         Western          1 |
     |------------------------------------|
143. |       .   Central Urban          1 |
144. |       .   Central Rural          1 |
     +------------------------------------+
(89 observations deleted)
variable product does not uniquely identify observations in the
    master data
(note: descript is str26 in using data but will be float now)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          5        3.14        3.14
          2 |         22       13.84       16.98
          3 |        132       83.02      100.00
------------+-----------------------------------
      Total |        159      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
133. |     162        Northern          1 |
134. |     166         Western          1 |
135. |     170   Central Urban          1 |
136. |     171   Central Rural          1 |
137. |     171         Eastern          1 |
     +------------------------------------+
(27 observations deleted)

-----------------------------------------------------------------------
-> spdomain = Central Urban
    4
-----------------------------------------------------------------------
-> spdomain = Central Rural
    0
-----------------------------------------------------------------------
-> spdomain = Eastern
    0
-----------------------------------------------------------------------
-> spdomain = Northern
    1
-----------------------------------------------------------------------
-> spdomain = Western
    0

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        bswt |       132    68.31061    58.08025          5        337
(5 observations deleted)
(0 observations deleted)

Summary for variables: baskshr
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25   .763405         0   .763405   .763405
Central Rural |        26  .7529826         0  .7529826  .7529826
      Eastern |        28  .9002006         0  .9002006  .9002006
     Northern |        25  .8481905         0  .8481905  .8481905
      Western |        23   .885047         0   .885047   .885047
--------------+--------------------------------------------------
        Total |       127  .8301506  .0617886  .7529826  .9002006
-----------------------------------------------------------------
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.78        0.78
          3 |        127       99.22      100.00
------------+-----------------------------------
      Total |        128      100.00
(1 missing value generated)
(127 real changes made)
(120 real changes made)
(128 real changes made)

Summary for variables: chkcal
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25  .0000707         0  .0000707  .0000707
Central Rural |        26 -.0000385         0 -.0000385 -.0000385
      Eastern |        28  .0000385         0  .0000385  .0000385
     Northern |        25 -.0000964         0 -.0000964 -.0000964
      Western |        23 -.0000707         0 -.0000707 -.0000707
--------------+--------------------------------------------------
        Total |       127 -.0000173  .0000639 -.0000964  .0000707
-----------------------------------------------------------------
(1 missing value generated)
(127 real changes made)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/quan_flex_it3.dta saved
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povline_food_flex_it3.dta saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(97 real changes made)
(3 missing values generated)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000n.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000n.tmp saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povlines_it3.dta saved
variable spdomain does not uniquely identify observations in the
    master data
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/povlines_it3.dta
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(225 missing values generated)
(225 missing values generated)
(2708 real changes made)
(9 missing values generated)
(2482 real changes made)

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
      cr_it3 |    2492  34690902.7    1467.411   1952.567          0   
> 55551.59
     linpob3 |    2714  37328356.8    624.9682   488.1951          0   
>  2054.84
    linpobr3 |    2707    37257099    467.3574   .0000151   467.3574   
> 467.3574
(2438 missing values generated)
(2213 real changes made)
(225 missing values generated)
(2213 real changes made)
(225 missing values generated)
(2213 real changes made)
(225 missing values generated)
(225 missing values generated)
(225 missing values generated)
(3 missing values generated)

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     h_flex3 |    12.1365          .             .           .
    pg_flex3 |    4.58596          .             .           .
   spg_flex3 |    2.79407          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex3      |
           0 |   17.45556          .             .           .
           1 |   11.52916          .             .           .
-------------+------------------------------------------------
pg_flex3     |
           0 |   5.514416          .             .           .
           1 |   4.479946          .             .           .
-------------+------------------------------------------------
spg_flex3    |
           0 |   3.013848          .             .           .
           1 |   2.768975          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex3      |
     Kampala |          0  (omitted)
   _subpop_2 |   17.45556          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.147406          .             .           .
   _subpop_6 |   25.02446          .             .           .
-------------+------------------------------------------------
pg_flex3     |
     Kampala |          0  (omitted)
   _subpop_2 |   5.514416          .             .           .
   _subpop_3 |   8.214945          .             .           .
   _subpop_4 |   .9081349          .             .           .
   _subpop_5 |   .9748339          .             .           .
   _subpop_6 |   8.565577          .             .           .
-------------+------------------------------------------------
spg_flex3    |
     Kampala |          0  (omitted)
   _subpop_2 |   3.013848          .             .           .
   _subpop_3 |   6.629763          .             .           .
   _subpop_4 |   .3900851          .             .           .
   _subpop_5 |   .3684625          .             .           .
   _subpop_6 |   4.429929          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

         Over: strata rural
    _subpop_1: Kampala 1
    _subpop_2: Other Urban 0
    _subpop_3: Central rural 1
    _subpop_4: East rural 1
    _subpop_5: North rural 1
    _subpop_6: West rural 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex3      |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   17.45556          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.147406          .             .           .
   _subpop_6 |   25.02446          .             .           .
-------------+------------------------------------------------
pg_flex3     |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   5.514416          .             .           .
   _subpop_3 |   8.214945          .             .           .
   _subpop_4 |   .9081349          .             .           .
   _subpop_5 |   .9748339          .             .           .
   _subpop_6 |   8.565577          .             .           .
-------------+------------------------------------------------
spg_flex3    |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   3.013848          .             .           .
   _subpop_3 |   6.629763          .             .           .
   _subpop_4 |   .3900851          .             .           .
   _subpop_5 |   .3684625          .             .           .
   _subpop_6 |   4.429929          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex3      |
   _subpop_1 |    40.4234          .             .           .
   _subpop_2 |   13.97271          .             .           .
     Eastern |   2.530198          .             .           .
    Northern |   4.634047          .             .           .
     Western |   23.81301          .             .           .
-------------+------------------------------------------------
pg_flex3     |
   _subpop_1 |   12.95513          .             .           .
   _subpop_2 |   8.172683          .             .           .
     Eastern |   .8608382          .             .           .
    Northern |   .8776121          .             .           .
     Western |   8.097132          .             .           .
-------------+------------------------------------------------
spg_flex3    |
   _subpop_1 |   7.167165          .             .           .
   _subpop_2 |   6.595656          .             .           .
     Eastern |   .3722027          .             .           .
    Northern |   .3317151          .             .           .
     Western |   4.177724          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
rural was float now byte
spdomain was float now byte
news was float now byte
h_flex3 was float now byte
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_real_it3.dta saved

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
     h_flex3 |    2492  34690902.7     12.1365   32.66165          0   
>      100
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/foodshares_it3.dta saved
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
variable one does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

   relpoor4 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 1,451.9086       53.50       53.50
          1 | 1,262.0914       46.50      100.00
------------+-----------------------------------
      Total |      2,714      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/relpoor_it4.dta saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.76        0.76
          2 |          4        0.01        0.77
          3 |     36,833       99.23      100.00
------------+-----------------------------------
      Total |     37,120      100.00
(2999 observations deleted)
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |         61        0.18        0.18
          3 |     34,121       99.82      100.00
------------+-----------------------------------
      Total |     34,182      100.00
(22181 observations deleted)
(11 missing values generated)
   11
    0
(11 missing values generated)
   11
(11 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000o.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000o.tmp saved
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000p.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000p.tmp saved
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     11,990      100.00      100.00
------------+-----------------------------------
      Total |     11,990      100.00
  165
(165 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000o.tmp saved
46
46
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/codes_food_basket_flex_it4.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(779 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000q.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000q.tmp saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.84        0.84
          2 |        110        0.33        1.16
          3 |     33,342       98.84      100.00
------------+-----------------------------------
      Total |     33,735      100.00
(110 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000q.tmp saved
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      3,030        9.01        9.01
          2 |          1        0.00        9.01
          3 |     30,595       90.99      100.00
------------+-----------------------------------
      Total |     33,626      100.00
(3031 observations deleted)
(181 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000s.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000s.tmp saved
product was float now int
unit was float now byte
food_cat was float now byte
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
bswt was float now byte
hhsize was long now byte
count was float now byte
descript was float now byte
numreg was double now byte
variable hhid does not uniquely identify observations in the master
    data
survquar was byte now float
spdomain was byte now float
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        134        0.44        0.44
          3 |     30,414       99.56      100.00
------------+-----------------------------------
      Total |     30,548      100.00
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     30,548      100.00      100.00
------------+-----------------------------------
      Total |     30,548      100.00
(19416 observations deleted)
(44 observations deleted)
(777 observations deleted)

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    ratiotw4 |       219    1.275778    .5071754   .8083197    4.31711
    ratiomw4 |       219    1.074048    .3886707   .3428777   4.108816
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          2        0.90        0.90
          3 |        219       99.10      100.00
------------+-----------------------------------
      Total |        221      100.00
    2
(2 observations deleted)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/price_unit_flex_it4.dta saved
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          7        3.10        3.10
          2 |         82       36.28       39.38
          3 |        137       60.62      100.00
------------+-----------------------------------
      Total |        226      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
132. |     157   Central Urban          1 |
133. |     157   Central Rural          1 |
134. |     157         Eastern          1 |
135. |     157        Northern          1 |
136. |     157         Western          1 |
     |------------------------------------|
143. |       .   Central Urban          1 |
144. |       .   Central Rural          1 |
     +------------------------------------+
(89 observations deleted)
variable product does not uniquely identify observations in the
    master data
(note: descript is str26 in using data but will be float now)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          5        3.14        3.14
          2 |         22       13.84       16.98
          3 |        132       83.02      100.00
------------+-----------------------------------
      Total |        159      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
133. |     162        Northern          1 |
134. |     166         Western          1 |
135. |     170   Central Urban          1 |
136. |     171   Central Rural          1 |
137. |     171         Eastern          1 |
     +------------------------------------+
(27 observations deleted)

-----------------------------------------------------------------------
-> spdomain = Central Urban
    4
-----------------------------------------------------------------------
-> spdomain = Central Rural
    0
-----------------------------------------------------------------------
-> spdomain = Eastern
    0
-----------------------------------------------------------------------
-> spdomain = Northern
    1
-----------------------------------------------------------------------
-> spdomain = Western
    0

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        bswt |       132    68.21212    58.12044          5        339
(5 observations deleted)
(0 observations deleted)

Summary for variables: baskshr
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25   .763405         0   .763405   .763405
Central Rural |        26  .7529826         0  .7529826  .7529826
      Eastern |        28  .9005471         0  .9005471  .9005471
     Northern |        25  .8527654         0  .8527654  .8527654
      Western |        23  .8855708         0  .8855708  .8855708
--------------+--------------------------------------------------
        Total |       127  .8312225   .062249  .7529826  .9005471
-----------------------------------------------------------------
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.78        0.78
          3 |        127       99.22      100.00
------------+-----------------------------------
      Total |        128      100.00
(1 missing value generated)
(127 real changes made)
(120 real changes made)
(128 real changes made)

Summary for variables: chkcal
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25  .0000707         0  .0000707  .0000707
Central Rural |        26 -.0000385         0 -.0000385 -.0000385
      Eastern |        28 -.0000257         0 -.0000257 -.0000257
     Northern |        25 -.0000964         0 -.0000964 -.0000964
      Western |        23  .0000578         0  .0000578  .0000578
--------------+--------------------------------------------------
        Total |       127 -8.14e-06  .0000619 -.0000964  .0000707
-----------------------------------------------------------------
(1 missing value generated)
(127 real changes made)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/quan_flex_it4.dta saved
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povline_food_flex_it4.dta saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(97 real changes made)
(3 missing values generated)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000u.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000u.tmp saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povlines_it4.dta saved
variable spdomain does not uniquely identify observations in the
    master data
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/povlines_it4.dta
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(225 missing values generated)
(225 missing values generated)
(2708 real changes made)
(9 missing values generated)
(2482 real changes made)

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
      cr_it4 |    2492  34690902.7    1467.411   1947.701          0   
> 55319.01
     linpob4 |    2714  37328356.8    622.9357   488.4138          0   
>  2054.84
    linpobr4 |    2707    37257099    465.4007   .0000131   465.4007   
> 465.4008
(2441 missing values generated)
(2216 real changes made)
(225 missing values generated)
(2216 real changes made)
(225 missing values generated)
(2216 real changes made)
(225 missing values generated)
(225 missing values generated)
(225 missing values generated)
(3 missing values generated)

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     h_flex4 |   12.02793          .             .           .
    pg_flex4 |   4.550126          .             .           .
   spg_flex4 |   2.777111          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex4      |
           0 |   17.45556          .             .           .
           1 |   11.40819          .             .           .
-------------+------------------------------------------------
pg_flex4     |
           0 |   5.506494          .             .           .
           1 |   4.440925          .             .           .
-------------+------------------------------------------------
spg_flex4    |
           0 |   3.010858          .             .           .
           1 |   2.750422          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex4      |
     Kampala |          0  (omitted)
   _subpop_2 |   17.45556          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.037835          .             .           .
   _subpop_6 |   24.66174          .             .           .
-------------+------------------------------------------------
pg_flex4     |
     Kampala |          0  (omitted)
   _subpop_2 |   5.506494          .             .           .
   _subpop_3 |   8.214945          .             .           .
   _subpop_4 |   .8996534          .             .           .
   _subpop_5 |   .9526639          .             .           .
   _subpop_6 |   8.445777          .             .           .
-------------+------------------------------------------------
spg_flex4    |
     Kampala |          0  (omitted)
   _subpop_2 |   3.010858          .             .           .
   _subpop_3 |   6.629763          .             .           .
   _subpop_4 |   .3851901          .             .           .
   _subpop_5 |   .3620954          .             .           .
   _subpop_6 |   4.370087          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

         Over: strata rural
    _subpop_1: Kampala 1
    _subpop_2: Other Urban 0
    _subpop_3: Central rural 1
    _subpop_4: East rural 1
    _subpop_5: North rural 1
    _subpop_6: West rural 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex4      |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   17.45556          .             .           .
   _subpop_3 |   14.04497          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.037835          .             .           .
   _subpop_6 |   24.66174          .             .           .
-------------+------------------------------------------------
pg_flex4     |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   5.506494          .             .           .
   _subpop_3 |   8.214945          .             .           .
   _subpop_4 |   .8996534          .             .           .
   _subpop_5 |   .9526639          .             .           .
   _subpop_6 |   8.445777          .             .           .
-------------+------------------------------------------------
spg_flex4    |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   3.010858          .             .           .
   _subpop_3 |   6.629763          .             .           .
   _subpop_4 |   .3851901          .             .           .
   _subpop_5 |   .3620954          .             .           .
   _subpop_6 |   4.370087          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex4      |
   _subpop_1 |    40.4234          .             .           .
   _subpop_2 |   13.97271          .             .           .
     Eastern |   2.530198          .             .           .
    Northern |   4.535404          .             .           .
     Western |   23.47611          .             .           .
-------------+------------------------------------------------
pg_flex4     |
   _subpop_1 |   12.95513          .             .           .
   _subpop_2 |   8.172683          .             .           .
     Eastern |   .8529053          .             .           .
    Northern |   .8576532          .             .           .
     Western |   7.982724          .             .           .
-------------+------------------------------------------------
spg_flex4    |
   _subpop_1 |   7.167165          .             .           .
   _subpop_2 |   6.595656          .             .           .
     Eastern |   .3675852          .             .           .
    Northern |    .325983          .             .           .
     Western |   4.121018          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
rural was float now byte
spdomain was float now byte
news was float now byte
h_flex4 was float now byte
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_real_it4.dta saved

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
     h_flex4 |    2492  34690902.7    12.02793   32.53531          0   
>      100
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/foodshares_it4.dta saved
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
variable one does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00

   relpoor5 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 | 1,452.3254       53.51       53.51
          1 | 1,261.6746       46.49      100.00
------------+-----------------------------------
      Total |      2,714      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/relpoor_it5.dta saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.76        0.76
          2 |          4        0.01        0.77
          3 |     36,833       99.23      100.00
------------+-----------------------------------
      Total |     37,120      100.00
(2999 observations deleted)
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |         61        0.18        0.18
          3 |     34,121       99.82      100.00
------------+-----------------------------------
      Total |     34,182      100.00
(22155 observations deleted)
(11 missing values generated)
   11
    0
(11 missing values generated)
   11
(11 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000v.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000v.tmp saved
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000w.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000w.tmp saved
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     12,016      100.00      100.00
------------+-----------------------------------
      Total |     12,016      100.00
  166
(166 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000v.tmp saved
46
46
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/codes_food_basket_flex_it5.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(779 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000x.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000x.tmp saved
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        283        0.84        0.84
          2 |        110        0.33        1.16
          3 |     33,342       98.84      100.00
------------+-----------------------------------
      Total |     33,735      100.00
(110 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000x.tmp saved
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      3,030        9.01        9.01
          2 |          1        0.00        9.01
          3 |     30,595       90.99      100.00
------------+-----------------------------------
      Total |     33,626      100.00
(3031 observations deleted)
(181 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000011.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000011.tmp saved
product was float now int
unit was float now byte
food_cat was float now byte
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
bswt was float now byte
hhsize was long now byte
count was float now byte
descript was float now byte
numreg was double now byte
variable hhid does not uniquely identify observations in the master
    data
survquar was byte now float
spdomain was byte now float
(label lspdomain already defined)
(label lsurvquar already defined)
(label lbreg already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |        134        0.44        0.44
          3 |     30,414       99.56      100.00
------------+-----------------------------------
      Total |     30,548      100.00
variable hhid does not uniquely identify observations in the master
    data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |     30,548      100.00      100.00
------------+-----------------------------------
      Total |     30,548      100.00
(19392 observations deleted)
(44 observations deleted)
(772 observations deleted)

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    ratiotw5 |       219    1.275231     .506324   .8083197    4.31711
    ratiomw5 |       219    1.072348    .3996702   .3428777   4.484998
variable product does not uniquely identify observations in the
    master data
product was int now float

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          2        0.90        0.90
          3 |        219       99.10      100.00
------------+-----------------------------------
      Total |        221      100.00
    2
(2 observations deleted)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/price_unit_flex_it5.dta saved
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          7        3.10        3.10
          2 |         82       36.28       39.38
          3 |        137       60.62      100.00
------------+-----------------------------------
      Total |        226      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
132. |     157   Central Urban          1 |
133. |     157   Central Rural          1 |
134. |     157         Eastern          1 |
135. |     157        Northern          1 |
136. |     157         Western          1 |
     |------------------------------------|
143. |       .   Central Urban          1 |
144. |       .   Central Rural          1 |
     +------------------------------------+
(89 observations deleted)
variable product does not uniquely identify observations in the
    master data
(note: descript is str26 in using data but will be float now)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          5        3.14        3.14
          2 |         22       13.84       16.98
          3 |        132       83.02      100.00
------------+-----------------------------------
      Total |        159      100.00

     +------------------------------------+
     | product        spdomain   descript |
     |------------------------------------|
133. |     162        Northern          1 |
134. |     166         Western          1 |
135. |     170   Central Urban          1 |
136. |     171   Central Rural          1 |
137. |     171         Eastern          1 |
     +------------------------------------+
(27 observations deleted)

-----------------------------------------------------------------------
-> spdomain = Central Urban
    4
-----------------------------------------------------------------------
-> spdomain = Central Rural
    0
-----------------------------------------------------------------------
-> spdomain = Eastern
    0
-----------------------------------------------------------------------
-> spdomain = Northern
    1
-----------------------------------------------------------------------
-> spdomain = Western
    0

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
        bswt |       132    68.38636    58.25302          5        338
(5 observations deleted)
(0 observations deleted)

Summary for variables: baskshr
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25   .763405         0   .763405   .763405
Central Rural |        26  .7549108         0  .7549108  .7549108
      Eastern |        28  .9005471         0  .9005471  .9005471
     Northern |        25  .8527654         0  .8527654  .8527654
      Western |        23  .8852671         0  .8852671  .8852671
--------------+--------------------------------------------------
        Total |       127  .8315622  .0617035  .7549108  .9005471
-----------------------------------------------------------------
variable spdomain does not uniquely identify observations in the
    master data

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.78        0.78
          3 |        127       99.22      100.00
------------+-----------------------------------
      Total |        128      100.00
(1 missing value generated)
(127 real changes made)
(120 real changes made)
(128 real changes made)

Summary for variables: chkcal
     by categories of: spdomain (Spatial domains: each with own poverty
>  line (they are 5))

     spdomain |         N      mean        sd       min       max
--------------+--------------------------------------------------
Central Urban |        25  .0000707         0  .0000707  .0000707
Central Rural |        26  .0000257         0  .0000257  .0000257
      Eastern |        28 -.0000257         0 -.0000257 -.0000257
     Northern |        25 -.0000964         0 -.0000964 -.0000964
      Western |        23  .0000578         0  .0000578  .0000578
--------------+--------------------------------------------------
        Total |       127  5.01e-06  .0000608 -.0000964  .0000707
-----------------------------------------------------------------
(1 missing value generated)
(127 real changes made)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/quan_flex_it5.dta saved
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povline_food_flex_it5.dta saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(98 real changes made)
(3 missing values generated)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000013.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000013.tmp saved
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/povlines_it5.dta saved
variable spdomain does not uniquely identify observations in the
    master data
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/povlines_it5.dta
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |      2,717      100.00      100.00
------------+-----------------------------------
      Total |      2,717      100.00
(225 missing values generated)
(225 missing values generated)
(2708 real changes made)
(9 missing values generated)
(2482 real changes made)

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
      cr_it5 |    2492  34690902.7    1467.411   1948.226          0   
> 55279.24
     linpob5 |    2714  37328356.8    624.7855   488.7333          0   
>  2054.84
    linpobr5 |    2707    37257099    466.2393   .0000127   466.2393   
> 466.2393
(2438 missing values generated)
(2213 real changes made)
(225 missing values generated)
(2213 real changes made)
(225 missing values generated)
(2213 real changes made)
(225 missing values generated)
(225 missing values generated)
(225 missing values generated)
(3 missing values generated)

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     h_flex5 |   12.12178          .             .           .
    pg_flex5 |   4.588223          .             .           .
   spg_flex5 |   2.796162          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex5      |
           0 |   17.45556          .             .           .
           1 |   11.51275          .             .           .
-------------+------------------------------------------------
pg_flex5     |
           0 |   5.515925          .             .           .
           1 |   4.482296          .             .           .
-------------+------------------------------------------------
spg_flex5    |
           0 |   3.014253          .             .           .
           1 |   2.771259          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex5      |
     Kampala |          0  (omitted)
   _subpop_2 |   17.45556          .             .           .
   _subpop_3 |   14.09101          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.037835          .             .           .
   _subpop_6 |   25.02446          .             .           .
-------------+------------------------------------------------
pg_flex5     |
     Kampala |          0  (omitted)
   _subpop_2 |   5.515925          .             .           .
   _subpop_3 |   8.229625          .             .           .
   _subpop_4 |   .8996534          .             .           .
   _subpop_5 |   .9526641          .             .           .
   _subpop_6 |   8.592173          .             .           .
-------------+------------------------------------------------
spg_flex5    |
     Kampala |          0  (omitted)
   _subpop_2 |   3.014253          .             .           .
   _subpop_3 |   6.637767          .             .           .
   _subpop_4 |   .3851901          .             .           .
   _subpop_5 |   .3620955          .             .           .
   _subpop_6 |   4.443326          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

         Over: strata rural
    _subpop_1: Kampala 1
    _subpop_2: Other Urban 0
    _subpop_3: Central rural 1
    _subpop_4: East rural 1
    _subpop_5: North rural 1
    _subpop_6: West rural 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex5      |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   17.45556          .             .           .
   _subpop_3 |   14.09101          .             .           .
   _subpop_4 |   2.692934          .             .           .
   _subpop_5 |   5.037835          .             .           .
   _subpop_6 |   25.02446          .             .           .
-------------+------------------------------------------------
pg_flex5     |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   5.515925          .             .           .
   _subpop_3 |   8.229625          .             .           .
   _subpop_4 |   .8996534          .             .           .
   _subpop_5 |   .9526641          .             .           .
   _subpop_6 |   8.592173          .             .           .
-------------+------------------------------------------------
spg_flex5    |
   _subpop_1 |          0  (omitted)
   _subpop_2 |   3.014253          .             .           .
   _subpop_3 |   6.637767          .             .           .
   _subpop_4 |   .3851901          .             .           .
   _subpop_5 |   .3620955          .             .           .
   _subpop_6 |   4.443326          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2492
Number of PSUs   =     317        Population size  =  34690903
                                  Design df        =       311

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_flex5      |
   _subpop_1 |    40.4234          .             .           .
   _subpop_2 |   14.01852          .             .           .
     Eastern |   2.530198          .             .           .
    Northern |   4.535404          .             .           .
     Western |   23.81301          .             .           .
-------------+------------------------------------------------
pg_flex5     |
   _subpop_1 |   12.95513          .             .           .
   _subpop_2 |   8.187287          .             .           .
     Eastern |   .8529053          .             .           .
    Northern |   .8576533          .             .           .
     Western |   8.122526          .             .           .
-------------+------------------------------------------------
spg_flex5    |
   _subpop_1 |   7.167164          .             .           .
   _subpop_2 |   6.603619          .             .           .
     Eastern |   .3675853          .             .           .
    Northern |   .3259831          .             .           .
     Western |   4.190421          .             .           .
--------------------------------------------------------------
Note: missing standard errors because of stratum with single
      sampling unit.
rural was float now byte
spdomain was float now byte
news was float now byte
h_flex5 was float now byte
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/cons_real_it5.dta saved

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
     h_flex5 |    2492  34690902.7    12.12178   32.64457          0   
>      100
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/foodshares_it5.dta saved

. *********************************************************************
> *****
> * Send results to one big csv-file
> *********************************************************************
> *****;
. use "$path/work/cons_real_it`lastpass'.dta", clear ;

.         gen dum=1;

.         collapse (mean) dum h_flex`lastpass' pg_flex`lastpass' spg_fl
> ex`lastpass' [aw=popwt];

. gen geo="National";

. gen geono=dum;

. tempfile nat;

. save `nat';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000014.tmp saved

.         use "$path/work/cons_real_it`lastpass'.dta", clear ;

.         collapse (mean) h_flex`lastpass' pg_flex`lastpass' spg_flex`l
> astpass' [aw=popwt], by(rural);

. gen geo="Rural/Urban";

. gen geono=rural;

. tempfile rur;

. save `rur';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000015.tmp saved

. use "$path/work/cons_real_it`lastpass'.dta", clear ;

.         collapse (mean) h_flex`lastpass' pg_flex`lastpass' spg_flex`l
> astpass' [aw=popwt], by(news);

. gen geo="North/Center/South";

. gen geono=news;
(1 missing value generated)

. tempfile new;

. save `new';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000016.tmp saved

. use "$path/work/cons_real_it`lastpass'.dta", clear ;

.         collapse (mean) h_flex`lastpass' pg_flex`lastpass' spg_flex`l
> astpass' [aw=popwt], by(reg_tpi);

. gen geo="TPI - 6 regions";

. gen geono=reg_tpi;

. tempfile rtp;

. save `rtp';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000017.tmp saved

. use "$path/work/cons_real_it`lastpass'.dta", clear ;

.         collapse (mean) h_flex`lastpass' pg_flex`lastpass' spg_flex`l
> astpass' [aw=popwt], by(strata);

. gen geo="Provinces";

. gen geono=strata;

. tempfile str;

. save `str';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000018.tmp saved

. use "$path/work/cons_real_it`lastpass'.dta", clear ;

.         collapse (mean) h_flex`lastpass' pg_flex`lastpass' spg_flex`l
> astpass' [aw=popwt], by(spdomain);

. gen geo="Spatial domains";

. gen geono=spdomain;
(1 missing value generated)

. tempfile r13;

. save `r13';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000019.tmp saved

. clear;

. set obs 1;
obs was 0, now 1

. gen geo=" ";

. tempfile one;

. save `one';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001a.tmp saved

. use          `nat';

. append using `one';

. append using `rur';
geo was str8 now str11

. append using `one';

. append using `new';
geo was str11 now str18

. append using `one';

. append using `rtp';

. append using `one';

. append using `str';

. append using `one';

. append using `r13';

. outsheet geo geono h_flex`lastpass' pg_flex`lastpass' spg_flex`lastpa
> ss' dum rural news reg_tpi strata spdomain using "$path/work/poverty_
> flexBask.csv", replace c;

. *********************************************************************
> *****
> * Convergence graph (based on 5 iterations)
> *********************************************************************
> *****;
. #delimit cr
delimiter now cr
. 
. clear

. set obs 1
obs was 0, now 1

. gen iteration=.
(1 missing value generated)

. tempfile converg

. save `converg'
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001b.tmp saved

. 
. forvalues X = 1/`maxit' {
  2.         use "$path/work/cons_real_it`X'.dta", clear
  3.         collapse (mean) h_flex`X' pg_flex`X' spg_flex`X' [aw=popwt
> ], by(strata)
  4.         rename h_flex`X' h_flex
  5.         rename pg_flex`X' pg_flex
  6.         rename spg_flex`X' spg_flex
  7.         gen iteration=`X'
  8.         order iteration
  9.         *sum
.         if `X' != 1     {
 10.                 append using `converg'
 11.                         }
 12.         save `converg', replace
 13.         }
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001b.tmp saved
(label strat already defined)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001b.tmp saved
(label strat already defined)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001b.tmp saved
(label strat already defined)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001b.tmp saved
(label strat already defined)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00001b.tmp saved

. 
. use `converg', clear

. sum

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
   iteration |        30           3     1.43839          1          5
      strata |        30         3.5    1.737021          1          6
      h_flex |        30    10.40098    8.797417          0   25.02446
     pg_flex |        30     3.96181    3.580383          0   8.592173
    spg_flex |        30    2.440649    2.493365          0   6.637767

. 
. twoway (connected h_flex iteration), by(, title(Convergence graph: Po
> verty rate. %) subtitle(After iterative procedure)) by(strata)

. graph export "$path/work/converge_pov_rate.tif", replace
(file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
> 3/work/converge_pov_rate.tif written in TIFF format)

. 
. sort strata iteration

. 
. for var h_flex pg_flex spg_flex: replace X = round(X,0.01)

->  replace h_flex = round(h_flex,0.01)
(25 real changes made)

->  replace pg_flex = round(pg_flex,0.01)
(25 real changes made)

->  replace spg_flex = round(spg_flex,0.01)
(25 real changes made)

. 
. list strata iteration h_flex pg_flex spg_flex

     +--------------------------------------------------------+
     |        strata   iterat~n   h_flex   pg_flex   spg_flex |
     |--------------------------------------------------------|
  1. |       Kampala          1        0         0          0 |
  2. |       Kampala          2        0         0          0 |
  3. |       Kampala          3        0         0          0 |
  4. |       Kampala          4        0         0          0 |
  5. |       Kampala          5        0         0          0 |
     |--------------------------------------------------------|
  6. |   Other Urban          1    10.13      3.79       2.26 |
  7. |   Other Urban          2    15.06      5.37       2.95 |
  8. |   Other Urban          3    17.46      5.51       3.01 |
  9. |   Other Urban          4    17.46      5.51       3.01 |
 10. |   Other Urban          5    17.46      5.52       3.01 |
     |--------------------------------------------------------|
 11. | Central rural          1    14.04      8.18       6.61 |
 12. | Central rural          2    14.04      8.21       6.63 |
 13. | Central rural          3    14.04      8.21       6.63 |
 14. | Central rural          4    14.04      8.21       6.63 |
 15. | Central rural          5    14.09      8.23       6.64 |
     |--------------------------------------------------------|
 16. |    East rural          1     2.69       .91        .39 |
 17. |    East rural          2     2.69        .9        .39 |
 18. |    East rural          3     2.69       .91        .39 |
 19. |    East rural          4     2.69        .9        .39 |
 20. |    East rural          5     2.69        .9        .39 |
     |--------------------------------------------------------|
 21. |   North rural          1     5.78      1.12        .41 |
 22. |   North rural          2     5.65      1.04        .39 |
 23. |   North rural          3     5.15       .97        .37 |
 24. |   North rural          4     5.04       .95        .36 |
 25. |   North rural          5     5.04       .95        .36 |
     |--------------------------------------------------------|
 26. |    West rural          1    24.35      8.39       4.34 |
 27. |    West rural          2    25.02      8.54       4.42 |
 28. |    West rural          3    25.02      8.57       4.43 |
 29. |    West rural          4    24.66      8.45       4.37 |
 30. |    West rural          5    25.02      8.59       4.44 |
     +--------------------------------------------------------+

.         
. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 140_iterate.do        (end)
> *********************************************************************
> *****;
. cap log close;

. 
end of do-file

.                                 
. $no_temp_rev    do "$path/new/150_price_unit_fix.do"    /* Fixed bask
> et: Prices */

. $no_temp_rev    do "$path/new/160_food_basket_fix.do"   /* Fixed food
>  basket */

.                                 do "$path/new/170_pref_r_price_bjorn.
> do"                /* Revealed preference tests */

. *global path "C:/user/gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/170_pref_r_price.log", replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/170_pref_r_price.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:17

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> *****
> * 170_pref_r_price.do           (start)
> *
> * This file conducts revealed preference comparisons so that
> * we can check the quality of the regional baskets.
> * It also exports the price and quantity data for work in GAMS
> * Rather than make up for missing prices with shares, we estimate
> * a missing price in this case
> *********************************************************************
> *****;
. *global n_spdom "13";
. *global it_n "5";
. /*
> This file uses:
>         work/quan_flex_it$it_n.dta
>         work/povline_food_flex_it$it_n.dta
>         work/price_unit_flex_it$it_n.dta
>                 
> This file creates:
>         work/pref_r_price.dta
>         work/revpref_price_`i'.dta
>         work/product_flex.inc
>         work/price_unit_flex.inc
>         work/quan_flex.inc
> */
> 
> 
> 
> *********************************************************************
> ******;
. * Export price, codes and quantity data to text
> *********************************************************************
> ******;
. use "$path/work/price_unit_flex_it$it_n.dta";
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

. gen reg=spdomain ;

. gen crap=1;

.  lab def crap
>          1  ".";

.  lab val crap crap;

. outsheet product crap reg bswt price_uw$it_n using "$path/work/price_
> unit_flex.inc",  noquote noname replace ;

. collapse (min) spdomain, by(product);

. outsheet product  using "$path/work/product_flex.inc", noname replace
> ;

. use "$path/work/quan_flex_it$it_n.dta", clear;

. gen reg=spdomain;
(1 missing value generated)

. gen crap=1;

.  lab def crap
>          1  ".";

.  lab val crap crap;

. format calperg quan$it_n calpp %14.9e;

. outsheet  product crap reg calperg quan$it_n  calpp povline_f_flex90_
> $it_n using "$path/work/quan_flex.inc", noname noquote replace;

. clear;

. *********************************************************************
> *****;
. * Revealed preference calculations
> * get the basket for the region we want to test
> *********************************************************************
> *****;
. tempfile quanreg;

. tempfile getmiss;

. tempfile codmiss;

. gen crap=0;

. save "$path/work/pref_r_price.dta", replace;
(note: dataset contains 0 observations)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved

. forvalues i=1/$n_spdom {                ;
  2.         clear;
  3.         gen crap=0;
  4.         save "$path/work/revpref_price_`i'.dta", replace;
  5.         clear;
  6.                 use "$path/work/quan_flex_it$it_n.dta", clear;
  7.                 keep product spdomain quan$it_n price_uw$it_n val_
> ir$it_n povline_f_flex90_$it_n calpp;
  8.         gen share=val_ir$it_n/povline_f_flex90_$it_n;
  9.         rename price_uw$it_n pquanreg;
 10.         rename spdomain spdomainq;
 11.         drop if spdomainq~= `i';
 12.         sort product;
 13.                                 *rescale quantities to hit constan
> t calorie target;
.                 gen ratquan=2150/calpp;
 14.             gen quan_s=quan$it_n*ratquan;
 15.             lab var quan_s "quantities rescaled to hit 2150 calori
> es pp";
 16.         save `quanreg', replace;
 17. ******************************************************************
> ********;
. * Now get the prices in other regions so that you can use them 
> * to build  a new poverty line
> *********************************************************************
> *****;
.         forvalues j= 1/$n_spdom {               ;
 18.                 use "$path/work/price_unit_flex_it$it_n.dta";
 19.                                 keep product spdomain price_uw$it_
> n descript count bswt;
 20.                         sort product;
 21.                 keep if spdomain==`j';
 22.                 sort product;
 23.                 merge product using `quanreg';
 24.                     *here we have to deal with the fact that not a
> ll commodities are consumed in every region;
.                 *so we might have a quantity from region i but no pri
> ce in region j;
.                 *these will have _merge value=2;
.                 *alternatively the number of observations might be to
> o small;
.                 *deal with these problems by TAKING THE MAX PRICE OBS
> ERVED ELSEWHERE (excluding Maputo)
>                         
>                 tab _m;
.                 drop if _m==1;
 25.                                 *CA modified to handle the countin
> g of bswt instead of count
>                   replace price_uw$it_n=. if round(bswt)<5;
.                         gen pricemiss=0;
 26.                   replace spdomain=`j' if _m==2 ;
 27.                   replace pricemiss=1 if _m==2 | round(bswt)<5;
 28.                         lab var pricemiss "identify those items wi
> th no price observation";
 29.                   drop _m;
 30.                         sort product;
 31. *browse;
.                *this is the tempfile containing observed quans and pr
> ices;
.              save `getmiss', replace;
 32.                         keep if pricemiss==1;
 33.                         if _N>0 {
>                             keep product;
 34.                                             sort product;
 35.                                             *this file contains th
> e price codes that are missing for the region in question;
.                             save `codmiss', replace;
 36. *browse;
.                                   use "$path/work/price_unit_flex_it$
> it_n.dta", clear;
 37.                         sort product;
 38. *browse;
.                         merge product using `codmiss';
 39.                                                 tab _m;
 40.                         keep if _m==3 ;
 41.                                 *exclude Maputo province and city 
> from other price calculation;
.                                 drop if spdomain>10;
 42.                         collapse (max) price_uw$it_n, by(product);
 43.                   *this file contains the code and the max price;
.                   save `codmiss', replace;
 44. *browse;
.                         use `getmiss';
 45.                               merge product using `codmiss';
 46. *browse;
.                         tab _m;
 47.                         drop _m;
 48.                         *end if;
.                  };
 49.                                                             else u
> se `getmiss', clear;
 50.                         gen val_q=quan_s*price_uw$it_n;
 51.                                                 collapse (sum) val
> _q pricemiss (mean) spdomainq ratquan, by(spdomain);
 52.                   gen linf_q=val_q/.9;
 53.                   drop val_q;
 54.                         append using "$path/work/revpref_price_`i'
> .dta";
 55.                         sort spdomain;
 56.                 save "$path/work/revpref_price_`i'.dta", replace;
 57.    *browse;
.         *close j loop;
.         };
 58.         *aggregate into a big data set;
.         append using "$path/work/pref_r_price.dta";
 59.       sort spdomain spdomainq;
 60.       save "$path/work/pref_r_price.dta", replace;
 61.  *close i loop;
. };
(note: dataset contains 0 observations)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_1.dta saved
(1 missing value generated)
(103 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(0 real changes made)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(25 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_1.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(25 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_1.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(176 observations deleted)
(label lspdomain already defined)
(18 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         23       92.00       92.00
          3 |          2        8.00      100.00
------------+-----------------------------------
      Total |         25      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_1.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(3 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(22 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        204       93.15       93.15
          3 |         15        6.85      100.00
------------+-----------------------------------
      Total |        219      100.00
(204 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         22       88.00       88.00
          3 |          3       12.00      100.00
------------+-----------------------------------
      Total |         25      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_1.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         23       92.00       92.00
          3 |          2        8.00      100.00
------------+-----------------------------------
      Total |         25      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_1.dta saved
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved
(note: dataset contains 0 observations)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_2.dta saved
(1 missing value generated)
(102 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(18 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(26 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_2.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(18 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(26 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_2.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(176 observations deleted)
(label lspdomain already defined)
(17 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(26 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_2.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(18 observations deleted)
(0 real changes made)
(3 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        204       93.15       93.15
          3 |         15        6.85      100.00
------------+-----------------------------------
      Total |        219      100.00
(204 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         23       88.46       88.46
          3 |          3       11.54      100.00
------------+-----------------------------------
      Total |         26      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_2.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(18 observations deleted)
(0 real changes made)
(1 real change made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(25 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        214       97.72       97.72
          3 |          5        2.28      100.00
------------+-----------------------------------
      Total |        219      100.00
(214 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         25       96.15       96.15
          3 |          1        3.85      100.00
------------+-----------------------------------
      Total |         26      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_2.dta saved
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved
(note: dataset contains 0 observations)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_3.dta saved
(1 missing value generated)
(100 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(16 observations deleted)
(0 real changes made)
(4 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(24 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        199       90.87       90.87
          3 |         20        9.13      100.00
------------+-----------------------------------
      Total |        219      100.00
(199 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         24       85.71       85.71
          3 |          4       14.29      100.00
------------+-----------------------------------
      Total |         28      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_3.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(16 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(26 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         26       92.86       92.86
          3 |          2        7.14      100.00
------------+-----------------------------------
      Total |         28      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_3.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(176 observations deleted)
(label lspdomain already defined)
(15 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(28 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_3.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(16 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(26 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         26       92.86       92.86
          3 |          2        7.14      100.00
------------+-----------------------------------
      Total |         28      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_3.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(16 observations deleted)
(0 real changes made)
(1 real change made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(27 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        214       97.72       97.72
          3 |          5        2.28      100.00
------------+-----------------------------------
      Total |        219      100.00
(214 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         27       96.43       96.43
          3 |          1        3.57      100.00
------------+-----------------------------------
      Total |         28      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_3.dta saved
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved
(note: dataset contains 0 observations)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_4.dta saved
(1 missing value generated)
(103 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(4 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(21 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        199       90.87       90.87
          3 |         20        9.13      100.00
------------+-----------------------------------
      Total |        219      100.00
(199 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         21       84.00       84.00
          3 |          4       16.00      100.00
------------+-----------------------------------
      Total |         25      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_4.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         23       92.00       92.00
          3 |          2        8.00      100.00
------------+-----------------------------------
      Total |         25      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_4.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(176 observations deleted)
(label lspdomain already defined)
(18 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(25 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_4.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(25 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_4.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(19 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         23       92.00       92.00
          3 |          2        8.00      100.00
------------+-----------------------------------
      Total |         25      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_4.dta saved
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved
(note: dataset contains 0 observations)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_5.dta saved
(1 missing value generated)
(105 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(21 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(21 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         21       91.30       91.30
          3 |          2        8.70      100.00
------------+-----------------------------------
      Total |         23      100.00
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_5.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(21 observations deleted)
(0 real changes made)
(1 real change made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(22 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        214       97.72       97.72
          3 |          5        2.28      100.00
------------+-----------------------------------
      Total |        219      100.00
(214 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         22       95.65       95.65
          3 |          1        4.35      100.00
------------+-----------------------------------
      Total |         23      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_5.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(176 observations deleted)
(label lspdomain already defined)
(20 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_5.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(21 observations deleted)
(0 real changes made)
(2 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(21 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
variable product does not uniquely identify observations in the
    master data
(label lspdomain already defined)

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        209       95.43       95.43
          3 |         10        4.57      100.00
------------+-----------------------------------
      Total |        219      100.00
(209 observations deleted)
(0 observations deleted)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         21       91.30       91.30
          3 |          2        8.70      100.00
------------+-----------------------------------
      Total |         23      100.00
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_5.dta saved
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(175 observations deleted)
(label lspdomain already defined)
(21 observations deleted)
(0 real changes made)
(0 real changes made)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved
(23 observations deleted)
(HH food cons. (1 rec per item cons. cat A& B per HH; Cat B: only T6SQ1
>  + T6AEQ3))
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/revpref_price_5.dta saved
(label lspdomain already defined)
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved

. *bring in actual flexible bundle numbers;
. use "$path/work/povline_food_flex_it$it_n.dta", clear;

.         merge spdomain using "$path/work/pref_r_price.dta";
variable spdomain does not uniquely identify observations in
    C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP
    > 3/work/pref_r_price.dta
(label lspdomain already defined)

.         tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        3.85        3.85
          3 |         25       96.15      100.00
------------+-----------------------------------
      Total |         26      100.00

.          drop crap;

.         drop _m;

.         order spdomainq spdomain;

.       sort spdomainq spdomain;

.         *rescale expenditures to hit a constant calorie target;
.         gen povline_f5_s=ratquan*povline_f_flex90_$it_n;
(1 missing value generated)

.       compress;
spdomainq was float now byte
spdomain was float now byte
pricemiss was double now byte

. *browse;
.         *categorize revealed preference performance;
.       gen pref_r=0;

.       replace pref_r=1 if float(linf_q)>float(povline_f5_s);
(13 real changes made)

.       replace pref_r=2 if float(linf_q)<float(povline_f5_s);
(8 real changes made)

.       lab var pref_r "Fails or passes revealed preference test";

.       lab def pref_r
>                         0 "comparison of the same region with itself"
>                         1 "passes revealed preference test"
>                         2 "fails revealed preference test" ;

.         lab val pref_r pref_r;

.       drop if spdomainq==spdomain;
(6 observations deleted)

.         tab pref_r;

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |         12       60.00       
> 60.00
         fails revealed preference test |          8       40.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |         20      100.00

.              sort spdomainq ;

.       by spdomainq: tab pref_r;

-----------------------------------------------------------------------
-> spdomainq = 1

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
         fails revealed preference test |          4      100.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |          4      100.00

-----------------------------------------------------------------------
-> spdomainq = 2

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |          3       75.00       
> 75.00
         fails revealed preference test |          1       25.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |          4      100.00

-----------------------------------------------------------------------
-> spdomainq = 3

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |          2       50.00       
> 50.00
         fails revealed preference test |          2       50.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |          4      100.00

-----------------------------------------------------------------------
-> spdomainq = 4

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |          3       75.00       
> 75.00
         fails revealed preference test |          1       25.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |          4      100.00

-----------------------------------------------------------------------
-> spdomainq = 5

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |          4      100.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |          4      100.00


. save "$path/work/pref_r_price.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> /work/pref_r_price.dta saved

. *drop comparisons with Maputo ;
. drop if spdomain>=11;
(0 observations deleted)

. drop if spdomainq>=11;
(0 observations deleted)

. display "this is with maputo dropped";
this is with maputo dropped

. tab pref_r;

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |         12       60.00       
> 60.00
         fails revealed preference test |          8       40.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |         20      100.00

. *further drop Nampula rural and urban;
. drop if spdomain==3 | spdomain==4;
(8 observations deleted)

. display "this is with maputo and nampula dropped (MAH: Actually not -
>  experimenting with 6 spatial domains)";
this is with maputo and nampula dropped (MAH: Actually not - experiment
> ing with 6 spatial domains)

. tab pref_r;

    Fails or passes revealed preference |
                                   test |      Freq.     Percent       
>  Cum.
----------------------------------------+------------------------------
> -----
        passes revealed preference test |          6       50.00       
> 50.00
         fails revealed preference test |          6       50.00      1
> 00.00
----------------------------------------+------------------------------
> -----
                                  Total |         12      100.00

. *********************************************************************
> *****
> * 170_pref_r_price.do           (end)
> *********************************************************************
> *****;
. log close;
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/170_pref_r_price.log
  log type:  text
 closed on:   9 Jul 2013, 11:36:17
-----------------------------------------------------------------------

. 
end of do-file

. $no_temp_rev    do "$path/new/180_povline_food_fix.do"  /* Inflating 
> year t1's poverty lines to year t2 */

. 
.                                 shell "$path/new/$revpref"           
>                    /* Adjusting flexible basket: inside pref. constra
> ints */

. *** execute as super user:
. ** sudo ./gams "/home/bjvca/data/data/GAP/Haruna/UNPS_2011/GAPP3/new/
> 190a_revpref13_r_bjorn.gms" o="/home/bjvca/data/data/GAP/Haruna/UNPS_
> 2011/GAPP3/new/list.lst"                              
.                                 
. *sudo ./gams "C:/Users/Templeton/Desktop/GAPP/GAPP-UGANDA-HARUNA/UNPS
> _2011/GAPP3/new/190a_revpref13_r_bjorn.gms" o="/C:/Users/Templeton/De
> sktop/GAPP/GAPP-UGANDA-HARUNA/UNPS_2011/GAPP3/new/list.lst"          
>                  
. 
. $no_temp_rev    do "$path/new/200_povmeas_fix.do"               /* Fi
> xed basket: Poverty rates */

.                                 do "$path/new/210_povmeas_ent_flex.do
> "  /* Flexible basket, adjusted: Poverty rates */

. *global path "C:\user\gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/210_povmeas_ent_flex.log" , replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/210_povmeas_ent_flex.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:18

. clear

. set more off

. #delimit ;
delimiter now ;
. *********************************************************************
> ************
> * 210_povmeas_ent_flex.do               (start)
> *
> * This file produces poverty measures taking the entropy adjusted pov
> erty 
> * lines as a base. It produces two sets of poverty measures. In one, 
> * Maputo is treated with the logic of the fixed bundle. In the second
> , the revealed preference logic
> * is maintained. Here, the flexible bundle is viewed as being determi
> ned by the 
> * lower constraint on the value of the food bundle dictated by P_t2*Q
> _t1. In this case,
> * the year t2 food shares are calculated and applied.
> *
> * Fixed poverty lines/etc. are mentioned here and there. But there ar
> e NO fixed
> * calculations for Maputo (or other provinces) anymore
> *
> *********************************************************************
> ************;
. /*
> This file uses:
>         work\povline_food_ent.csv
>         work\conpc.dta
>         work\hhdata.dta
>         work/temp_index_reg_tpi.dta
> 
> This file creates:
>         work\povlines_ent.dta
>         work\povmeas_ent_flex.dta
>         work\povlines_ent.dta
>       work\nat_pov_ent_m.csv
>       work\rur_pov_ent_m.csv
>       work\news_pov_ent_m.csv
>       work\reg_tpi_pov_ent_m.csv
>       work\strata_pov_ent_m.csv
>       work\spdomain_pov_ent_m.csv
>       work\spdomain_pov_ent_m.csv
>         work\povlines_ent.csv
> */
> 
> 
> 
> *********************************************************************
> *****;
. * Bring in data file with nominal consumption per capita, and deflate
>  it
> * by temporal price index.
> *********************************************************************
> *****;
. use "$path/work/hhdata.dta", clear;
(Household master record (1 record per household))

.         sort reg_tpi survquar;

.         merge reg_tpi survquar using "$path/work/temp_index_reg_tpi.d
> ta";
variables reg_tpi survquar do not uniquely identify observations in
    the master data
(label lsurvquar already defined)
(label lbreg already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        224        8.25        8.25
          3 |      2,492       91.75      100.00
------------+-----------------------------------
      Total |      2,716      100.00

.         drop _merge;

.         sort hhid;

.         merge hhid using "$path/work/conpc.dta";

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

.         gen food_pc_tpi  = food_pc_nom /tpi_trim;
(225 missing values generated)

.         lab var food_pc_tpi "Temp-adjusted per capita food consumptio
> n/day";

.         gen cons_pc_tpi = food_pc_tpi + nf_pc_nom;
(225 missing values generated)

.         lab var cons_pc_tpi "Temp adjusted total consumption/day";

.         gen one=1;

.         tempfile contpi;

. save `contpi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000001.tmp saved

. *********************************************************************
> *****;
. * Calculate the food shares for people near the food poverty line
> *********************************************************************
> *****;
. *Bring in entropy estimated flexible lines;
. clear;

. insheet using "$path\work\povline_food_ent.csv";
(3 vars, 5 obs)

.         rename ent food_povline_ent;

.      keep spdomain food_povline_ent;

.      sort spdomain;

. *Bring in fixed bundle poverty lines for Maputo ;
. *This is the same level for both entropy and fixed bundle analysis;
. *since the Q02*P02<=Q96*P02 constraint is binding;
. *$no_temp_rev   merge spdomain using "$path\work\povline_food_fix.dta
> ";
. *$no_temp_rev    replace food_povline_ent=food_povline_w if spdomain>
> 10;
.       keep spdomain food_povline_ent;

.       sort spdomain;

.       tempfile food_povline_ent;

. save `food_povline_ent';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000002.tmp saved

. clear;

. use `contpi';
(Household master record (1 record per household))

.         sort spdomain;

.         merge spdomain using `food_povline_ent';
variable spdomain does not uniquely identify observations in the
    master data

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          9        0.33        0.33
          3 |      2,708       99.67      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

. gen     triwt = 0 ;

. replace triwt = 11 - round(50*abs(cons_pc_tpi/food_povline_ent-1)+0.5
> )
>                 if abs(cons_pc_tpi/food_povline_ent-1)<=0.2;
(112 real changes made)

.         gen tripopwt=triwt*hhweight*hhsize;
(3 missing values generated)

.         collapse (mean) nf_pc_nom food_povline_ent [aw=tripopwt] ,
>         by(spdomain);

.         rename nf_pc_nom povline_nf;

.         lab var povline_nf "Nonfood poverty line";

.         sort spdomain;

. *       merge spdomain using "$foodshr_pastSurvey", keep(spdomain $fd
> shr_t1);
. *       tab _m;
. *       drop _m;
. *       gen fdshr_t1 = $fdshr_t1;
. *       drop $fdshr_t1;
. *       lab var fdshr_t1 "year t1 (e.g. 1996) poverty line food share
> ";
.      *calculate line for all provinces with flexible food shares;
.                         gen povline_ent_m=food_povline_ent + povline_
> nf;

.         gen fdshr=food_povline_ent/povline_ent;

.         lab var fdshr "year t2 (e.g. 2002) poverty line food share";

.       *redo for maputo inserting the fixed food share;
.  *     gen povline_ent=povline_ent_m;
. *MAH;
. *$no_temp_rev   replace povline_ent=food_povline_ent/fdshr_t1 if spdo
> main >=11;
. *       lab var povline_ent   "poverty lines with Maputo regions calc
> ulated using fixed bundle non-food shares";
.     lab var povline_ent   "poverty lines with all regions calculated 
> using flexible bundle non-food shares";

. *    lab var povline_ent_m "poverty lines with Maputo regions calcula
> ted using flexible bundle non-food shares";
.         sort spdomain;

. tempfile povlines_ent;

. save `povlines_ent', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000003.tmp saved

. clear;

. *********************************************************************
> *****;
. * Calculate poverty measures with all regions using flexible year t2 
> food shares
> *********************************************************************
> *****;
. use `contpi';
(Household master record (1 record per household))

.         sort spdomain;

.         merge spdomain using `povlines_ent';
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          9        0.33        0.33
          3 |      2,708       99.67      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

. *********************************************************************
> *****;
. * Create spatial price index, based on the total poverty line, with
> * adjustment so that mean (and total) nominal consumption equals
> * mean (and total) spatially deflated consumption.
> *
> * Choose arbitrary strata to be the base at first. The middle of the 
> 13
> * codes is code 7 -- that's arbirtary enough.
> *********************************************************************
> *****;
.         gen cr= cons_pc_tpi ;
(225 missing values generated)

.         gen linpob=povline_ent;
(9 missing values generated)

. *MAH;
.  *Now only 6 regions, so base is chosen as the 1;
.         *qui sum linpob if spdomain==7, meanonly;
.         qui sum linpob if spdomain==1, meanonly;

.         global spi_base=r(mean);

.         gen spi=linpob/$spi_base;
(9 missing values generated)

.         gen cr2=cr/spi;
(225 missing values generated)

.         qui sum cr [aw=hhweight*hhsize];

.         global sumcr=r(sum);

.         qui sum cr2 [aw=hhweight*hhsize];

.         global sumcr2=r(sum);

.         replace spi=spi*$sumcr2/$sumcr;
(2708 real changes made)

.         gen linpobr=linpob/spi;
(9 missing values generated)

.         replace cr2=cr/spi;
(2482 real changes made)

.         sum cr cr2 linpob linpobr [aw=hhweight*hhsize];

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
         cr2 |    2492  34690902.7    1467.411   1918.648          0   
> 56132.65
      linpob |    2707    37257099    476.1846   79.58073   393.1608   
> 623.6702
     linpobr |    2707    37257099    479.6727   .0000142   479.6727   
> 479.6727

.         lab var cr      "Temporally-adjusted cons pc";

.         lab var cr2     "Spatially & temporally adjusted cons pc";

.         lab var linpob  "Poverty line";

.         lab var linpobr "Real poverty line";

.         lab var spi     "Spatial price index";

.         *calculate poverty measures;
.         gen h = 100     if cr2 <=(linpobr);
(2466 missing values generated)

.         replace  h = 0  if cr2 > (linpobr);
(2466 real changes made)

.         gen             pg      = ((linpobr - cr2 )/linpobr) *100;
(225 missing values generated)

.         replace         pg      = 0             if h==0;
(2466 real changes made)

.         gen             spg     = ((( linpobr - cr2 )/ linpobr )^2)*1
> 00;
(225 missing values generated)

.         replace         spg     = 0             if h==0;
(2466 real changes made)

.         gen h_ent  =h;

.         gen pg_ent =pg;
(9 missing values generated)

.         gen spg_ent=spg;
(9 missing values generated)

.         lab var h_ent   "Poverty headcount entropy bundle with Maputo
>  food share fixed";

.         lab var pg_ent  "Poverty gap entropy bundle with Maputo food 
> share fixed";

.         lab var spg_ent "Squared poverty gap entropy bundle with Mapu
> to food share fixed";

.         sort hhid;

.         merge hhid using "$path\work\hhdata.dta";
(label lnews already defined)
(label lspdomain already defined)
(label lsurvmon already defined)
(label lsurvquar already defined)
(label intresult already defined)
(label SPLIT already defined)
(label strat already defined)
(label lbur already defined)
(label lbreg already defined)
(label df_UBOS_VISITOUTCO already defined)
(label STATUS already defined)
(label lbregu already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop if _merge~=3;
(1 observation deleted)

.         drop _merge;

.         gen popwt=hhsize*hhweight;
(2 missing values generated)

.         lab var popwt "Population weights = hhsize X hhweight";

.                 * Stata 10.1 syntax ;
.         svyset , clear;

.         svyset [pweight=popwt] , str(strata) psu(psu);

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>

. *MAH: Below at various places the original reg13 has been changed int
> o spdomain or spdomain ;
.                 svy: mean h_ent pg_ent spg_ent;
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
       h_ent |   8.924616    .830318      7.291764    10.55747
      pg_ent |   3.351541   .5119614      2.344749    4.358333
     spg_ent |   2.187379   .4570609      1.288551    3.086207
--------------------------------------------------------------

.         svy: mean h_ent pg_ent spg_ent , over(rural);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent        |
           0 |   2.666596   .8122113      1.069351    4.263841
           1 |   10.04401   .9663359      8.143668    11.94434
-------------+------------------------------------------------
pg_ent       |
           0 |   1.117826   .5458677       .044356    2.191296
           1 |   3.751091   .5943569      2.582265    4.919917
-------------+------------------------------------------------
spg_ent      |
           0 |   .8122716   .5093938     -.1894712    1.814014
           1 |   2.433348   .5302073      1.390675    3.476022
--------------------------------------------------------------

.         svy: mean h_ent pg_ent spg_ent , over(strata);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent        |
     Kampala |          0  (omitted)
   _subpop_2 |   4.102749   1.248657      1.647217    6.558282
   _subpop_3 |   14.38674   2.690614      9.095542    19.67794
   _subpop_4 |    9.01477   1.454631      6.154181    11.87536
   _subpop_5 |   9.965559   2.320542      5.402123    14.52899
   _subpop_6 |   7.814537   1.288005      5.281625    10.34745
-------------+------------------------------------------------
pg_ent       |
     Kampala |          0  (omitted)
   _subpop_2 |   1.719856   .8399369       .068087    3.371624
   _subpop_3 |   8.261443   2.367486       3.60569     12.9172
   _subpop_4 |    2.17294   .4728139      1.243133    3.102747
   _subpop_5 |   2.511045   .6502293      1.232344    3.789746
   _subpop_6 |   2.976202   .7597688      1.482087    4.470317
-------------+------------------------------------------------
spg_ent      |
     Kampala |          0  (omitted)
   _subpop_2 |   1.249738   .7836924     -.2914234    2.790899
   _subpop_3 |   6.640915   2.206151      2.302434     10.9794
   _subpop_4 |   .9482048   .2726632       .412002    1.484407
   _subpop_5 |    .937883   .2823069      .3827155    1.493051
   _subpop_6 |   2.020893   .7178251       .609262    3.432524
--------------------------------------------------------------

.         svy: mean h_ent pg_ent spg_ent , over(spdomain);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent        |
   _subpop_1 |   1.830205   1.038123     -.2113036    3.871713
   _subpop_2 |   14.31316   2.678172      9.046426    19.57989
     Eastern |   8.589527   1.352908       5.92898    11.25007
    Northern |   9.462565   2.096694      5.339334     13.5858
     Western |   7.474443   1.205406      5.103965    9.844921
-------------+------------------------------------------------
pg_ent       |
   _subpop_1 |   1.392669   .8860961     -.3498736    3.135211
   _subpop_2 |   8.219189   2.356169      3.585692    12.85269
     Eastern |   2.081071   .4381276      1.219476    2.942666
    Northern |   2.305608   .5842337       1.15669    3.454526
     Western |   2.812066   .7072437      1.421244    4.202889
-------------+------------------------------------------------
spg_ent      |
   _subpop_1 |   1.217767   .8346021     -.4235108    2.859044
   _subpop_2 |   6.606949   2.195488      2.289437    10.92446
     Eastern |   .9033907   .2521672      .4074942    1.399287
    Northern |   .8484276   .2534463      .3500156     1.34684
     Western |   1.891231    .667692       .578189    3.204273
--------------------------------------------------------------

.         svy: mean h_ent pg_ent spg_ent , over(spdomain);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent        |
   _subpop_1 |   1.830205   1.038123     -.2113036    3.871713
   _subpop_2 |   14.31316   2.678172      9.046426    19.57989
     Eastern |   8.589527   1.352908       5.92898    11.25007
    Northern |   9.462565   2.096694      5.339334     13.5858
     Western |   7.474443   1.205406      5.103965    9.844921
-------------+------------------------------------------------
pg_ent       |
   _subpop_1 |   1.392669   .8860961     -.3498736    3.135211
   _subpop_2 |   8.219189   2.356169      3.585692    12.85269
     Eastern |   2.081071   .4381276      1.219476    2.942666
    Northern |   2.305608   .5842337       1.15669    3.454526
     Western |   2.812066   .7072437      1.421244    4.202889
-------------+------------------------------------------------
spg_ent      |
   _subpop_1 |   1.217767   .8346021     -.4235108    2.859044
   _subpop_2 |   6.606949   2.195488      2.289437    10.92446
     Eastern |   .9033907   .2521672      .4074942    1.399287
    Northern |   .8484276   .2534463      .3500156     1.34684
     Western |   1.891231    .667692       .578189    3.204273
--------------------------------------------------------------

.                 compress;
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
bswt was float now byte
hhsize was long now byte
one was float now byte
h was float now byte
h_ent was float now byte

.       gen dum=1;

.         sort hhid;

.         *set aside the spatial price index;
.       tempfile spi;

. *      use "$path\work\povmeas_ent.dta", clear;
.       collapse (mean) spi, by(spdomain);

.       sort spdomain;

. save `spi', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000004.tmp saved

. clear;

. *********************************************************************
> *****;
. * Calculate poverty measures with Maputo regions on flexible food sha
> res
> *********************************************************************
> *****;
. use `contpi';
(Household master record (1 record per household))

.         sort spdomain;

.         merge spdomain using `povlines_ent';
variable spdomain does not uniquely identify observations in the
    master data
(label lspdomain already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          9        0.33        0.33
          3 |      2,708       99.67      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop _merge;

. *********************************************************************
> *****;
. * Create spatial price index, based on the total poverty line, with
> * adjustment so that mean (and total) nominal consumption equals
> * mean (and total) spatially deflated consumption.
> *
> * Choose arbitrary strata to be the base at first. The middle of the 
> 13
> * codes is code 7 -- that's arbirtary enough.
> *********************************************************************
> *****;
.         gen cr= cons_pc_tpi ;
(225 missing values generated)

.         gen linpob=povline_ent_m;
(9 missing values generated)

.         qui sum linpob if spdomain==1, meanonly;

.         global spi_base=r(mean);

.         gen spi=linpob/$spi_base;
(9 missing values generated)

.         gen cr2=cr/spi;
(225 missing values generated)

.         qui sum cr [aw=hhweight*hhsize];

.         global sumcr=r(sum);

.         qui sum cr2 [aw=hhweight*hhsize];

.         global sumcr2=r(sum);

.         replace spi=spi*$sumcr2/$sumcr;
(2708 real changes made)

.         gen linpobr=linpob/spi;
(9 missing values generated)

.         replace cr2=cr/spi;
(2482 real changes made)

.         sum cr cr2 linpob linpobr [aw=hhweight*hhsize];

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          cr |    2492  34690902.7    1467.411   2339.007          0   
> 72983.64
         cr2 |    2492  34690902.7    1467.411   1918.648          0   
> 56132.65
      linpob |    2707    37257099    476.1846   79.58073   393.1608   
> 623.6702
     linpobr |    2707    37257099    479.6727   .0000142   479.6727   
> 479.6727

.         lab var cr      "Temporally-adjusted cons pc";

.         lab var cr2     "Spatially & temporally adjusted cons pc";

.         lab var linpob  "Poverty line";

.         lab var linpobr "Real poverty line";

.         lab var spi     "Spatial price index";

.         *calculate poverty measures;
.         gen h = 100     if cr2 <=(linpobr);
(2466 missing values generated)

.         replace  h = 0 if cr2 > (linpobr);
(2466 real changes made)

.         gen             pg      = ((linpobr - cr2 )/linpobr) *100;
(225 missing values generated)

.         replace         pg      = 0             if h==0;
(2466 real changes made)

.         gen             spg     = ((( linpobr - cr2 )/ linpobr )^2)*1
> 00;
(225 missing values generated)

.         replace         spg     = 0             if h==0;
(2466 real changes made)

.         gen h_ent_m  =h;

.         gen pg_ent_m =pg;
(9 missing values generated)

.         gen spg_ent_m=spg;
(9 missing values generated)

.         lab var h_ent_m   "Poverty headcount entropy bundle. Food sha
> re flexible. Flexible bundle";

.         lab var pg_ent_m  "Poverty gap entropy bundle. Food share fle
> xible. Flexible bundle";

.         lab var spg_ent_m "Squared poverty gap entropy. Food share fl
> exible. Flexible bundle";

.         sort hhid;

.         merge hhid using "$path\work\hhdata.dta";
(label lnews already defined)
(label lspdomain already defined)
(label lsurvmon already defined)
(label lsurvquar already defined)
(label intresult already defined)
(label SPLIT already defined)
(label strat already defined)
(label lbur already defined)
(label lbreg already defined)
(label df_UBOS_VISITOUTCO already defined)
(label STATUS already defined)
(label lbregu already defined)

.         tab _merge;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |          1        0.04        0.04
          3 |      2,716       99.96      100.00
------------+-----------------------------------
      Total |      2,717      100.00

.         drop if _merge~=3;
(1 observation deleted)

.         drop _merge;

.         gen popwt=hhsize*hhweight;
(2 missing values generated)

.         lab var popwt "Population weights = hhsize X hhweight";

.                 * Stata 10.1 syntax ;
.         svyset , clear;

.         svyset [pweight=popwt] , str(strata) psu(psu);

      pweight: popwt
          VCE: linearized
  Single unit: missing
     Strata 1: strata
         SU 1: psu
        FPC 1: <zero>

.                 svy: mean h_ent_m pg_ent_m spg_ent_m;
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     h_ent_m |   8.924616    .830318      7.291764    10.55747
    pg_ent_m |   3.351541   .5119614      2.344749    4.358333
   spg_ent_m |   2.187379   .4570609      1.288551    3.086207
--------------------------------------------------------------

.         svy: mean h_ent_m pg_ent_m spg_ent_m , over(rural);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

            0: rural = 0
            1: rural = 1

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent_m      |
           0 |   2.666596   .8122113      1.069351    4.263841
           1 |   10.04401   .9663359      8.143668    11.94434
-------------+------------------------------------------------
pg_ent_m     |
           0 |   1.117826   .5458677       .044356    2.191296
           1 |   3.751091   .5943569      2.582265    4.919917
-------------+------------------------------------------------
spg_ent_m    |
           0 |   .8122716   .5093938     -.1894712    1.814014
           1 |   2.433348   .5302073      1.390675    3.476022
--------------------------------------------------------------

.         svy: mean h_ent_m pg_ent_m spg_ent_m , over(news);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

      Central: news = Central
      Eastern: news = Eastern
     Northern: news = Northern
      Western: news = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent_m      |
     Central |   10.10307   1.864784      6.435899    13.77024
     Eastern |   8.589527   1.352908       5.92898    11.25007
    Northern |   9.462565   2.096694      5.339334     13.5858
     Western |   7.474443   1.205406      5.103965    9.844921
-------------+------------------------------------------------
pg_ent_m     |
     Central |   5.916829   1.619999      2.731038     9.10262
     Eastern |   2.081071   .4381276      1.219476    2.942666
    Northern |   2.305608   .5842337       1.15669    3.454526
     Western |   2.812066   .7072437      1.421244    4.202889
-------------+------------------------------------------------
spg_ent_m    |
     Central |   4.789356   1.504971      1.829771     7.74894
     Eastern |   .9033907   .2521672      .4074942    1.399287
    Northern |   .8484276   .2534463      .3500156     1.34684
     Western |   1.891231    .667692       .578189    3.204273
--------------------------------------------------------------

.         svy: mean h_ent_m pg_ent_m spg_ent_m , over(reg_tpi);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

      Kampala: reg_tpi = Kampala
      Central: reg_tpi = Central
      Eastern: reg_tpi = Eastern
     Northern: reg_tpi = Northern
      Western: reg_tpi = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent_m      |
     Kampala |          0  (omitted)
     Central |   12.55936   2.280892      8.073893    17.04482
     Eastern |   8.589527   1.352908       5.92898    11.25007
    Northern |   9.462565   2.096694      5.339334     13.5858
     Western |   7.474443   1.205406      5.103965    9.844921
-------------+------------------------------------------------
pg_ent_m     |
     Kampala |          0  (omitted)
     Central |   7.355346   1.991341      3.439297     11.2714
     Eastern |   2.081071   .4381276      1.219476    2.942666
    Northern |   2.305608   .5842337       1.15669    3.454526
     Western |   2.812066   .7072437      1.421244    4.202889
-------------+------------------------------------------------
spg_ent_m    |
     Kampala |          0  (omitted)
     Central |   5.953758   1.853119      2.309528    9.597988
     Eastern |   .9033907   .2521672      .4074942    1.399287
    Northern |   .8484276   .2534463      .3500156     1.34684
     Western |   1.891231    .667692       .578189    3.204273
--------------------------------------------------------------

.         svy: mean h_ent_m pg_ent_m spg_ent_m , over(strata);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

      Kampala: strata = Kampala
    _subpop_2: strata = Other Urban
    _subpop_3: strata = Central rural
    _subpop_4: strata = East rural
    _subpop_5: strata = North rural
    _subpop_6: strata = West rural

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent_m      |
     Kampala |          0  (omitted)
   _subpop_2 |   4.102749   1.248657      1.647217    6.558282
   _subpop_3 |   14.38674   2.690614      9.095542    19.67794
   _subpop_4 |    9.01477   1.454631      6.154181    11.87536
   _subpop_5 |   9.965559   2.320542      5.402123    14.52899
   _subpop_6 |   7.814537   1.288005      5.281625    10.34745
-------------+------------------------------------------------
pg_ent_m     |
     Kampala |          0  (omitted)
   _subpop_2 |   1.719856   .8399369       .068087    3.371624
   _subpop_3 |   8.261443   2.367486       3.60569     12.9172
   _subpop_4 |    2.17294   .4728139      1.243133    3.102747
   _subpop_5 |   2.511045   .6502293      1.232344    3.789746
   _subpop_6 |   2.976202   .7597688      1.482087    4.470317
-------------+------------------------------------------------
spg_ent_m    |
     Kampala |          0  (omitted)
   _subpop_2 |   1.249738   .7836924     -.2914234    2.790899
   _subpop_3 |   6.640915   2.206151      2.302434     10.9794
   _subpop_4 |   .9482048   .2726632       .412002    1.484407
   _subpop_5 |    .937883   .2823069      .3827155    1.493051
   _subpop_6 |   2.020893   .7178251       .609262    3.432524
--------------------------------------------------------------

.         svy: mean h_ent_m pg_ent_m spg_ent_m , over(spdomain);
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =       6        Number of obs    =      2707
Number of PSUs   =     368        Population size  =  37257099
                                  Design df        =       362

    _subpop_1: spdomain = Central Urban
    _subpop_2: spdomain = Central Rural
      Eastern: spdomain = Eastern
     Northern: spdomain = Northern
      Western: spdomain = Western

--------------------------------------------------------------
             |             Linearized
        Over |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
h_ent_m      |
   _subpop_1 |   1.830205   1.038123     -.2113036    3.871713
   _subpop_2 |   14.31316   2.678172      9.046426    19.57989
     Eastern |   8.589527   1.352908       5.92898    11.25007
    Northern |   9.462565   2.096694      5.339334     13.5858
     Western |   7.474443   1.205406      5.103965    9.844921
-------------+------------------------------------------------
pg_ent_m     |
   _subpop_1 |   1.392669   .8860961     -.3498736    3.135211
   _subpop_2 |   8.219189   2.356169      3.585692    12.85269
     Eastern |   2.081071   .4381276      1.219476    2.942666
    Northern |   2.305608   .5842337       1.15669    3.454526
     Western |   2.812066   .7072437      1.421244    4.202889
-------------+------------------------------------------------
spg_ent_m    |
   _subpop_1 |   1.217767   .8346021     -.4235108    2.859044
   _subpop_2 |   6.606949   2.195488      2.289437    10.92446
     Eastern |   .9033907   .2521672      .4074942    1.399287
    Northern |   .8484276   .2534463      .3500156     1.34684
     Western |   1.891231    .667692       .578189    3.204273
--------------------------------------------------------------

.         drop bswt one h pg spg;

.         compress;
survquar was float now byte
survmon was float now byte
rural was float now byte
spdomain was float now byte
news was float now byte
hhsize was long now byte
h_ent_m was float now byte

. label data "Final data set. Official published poverty rates are calc
> ulated from this data set";
note: label truncated to 80 characters

.         sort hhid;

.         save "$path\work\povmeas_ent_flex.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> \work\povmeas_ent_flex.dta saved

. gen dum=1;

.         *output the national measures;
.         collapse  (mean) dum h_ent_m pg_ent_m spg_ent_m [aw=hhweight*
> hhsize];

. gen geo="National";

. gen geono=dum;

. tempfile nat;

. save `nat';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000005.tmp saved

.         *output the rural/urban measures;
.         use "$path\work\povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.         collapse  (mean) h_ent_m pg_ent_m spg_ent_m [aw=hhweight*hhsi
> ze], by(rural);

. gen geo="Rural/Urban";

. gen geono=rural;

. tempfile rur;

. save `rur';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000006.tmp saved

.         *output the North South Center measures;
.         use "$path\work\povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.         collapse  (mean) h_ent_m pg_ent_m spg_ent_m [aw=hhweight*hhsi
> ze], by(news);

. gen geo="North/Center/South";

. gen geono=news;
(1 missing value generated)

. tempfile new;

. save `new';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000007.tmp saved

.         *output the North South Center rural/urban measures;
.         use "$path\work\povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.         collapse  (mean) h_ent_m pg_ent_m spg_ent_m [aw=hhweight*hhsi
> ze], by(reg_tpi);

. gen geo="TPI - 6 regions";

. gen geono=reg_tpi;

. tempfile rtp;

. save `rtp';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000008.tmp saved

.         *output the provincial measures;
.         use "$path\work\povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.         collapse  (mean) h_ent_m pg_ent_m spg_ent_m [aw=hhweight*hhsi
> ze], by(strata);

. gen geo="Provinces";

. gen geono=strata;

. tempfile str;

. save `str';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l000009.tmp saved

.                 *output the dominios espaciais measures;
.         use "$path\work\povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.         collapse  (mean) h_ent_m pg_ent_m spg_ent_m [aw=hhweight*hhsi
> ze], by(spdomain);

. gen geo="Spatial domains";

. gen geono=spdomain;
(1 missing value generated)

. tempfile r13;

. save `r13';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000a.tmp saved

. clear;

. set obs 1;
obs was 0, now 1

. gen geo=" ";

. tempfile one;

. save `one';
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000b.tmp saved

. use          `nat';
(Final data set. Official published poverty rates are calculated from t
> his data s)

. append using `one';

. append using `rur';
geo was str8 now str11

. append using `one';

. append using `new';
geo was str11 now str18

. append using `one';

. append using `rtp';

. append using `one';

. append using `str';

. append using `one';

. append using `r13';

. outsheet geo geono h_ent_m pg_ent_m spg_ent_m dum rural news reg_tpi 
> strata spdomain using "$path/work/poverty_ent_flexBask.csv", replace 
> c ;

.         *set aside the spatial price index;
.       tempfile spi_m;

.       use "$path\work\povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.       collapse (mean) spi, by(spdomain);

.       rename spi spi_m;

.       sort spdomain;

. save `spi_m', replace;
(note: file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp not fo
> und)
file C:\Users\TEMPLE~1\AppData\Local\Temp\ST_0l00000c.tmp saved

. use `povlines_ent';
(Household master record (1 record per household))

.        sort spdomain;

.        merge spdomain using `spi';
(label lspdomain already defined)

.        tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          2 |          1       16.67       16.67
          3 |          5       83.33      100.00
------------+-----------------------------------
      Total |          6      100.00

.  drop _m;

.        sort spdomain;

.        merge spdomain using `spi_m';
(label lspdomain already defined)

.         tab _m;

     _merge |      Freq.     Percent        Cum.
------------+-----------------------------------
          3 |          6      100.00      100.00
------------+-----------------------------------
      Total |          6      100.00

.  drop _m;

. save "$path\work\povlines.dta", replace;
file C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_2011\GAPP3
> \work\povlines.dta saved

. outsheet spdomain food_povline_ent povline_ent fdshr using "$path\wor
> k\povlines.csv", replace c;

.  ********************************************************************
> *************
> * 210_povmeas_ent_flex.do               (end)
> *********************************************************************
> ************;
. log close;
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/210_povmeas_ent_flex.log
  log type:  text
 closed on:   9 Jul 2013, 11:36:19
-----------------------------------------------------------------------

. 
end of do-file

. 
.                                 do "$path/new/220_gen_results.do"    
>            /* Final poverty and inequality rates */

. *global path "C:\user\gapp"
. clear all

. set mem 999m

. 
. cap log close

. log using "$path/rep/220_gen_results.log", text replace
-----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/220_gen_results.log
  log type:  text
 opened on:   9 Jul 2013, 11:36:19

. set more off

. #delimit ;
delimiter now ;
. *****************************************************************
> * 220_gen_results.do            (start)
> *
> * Do file to generate poverty and inequality results at various
> * levels of aggregation, and save the results for each 
> * bootstrap replication in a file.
> * NOTE: for some reason, -ineqdeco- doesn't generate results
> *       for GE(0), GE(1), GE(2), Gini, etc. when an "if" condition
> *               is used, so I'm using preserve/restore blocks for
> *               sub-groups instead.
> *               Also, saving results presented a few wrinkles, but
> *               doing it via matrices works.
> *****************************************************************;
. /*
>         This file uses:
>                 work/povmeas_ent_flex.dta (the bootstrapped version)
>                 out/bs_results.dta
>         
>         This file creates:
>                 out/bs_results.dta (updated)    
> */
> 
> 
> 
> 
> * Housecleaning;
. cap mat drop rep nat rur urb full;

. * Save the poverty lines in data file created for that purpose,;
. * and store in a matrix, for saving to a data file later.;
. use "$path/work/povmeas_ent_flex.dta", clear;
(Final data set. Official published poverty rates are calculated from t
> his data s)

.         foreach reg of numlist 1/13 {;
  2.                 qui sum linpob if spdomain==`reg';
  3.                 global linpob`reg'=r(mean);
  4.         };

.         mat input rep=(0);

.         mat input linpob=($linpob1 $linpob2 $linpob3 $linpob4 $linpob
> 5 $linpob6 
>                 $linpob7 $linpob8 $linpob9 $linpob10 $linpob11 $linpo
> b12 $linpob13);

.         mat linpob = rep, linpob;

.         mat colnames linpob = rep linpob1 linpob2 linpob3 linpob4 lin
> pob5 linpob6 
>                 linpob7 linpob8 linpob9 linpob10 linpob11 linpob12 li
> npob13;

.         #delimit cr
delimiter now cr
. 
.         * Change poverty measures from percentage to index terms;
.         gen h   = h_ent_   /100

.         gen pg  = pg_ent_m /100
(8 missing values generated)

.         gen spg = spg_ent_m/100
(8 missing values generated)

. 
.         * National figures;
.         sum h [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
           h |    2714  37328356.8    .0909847   .2876404          0   
>        1

.         glob p0_nat=r(mean)

.         sum pg [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          pg |    2707    37257099    .0335154    .144077          0   
>        1

.         glob p1_nat=r(mean)

.         sum spg [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
         spg |    2707    37257099    .0218738   .1221948          0   
>        1

.         glob p2_nat=r(mean)

.         ineqdeco cr2 [aw=hhweight*hhsize]
(2 missing values generated)
 
Warning: cr2 has 10 values = 0. Not used in calculations
 
 
Percentile ratios for distribution of cr2: all valid obs.
------------------------------------------------------------
p90/p10  p90/p50  p10/p50  p75/p25  p75/p50  p25/p50
------------------------------------------------------------
  5.297    2.303    0.435    2.365    1.540    0.651
              
Generalized Entropy indices GE(a), where a = income difference
 sensitivity parameter, and Gini coefficient

----------------------------------------------------------------------
  All obs |     GE(-1)       GE(0)       GE(1)       GE(2)        Gini
----------+-----------------------------------------------------------
        0 |                                                           
----------------------------------------------------------------------
   
Atkinson indices, A(e), where e > 0 is the inequality aversion paramete
> r

----------------------------------------------
  All obs |     A(0.5)        A(1)        A(2)
----------+-----------------------------------
          |    0.13395     0.24824     0.60652
----------------------------------------------

.         glob gini_nat=$S_gini

.         glob ge0_nat =$S_i0

.         glob ge1_nat =$S_i1

.         glob ge2_nat =$S_i2

.         mat input nat=($p0_nat $p1_nat $p2_nat $gini_nat $ge0_nat $ge
> 1_nat $ge2_nat)

. 
.         * Rural figures;
.         preserve

.                 keep if rural==1
(611 observations deleted)

.                 sum h [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
           h |    2104  31604004.3    .1004401   .3006573          0   
>        1

.                 glob p0_rur=r(mean)

.                 sum pg [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          pg |    2104  31604004.3    .0375109   .1514507          0   
>        1

.                 glob p1_rur=r(mean)

.                 sum spg [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
         spg |    2104  31604004.3    .0243335   .1280274          0   
>        1

.                 glob p2_rur=r(mean)

.                 ineqdeco cr2 [aw=hhweight*hhsize]
(1 missing value generated)
 
Warning: cr2 has 8 values = 0. Not used in calculations
 
 
Percentile ratios for distribution of cr2: all valid obs.
------------------------------------------------------------
p90/p10  p90/p50  p10/p50  p75/p25  p75/p50  p25/p50
------------------------------------------------------------
  4.914    2.206    0.449    2.285    1.520    0.665
              
Generalized Entropy indices GE(a), where a = income difference
 sensitivity parameter, and Gini coefficient

----------------------------------------------------------------------
  All obs |     GE(-1)       GE(0)       GE(1)       GE(2)        Gini
----------+-----------------------------------------------------------
        0 |                                                           
----------------------------------------------------------------------
   
Atkinson indices, A(e), where e > 0 is the inequality aversion paramete
> r

----------------------------------------------
  All obs |     A(0.5)        A(1)        A(2)
----------+-----------------------------------
          |    0.12536     0.23279     0.57430
----------------------------------------------

.                 glob gini_rur=$S_gini

.                 glob ge0_rur =$S_i0

.                 glob ge1_rur =$S_i1

.                 glob ge2_rur =$S_i2

.         restore

.         mat input rur=($p0_rur $p1_rur $p2_rur $gini_rur $ge0_rur $ge
> 1_rur $ge2_rur)

. 
.         * Urban figures;
.         preserve

.                 keep if rural==0
(2105 observations deleted)

.                 sum h [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
           h |     610  5724352.44    .0387822   .1932339          0   
>        1

.                 glob p0_urb=r(mean)

.                 sum pg [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
          pg |     603  5653094.68    .0111783   .0895045          0   
>        1

.                 glob p1_urb=r(mean)

.                 sum spg [aw=hhweight*hhsize]

    Variable |     Obs      Weight        Mean   Std. Dev.       Min   
>      Max
-------------+---------------------------------------------------------
> --------
         spg |     603  5653094.68    .0081227   .0810407          0   
>        1

.                 glob p2_urb=r(mean)

.                 ineqdeco cr2 [aw=hhweight*hhsize]
(1 missing value generated)
 
Warning: cr2 has 2 values = 0. Not used in calculations
 
 
Percentile ratios for distribution of cr2: all valid obs.
------------------------------------------------------------
p90/p10  p90/p50  p10/p50  p75/p25  p75/p50  p25/p50
------------------------------------------------------------
  5.870    2.417    0.412    2.344    1.505    0.642
              
Generalized Entropy indices GE(a), where a = income difference
 sensitivity parameter, and Gini coefficient

----------------------------------------------------------------------
  All obs |     GE(-1)       GE(0)       GE(1)       GE(2)        Gini
----------+-----------------------------------------------------------
        0 |                                                           
----------------------------------------------------------------------
   
Atkinson indices, A(e), where e > 0 is the inequality aversion paramete
> r

----------------------------------------------
  All obs |     A(0.5)        A(1)        A(2)
----------+-----------------------------------
          |    0.12465     0.24593     0.76294
----------------------------------------------

.                 glob gini_urb=$S_gini

.                 glob ge0_urb =$S_i0

.                 glob ge1_urb =$S_i1

.                 glob ge2_urb =$S_i2

.         restore

.         mat input urb=($p0_urb $p1_urb $p2_urb $gini_urb $ge0_urb $ge
> 1_urb $ge2_urb)

. 
.         * Assemble the matrix pieces and save this set of estimates i
> n the data file;
.                 #delimit;
delimiter now ;
.                 mat full= rep, nat, rur, urb;

.                 mat colnames full = rep 
>                                         p0_nat  p1_nat  p2_nat  gini_
> nat  ge0_nat  ge1_nat      ge2_nat
>                                         p0_rur  p1_rur  p2_rur  gini_
> rur  ge0_rur  ge1_rur      ge2_rur
>                                         p0_urb  p1_urb  p2_urb  gini_
> urb  ge0_urb  ge1_urb      ge2_urb;

.         #delimit cr
delimiter now cr
.         mat list full

full[1,22]
          rep     p0_nat     p1_nat     p2_nat   gini_nat    ge0_nat
r1          0  .09098474  .03351541  .02187379          .          .

      ge1_nat    ge2_nat     p0_rur     p1_rur     p2_rur   gini_rur
r1          .          .  .10044005  .03751091  .02433348          .

      ge0_rur    ge1_rur    ge2_rur     p0_urb     p1_urb     p2_urb
r1          .          .          .   .0387822  .01117826  .00812272

     gini_urb    ge0_urb    ge1_urb    ge2_urb
r1          .          .          .          .

. 
. 
. drop _all

. 
. svmat full , names(col)
number of observations will be reset to 1
Press any key to continue, or Break to abort
obs was 0, now 1

.         tempfile rep

.         compress
rep was float now byte
gini_nat was float now byte
ge0_nat was float now byte
ge1_nat was float now byte
ge2_nat was float now byte
gini_rur was float now byte
ge0_rur was float now byte
ge1_rur was float now byte
ge2_rur was float now byte
gini_urb was float now byte
ge0_urb was float now byte
ge1_urb was float now byte
ge2_urb was float now byte

. 
. 
. 
. 
. 
. *****************************************************************
. * 220_gen_results.do            (end)
. *****************************************************************;
. 
. log close
      name:  <unnamed>
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/220_gen_results.log
  log type:  text
 closed on:   9 Jul 2013, 11:36:19
-----------------------------------------------------------------------

. 
end of do-file

.                 
. *quietly        do "$path/new/230_assets_possession"                 
>    /* Extra: Deprivation */
. *quietly        do "$path/new/240_compare_nat_acc.do"                
>    /* Extra: Compare survey with national accounts */
. 
. 
. 
. *********************************************************************
> *;
. * 000_boom.do   (end)
. *********************************************************************
> *;
. 
. log close log_000_boom
      name:  log_000_boom
       log:  C:\Users\Templeton\Desktop\GAPP\GAPP-UGANDA-HARUNA\UNPS_20
> 11\GAPP3/rep/000_boom.log
  log type:  text
 closed on:   9 Jul 2013, 11:36:19
-----------------------------------------------------------------------
