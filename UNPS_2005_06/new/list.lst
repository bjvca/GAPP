GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/product_flex.inc
  20  100
  21  105
  22  106
  23  107
  24  108
  25  109
  26  110
  27  111
  28  112
  29  113
  30  114
  31  115
  32  116
  33  117
  34  119
  35  121
  36  122
  37  123
  38  125
  39  127
  40  131
  41  132
  42  134
  43  135
  44  136
  45  137
  46  138
  47  139
  48  140
  49  141
  50  143
  51  144
  52  145
  53  146
  54  147
  55  149
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  150
  57  154
  58  /
  59   
  60   reg        5 spatial domains /1*5/
  61   r(reg)     all included spatial regions /1*5/
  62   
  63   ptit       price table titles
  64  /
  65    count      number of observations making up the price average
  66    price_uw5  average price
  67  /
  68   
  69   qtit       quantity table titles
  70  /
  71    calperg          calories per gram
  72    quan5            quantities in grams
  73    calpp            calories per person by region
  74    povline_a_flex5    value of flexible food bundle
  75  /
  76   
  77   
  78    posquan(cod,reg)  mark positive quantities in each region
  79    posprice(cod,reg) mark the existence of acceptable price info in each region
  80    chkprice(cod,reg) ensure that prices exist once all estimated
  81  ;
  82   
  83  alias(reg,regq);
  84  alias(r,rq);
  85   
  86  SCALAR
  87     caltarg single level of calories to target across regions / 2150 /
  88   ;
  89   
  90  PARAMETERS
  91   
  92    shr(cod,reg)         shares in each basket by region
  93    chkshr(reg)          check that the calculated shares sum to .9
  94    shrmiss(regq,reg)    shares missing in each region pair
  95    povline_ali(reg)       food poverty line
  96    perc_chng(reg)       percent change in line
  97    finmiss(reg)         final missing shares post optimization procedure
  98   ;
  99   
 100  Table  price(cod,reg,ptit)  price and related information
 101                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/price_unit_flex.inc
 103  100     .       1       29      .1851448
 104  100     .       2       78      .0927393
 105  100     .       3       90      .1139404
 106  100     .       4       13      .0924756
 107  100     .       5       239     .0969887
 108  105     .       1       35      .1486341
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  105     .       2       96      .128187
 110  105     .       3       194     .1420871
 111  105     .       4       81      .0804756
 112  105     .       5       173     .1368257
 113  106     .       1       2       .2789269
 114  106     .       2       1       .1572857
 115  106     .       3       23      .1334608
 116  106     .       4       5       .0824318
 117  106     .       5       7       .0827764
 118  107     .       1       24      .0567529
 119  107     .       2       77      .0568465
 120  107     .       3       102     .0583795
 121  107     .       4       90      .0262794
 122  107     .       5       123     .0721122
 123  108     .       1       2       .5066882
 124  108     .       2       18      .3000092
 125  108     .       3       147     .4115133
 126  108     .       4       78      .4556343
 127  108     .       5       86      .4108685
 128  109     .       1       2       .5405405
 129  109     .       2       5       .2608202
 130  109     .       3       5       .5080096
 131  109     .       5       65      .1547472
 132  110     .       1       27      1.007131
 133  110     .       2       12      .8693056
 134  110     .       3       69      .995801
 135  110     .       4       10      1.034503
 136  110     .       5       31      1.023896
 137  111     .       2       2       .1746173
 138  111     .       3       27      .2553347
 139  111     .       4       22      .2825762
 140  111     .       5       13      .2827438
 141  112     .       1       3       .3018049
 142  112     .       2       18      .2043589
 143  112     .       3       53      .1775514
 144  112     .       4       40      .120828
 145  112     .       5       26      .1613695
 146  113     .       1       45      .5672184
 147  113     .       2       102     .5049133
 148  113     .       3       195     .4922434
 149  113     .       4       88      .3153556
 150  113     .       5       164     .5114003
 151  114     .       1       18      1.036372
 152  114     .       2       12      1.047478
 153  114     .       3       27      1.201046
 154  114     .       4       7       1.378859
 155  114     .       5       27      1.136247
 156  115     .       1       2       .5548797
 157  115     .       2       13      .4867875
 158  115     .       3       72      .4960295
 159  115     .       4       18      .3265724
 160  115     .       5       79      .5322714
 161  116     .       2       1       .0471857
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  116     .       3       94      .2749713
 163  116     .       4       94      .2869754
 164  116     .       5       22      .3465961
 165  117     .       1       15      2.405459
 166  117     .       2       18      2.124136
 167  117     .       3       87      2.662825
 168  117     .       4       34      2.257014
 169  117     .       5       73      2.284506
 170  119     .       2       2       1.821458
 171  119     .       3       28      2.764682
 172  119     .       4       19      1.89221
 173  119     .       5       19      2.589204
 174  121     .       1       1       3.2
 175  121     .       2       7       2.72601
 176  121     .       3       31      2.674658
 177  121     .       4       19      1.997772
 178  121     .       5       9       3.007816
 179  122     .       1       17      .3777179
 180  122     .       2       41      .4280059
 181  122     .       3       73      .6802151
 182  122     .       4       23      .2935216
 183  122     .       5       22      .7945791
 184  123     .       1       15      .8649204
 185  123     .       2       30      .5905852
 186  123     .       3       121     .7707288
 187  123     .       4       91      1.182513
 188  123     .       5       32      2.147732
 189  125     .       1       20      .1138936
 190  125     .       2       40      .0838887
 191  125     .       3       95      .0642055
 192  125     .       4       24      .028081
 193  125     .       5       71      .0470094
 194  127     .       1       41      1.643712
 195  127     .       2       72      1.535658
 196  127     .       3       235     1.630541
 197  127     .       4       171     1.971094
 198  127     .       5       71      2.203394
 199  131     .       1       7       .3482102
 200  131     .       2       3       .1337535
 201  131     .       3       13      .1789075
 202  131     .       4       2       .561581
 203  131     .       5       23      .2673855
 204  132     .       1       3       .2252948
 205  132     .       2       11      .078499
 206  132     .       3       41      .0815934
 207  132     .       4       24      .0363411
 208  132     .       5       22      .0623108
 209  134     .       1       10      .5646855
 210  134     .       2       54      .8495597
 211  134     .       3       47      .8683881
 212  134     .       4       12      .2977095
 213  134     .       5       53      .2318795
 214  135     .       1       50      .3018003
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  135     .       2       101     .3441432
 216  135     .       3       220     .2889329
 217  135     .       4       158     .1880119
 218  135     .       5       155     .2574386
 219  136     .       1       50      .0852757
 220  136     .       2       106     .0837157
 221  136     .       3       245     .100915
 222  136     .       4       108     .0893846
 223  136     .       5       162     .1486932
 224  137     .       1       15      .3572772
 225  137     .       2       10      .254757
 226  137     .       3       56      .32258
 227  137     .       4       25      .3558609
 228  137     .       5       34      .3002593
 229  138     .       1       8       .3286586
 230  138     .       2       52      .1905618
 231  138     .       3       166     .249789
 232  138     .       4       50      .1911739
 233  138     .       5       120     .2494295
 234  139     .       1       13      .2647784
 235  139     .       2       33      .2101518
 236  139     .       3       183     .2560554
 237  139     .       4       229     .1816912
 238  139     .       5       33      .2869628
 239  140     .       1       9       .5458367
 240  140     .       2       16      .8250768
 241  140     .       3       27      .7775206
 242  140     .       4       12      .2971697
 243  140     .       5       66      .7310176
 244  141     .       1       38      .7751141
 245  141     .       2       97      .7199574
 246  141     .       3       183     .731385
 247  141     .       4       120     1.152958
 248  141     .       5       237     .8187511
 249  143     .       1       1       1.599934
 250  143     .       2       17      1.234231
 251  143     .       3       67      1.375867
 252  143     .       4       19      .5732234
 253  143     .       5       37      1.97353
 254  144     .       1       35      1.378824
 255  144     .       2       36      1.3388
 256  144     .       3       87      1.195922
 257  144     .       4       1       1.75
 258  144     .       5       63      1.349267
 259  145     .       1       1       .8493429
 260  145     .       2       1       1.777704
 261  145     .       3       28      .8768724
 262  145     .       4       26      .4177449
 263  145     .       5       12      .7176796
 264  146     .       1       2       1.668128
 265  146     .       2       2       .9678238
 266  146     .       3       12      1.346506
 267  146     .       4       39      .8851068
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  146     .       5       6       1.465066
 269  147     .       1       46      1.451796
 270  147     .       2       82      1.579278
 271  147     .       3       242     1.72753
 272  147     .       4       85      1.517182
 273  147     .       5       106     1.777221
 274  149     .       1       50      .9088961
 275  149     .       2       111     .8095528
 276  149     .       3       223     .8053351
 277  149     .       4       90      .6842352
 278  149     .       5       84      1.175156
 279  150     .       1       54      .418062
 280  150     .       2       148     .4069234
 281  150     .       3       337     .4369801
 282  150     .       4       269     .3442951
 283  150     .       5       302     .5530062
 284  154     .       1       1       1.887429
 285  154     .       2       3       .3502569
 286  154     .       3       14      .7775838
 287  154     .       4       24      .2577838
 288  154     .       5       22      .3058342
 289  ;
 290   
 291  Table   quan(cod,reg,qtit)   quantity and related information
 292                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/quan_flex.inc
 294  100     .       1       6.8900000e-01   1.7349467e+02   2.1955244e+03   420.1909
 295  105     .       1       1.0164000e+00   2.4664812e+02   2.1955244e+03   420.1909
 296  107     .       1       1.3440000e+00   4.9840436e+02   2.1955244e+03   420.1909
 297  110     .       1       3.6100000e+00   3.8003368e+01   2.1955244e+03   420.1909
 298  113     .       1       3.6500000e+00   9.8978477e+01   2.1955244e+03   420.1909
 299  114     .       1       2.6600000e+00   6.5269680e+00   2.1955244e+03   420.1909
 300  117     .       1       1.7982000e+00   5.6504793e+00   2.1955244e+03   420.1909
 301  122     .       1       6.1610000e-01   3.4132664e+01   2.1955244e+03   420.1909
 302  123     .       1       3.7500000e+00   1.5423824e+01   2.1955244e+03   420.1909
 303  125     .       1       6.0000000e-01   1.0070932e+02   2.1955244e+03   420.1909
 304  127     .       1       8.8400000e+00   7.3903179e+00   2.1955244e+03   420.1909
 305  134     .       1       4.9400000e-01   1.1064501e+01   2.1955244e+03   420.1909
 306  135     .       1       3.6400000e-01   2.0723692e+01   2.1955244e+03   420.1909
 307  136     .       1       1.6380000e-01   1.3921194e+02   2.1955244e+03   420.1909
 308  137     .       1       2.6400000e-01   1.2831531e+01   2.1955244e+03   420.1909
 309  141     .       1       3.1300000e+00   3.0607672e+01   2.1955244e+03   420.1909
 310  144     .       1       5.8800000e+00   1.2541195e+01   2.1955244e+03   420.1909
 311  147     .       1       3.8700000e+00   2.7469572e+01   2.1955244e+03   420.1909
 312  149     .       1       0.0000000e+00   3.6622889e+00   2.1955244e+03   420.1909
 313  150     .       1       0.0000000e+00   7.8854632e+00   2.1955244e+03   420.1909
 314  100     .       2       6.8900000e-01   3.7331342e+02   2.1336050e+03   300.2922
 315  105     .       2       1.0164000e+00   3.7064560e+02   2.1336050e+03   300.2922
 316  107     .       2       1.3440000e+00   5.1464954e+02   2.1336050e+03   300.2922
 317  108     .       2       3.1400000e+00   1.4908692e+01   2.1336050e+03   300.2922
 318  112     .       2       9.4600000e-01   1.9156055e+01   2.1336050e+03   300.2922
 319  113     .       2       3.6500000e+00   8.0761238e+01   2.1336050e+03   300.2922
 320  117     .       2       1.7982000e+00   2.6484451e+00   2.1336050e+03   300.2922
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  122     .       2       6.1610000e-01   1.7957857e+01   2.1336050e+03   300.2922
 322  123     .       2       3.7500000e+00   5.0828342e+00   2.1336050e+03   300.2922
 323  125     .       2       6.0000000e-01   1.1924121e+02   2.1336050e+03   300.2922
 324  127     .       2       8.8400000e+00   2.3588974e+00   2.1336050e+03   300.2922
 325  134     .       2       4.9400000e-01   1.1801046e+01   2.1336050e+03   300.2922
 326  136     .       2       1.6380000e-01   7.1472694e+01   2.1336050e+03   300.2922
 327  138     .       2       2.0160000e-01   3.1869028e+01   2.1336050e+03   300.2922
 328  140     .       2       1.0300000e+00   7.5329304e+00   2.1336050e+03   300.2922
 329  141     .       2       3.1300000e+00   3.6401894e+01   2.1336050e+03   300.2922
 330  143     .       2       5.6700000e+00   2.2426896e+00   2.1336050e+03   300.2922
 331  144     .       2       5.8800000e+00   3.0541198e+00   2.1336050e+03   300.2922
 332  147     .       2       3.8700000e+00   9.8108759e+00   2.1336050e+03   300.2922
 333  150     .       2       0.0000000e+00   7.1614833e+00   2.1336050e+03   300.2922
 334  100     .       3       6.8900000e-01   2.0003983e+02   2.1069595e+03   367.3066
 335  105     .       3       1.0164000e+00   3.4237308e+02   2.1069595e+03   367.3066
 336  106     .       3       3.4300000e+00   3.0205076e+01   2.1069595e+03   367.3066
 337  107     .       3       1.3440000e+00   1.8746495e+02   2.1069595e+03   367.3066
 338  108     .       3       3.1400000e+00   7.3216034e+01   2.1069595e+03   367.3066
 339  110     .       3       3.6100000e+00   6.4796581e+00   2.1069595e+03   367.3066
 340  112     .       3       9.4600000e-01   4.2388889e+01   2.1069595e+03   367.3066
 341  113     .       3       3.6500000e+00   8.5652870e+01   2.1069595e+03   367.3066
 342  115     .       3       3.7800000e+00   2.0120161e+01   2.1069595e+03   367.3066
 343  116     .       3       3.3900000e+00   2.1387505e+01   2.1069595e+03   367.3066
 344  117     .       3       1.7982000e+00   4.0024486e+00   2.1069595e+03   367.3066
 345  119     .       3       1.2210000e+00   1.4218923e+00   2.1069595e+03   367.3066
 346  121     .       3       1.4835000e+00   2.2320414e+00   2.1069595e+03   367.3066
 347  122     .       3       6.1610000e-01   1.4116833e+01   2.1069595e+03   367.3066
 348  123     .       3       3.7500000e+00   1.1912915e+01   2.1069595e+03   367.3066
 349  125     .       3       6.0000000e-01   1.3679984e+02   2.1069595e+03   367.3066
 350  127     .       3       8.8400000e+00   5.7621784e+00   2.1069595e+03   367.3066
 351  132     .       3       4.3310000e-01   4.4342453e+01   2.1069595e+03   367.3066
 352  134     .       3       4.9400000e-01   4.6534009e+00   2.1069595e+03   367.3066
 353  136     .       3       1.6380000e-01   8.4782425e+01   2.1069595e+03   367.3066
 354  138     .       3       2.0160000e-01   3.5798809e+01   2.1069595e+03   367.3066
 355  139     .       3       2.6100000e-01   4.4250061e+01   2.1069595e+03   367.3066
 356  141     .       3       3.1300000e+00   2.0853920e+01   2.1069595e+03   367.3066
 357  143     .       3       5.6700000e+00   3.2869027e+00   2.1069595e+03   367.3066
 358  144     .       3       5.8800000e+00   4.0922747e+00   2.1069595e+03   367.3066
 359  147     .       3       3.8700000e+00   1.1601256e+01   2.1069595e+03   367.3066
 360  150     .       3       0.0000000e+00   7.5763597e+00   2.1069595e+03   367.3066
 361  105     .       4       1.0164000e+00   1.1069038e+02   2.1167817e+03   228.4247
 362  107     .       4       1.3440000e+00   5.5200427e+02   2.1167817e+03   228.4247
 363  108     .       4       3.1400000e+00   5.5945049e+01   2.1167817e+03   228.4247
 364  111     .       4       3.6500000e+00   1.3439003e+01   2.1167817e+03   228.4247
 365  112     .       4       9.4600000e-01   3.4576595e+01   2.1167817e+03   228.4247
 366  113     .       4       3.6500000e+00   6.0073540e+01   2.1167817e+03   228.4247
 367  115     .       4       3.7800000e+00   1.1238276e+01   2.1167817e+03   228.4247
 368  116     .       4       3.3900000e+00   7.1328629e+01   2.1167817e+03   228.4247
 369  117     .       4       1.7982000e+00   1.9557328e+00   2.1167817e+03   228.4247
 370  119     .       4       1.2210000e+00   1.4554708e+00   2.1167817e+03   228.4247
 371  121     .       4       1.4835000e+00   1.4825587e+00   2.1167817e+03   228.4247
 372  123     .       4       3.7500000e+00   6.5220289e+00   2.1167817e+03   228.4247
 373  125     .       4       6.0000000e-01   1.3077924e+02   2.1167817e+03   228.4247
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374  127     .       4       8.8400000e+00   3.7268276e+00   2.1167817e+03   228.4247
 375  132     .       4       4.3310000e-01   1.0368526e+02   2.1167817e+03   228.4247
 376  136     .       4       1.6380000e-01   2.8716206e+01   2.1167817e+03   228.4247
 377  139     .       4       2.6100000e-01   8.2831932e+01   2.1167817e+03   228.4247
 378  141     .       4       3.1300000e+00   2.5420773e+01   2.1167817e+03   228.4247
 379  143     .       4       5.6700000e+00   4.2402864e+00   2.1167817e+03   228.4247
 380  145     .       4       8.1000000e-01   1.1563313e+01   2.1167817e+03   228.4247
 381  146     .       4       5.7300000e+00   7.7501216e+00   2.1167817e+03   228.4247
 382  147     .       4       3.8700000e+00   3.7151551e+00   2.1167817e+03   228.4247
 383  150     .       4       0.0000000e+00   9.8055744e+00   2.1167817e+03   228.4247
 384  154     .       4       8.1000000e-01   1.1366471e+01   2.1167817e+03   228.4247
 385  100     .       5       6.8900000e-01   6.9422827e+02   2.1469001e+03   358.9373
 386  105     .       5       1.0164000e+00   2.6959277e+02   2.1469001e+03   358.9373
 387  107     .       5       1.3440000e+00   3.1829550e+02   2.1469001e+03   358.9373
 388  108     .       5       3.1400000e+00   4.6012058e+01   2.1469001e+03   358.9373
 389  109     .       5       6.4680000e-01   8.9381744e+01   2.1469001e+03   358.9373
 390  110     .       5       3.6100000e+00   2.6861184e+00   2.1469001e+03   358.9373
 391  112     .       5       9.4600000e-01   2.3690933e+01   2.1469001e+03   358.9373
 392  113     .       5       3.6500000e+00   5.0155460e+01   2.1469001e+03   358.9373
 393  115     .       5       3.7800000e+00   1.7431679e+01   2.1469001e+03   358.9373
 394  117     .       5       1.7982000e+00   5.5260191e+00   2.1469001e+03   358.9373
 395  119     .       5       1.2210000e+00   1.5024567e+00   2.1469001e+03   358.9373
 396  123     .       5       3.7500000e+00   2.0940821e+00   2.1469001e+03   358.9373
 397  125     .       5       6.0000000e-01   1.4309869e+02   2.1469001e+03   358.9373
 398  127     .       5       8.8400000e+00   1.2507998e+00   2.1469001e+03   358.9373
 399  136     .       5       1.6380000e-01   3.5988949e+01   2.1469001e+03   358.9373
 400  138     .       5       2.0160000e-01   1.8728233e+01   2.1469001e+03   358.9373
 401  140     .       5       1.0300000e+00   1.4973380e+01   2.1469001e+03   358.9373
 402  141     .       5       3.1300000e+00   5.4807800e+01   2.1469001e+03   358.9373
 403  143     .       5       5.6700000e+00   1.4112487e+00   2.1469001e+03   358.9373
 404  144     .       5       5.8800000e+00   4.3725419e+00   2.1469001e+03   358.9373
 405  147     .       5       3.8700000e+00   4.6289225e+00   2.1469001e+03   358.9373
 406  150     .       5       0.0000000e+00   7.4718809e+00   2.1469001e+03   358.9373
 407  154     .       5       8.1000000e-01   1.3904636e+01   2.1469001e+03   358.9373
 408  ;
 409   
 410    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 411                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 412                         quan(cod,reg,'povline_a_flex5');
 413   
 414    chkshr(reg)=sum(cod,shr(cod,reg));
 415   
 416  loop(reg,
 417    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 418  );
 419   
 420   
 421  *turn on dynamic sets to indicate positive quantities and existence of
 422  *price info for each region
 423   
 424   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 425                        AND price(cod,reg,'count') gt 4) = yes;
 426   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         03/11/14 10:46:30 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 428   
 429   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 430   display shrmiss;
 431   
 432    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 433                                             quan(cod,reg,'quan5'))/.9;
 434   
 435    display povline_ali;
 436   
 437   
 438  *boost values so shares sum to one;
 439  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 440   
 441  *fill out price matrix with maximum observed price outside of Maputo
 442   
 443  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 444           loop(r,
 445                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 446                                                price(cod,r,'price_uw5'));
 447           );
 448  );
 449   
 450  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 451   
 452  display 'should be an empty set', chkprice;
 453   
 454   
 455   
 456   
 457  Variables
 458     z                objective value
 459     q(cod,reg)       revised maximum entropy quanties in grams
 460     s(cod,reg)       derived maximum entropy shares
 461     povline(regq,reg)  estimated revealed preference matrix
 462  ;
 463   
 464   
 465  Equations
 466     obj              objective equation
 467     rev(regq,reg)    revealed preference tests
 468     deflin(regq,reg) define revealed preference matrix
 469     defshr(cod,regq) define the endogenous budget shares
 470     cals(regq)       ensure that each bundle hits the calorie
 471   
 472  ;
 473   
 474     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 475                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 476   
 477     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 478                            q(cod,rq)*price(cod,r,'price_uw5'));
 479   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 481   
 482     defshr(cod,rq)$posquan(cod,rq) ..
 483               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 484   
 485     cals(rq) .. sum(cod$posquan(cod,rq),
 486                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 487   
 488  *set bounds and starting values for variables
 489   
 490    q.lo(cod,reg)=.00001;
 491    q.up(cod,reg)=inf;
 492    q.l(cod,reg)=quan(cod,reg,'quan5');
 493    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 494   
 495    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 496                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 497   
 498   
 499    display povline.l;
 500   
 501  *print the revealed preference matrix prior to optimisation;
 502  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/povline_rp_inout.csv"/;
 503  put povline_rp;
 504  povline_rp.pc=5;
 505  povline_rp.nd=0;
 506  put " ";
 507  loop(reg,
 508        put reg.tl;
 509  );
 510  put /;
 511  loop(regq,
 512       put regq.tl;
 513       loop(reg,
 514           put povline.l(regq,reg);
 515       );
 516       put /;
 517  );
 518  put /; put /; put /;
 519   
 520     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 521     s.lo(cod,regq)=.0001;
 522     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 523   
 524   
 525     model revpref /obj, deflin, rev, defshr, cals/;
 526   
 527     revpref.holdfixed=1;
 528   
 529     option limrow=100;
 530   
 531     option nlp=conopt;
 532   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533     solve revpref using nlp minimizing z;
 534   
 535     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 536     display "this is without adjustment for calorie target or 90%", povline.l;
 537   
 538  put /;
 539  loop(rq,
 540       put rq.tl;
 541       loop(r,
 542           put povline.l(rq,r);
 543       );
 544       put /;
 545  );
 546  put /;
 547   
 548   
 549  PARAMETERS
 550     qent(cod,reg)  entropy quantities with all adjustments accounted for
 551     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 552    ;
 553  *readjust quantities to hit regional calorie target and calculate line;
 554     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 555   
 556     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 557                                             qent(cod,r))/.9;
 558   
 559     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 560   
 561     display perc_chng, povline_ent, povline_ali;
 562   
 563     file res/"/home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/qent.csv"/;
 564   
 565     put res;
 566     res.pc=5;
 567     res.nd=6;
 568   
 569  *recall that the basket reflects 90% of expenditure and 95% of calories";
 570     put "spdomain" ;
 571     put "product" ;
 572     put "quan5";
 573     put "qent";
 574     put "price";
 575     put "calperg";
 576   
 577     put /;
 578   
 579     loop(reg,
 580         loop(cod,
 581             put reg.tl;
 582             put cod.tl;
 583             put quan(cod,reg,'quan5');
 584             put qent(cod,reg);
 585             put price(cod,reg,'price_uw5')
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 586             put quan(cod,reg,'calperg');
 587             put /;
 588         );
 589     );
 590   
 591     file lin/"/home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/povline_food_ent.csv"/;
 592   
 593     put lin;
 594     lin.pc=5;
 595  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 596   
 597     put "spdomain";
 598     put "flex";
 599     put "ent";
 600     put /;
 601   
 602     loop(reg,
 603           put reg.tl;
 604           put povline_ali(reg);
 605           put povline_ent(reg);
 606           put /;
 607     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/product_flex.inc
     3      102 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/price_unit_flex.inc
     4      293 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/quan_flex.inc


COMPILATION TIME     =        0.003 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    430 PARAMETER shrmiss  shares missing in each region pair

            1           2           4

1                               0.041
2       0.037                   0.014
3       0.206       0.038       0.013
4       0.368       0.182
5       0.158       0.023       0.055


----    435 PARAMETER povline_ali  food poverty line

1 420.191,    2 300.292,    3 367.307,    4 228.425,    5 358.937


----    452 should be an empty set

----    452 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    499 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4           5

1     378.172     341.243     372.000     315.258     409.554
2     328.165     270.263     293.940     221.892     303.158
3     371.017     295.344     330.576     266.743     355.183
4     290.908     235.708     265.112     205.582     288.642
5     443.985     305.986     361.538     262.729     323.044

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


---- obj  =E=  objective equation

obj..  z - (1)*s(100,1) - (1)*s(100,2) - (1)*s(100,3) - (1)*s(100,5) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(105,5) - (1)*s(106,3) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(107,5) - (1)*s(108,2)
     
      - (1)*s(108,3) - (1)*s(108,4) - (1)*s(108,5) - (1)*s(109,5) - (1)*s(110,1) - (1)*s(110,3) - (1)*s(110,5) - (1)*s(111,4) - (1)*s(112,2) - (1)*s(112,3) - (1)*s(112,4) - (1)*s(112,5) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4)
     
      - (1)*s(113,5) - (1)*s(114,1) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(115,5) - (1)*s(116,3) - (1)*s(116,4) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(117,5) - (1)*s(119,3) - (1)*s(119,4) - (1)*s(119,5) - (1)*s(121,3)
     
      - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,3) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(123,5) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4) - (1)*s(125,5) - (1)*s(127,1) - (1)*s(127,2)
     
      - (1)*s(127,3) - (1)*s(127,4) - (1)*s(127,5) - (1)*s(132,3) - (1)*s(132,4) - (1)*s(134,1) - (1)*s(134,2) - (1)*s(134,3) - (1)*s(135,1) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(136,5) - (1)*s(137,1) - (1)*s(138,2)
     
      - (1)*s(138,3) - (1)*s(138,5) - (1)*s(139,3) - (1)*s(139,4) - (1)*s(140,2) - (1)*s(140,5) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(141,5) - (1)*s(143,2) - (1)*s(143,3) - (1)*s(143,4) - (1)*s(143,5) - (1)*s(144,1)
     
      - (1)*s(144,2) - (1)*s(144,3) - (1)*s(144,5) - (1)*s(145,4) - (1)*s(146,4) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(147,5) - (1)*s(149,1) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(150,5)
     
      - (1)*s(154,4) - (1)*s(154,5) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 0.1851448*q(100,1) - 0.1486341*q(105,1) - 0.0567529*q(107,1) - 1.007131*q(110,1) - 0.5672184*q(113,1) - 1.036372*q(114,1) - 2.405459*q(117,1) - 0.3777179*q(122,1) - 0.8649204*q(123,1) - 0.1138936*q(125,1) - 1.643712*q(127,1)
     
      - 0.5646855*q(134,1) - 0.3018003*q(135,1) - 0.0852757*q(136,1) - 0.3572772*q(137,1) - 0.7751141*q(141,1) - 1.378824*q(144,1) - 1.451796*q(147,1) - 0.9088961*q(149,1) - 0.418062*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 0.0927393*q(100,1) - 0.128187*q(105,1) - 0.0568465*q(107,1) - 0.8693056*q(110,1) - 0.5049133*q(113,1) - 1.047478*q(114,1) - 2.124136*q(117,1) - 0.4280059*q(122,1) - 0.5905852*q(123,1) - 0.0838887*q(125,1) - 1.535658*q(127,1)
     
      - 0.8495597*q(134,1) - 0.3441432*q(135,1) - 0.0837157*q(136,1) - 0.254757*q(137,1) - 0.7199574*q(141,1) - 1.3388*q(144,1) - 1.579278*q(147,1) - 0.8095528*q(149,1) - 0.4069234*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.1139404*q(100,1) - 0.1420871*q(105,1) - 0.0583795*q(107,1) - 0.995801*q(110,1) - 0.4922434*q(113,1) - 1.201046*q(114,1) - 2.662825*q(117,1) - 0.6802151*q(122,1) - 0.7707288*q(123,1) - 0.0642055*q(125,1) - 1.630541*q(127,1)
     
      - 0.8683881*q(134,1) - 0.2889329*q(135,1) - 0.100915*q(136,1) - 0.32258*q(137,1) - 0.731385*q(141,1) - 1.195922*q(144,1) - 1.72753*q(147,1) - 0.8053351*q(149,1) - 0.4369801*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 0.0924756*q(100,1) - 0.0804756*q(105,1) - 0.0262794*q(107,1) - 1.034503*q(110,1) - 0.3153556*q(113,1) - 1.378859*q(114,1) - 2.257014*q(117,1) - 0.2935216*q(122,1) - 1.182513*q(123,1) - 0.028081*q(125,1) - 1.971094*q(127,1)
     
      - 0.2977095*q(134,1) - 0.1880119*q(135,1) - 0.0893846*q(136,1) - 0.3558609*q(137,1) - 1.152958*q(141,1) - 1.75*q(144,1) - 1.517182*q(147,1) - 0.6842352*q(149,1) - 0.3442951*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(1,5)..  - 0.0969887*q(100,1) - 0.1368257*q(105,1) - 0.0721122*q(107,1) - 1.023896*q(110,1) - 0.5114003*q(113,1) - 1.136247*q(114,1) - 2.284506*q(117,1) - 0.7945791*q(122,1) - 2.147732*q(123,1) - 0.0470094*q(125,1) - 2.203394*q(127,1)
     
      - 0.2318795*q(134,1) - 0.2574386*q(135,1) - 0.1486932*q(136,1) - 0.3002593*q(137,1) - 0.8187511*q(141,1) - 1.349267*q(144,1) - 1.777221*q(147,1) - 1.175156*q(149,1) - 0.5530062*q(150,1) + povline(1,5) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 0.1851448*q(100,2) - 0.1486341*q(105,2) - 0.0567529*q(107,2) - 0.5066882*q(108,2) - 0.3018049*q(112,2) - 0.5672184*q(113,2) - 2.405459*q(117,2) - 0.3777179*q(122,2) - 0.8649204*q(123,2) - 0.1138936*q(125,2) - 1.643712*q(127,2)
     
      - 0.5646855*q(134,2) - 0.0852757*q(136,2) - 0.3286586*q(138,2) - 0.5458367*q(140,2) - 0.7751141*q(141,2) - 1.599934*q(143,2) - 1.378824*q(144,2) - 1.451796*q(147,2) - 0.418062*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 0.0927393*q(100,2) - 0.128187*q(105,2) - 0.0568465*q(107,2) - 0.3000092*q(108,2) - 0.2043589*q(112,2) - 0.5049133*q(113,2) - 2.124136*q(117,2) - 0.4280059*q(122,2) - 0.5905852*q(123,2) - 0.0838887*q(125,2) - 1.535658*q(127,2)
     
      - 0.8495597*q(134,2) - 0.0837157*q(136,2) - 0.1905618*q(138,2) - 0.8250768*q(140,2) - 0.7199574*q(141,2) - 1.234231*q(143,2) - 1.3388*q(144,2) - 1.579278*q(147,2) - 0.4069234*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 0.1139404*q(100,2) - 0.1420871*q(105,2) - 0.0583795*q(107,2) - 0.4115133*q(108,2) - 0.1775514*q(112,2) - 0.4922434*q(113,2) - 2.662825*q(117,2) - 0.6802151*q(122,2) - 0.7707288*q(123,2) - 0.0642055*q(125,2) - 1.630541*q(127,2)
     
      - 0.8683881*q(134,2) - 0.100915*q(136,2) - 0.249789*q(138,2) - 0.7775206*q(140,2) - 0.731385*q(141,2) - 1.375867*q(143,2) - 1.195922*q(144,2) - 1.72753*q(147,2) - 0.4369801*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     deflin  =E=  define revealed preference matrix

deflin(2,4)..  - 0.0924756*q(100,2) - 0.0804756*q(105,2) - 0.0262794*q(107,2) - 0.4556343*q(108,2) - 0.120828*q(112,2) - 0.3153556*q(113,2) - 2.257014*q(117,2) - 0.2935216*q(122,2) - 1.182513*q(123,2) - 0.028081*q(125,2) - 1.971094*q(127,2)
     
      - 0.2977095*q(134,2) - 0.0893846*q(136,2) - 0.1911739*q(138,2) - 0.2971697*q(140,2) - 1.152958*q(141,2) - 0.5732234*q(143,2) - 1.75*q(144,2) - 1.517182*q(147,2) - 0.3442951*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(2,5)..  - 0.0969887*q(100,2) - 0.1368257*q(105,2) - 0.0721122*q(107,2) - 0.4108685*q(108,2) - 0.1613695*q(112,2) - 0.5114003*q(113,2) - 2.284506*q(117,2) - 0.7945791*q(122,2) - 2.147732*q(123,2) - 0.0470094*q(125,2) - 2.203394*q(127,2)
     
      - 0.2318795*q(134,2) - 0.1486932*q(136,2) - 0.2494295*q(138,2) - 0.7310176*q(140,2) - 0.8187511*q(141,2) - 1.97353*q(143,2) - 1.349267*q(144,2) - 1.777221*q(147,2) - 0.5530062*q(150,2) + povline(2,5) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 0.1851448*q(100,3) - 0.1486341*q(105,3) - 0.2789269*q(106,3) - 0.0567529*q(107,3) - 0.5066882*q(108,3) - 1.007131*q(110,3) - 0.3018049*q(112,3) - 0.5672184*q(113,3) - 0.5548797*q(115,3) - 2.405459*q(117,3) - 3.2*q(121,3)
     
      - 0.3777179*q(122,3) - 0.8649204*q(123,3) - 0.1138936*q(125,3) - 1.643712*q(127,3) - 0.2252948*q(132,3) - 0.5646855*q(134,3) - 0.0852757*q(136,3) - 0.3286586*q(138,3) - 0.2647784*q(139,3) - 0.7751141*q(141,3) - 1.599934*q(143,3) - 1.378824*q(144,3)
     
      - 1.451796*q(147,3) - 0.418062*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 0.0927393*q(100,3) - 0.128187*q(105,3) - 0.1572857*q(106,3) - 0.0568465*q(107,3) - 0.3000092*q(108,3) - 0.8693056*q(110,3) - 0.2043589*q(112,3) - 0.5049133*q(113,3) - 0.4867875*q(115,3) - 0.0471857*q(116,3) - 2.124136*q(117,3)
     
      - 1.821458*q(119,3) - 2.72601*q(121,3) - 0.4280059*q(122,3) - 0.5905852*q(123,3) - 0.0838887*q(125,3) - 1.535658*q(127,3) - 0.078499*q(132,3) - 0.8495597*q(134,3) - 0.0837157*q(136,3) - 0.1905618*q(138,3) - 0.2101518*q(139,3) - 0.7199574*q(141,3)
     
      - 1.234231*q(143,3) - 1.3388*q(144,3) - 1.579278*q(147,3) - 0.4069234*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.1139404*q(100,3) - 0.1420871*q(105,3) - 0.1334608*q(106,3) - 0.0583795*q(107,3) - 0.4115133*q(108,3) - 0.995801*q(110,3) - 0.1775514*q(112,3) - 0.4922434*q(113,3) - 0.4960295*q(115,3) - 0.2749713*q(116,3) - 2.662825*q(117,3)
     
      - 2.764682*q(119,3) - 2.674658*q(121,3) - 0.6802151*q(122,3) - 0.7707288*q(123,3) - 0.0642055*q(125,3) - 1.630541*q(127,3) - 0.0815934*q(132,3) - 0.8683881*q(134,3) - 0.100915*q(136,3) - 0.249789*q(138,3) - 0.2560554*q(139,3) - 0.731385*q(141,3)
     
      - 1.375867*q(143,3) - 1.195922*q(144,3) - 1.72753*q(147,3) - 0.4369801*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 0.0924756*q(100,3) - 0.0804756*q(105,3) - 0.0824318*q(106,3) - 0.0262794*q(107,3) - 0.4556343*q(108,3) - 1.034503*q(110,3) - 0.120828*q(112,3) - 0.3153556*q(113,3) - 0.3265724*q(115,3) - 0.2869754*q(116,3) - 2.257014*q(117,3)
     
      - 1.89221*q(119,3) - 1.997772*q(121,3) - 0.2935216*q(122,3) - 1.182513*q(123,3) - 0.028081*q(125,3) - 1.971094*q(127,3) - 0.0363411*q(132,3) - 0.2977095*q(134,3) - 0.0893846*q(136,3) - 0.1911739*q(138,3) - 0.1816912*q(139,3) - 1.152958*q(141,3)
     
      - 0.5732234*q(143,3) - 1.75*q(144,3) - 1.517182*q(147,3) - 0.3442951*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(3,5)..  - 0.0969887*q(100,3) - 0.1368257*q(105,3) - 0.0827764*q(106,3) - 0.0721122*q(107,3) - 0.4108685*q(108,3) - 1.023896*q(110,3) - 0.1613695*q(112,3) - 0.5114003*q(113,3) - 0.5322714*q(115,3) - 0.3465961*q(116,3) - 2.284506*q(117,3)
     
      - 2.589204*q(119,3) - 3.007816*q(121,3) - 0.7945791*q(122,3) - 2.147732*q(123,3) - 0.0470094*q(125,3) - 2.203394*q(127,3) - 0.0623108*q(132,3) - 0.2318795*q(134,3) - 0.1486932*q(136,3) - 0.2494295*q(138,3) - 0.2869628*q(139,3) - 0.8187511*q(141,3)
     
      - 1.97353*q(143,3) - 1.349267*q(144,3) - 1.777221*q(147,3) - 0.5530062*q(150,3) + povline(3,5) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 0.1486341*q(105,4) - 0.0567529*q(107,4) - 0.5066882*q(108,4) - 0.3018049*q(112,4) - 0.5672184*q(113,4) - 0.5548797*q(115,4) - 2.405459*q(117,4) - 3.2*q(121,4) - 0.8649204*q(123,4) - 0.1138936*q(125,4) - 1.643712*q(127,4)
     
      - 0.2252948*q(132,4) - 0.0852757*q(136,4) - 0.2647784*q(139,4) - 0.7751141*q(141,4) - 1.599934*q(143,4) - 0.8493429*q(145,4) - 1.668128*q(146,4) - 1.451796*q(147,4) - 0.418062*q(150,4) - 1.887429*q(154,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 0.128187*q(105,4) - 0.0568465*q(107,4) - 0.3000092*q(108,4) - 0.1746173*q(111,4) - 0.2043589*q(112,4) - 0.5049133*q(113,4) - 0.4867875*q(115,4) - 0.0471857*q(116,4) - 2.124136*q(117,4) - 1.821458*q(119,4) - 2.72601*q(121,4)
     
      - 0.5905852*q(123,4) - 0.0838887*q(125,4) - 1.535658*q(127,4) - 0.078499*q(132,4) - 0.0837157*q(136,4) - 0.2101518*q(139,4) - 0.7199574*q(141,4) - 1.234231*q(143,4) - 1.777704*q(145,4) - 0.9678238*q(146,4) - 1.579278*q(147,4) - 0.4069234*q(150,4)
     
      - 0.3502569*q(154,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     deflin  =E=  define revealed preference matrix

deflin(4,3)..  - 0.1420871*q(105,4) - 0.0583795*q(107,4) - 0.4115133*q(108,4) - 0.2553347*q(111,4) - 0.1775514*q(112,4) - 0.4922434*q(113,4) - 0.4960295*q(115,4) - 0.2749713*q(116,4) - 2.662825*q(117,4) - 2.764682*q(119,4) - 2.674658*q(121,4)
     
      - 0.7707288*q(123,4) - 0.0642055*q(125,4) - 1.630541*q(127,4) - 0.0815934*q(132,4) - 0.100915*q(136,4) - 0.2560554*q(139,4) - 0.731385*q(141,4) - 1.375867*q(143,4) - 0.8768724*q(145,4) - 1.346506*q(146,4) - 1.72753*q(147,4) - 0.4369801*q(150,4)
     
      - 0.7775838*q(154,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 0.0804756*q(105,4) - 0.0262794*q(107,4) - 0.4556343*q(108,4) - 0.2825762*q(111,4) - 0.120828*q(112,4) - 0.3153556*q(113,4) - 0.3265724*q(115,4) - 0.2869754*q(116,4) - 2.257014*q(117,4) - 1.89221*q(119,4) - 1.997772*q(121,4)
     
      - 1.182513*q(123,4) - 0.028081*q(125,4) - 1.971094*q(127,4) - 0.0363411*q(132,4) - 0.0893846*q(136,4) - 0.1816912*q(139,4) - 1.152958*q(141,4) - 0.5732234*q(143,4) - 0.4177449*q(145,4) - 0.8851068*q(146,4) - 1.517182*q(147,4) - 0.3442951*q(150,4)
     
      - 0.2577838*q(154,4) + povline(4,4) =E= 0 ; (LHS = 0)
     
deflin(4,5)..  - 0.1368257*q(105,4) - 0.0721122*q(107,4) - 0.4108685*q(108,4) - 0.2827438*q(111,4) - 0.1613695*q(112,4) - 0.5114003*q(113,4) - 0.5322714*q(115,4) - 0.3465961*q(116,4) - 2.284506*q(117,4) - 2.589204*q(119,4) - 3.007816*q(121,4)
     
      - 2.147732*q(123,4) - 0.0470094*q(125,4) - 2.203394*q(127,4) - 0.0623108*q(132,4) - 0.1486932*q(136,4) - 0.2869628*q(139,4) - 0.8187511*q(141,4) - 1.97353*q(143,4) - 0.7176796*q(145,4) - 1.465066*q(146,4) - 1.777221*q(147,4) - 0.5530062*q(150,4)
     
      - 0.3058342*q(154,4) + povline(4,5) =E= 0 ; (LHS = 0)
     
deflin(5,1)..  - 0.1851448*q(100,5) - 0.1486341*q(105,5) - 0.0567529*q(107,5) - 0.5066882*q(108,5) - 0.5405405*q(109,5) - 1.007131*q(110,5) - 0.3018049*q(112,5) - 0.5672184*q(113,5) - 0.5548797*q(115,5) - 2.405459*q(117,5) - 0.8649204*q(123,5)
     
      - 0.1138936*q(125,5) - 1.643712*q(127,5) - 0.0852757*q(136,5) - 0.3286586*q(138,5) - 0.5458367*q(140,5) - 0.7751141*q(141,5) - 1.599934*q(143,5) - 1.378824*q(144,5) - 1.451796*q(147,5) - 0.418062*q(150,5) - 1.887429*q(154,5) + povline(5,1) =E= 0 ;
     
      (LHS = 0)
     
deflin(5,2)..  - 0.0927393*q(100,5) - 0.128187*q(105,5) - 0.0568465*q(107,5) - 0.3000092*q(108,5) - 0.2608202*q(109,5) - 0.8693056*q(110,5) - 0.2043589*q(112,5) - 0.5049133*q(113,5) - 0.4867875*q(115,5) - 2.124136*q(117,5) - 1.821458*q(119,5)
     
      - 0.5905852*q(123,5) - 0.0838887*q(125,5) - 1.535658*q(127,5) - 0.0837157*q(136,5) - 0.1905618*q(138,5) - 0.8250768*q(140,5) - 0.7199574*q(141,5) - 1.234231*q(143,5) - 1.3388*q(144,5) - 1.579278*q(147,5) - 0.4069234*q(150,5) - 0.3502569*q(154,5)
     
      + povline(5,2) =E= 0 ; (LHS = 0)
     
deflin(5,3)..  - 0.1139404*q(100,5) - 0.1420871*q(105,5) - 0.0583795*q(107,5) - 0.4115133*q(108,5) - 0.5080096*q(109,5) - 0.995801*q(110,5) - 0.1775514*q(112,5) - 0.4922434*q(113,5) - 0.4960295*q(115,5) - 2.662825*q(117,5) - 2.764682*q(119,5)
     
      - 0.7707288*q(123,5) - 0.0642055*q(125,5) - 1.630541*q(127,5) - 0.100915*q(136,5) - 0.249789*q(138,5) - 0.7775206*q(140,5) - 0.731385*q(141,5) - 1.375867*q(143,5) - 1.195922*q(144,5) - 1.72753*q(147,5) - 0.4369801*q(150,5) - 0.7775838*q(154,5)
     
      + povline(5,3) =E= 0 ; (LHS = 0)
     
deflin(5,4)..  - 0.0924756*q(100,5) - 0.0804756*q(105,5) - 0.0262794*q(107,5) - 0.4556343*q(108,5) - 1.034503*q(110,5) - 0.120828*q(112,5) - 0.3153556*q(113,5) - 0.3265724*q(115,5) - 2.257014*q(117,5) - 1.89221*q(119,5) - 1.182513*q(123,5)
     
      - 0.028081*q(125,5) - 1.971094*q(127,5) - 0.0893846*q(136,5) - 0.1911739*q(138,5) - 0.2971697*q(140,5) - 1.152958*q(141,5) - 0.5732234*q(143,5) - 1.75*q(144,5) - 1.517182*q(147,5) - 0.3442951*q(150,5) - 0.2577838*q(154,5) + povline(5,4) =E= 0 ;
     
      (LHS = 0)
     
deflin(5,5)..  - 0.0969887*q(100,5) - 0.1368257*q(105,5) - 0.0721122*q(107,5) - 0.4108685*q(108,5) - 0.1547472*q(109,5) - 1.023896*q(110,5) - 0.1613695*q(112,5) - 0.5114003*q(113,5) - 0.5322714*q(115,5) - 2.284506*q(117,5) - 2.589204*q(119,5)
     
      - 2.147732*q(123,5) - 0.0470094*q(125,5) - 2.203394*q(127,5) - 0.1486932*q(136,5) - 0.2494295*q(138,5) - 0.7310176*q(140,5) - 0.8187511*q(141,5) - 1.97353*q(143,5) - 1.349267*q(144,5) - 1.777221*q(147,5) - 0.5530062*q(150,5) - 0.3058342*q(154,5)
     
      + povline(5,5) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -50.0067296732547, INFES = 50.0067296732547 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -7.15458585129295, INFES = 7.15458585129295 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = -87.2637501814734, INFES = 87.2637501814734 ****)
     
rev(1,5)..  - povline(1,1) + povline(5,1) =G= 0 ; (LHS = 65.8130985661999)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 70.980262961303)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = 25.0810287644983)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = -34.555451219166, INFES = 34.555451219166 ****)
     
rev(2,5)..  - povline(2,2) + povline(5,2) =G= 0 ; (LHS = 35.7229006429751)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 41.4241063071241)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = -36.635774710047, INFES = 36.635774710047 ****)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = -65.4636640604201, INFES = 65.4636640604201 ****)
     
rev(3,5)..  - povline(3,3) + povline(5,3) =G= 0 ; (LHS = 30.9621749058374)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = 109.675840564544)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = 16.3095214040572)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = 61.1607924663313)
     
rev(4,5)..  - povline(4,4) + povline(5,4) =G= 0 ; (LHS = 57.1467508010424)
     
rev(5,1)..  povline(1,5) - povline(5,5) =G= 0 ; (LHS = 86.5104841845584)
     
rev(5,2)..  povline(2,5) - povline(5,5) =G= 0 ; (LHS = -19.8859485982655, INFES = 19.8859485982655 ****)
     
rev(5,3)..  povline(3,5) - povline(5,5) =G= 0 ; (LHS = 32.1393366917918)
     
rev(5,4)..  povline(4,5) - povline(5,5) =G= 0 ; (LHS = -34.4015569293277, INFES = 34.4015569293277 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(100,1)..  - 0.1851448*q(100,1) + (378.171791068787)*s(100,1) + (0.0849392702915097)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(100,2)..  - 0.0927393*q(100,2) + (270.262985206527)*s(100,2) + (0.128100506345513)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(100,3)..  - 0.1139404*q(100,3) + (330.575985702285)*s(100,3) + (0.0689481971828979)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     defshr  =E=  define the endogenous budget shares

defshr(100,5)..  - 0.0969887*q(100,5) + (323.043525772584)*s(100,5) + (0.208431038045163)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 0.1486341*q(105,1) + (378.171791068787)*s(105,1) + (0.0969409199699503)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 0.128187*q(105,2) + (270.262985206527)*s(105,2) + (0.175798944464751)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.1420871*q(105,3) + (330.575985702285)*s(105,3) + (0.147157688880278)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 0.0804756*q(105,4) + (205.582213572744)*s(105,4) + (0.0433299875019393)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,5)..  - 0.1368257*q(105,5) + (323.043525772584)*s(105,5) + (0.11418653069109)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(106,3)..  - 0.1334608*q(106,3) + (330.575985702285)*s(106,3) + (0.0121944538665046)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.0567529*q(107,1) + (378.171791068787)*s(107,1) + (0.0747964112360221)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.0568465*q(107,2) + (270.262985206527)*s(107,2) + (0.10825021063559)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.0583795*q(107,3) + (330.575985702285)*s(107,3) + (0.0331061859356632)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.0262794*q(107,4) + (205.582213572744)*s(107,4) + (0.0705622376612121)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(107,5)..  - 0.0721122*q(107,5) + (323.043525772584)*s(107,5) + (0.0710523100569997)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.3000092*q(108,2) + (270.262985206527)*s(108,2) + (0.016549601702018)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.4115133*q(108,3) + (330.575985702285)*s(108,3) + (0.0911420462083611)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.4556343*q(108,4) + (205.582213572744)*s(108,4) + (0.123991676111421)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,5)..  - 0.4108685*q(108,5) + (323.043525772584)*s(108,5) + (0.0585212324164691)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(109,5)..  - 0.1547472*q(109,5) + (323.043525772584)*s(109,5) + (0.0428164427132149)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.007131*q(110,1) + (378.171791068787)*s(110,1) + (0.101208950326615)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,3)..  - 0.995801*q(110,3) + (330.575985702285)*s(110,3) + (0.0195188104844649)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(110,5)..  - 1.023896*q(110,5) + (323.043525772584)*s(110,5) + (0.00851373163634475)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(111,4)..  - 0.2825762*q(111,4) + (205.582213572744)*s(111,4) + (0.0184721349845028)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.2043589*q(112,2) + (270.262985206527)*s(112,2) + (0.0144848186485767)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,3)..  - 0.1775514*q(112,3) + (330.575985702285)*s(112,3) + (0.0227669489373395)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.120828*q(112,4) + (205.582213572744)*s(112,4) + (0.0203218982228816)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     defshr  =E=  define the endogenous budget shares

defshr(112,5)..  - 0.1613695*q(112,5) + (323.043525772584)*s(112,5) + (0.0118343000485786)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 0.5672184*q(113,1) + (378.171791068787)*s(113,1) + (0.148457433061592)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.5049133*q(113,2) + (270.262985206527)*s(113,2) + (0.150880532750367)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.4922434*q(113,3) + (330.575985702285)*s(113,3) + (0.127541206173787)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.3153556*q(113,4) + (205.582213572744)*s(113,4) + (0.0921506142072968)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,5)..  - 0.5114003*q(113,5) + (323.043525772584)*s(113,5) + (0.07939957078321)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 1.036372*q(114,1) + (378.171791068787)*s(114,1) + (0.0178870212952124)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.4960295*q(115,3) + (330.575985702285)*s(115,3) + (0.0301903157894161)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.3265724*q(115,4) + (205.582213572744)*s(115,4) + (0.017852277691736)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(115,5)..  - 0.5322714*q(115,5) + (323.043525772584)*s(115,5) + (0.0287217772388121)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.2749713*q(116,3) + (330.575985702285)*s(116,3) + (0.0177900098856632)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(116,4)..  - 0.2869754*q(116,4) + (205.582213572744)*s(116,4) + (0.0995687393524615)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 2.405459*q(117,1) + (378.171791068787)*s(117,1) + (0.0359413277444229)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.124136*q(117,2) + (270.262985206527)*s(117,2) + (0.0208154941256001)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 2.662825*q(117,3) + (330.575985702285)*s(117,3) + (0.0322401525042819)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.257014*q(117,4) + (205.582213572744)*s(117,4) + (0.0214712947834726)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,5)..  - 2.284506*q(117,5) + (323.043525772584)*s(117,5) + (0.039079018097864)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(119,3)..  - 2.764682*q(119,3) + (330.575985702285)*s(119,3) + (0.0118916080349796)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 1.89221*q(119,4) + (205.582213572744)*s(119,4) + (0.0133963748838296)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(119,5)..  - 2.589204*q(119,5) + (323.043525772584)*s(119,5) + (0.0120422376153899)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 2.674658*q(121,3) + (330.575985702285)*s(121,3) + (0.0180592288764063)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 1.997772*q(121,4) + (205.582213572744)*s(121,4) + (0.01440695772141)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.3777179*q(122,1) + (378.171791068787)*s(122,1) + (0.0340916971386175)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.4280059*q(122,2) + (270.262985206527)*s(122,2) + (0.0284392209369065)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     defshr  =E=  define the endogenous budget shares

defshr(122,3)..  - 0.6802151*q(122,3) + (330.575985702285)*s(122,3) + (0.0290477330057067)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.8649204*q(123,1) + (378.171791068787)*s(123,1) + (0.035275978638986)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.5905852*q(123,2) + (270.262985206527)*s(123,2) + (0.0111071320043324)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.7707288*q(123,3) + (330.575985702285)*s(123,3) + (0.0277746330028973)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 1.182513*q(123,4) + (205.582213572744)*s(123,4) + (0.0375148405428407)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,5)..  - 2.147732*q(123,5) + (323.043525772584)*s(123,5) + (0.0139223565184939)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.1138936*q(125,1) + (378.171791068787)*s(125,1) + (0.0303305198305118)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.0838887*q(125,2) + (270.262985206527)*s(125,2) + (0.0370120609956373)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.0642055*q(125,3) + (330.575985702285)*s(125,3) + (0.0265696920133521)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.028081*q(125,4) + (205.582213572744)*s(125,4) + (0.0178634706505898)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,5)..  - 0.0470094*q(125,5) + (323.043525772584)*s(125,5) + (0.0208237683810499)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 1.643712*q(127,1) + (378.171791068787)*s(127,1) + (0.0321217883060856)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 1.535658*q(127,2) + (270.262985206527)*s(127,2) + (0.0134034620416889)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 1.630541*q(127,3) + (330.575985702285)*s(127,3) + (0.0284215083275163)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 1.971094*q(127,4) + (205.582213572744)*s(127,4) + (0.0357323106592346)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,5)..  - 2.203394*q(127,5) + (323.043525772584)*s(127,5) + (0.00853137287902613)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.0815934*q(132,3) + (330.575985702285)*s(132,3) + (0.01094468945445)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(132,4)..  - 0.0363411*q(132,4) + (205.582213572744)*s(132,4) + (0.0183286109080283)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.5646855*q(134,1) + (378.171791068787)*s(134,1) + (0.0165214947994337)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.8495597*q(134,2) + (270.262985206527)*s(134,2) + (0.0370960643825675)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,3)..  - 0.8683881*q(134,3) + (330.575985702285)*s(134,3) + (0.0122239912784486)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.3018003*q(135,1) + (378.171791068787)*s(135,1) + (0.0165385589576404)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.0852757*q(136,1) + (378.171791068787)*s(136,1) + (0.0313915419188384)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.0837157*q(136,2) + (270.262985206527)*s(136,2) + (0.0221391272079803)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     defshr  =E=  define the endogenous budget shares

defshr(136,3)..  - 0.100915*q(136,3) + (330.575985702285)*s(136,3) + (0.0258815485362579)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.0893846*q(136,4) + (205.582213572744)*s(136,4) + (0.0124854506730922)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,5)..  - 0.1486932*q(136,5) + (323.043525772584)*s(136,5) + (0.0165652971334086)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(137,1)..  - 0.3572772*q(137,1) + (378.171791068787)*s(137,1) + (0.0121225685671498)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.1905618*q(138,2) + (270.262985206527)*s(138,2) + (0.0224707772516076)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.249789*q(138,3) + (330.575985702285)*s(138,3) + (0.0270502065729428)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,5)..  - 0.2494295*q(138,5) + (323.043525772584)*s(138,5) + (0.01446050894195)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.2560554*q(139,3) + (330.575985702285)*s(139,3) + (0.0342749248567122)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(139,4)..  - 0.1816912*q(139,4) + (205.582213572744)*s(139,4) + (0.073205910481517)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.8250768*q(140,2) + (270.262985206527)*s(140,2) + (0.0229970304823845)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,5)..  - 0.7310176*q(140,5) + (323.043525772584)*s(140,5) + (0.033883373100607)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 0.7751141*q(141,1) + (378.171791068787)*s(141,1) + (0.0627345526442502)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.7199574*q(141,2) + (270.262985206527)*s(141,2) + (0.0969715217912226)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.731385*q(141,3) + (330.575985702285)*s(141,3) + (0.0461383915918686)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 1.152958*q(141,4) + (205.582213572744)*s(141,4) + (0.142566241929111)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,5)..  - 0.8187511*q(141,5) + (323.043525772584)*s(141,5) + (0.13890990828948)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 1.234231*q(143,2) + (270.262985206527)*s(143,2) + (0.0102418650692487)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,3)..  - 1.375867*q(143,3) + (330.575985702285)*s(143,3) + (0.0136801859564406)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(143,4)..  - 0.5732234*q(143,4) + (205.582213572744)*s(143,4) + (0.011823159917099)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,5)..  - 1.97353*q(143,5) + (323.043525772584)*s(143,5) + (0.00862156776010327)*povline(5,5) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 1.378824*q(144,1) + (378.171791068787)*s(144,1) + (0.0457255169821344)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 1.3388*q(144,2) + (270.262985206527)*s(144,2) + (0.0151291734793628)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,3)..  - 1.195922*q(144,3) + (330.575985702285)*s(144,3) + (0.0148045882200921)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(144,5)..  - 1.349267*q(144,5) + (323.043525772584)*s(144,5) + (0.0182629460772434)*povline(5,5) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 533


     defshr  =E=  define the endogenous budget shares

defshr(145,4)..  - 0.4177449*q(145,4) + (205.582213572744)*s(145,4) + (0.0234967556234842)*povline(4,4) =E= 0 ; (LHS = 0)
     
REMAINING 14 ENTRIES SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(100,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.61*q(110,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1)
     
      + 0.264*q(137,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 2085.74815038966, INFES = 43.2481503896602 ****)
     
cals(2)..  0.689*q(100,2) + 1.0164*q(105,2) + 1.344*q(107,2) + 3.14*q(108,2) + 0.946*q(112,2) + 3.65*q(113,2) + 1.7982*q(117,2) + 0.6161*q(122,2) + 3.75*q(123,2) + 0.6*q(125,2) + 8.84*q(127,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2)
     
      + 1.03*q(140,2) + 3.13*q(141,2) + 5.67*q(143,2) + 5.88*q(144,2) + 3.87*q(147,2) =E= 2042.5 ; (LHS = 2026.92478329952, INFES = 15.5752167004798 ****)
     
cals(3)..  0.689*q(100,3) + 1.0164*q(105,3) + 3.43*q(106,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.61*q(110,3) + 0.946*q(112,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 1.221*q(119,3) + 1.4835*q(121,3) + 0.6161*q(122,3)
     
      + 3.75*q(123,3) + 0.6*q(125,3) + 8.84*q(127,3) + 0.4331*q(132,3) + 0.494*q(134,3) + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 3.13*q(141,3) + 5.67*q(143,3) + 5.88*q(144,3) + 3.87*q(147,3) =E= 2042.5 ;
     
      (LHS = 2001.61141982632, INFES = 40.8885801736799 ****)
     
cals(4)..  1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 3.65*q(111,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 3.39*q(116,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 1.4835*q(121,4) + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4)
     
      + 0.4331*q(132,4) + 0.1638*q(136,4) + 0.261*q(139,4) + 3.13*q(141,4) + 5.67*q(143,4) + 0.81*q(145,4) + 5.73*q(146,4) + 3.87*q(147,4) + 0.81*q(154,4) =E= 2042.5 ; (LHS = 2010.94283446401, INFES = 31.55716553599 ****)
     
cals(5)..  0.689*q(100,5) + 1.0164*q(105,5) + 1.344*q(107,5) + 3.14*q(108,5) + 0.6468*q(109,5) + 3.61*q(110,5) + 0.946*q(112,5) + 3.65*q(113,5) + 3.78*q(115,5) + 1.7982*q(117,5) + 1.221*q(119,5) + 3.75*q(123,5) + 0.6*q(125,5) + 8.84*q(127,5)
     
      + 0.1638*q(136,5) + 0.2016*q(138,5) + 1.03*q(140,5) + 3.13*q(141,5) + 5.67*q(143,5) + 5.88*q(144,5) + 3.87*q(147,5) + 0.81*q(154,5) =E= 2042.5 ; (LHS = 2039.55526929752, INFES = 2.94473070248023 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 533


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(100,1)
                (.LO, .L, .UP, .M = 1E-5, 173.49467, +INF, 0)
       -0.1851  deflin(1,1)
       -0.0927  deflin(1,2)
       -0.1139  deflin(1,3)
       -0.0925  deflin(1,4)
       -0.097   deflin(1,5)
       -0.1851  defshr(100,1)
        0.689   cals(1)

q(100,2)
                (.LO, .L, .UP, .M = 1E-5, 373.31342, +INF, 0)
       -0.1851  deflin(2,1)
       -0.0927  deflin(2,2)
       -0.1139  deflin(2,3)
       -0.0925  deflin(2,4)
       -0.097   deflin(2,5)
       -0.0927  defshr(100,2)
        0.689   cals(2)

q(100,3)
                (.LO, .L, .UP, .M = 1E-5, 200.03983, +INF, 0)
       -0.1851  deflin(3,1)
       -0.0927  deflin(3,2)
       -0.1139  deflin(3,3)
       -0.0925  deflin(3,4)
       -0.097   deflin(3,5)
       -0.1139  defshr(100,3)
        0.689   cals(3)

REMAINING 111 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(100,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0849392702915097, +INF, 0)
      (-1)      obj
     (378.1718) defshr(100,1)

s(100,2)
                (.LO, .L, .UP, .M = 0.0001, 0.128100506345513, +INF, 0)
      (-1)      obj
     (270.263)  defshr(100,2)

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 533


     s  derived maximum entropy shares

s(100,3)
                (.LO, .L, .UP, .M = 0.0001, 0.0689481971828979, +INF, 0)
      (-1)      obj
     (330.576)  defshr(100,3)

REMAINING 111 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 378.171791068787, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       -1       rev(1,5)
       (0.0849) defshr(100,1)
       (0.0969) defshr(105,1)
       (0.0748) defshr(107,1)
       (0.1012) defshr(110,1)
       (0.1485) defshr(113,1)
       (0.0179) defshr(114,1)
       (0.0359) defshr(117,1)
       (0.0341) defshr(122,1)
       (0.0353) defshr(123,1)
       (0.0303) defshr(125,1)
       (0.0321) defshr(127,1)
       (0.0165) defshr(134,1)
       (0.0165) defshr(135,1)
       (0.0314) defshr(136,1)
       (0.0121) defshr(137,1)
       (0.0627) defshr(141,1)
       (0.0457) defshr(144,1)
       (0.1055) defshr(147,1)
       (0.0088) defshr(149,1)
       (0.0087) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 341.24324816783, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 372.000092009409, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 22 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 533


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          165
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          254
NON ZERO ELEMENTS         1,193     NON LINEAR N-Z            342
DERIVATIVE POOL              10     CONSTANT POOL             130
CODE LENGTH               1,028


GENERATION TIME      =        0.007 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.008 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  533

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0245

 RESOURCE USAGE, LIMIT          0.082      1000.000
 ITERATION COUNT, LIMIT        81    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 254 variables and 165 constraints
    with 1193 Jacobian elements, 342 of which are nonlinear.
    The Hessian of the Lagrangian has 114 elements on the diagonal,
    114 elements below the diagonal, and 119 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.081 seconds
   of which: Function evaluations             0.014 = 17.3%
             1st Derivative evaluations       0.000 =  0.0%
             2nd Derivative evaluations       0.005 =  6.2%
             Directional 2nd Derivative       0.004 =  4.9%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0027      
1.2          .              .              .             EPS         
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
1.5          .              .              .             EPS         
2.1          .              .              .            -0.0002      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.2          .              .              .            -0.0017      
2.3          .              .              .            -0.0013      
2.4          .              .              .            -0.0003      
2.5          .              .              .             EPS         
3.1          .              .              .             EPS         
3.2          .              .              .            -0.0015      
3.3          .              .              .            -0.0015      
3.4          .              .              .             EPS         
3.5          .              .              .             EPS         
4.1          .              .              .             EPS         
4.2          .              .              .            -0.0003      
4.3          .              .              .            -0.0004      
4.4          .              .              .            -0.0039      
4.5          .              .              .             EPS         
5.1          .              .              .             EPS         
5.2          .              .              .             EPS         
5.3          .              .              .             EPS         
5.4          .              .              .             EPS         
5.5          .              .              .            -0.0031      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF            0.0002      
1.3          .             7.7954        +INF             .          
1.4          .             3.2246        +INF            EPS         
1.5          .            94.1400        +INF             .          
2.1          .            31.7889        +INF             .          
2.3          .              .            +INF            0.0015      
2.4          .              .            +INF            0.0003      
2.5          .            21.7431        +INF             .          
3.1          .            31.2360        +INF             .          
3.2          .              .            +INF            0.0013      
3.4          .              .            +INF            0.0004      
3.5          .            48.9818        +INF             .          
4.1          .            48.2454        +INF             .          
4.2          .              .            +INF            0.0003      
4.3          .             7.8869        +INF            EPS         
4.5          .            21.9088        +INF            EPS         
5.1          .            56.4584        +INF             .          
5.2          .             0.8564        +INF            EPS         
5.3          .            10.3185        +INF            EPS         
5.4          .            10.9235        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1          .              .              .             0.0028      
100.2          .              .              .             0.0039      
100.3          .              .              .             0.0030      
100.5          .              .              .             0.0031      
105.1          .              .              .             0.0029      
105.2          .              .              .             0.0034      
105.3          .              .              .             0.0032      
105.4          .              .              .             0.0042      
105.5          .              .              .             0.0031      
106.3          .              .              .             0.0046      
107.1          .              .              .             0.0034      
107.2          .              .              .             0.0030      
107.3          .              .              .             0.0041      
107.4          .              .              .             0.0023      
107.5          .              .              .             0.0031      
108.2          .              .              .             0.0041      
108.3          .              .              .             0.0030      
108.4          .              .              .             0.0040      
108.5          .              .              .             0.0031      
109.5          .              .              .             0.0031      
110.1          .              .              .             0.0028      
110.3          .              .              .             0.0030      
110.5          .              .              .             0.0031      
111.4          .              .              .             0.0036      
112.2          .              .              .             0.0032      
112.3          .              .              .             0.0035      
112.4          .              .              .             0.0044      
112.5          .              .              .             0.0031      
113.1          .              .              .             0.0029      
113.2          .              .              .             0.0033      
113.3          .              .              .             0.0034      
113.4          .              .              .             0.0042      
113.5          .              .              .             0.0031      
114.1          .              .              .             0.0028      
115.3          .              .              .             0.0034      
115.4          .              .              .             0.0042      
115.5          .              .              .             0.0031      
116.3          .              .              .             0.0024      
116.4          .              .              .             0.0036      
117.1          .              .              .             0.0027      
117.2          .              .              .             0.0039      
117.3          .              .              .             0.0028      
117.4          .              .              .             0.0045      
117.5          .              .              .             0.0031      
119.3          .              .              .             0.0025      
119.4          .              .              .             0.0046      
119.5          .              .              .             0.0031      
121.3          .              .              .             0.0031      
121.4          .              .              .             0.0047      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

122.1          .              .              .             0.0027      
122.2          .              .              .             0.0042      
122.3          .              .              .             0.0025      
123.1          .              .              .             0.0028      
123.2          .              .              .             0.0042      
123.3          .              .              .             0.0029      
123.4          .              .              .             0.0041      
123.5          .              .              .             0.0031      
125.1          .              .              .             0.0028      
125.2          .              .              .             0.0029      
125.3          .              .              .             0.0040      
125.4          .              .              .             0.0043      
125.5          .              .              .             0.0031      
127.1          .              .              .             0.0028      
127.2          .              .              .             0.0036      
127.3          .              .              .             0.0032      
127.4          .              .              .             0.0041      
127.5          .              .              .             0.0031      
132.3          .              .              .             0.0032      
132.4          .              .              .             0.0046      
134.1          .              .              .             0.0027      
134.2          .              .              .             0.0033      
134.3          .              .              .             0.0030      
135.1          .              .              .             0.0027      
136.1          .              .              .             0.0027      
136.2          .              .              .             0.0038      
136.3          .              .              .             0.0029      
136.4          .              .              .             0.0044      
136.5          .              .              .             0.0031      
137.1          .              .              .             0.0027      
138.2          .              .              .             0.0041      
138.3          .              .              .             0.0027      
138.5          .              .              .             0.0031      
139.3          .              .              .             0.0028      
139.4          .              .              .             0.0046      
140.2          .              .              .             0.0032      
140.5          .              .              .             0.0031      
141.1          .              .              .             0.0028      
141.2          .              .              .             0.0037      
141.3          .              .              .             0.0032      
141.4          .              .              .             0.0041      
141.5          .              .              .             0.0031      
143.2          .              .              .             0.0035      
143.3          .              .              .             0.0031      
143.4          .              .              .             0.0048      
143.5          .              .              .             0.0031      
144.1          .              .              .             0.0028      
144.2          .              .              .             0.0034      
144.3          .              .              .             0.0035      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

144.5          .              .              .             0.0031      
145.4          .              .              .             0.0057      
146.4          .              .              .             0.0044      
147.1          .              .              .             0.0028      
147.2          .              .              .             0.0036      
147.3          .              .              .             0.0030      
147.4          .              .              .             0.0044      
147.5          .              .              .             0.0031      
149.1          .              .              .             0.0027      
150.1          .              .              .             0.0027      
150.2          .              .              .             0.0036      
150.3          .              .              .             0.0029      
150.4          .              .              .             0.0047      
150.5          .              .              .             0.0031      
154.4          .              .              .             0.0052      
154.5          .              .              .             0.0031      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   2.7605183E-5      
2      2042.5000      2042.5000      2042.5000   -1.852829E-5      
3      2042.5000      2042.5000      2042.5000   4.9064175E-5      
4      2042.5000      2042.5000      2042.5000   -5.814107E-5      
5      2042.5000      2042.5000      2042.5000         EPS         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0245        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

100.1   1.0000000E-5       157.7933        +INF             .          
100.2   1.0000000E-5       435.4526        +INF             .          
100.3   1.0000000E-5       180.9577        +INF            EPS         
100.5   1.0000000E-5       695.2306        +INF            EPS         
105.1   1.0000000E-5       231.1942        +INF            EPS         
105.2   1.0000000E-5       382.7534        +INF            EPS         
105.3   1.0000000E-5       328.7599        +INF             .          
105.4   1.0000000E-5       132.8741        +INF             .          
105.5   1.0000000E-5       269.9820        +INF             .          
106.3   1.0000000E-5        44.0802        +INF            EPS         
107.1   1.0000000E-5       549.8635        +INF             .          
107.2   1.0000000E-5       463.3876        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

107.3   1.0000000E-5       237.7909        +INF             .          
107.4   1.0000000E-5       418.3971        +INF             .          
107.5   1.0000000E-5       318.7551        +INF             .          
108.2   1.0000000E-5        18.7239        +INF            EPS         
108.3   1.0000000E-5        65.1323        +INF             .          
108.4   1.0000000E-5        63.1387        +INF            EPS         
108.5   1.0000000E-5        46.0785        +INF             .          
109.5   1.0000000E-5        89.5108        +INF             .          
110.1   1.0000000E-5        34.5183        +INF            EPS         
110.3   1.0000000E-5         5.8111        +INF             .          
110.5   1.0000000E-5         2.6900        +INF             .          
111.4   1.0000000E-5        13.9007        +INF             .          
112.2   1.0000000E-5        18.5703        +INF             .          
112.3   1.0000000E-5        44.6400        +INF             .          
112.4   1.0000000E-5        43.4924        +INF             .          
112.5   1.0000000E-5        23.7251        +INF             .          
113.1   1.0000000E-5        92.4155        +INF             .          
113.2   1.0000000E-5        79.3828        +INF            EPS         
113.3   1.0000000E-5        87.6648        +INF            EPS         
113.4   1.0000000E-5        71.8649        +INF            EPS         
113.5   1.0000000E-5        50.2279        +INF             .          
114.1   1.0000000E-5         5.8703        +INF             .          
115.3   1.0000000E-5        20.2192        +INF             .          
115.4   1.0000000E-5        13.2929        +INF             .          
115.5   1.0000000E-5        17.4568        +INF             .          
116.3   1.0000000E-5        15.6167        +INF            EPS         
116.4   1.0000000E-5        73.0414        +INF             .          
117.1   1.0000000E-5         4.9933        +INF             .          
117.2   1.0000000E-5         3.1231        +INF             .          
117.3   1.0000000E-5         3.3078        +INF             .          
117.4   1.0000000E-5         2.5134        +INF             .          
117.5   1.0000000E-5         5.5340        +INF             .          
119.3   1.0000000E-5         1.0948        +INF            EPS         
119.4   1.0000000E-5         1.9264        +INF             .          
119.5   1.0000000E-5         1.5046        +INF             .          
121.3   1.0000000E-5         2.0495        +INF             .          
121.4   1.0000000E-5         1.9908        +INF             .          
122.1   1.0000000E-5        30.4221        +INF             .          
122.2   1.0000000E-5        22.9010        +INF             .          
122.3   1.0000000E-5        10.7919        +INF             .          
123.1   1.0000000E-5        14.1116        +INF             .          
123.2   1.0000000E-5         6.5885        +INF             .          
123.3   1.0000000E-5        10.3415        +INF             .          
123.4   1.0000000E-5         7.4971        +INF            EPS         
123.5   1.0000000E-5         2.0971        +INF             .          
125.1   1.0000000E-5        92.9760        +INF             .          
125.2   1.0000000E-5       106.4335        +INF            EPS         
125.3   1.0000000E-5       165.2112        +INF             .          
125.4   1.0000000E-5       160.0415        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

125.5   1.0000000E-5       143.3053        +INF             .          
127.1   1.0000000E-5         6.8301        +INF             .          
127.2   1.0000000E-5         2.5646        +INF             .          
127.3   1.0000000E-5         5.4921        +INF             .          
127.4   1.0000000E-5         4.3554        +INF            EPS         
127.5   1.0000000E-5         1.2526        +INF             .          
132.3   1.0000000E-5        42.6062        +INF            EPS         
132.4   1.0000000E-5       136.4942        +INF             .          
134.1   1.0000000E-5         9.7898        +INF             .          
134.2   1.0000000E-5        11.6724        +INF            EPS         
134.3   1.0000000E-5         4.1901        +INF             .          
135.1   1.0000000E-5        18.3950        +INF             .          
136.1   1.0000000E-5       124.4265        +INF             .          
136.2   1.0000000E-5        81.8732        +INF             .          
136.3   1.0000000E-5        72.2004        +INF             .          
136.4   1.0000000E-5        36.1925        +INF             .          
136.5   1.0000000E-5        36.0409        +INF             .          
137.1   1.0000000E-5        11.3383        +INF            EPS         
138.2   1.0000000E-5        39.2044        +INF             .          
138.3   1.0000000E-5        29.1508        +INF             .          
138.5   1.0000000E-5        18.7553        +INF             .          
139.3   1.0000000E-5        37.1760        +INF             .          
139.4   1.0000000E-5       109.3259        +INF             .          
140.2   1.0000000E-5         7.2069        +INF             .          
140.5   1.0000000E-5        14.9950        +INF            EPS         
141.1   1.0000000E-5        27.9231        +INF             .          
141.2   1.0000000E-5        40.3817        +INF            EPS         
141.3   1.0000000E-5        19.9372        +INF            EPS         
141.4   1.0000000E-5        29.6101        +INF             .          
141.5   1.0000000E-5        54.8869        +INF            EPS         
143.2   1.0000000E-5         2.3412        +INF             .          
143.3   1.0000000E-5         3.0051        +INF             .          
143.4   1.0000000E-5         5.8226        +INF             .          
143.5   1.0000000E-5         1.4133        +INF             .          
144.1   1.0000000E-5        11.4663        +INF             .          
144.2   1.0000000E-5         3.1367        +INF             .          
144.3   1.0000000E-5         4.2177        +INF             .          
144.5   1.0000000E-5         4.3789        +INF             .          
145.4   1.0000000E-5        19.8937        +INF             .          
146.4   1.0000000E-5         9.5890        +INF             .          
147.1   1.0000000E-5        24.7297        +INF            EPS         
147.2   1.0000000E-5        10.5845        +INF            EPS         
147.3   1.0000000E-5        10.3904        +INF            EPS         
147.4   1.0000000E-5         4.6723        +INF             .          
147.5   1.0000000E-5         4.6356        +INF             .          
149.1   1.0000000E-5         3.2131        +INF             .          
150.1   1.0000000E-5         6.9182        +INF            EPS         
150.2   1.0000000E-5         7.7216        +INF             .          
150.3   1.0000000E-5         6.6103        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

150.4   1.0000000E-5        13.0586        +INF             .          
150.5   1.0000000E-5         7.4827        +INF             .          
154.4   1.0000000E-5        17.2108        +INF             .          
154.5   1.0000000E-5        13.9247        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1         0.0001         0.0834        +INF            EPS         
100.2         0.0001         0.1419        +INF             .          
100.3         0.0001         0.0659        +INF             .          
100.5         0.0001         0.2084        +INF             .          
105.1         0.0001         0.0980        +INF             .          
105.2         0.0001         0.1723        +INF             .          
105.3         0.0001         0.1492        +INF             .          
105.4         0.0001         0.0443        +INF            EPS         
105.5         0.0001         0.1142        +INF             .          
106.3         0.0001         0.0188        +INF             .          
107.1         0.0001         0.0890        +INF             .          
107.2         0.0001         0.0925        +INF             .          
107.3         0.0001         0.0443        +INF             .          
107.4         0.0001         0.0456        +INF             .          
107.5         0.0001         0.0711        +INF             .          
108.2         0.0001         0.0197        +INF             .          
108.3         0.0001         0.0856        +INF             .          
108.4         0.0001         0.1193        +INF             .          
108.5         0.0001         0.0585        +INF             .          
109.5         0.0001         0.0428        +INF            EPS         
110.1         0.0001         0.0992        +INF             .          
110.3         0.0001         0.0185        +INF            EPS         
110.5         0.0001         0.0085        +INF      2.0192892E-9      
111.4         0.0001         0.0163        +INF            EPS         
112.2         0.0001         0.0133        +INF      -1.148011E-9      
112.3         0.0001         0.0253        +INF            EPS         
112.4         0.0001         0.0218        +INF            EPS         
112.5         0.0001         0.0118        +INF      -1.196853E-9      
113.1         0.0001         0.1496        +INF            EPS         
113.2         0.0001         0.1408        +INF             .          
113.3         0.0001         0.1378        +INF             .          
113.4         0.0001         0.0940        +INF             .          
113.5         0.0001         0.0794        +INF            EPS         
114.1         0.0001         0.0174        +INF            EPS         
115.3         0.0001         0.0320        +INF            EPS         
115.4         0.0001         0.0180        +INF            EPS         
115.5         0.0001         0.0287        +INF            EPS         
116.3         0.0001         0.0137        +INF             .          
116.4         0.0001         0.0869        +INF             .          
117.1         0.0001         0.0343        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 35
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

117.2         0.0001         0.0233        +INF            EPS         
117.3         0.0001         0.0281        +INF            EPS         
117.4         0.0001         0.0235        +INF            EPS         
117.5         0.0001         0.0391        +INF            EPS         
119.3         0.0001         0.0097        +INF      -7.627863E-9      
119.4         0.0001         0.0151        +INF            EPS         
119.5         0.0001         0.0120        +INF            EPS         
121.3         0.0001         0.0175        +INF            EPS         
121.4         0.0001         0.0165        +INF            EPS         
122.1         0.0001         0.0328        +INF            EPS         
122.2         0.0001         0.0344        +INF             .          
122.3         0.0001         0.0234        +INF      -1.129687E-9      
123.1         0.0001         0.0348        +INF            EPS         
123.2         0.0001         0.0137        +INF             .          
123.3         0.0001         0.0255        +INF             .          
123.4         0.0001         0.0368        +INF             .          
123.5         0.0001         0.0139        +INF            EPS         
125.1         0.0001         0.0302        +INF            EPS         
125.2         0.0001         0.0314        +INF             .          
125.3         0.0001         0.0339        +INF      1.4147674E-9      
125.4         0.0001         0.0186        +INF            EPS         
125.5         0.0001         0.0208        +INF            EPS         
127.1         0.0001         0.0320        +INF            EPS         
127.2         0.0001         0.0138        +INF            EPS         
127.3         0.0001         0.0286        +INF            EPS         
127.4         0.0001         0.0356        +INF             .          
127.5         0.0001         0.0085        +INF            EPS         
132.3         0.0001         0.0111        +INF             .          
132.4         0.0001         0.0206        +INF             .          
134.1         0.0001         0.0158        +INF            EPS         
134.2         0.0001         0.0348        +INF             .          
134.3         0.0001         0.0116        +INF            EPS         
135.1         0.0001         0.0158        +INF            EPS         
136.1         0.0001         0.0303        +INF            EPS         
136.2         0.0001         0.0241        +INF            EPS         
136.3         0.0001         0.0233        +INF            EPS         
136.4         0.0001         0.0134        +INF            EPS         
136.5         0.0001         0.0166        +INF      -1.484655E-9      
137.1         0.0001         0.0116        +INF             .          
138.2         0.0001         0.0262        +INF            EPS         
138.3         0.0001         0.0233        +INF            EPS         
138.5         0.0001         0.0145        +INF            EPS         
139.3         0.0001         0.0304        +INF            EPS         
139.4         0.0001         0.0824        +INF             .          
140.2         0.0001         0.0209        +INF      -1.273370E-9      
140.5         0.0001         0.0339        +INF             .          
141.1         0.0001         0.0618        +INF             .          
141.2         0.0001         0.1021        +INF             .          
141.3         0.0001         0.0466        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 36
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

141.4         0.0001         0.1415        +INF            EPS         
141.5         0.0001         0.1389        +INF             .          
143.2         0.0001         0.0102        +INF            EPS         
143.3         0.0001         0.0132        +INF            EPS         
143.4         0.0001         0.0138        +INF            EPS         
143.5         0.0001         0.0086        +INF            EPS         
144.1         0.0001         0.0451        +INF            EPS         
144.2         0.0001         0.0148        +INF      -1.046887E-9      
144.3         0.0001         0.0161        +INF      1.4680857E-9      
144.5         0.0001         0.0183        +INF            EPS         
145.4         0.0001         0.0345        +INF             .          
146.4         0.0001         0.0352        +INF            EPS         
147.1         0.0001         0.1024        +INF             .          
147.2         0.0001         0.0587        +INF             .          
147.3         0.0001         0.0573        +INF             .          
147.4         0.0001         0.0294        +INF            EPS         
147.5         0.0001         0.0255        +INF      1.6191377E-9      
149.1         0.0001         0.0083        +INF            EPS         
150.1         0.0001         0.0083        +INF             .          
150.2         0.0001         0.0110        +INF            EPS         
150.3         0.0001         0.0092        +INF            EPS         
150.4         0.0001         0.0186        +INF            EPS         
150.5         0.0001         0.0128        +INF      -1.245079E-9      
154.4         0.0001         0.0184        +INF            EPS         
154.5         0.0001         0.0132        +INF            EPS         

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          350.4859        +INF             .          
1.2        -INF          316.4735        +INF             .          
1.3        -INF          344.3143        +INF             .          
1.4        -INF          289.4449        +INF             .          
1.5        -INF          379.9684        +INF             .          
2.1        -INF          350.4859        +INF             .          
2.2        -INF          284.6846        +INF             .          
2.3        -INF          313.0783        +INF             .          
2.4        -INF          241.1995        +INF             .          
2.5        -INF          324.3663        +INF             .          
3.1        -INF          358.2813        +INF             .          
3.2        -INF          284.6846        +INF             .          
3.3        -INF          313.0783        +INF             .          
3.4        -INF          249.0864        +INF             .          
3.5        -INF          333.8285        +INF             .          
4.1        -INF          353.7105        +INF             .          
4.2        -INF          284.6846        +INF             .          
4.3        -INF          313.0783        +INF             .          
4.4        -INF          241.1995        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 37
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 533


     VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

4.5        -INF          334.4334        +INF             .          
5.1        -INF          444.6259        +INF             .          
5.2        -INF          306.4277        +INF             .          
5.3        -INF          362.0602        +INF             .          
5.4        -INF          263.1083        +INF             .          
5.5        -INF          323.5099        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        03/11/14 10:46:30 Page 38
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    536 this is without adjustment for calorie target or 90%

----    536 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4           5

1     350.486     316.473     344.314     289.445     379.968
2     350.486     284.685     313.078     241.200     324.366
3     358.281     284.685     313.078     249.086     333.828
4     353.711     284.685     313.078     241.200     334.433
5     444.626     306.428     362.060     263.108     323.510


----    561 PARAMETER perc_chng  percent change in line

1      -5.359,    2       4.533,    3      -7.189,    4      15.512,    5 -8.54340E-6


----    561 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 397.675,    2 313.904,    3 340.901,    4 263.859,    5 358.937


----    561 PARAMETER povline_ali  food poverty line

1 420.191,    2 300.292,    3 367.307,    4 228.425,    5 358.937


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/work/povline_food_ent.csv


EXECUTION TIME       =        0.009 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNPS_2005_06/new/list.lst
