GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/product_flex.inc
  20  100
  21  105
  22  106
  23  107
  24  108
  25  109
  26  110
  27  112
  28  113
  29  114
  30  115
  31  116
  32  117
  33  118
  34  119
  35  121
  36  122
  37  123
  38  125
  39  127
  40  132
  41  135
  42  136
  43  138
  44  139
  45  140
  46  141
  47  142
  48  143
  49  144
  50  146
  51  147
  52  150
  53  153
  54  156
  55  158
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  159
  57  162
  58  165
  59  166
  60  /
  61   
  62   reg        4 spatial domains /1*4/
  63   r(reg)     all included spatial regions /1*4/
  64   
  65   ptit       price table titles
  66  /
  67    count      number of observations making up the price average
  68    price_uw5  average price
  69  /
  70   
  71   qtit       quantity table titles
  72  /
  73    calperg          calories per gram
  74    quan5            quantities in grams
  75    calpp            calories per person by region
  76    povline_a_flex5    value of flexible food bundle
  77  /
  78   
  79   
  80    posquan(cod,reg)  mark positive quantities in each region
  81    posprice(cod,reg) mark the existence of acceptable price info in each region
  82    chkprice(cod,reg) ensure that prices exist once all estimated
  83  ;
  84   
  85  alias(reg,regq);
  86  alias(r,rq);
  87   
  88  SCALAR
  89     caltarg single level of calories to target across regions / 2150 /
  90   ;
  91   
  92  PARAMETERS
  93   
  94    shr(cod,reg)         shares in each basket by region
  95    chkshr(reg)          check that the calculated shares sum to .9
  96    shrmiss(regq,reg)    shares missing in each region pair
  97    povline_ali(reg)       food poverty line
  98    perc_chng(reg)       percent change in line
  99    finmiss(reg)         final missing shares post optimization procedure
 100   ;
 101   
 102  Table  price(cod,reg,ptit)  price and related information
 103                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/price_unit_flex.inc
 105  100     .       1       68      3.289768
 106  100     .       2       70      3.707505
 107  100     .       3       12      2.169405
 108  100     .       4       227     3.968853
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  105     .       1       65      1.597749
 110  105     .       2       135     1.934794
 111  105     .       3       53      .9032983
 112  105     .       4       197     2.592357
 113  106     .       1       4       1.743152
 114  106     .       2       22      2.676722
 115  106     .       4       3       3.656943
 116  107     .       1       73      .5718387
 117  107     .       2       101     1.170979
 118  107     .       3       92      .5816865
 119  107     .       4       184     1.25448
 120  108     .       1       17      1.212114
 121  108     .       2       121     1.64674
 122  108     .       3       38      2.144921
 123  108     .       4       109     .3671314
 124  109     .       1       9       2.09644
 125  109     .       2       3       1.129916
 126  109     .       3       3       .9685303
 127  109     .       4       68      3.047743
 128  110     .       1       20      3.102665
 129  110     .       2       44      2.284077
 130  110     .       3       4       1.725595
 131  110     .       4       31      2.316366
 132  112     .       1       7       .8627539
 133  112     .       2       42      .1343535
 134  112     .       3       11      .164282
 135  112     .       4       37      .3898685
 136  113     .       1       65      1.685021
 137  113     .       2       160     1.163808
 138  113     .       3       70      .8162216
 139  113     .       4       143     1.219889
 140  114     .       1       17      .7688141
 141  114     .       2       25      .5051084
 142  114     .       3       9       .2207504
 143  114     .       4       18      .5335199
 144  115     .       1       9       1.005123
 145  115     .       2       39      1.14875
 146  115     .       3       29      .442239
 147  115     .       4       81      1.246666
 148  116     .       1       4       .7613403
 149  116     .       2       56      .462009
 150  116     .       3       71      .707445
 151  116     .       4       25      .8211272
 152  117     .       1       15      6.420054
 153  117     .       2       78      5.946953
 154  117     .       3       18      4.52893
 155  117     .       4       94      6.566392
 156  118     .       1       10      6.314506
 157  118     .       2       15      4.710441
 158  118     .       3       15      5.093335
 159  118     .       4       18      5.935893
 160  119     .       1       1       8.506178
 161  119     .       2       6       6.120848
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  119     .       3       12      6.665213
 163  119     .       4       22      7.216222
 164  121     .       1       5       9.480011
 165  121     .       2       15      11.60371
 166  121     .       3       17      6.780999
 167  121     .       4       18      8.484477
 168  122     .       1       18      1.714545
 169  122     .       2       62      1.975732
 170  122     .       3       15      1.365847
 171  122     .       4       31      2.630431
 172  123     .       1       29      1.261904
 173  123     .       2       59      1.718858
 174  123     .       3       44      1.433544
 175  123     .       4       36      1.861889
 176  125     .       1       37      .5316431
 177  125     .       2       84      .5022251
 178  125     .       3       31      .3369513
 179  125     .       4       110     .5556648
 180  127     .       1       75      .2508146
 181  127     .       2       188     .1913959
 182  127     .       3       116     .3187507
 183  127     .       4       91      .5545785
 184  132     .       1       8       .2584574
 185  132     .       2       32      .1447664
 186  132     .       3       14      .1652532
 187  132     .       4       33      .1138085
 188  135     .       1       81      .3292045
 189  135     .       2       188     .2761673
 190  135     .       3       122     .1645685
 191  135     .       4       194     .4640095
 192  136     .       1       86      .2578817
 193  136     .       2       206     .2953806
 194  136     .       3       60      .2550986
 195  136     .       4       204     .476799
 196  138     .       1       34      .3767647
 197  138     .       2       144     .2613569
 198  138     .       3       22      .1272397
 199  138     .       4       152     .1965766
 200  139     .       1       16      .4152648
 201  139     .       2       97      .2365469
 202  139     .       3       109     .168745
 203  139     .       4       27      .3207794
 204  140     .       1       19      1.03814
 205  140     .       2       55      .8573133
 206  140     .       3       17      .4539905
 207  140     .       4       81      .7442514
 208  141     .       1       77      1.527387
 209  141     .       2       136     1.006697
 210  141     .       3       141     .537664
 211  141     .       4       254     .9542834
 212  142     .       2       14      3.660051
 213  142     .       3       12      .6438032
 214  142     .       4       4       .9456612
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  143     .       1       7       1.052376
 216  143     .       2       37      1.263392
 217  143     .       3       11      .8521379
 218  143     .       4       14      1.264308
 219  144     .       1       39      2.48791
 220  144     .       2       57      1.113505
 221  144     .       3       4       .5182976
 222  144     .       4       134     1.787155
 223  146     .       2       6       .9889356
 224  146     .       3       49      .7772055
 225  146     .       4       1       .4169749
 226  147     .       1       71      3.285908
 227  147     .       2       166     2.464945
 228  147     .       3       48      1.481472
 229  147     .       4       122     3.101775
 230  150     .       1       108     .4488587
 231  150     .       2       276     .4032243
 232  150     .       3       172     .3576977
 233  150     .       4       324     .4419486
 234  153     .       1       19      3.131876
 235  153     .       2       44      1.141817
 236  153     .       3       76      .7341298
 237  153     .       4       47      .7937964
 238  156     .       1       6       .2201893
 239  156     .       2       4       .1276986
 240  156     .       3       56      .1244536
 241  156     .       4       21      .32549
 242  158     .       1       4       .0017741
 243  158     .       2       3       .9464126
 244  158     .       3       3       .9238159
 245  158     .       4       5       .943729
 246  159     .       1       1       1.963504
 247  159     .       2       6       3.037455
 248  159     .       3       2       1.534411
 249  159     .       4       2       2.285181
 250  162     .       1       2       1.757958
 251  162     .       2       36      .7454339
 252  162     .       3       36      .600997
 253  162     .       4       5       1.637824
 254  165     .       1       15      .7160022
 255  165     .       2       9       .7128583
 256  165     .       3       38      .9057704
 257  165     .       4       34      .6979299
 258  166     .       1       19      .2408575
 259  166     .       2       11      .2034294
 260  166     .       3       7       2.394657
 261  166     .       4       72      .1733307
 262  ;
 263   
 264  Table   quan(cod,reg,qtit)   quantity and related information
 265                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/quan_flex.inc
 267  100     .       1       6.8900000e-01   1.1493918e+02   5.0066821e+03   2507.425
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  105     .       1       1.0164000e+00   1.8622726e+02   5.0066821e+03   2507.425
 269  107     .       1       1.3440000e+00   3.6880887e+02   5.0066821e+03   2507.425
 270  108     .       1       3.1400000e+00   5.4772079e+01   5.0066821e+03   2507.425
 271  110     .       1       3.6100000e+00   1.5025928e+01   5.0066821e+03   2507.425
 272  113     .       1       3.6500000e+00   1.4052173e+02   5.0066821e+03   2507.425
 273  114     .       1       2.6600000e+00   3.6702168e+01   5.0066821e+03   2507.425
 274  117     .       1       1.7982000e+00   5.4922371e+00   5.0066821e+03   2507.425
 275  118     .       1       2.3534000e+00   6.6872649e+00   5.0066821e+03   2507.425
 276  122     .       1       6.1610000e-01   2.2400274e+01   5.0066821e+03   2507.425
 277  123     .       1       3.7500000e+00   3.3532497e+01   5.0066821e+03   2507.425
 278  125     .       1       6.0000000e-01   1.1222688e+02   5.0066821e+03   2507.425
 279  127     .       1       8.8400000e+00   2.1611563e+02   5.0066821e+03   2507.425
 280  135     .       1       3.6400000e-01   1.0598233e+02   5.0066821e+03   2507.425
 281  136     .       1       1.6380000e-01   2.0975194e+02   5.0066821e+03   2507.425
 282  138     .       1       2.0160000e-01   7.9205139e+01   5.0066821e+03   2507.425
 283  140     .       1       1.0300000e+00   5.1612019e+01   5.0066821e+03   2507.425
 284  141     .       1       3.1300000e+00   1.6822243e+02   5.0066821e+03   2507.425
 285  144     .       1       5.8800000e+00   2.4111387e+01   5.0066821e+03   2507.425
 286  147     .       1       3.8700000e+00   4.4922703e+01   5.0066821e+03   2507.425
 287  150     .       1       0.0000000e+00   5.6273869e+01   5.0066821e+03   2507.425
 288  153     .       1       1.5300000e+00   1.8463814e+01   5.0066821e+03   2507.425
 289  100     .       2       6.8900000e-01   2.1522892e+01   5.0341929e+03   2019.099
 290  105     .       2       1.0164000e+00   1.2343890e+02   5.0341929e+03   2019.099
 291  106     .       2       3.4300000e+00   1.6697468e+01   5.0341929e+03   2019.099
 292  107     .       2       1.3440000e+00   6.0479610e+01   5.0341929e+03   2019.099
 293  108     .       2       3.1400000e+00   1.4192709e+02   5.0341929e+03   2019.099
 294  110     .       2       3.6100000e+00   1.3609861e+01   5.0341929e+03   2019.099
 295  112     .       2       9.4600000e-01   2.7965369e+02   5.0341929e+03   2019.099
 296  113     .       2       3.6500000e+00   2.1816808e+02   5.0341929e+03   2019.099
 297  115     .       2       3.7800000e+00   2.4276619e+01   5.0341929e+03   2019.099
 298  116     .       2       3.3900000e+00   5.2788712e+01   5.0341929e+03   2019.099
 299  117     .       2       1.7982000e+00   1.3245947e+01   5.0341929e+03   2019.099
 300  121     .       2       1.4835000e+00   2.9186778e+00   5.0341929e+03   2019.099
 301  122     .       2       6.1610000e-01   3.2283897e+01   5.0341929e+03   2019.099
 302  123     .       2       3.7500000e+00   2.4046576e+01   5.0341929e+03   2019.099
 303  125     .       2       6.0000000e-01   7.8322426e+01   5.0341929e+03   2019.099
 304  127     .       2       8.8400000e+00   1.9220749e+02   5.0341929e+03   2019.099
 305  132     .       2       4.3310000e-01   1.3367186e+02   5.0341929e+03   2019.099
 306  136     .       2       1.6380000e-01   1.4379301e+02   5.0341929e+03   2019.099
 307  138     .       2       2.0160000e-01   2.2888939e+02   5.0341929e+03   2019.099
 308  139     .       2       2.6100000e-01   1.7944804e+02   5.0341929e+03   2019.099
 309  140     .       2       1.0300000e+00   4.9005077e+01   5.0341929e+03   2019.099
 310  141     .       2       3.1300000e+00   7.0682144e+01   5.0341929e+03   2019.099
 311  142     .       2       3.0590000e+00   5.4365058e+00   5.0341929e+03   2019.099
 312  143     .       2       5.6700000e+00   2.2284409e+01   5.0341929e+03   2019.099
 313  147     .       2       3.8700000e+00   3.9360706e+01   5.0341929e+03   2019.099
 314  150     .       2       0.0000000e+00   4.9206478e+01   5.0341929e+03   2019.099
 315  153     .       2       1.5300000e+00   3.3659283e+01   5.0341929e+03   2019.099
 316  100     .       3       6.8900000e-01   6.0928478e+00   5.2282480e+03   1332.925
 317  105     .       3       1.0164000e+00   5.5163570e+01   5.2282480e+03   1332.925
 318  107     .       3       1.3440000e+00   3.4341449e+02   5.2282480e+03   1332.925
 319  108     .       3       3.1400000e+00   3.8963852e+01   5.2282480e+03   1332.925
 320  113     .       3       3.6500000e+00   1.1393370e+02   5.2282480e+03   1332.925
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  115     .       3       3.7800000e+00   5.8075336e+01   5.2282480e+03   1332.925
 322  116     .       3       3.3900000e+00   1.3359727e+02   5.2282480e+03   1332.925
 323  117     .       3       1.7982000e+00   4.2128716e+00   5.2282480e+03   1332.925
 324  118     .       3       2.3534000e+00   3.0750432e+00   5.2282480e+03   1332.925
 325  121     .       3       1.4835000e+00   2.6927533e+00   5.2282480e+03   1332.925
 326  122     .       3       6.1610000e-01   1.7740015e+01   5.2282480e+03   1332.925
 327  123     .       3       3.7500000e+00   2.2501581e+01   5.2282480e+03   1332.925
 328  125     .       3       6.0000000e-01   6.5865562e+01   5.2282480e+03   1332.925
 329  127     .       3       8.8400000e+00   1.3803989e+02   5.2282480e+03   1332.925
 330  132     .       3       4.3310000e-01   8.6524490e+01   5.2282480e+03   1332.925
 331  135     .       3       3.6400000e-01   1.1126342e+02   5.2282480e+03   1332.925
 332  136     .       3       1.6380000e-01   5.2630310e+01   5.2282480e+03   1332.925
 333  139     .       3       2.6100000e-01   2.5521873e+02   5.2282480e+03   1332.925
 334  140     .       3       1.0300000e+00   2.4278315e+01   5.2282480e+03   1332.925
 335  141     .       3       3.1300000e+00   4.0633356e+02   5.2282480e+03   1332.925
 336  146     .       3       5.7300000e+00   3.9377449e+01   5.2282480e+03   1332.925
 337  147     .       3       3.8700000e+00   1.4319822e+01   5.2282480e+03   1332.925
 338  150     .       3       0.0000000e+00   4.4369339e+01   5.2282480e+03   1332.925
 339  153     .       3       1.5300000e+00   8.4574577e+01   5.2282480e+03   1332.925
 340  156     .       3       0.0000000e+00   1.2860280e+02   5.2282480e+03   1332.925
 341  100     .       4       6.8900000e-01   1.4729385e+02   5.4929375e+03   3304.009
 342  105     .       4       1.0164000e+00   1.3844157e+02   5.4929375e+03   3304.009
 343  107     .       4       1.3440000e+00   1.5393242e+02   5.4929375e+03   3304.009
 344  108     .       4       3.1400000e+00   3.8194583e+02   5.4929375e+03   3304.009
 345  109     .       4       6.4680000e-01   3.9726902e+01   5.4929375e+03   3304.009
 346  110     .       4       3.6100000e+00   1.3808033e+01   5.4929375e+03   3304.009
 347  112     .       4       9.4600000e-01   5.8423035e+01   5.4929375e+03   3304.009
 348  113     .       4       3.6500000e+00   1.7612231e+02   5.4929375e+03   3304.009
 349  115     .       4       3.7800000e+00   6.4570137e+01   5.4929375e+03   3304.009
 350  116     .       4       3.3900000e+00   3.5482681e+01   5.4929375e+03   3304.009
 351  117     .       4       1.7982000e+00   2.3890688e+01   5.4929375e+03   3304.009
 352  119     .       4       1.2210000e+00   5.5869532e+00   5.4929375e+03   3304.009
 353  121     .       4       1.4835000e+00   2.8828011e+00   5.4929375e+03   3304.009
 354  122     .       4       6.1610000e-01   1.1701660e+01   5.4929375e+03   3304.009
 355  123     .       4       3.7500000e+00   1.9801840e+01   5.4929375e+03   3304.009
 356  125     .       4       6.0000000e-01   2.0647273e+02   5.4929375e+03   3304.009
 357  127     .       4       8.8400000e+00   5.6919262e+01   5.4929375e+03   3304.009
 358  135     .       4       3.6400000e-01   7.0849045e+01   5.4929375e+03   3304.009
 359  136     .       4       1.6380000e-01   1.1714453e+02   5.4929375e+03   3304.009
 360  138     .       4       2.0160000e-01   2.0161989e+02   5.4929375e+03   3304.009
 361  140     .       4       1.0300000e+00   1.3265323e+02   5.4929375e+03   3304.009
 362  141     .       4       3.1300000e+00   3.2677347e+02   5.4929375e+03   3304.009
 363  144     .       4       5.8800000e+00   3.9933464e+01   5.4929375e+03   3304.009
 364  147     .       4       3.8700000e+00   2.0429953e+01   5.4929375e+03   3304.009
 365  150     .       4       0.0000000e+00   6.7784279e+01   5.4929375e+03   3304.009
 366  153     .       4       1.5300000e+00   7.2140465e+01   5.4929375e+03   3304.009
 367  ;
 368   
 369    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 370                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 371                         quan(cod,reg,'povline_a_flex5');
 372   
 373    chkshr(reg)=sum(cod,shr(cod,reg));
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375  loop(reg,
 376    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 377  );
 378   
 379   
 380  *turn on dynamic sets to indicate positive quantities and existence of
 381  *price info for each region
 382   
 383   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 384                        AND price(cod,reg,'count') gt 4) = yes;
 385   
 386   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 387   
 388   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 389   display shrmiss;
 390   
 391    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 392                                             quan(cod,reg,'quan5'))/.9;
 393   
 394    display povline_ali;
 395   
 396   
 397  *boost values so shares sum to one;
 398  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 399   
 400  *fill out price matrix with maximum observed price outside of Maputo
 401   
 402  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 403           loop(r,
 404                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 405                                                price(cod,r,'price_uw5'));
 406           );
 407  );
 408   
 409  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 410   
 411  display 'should be an empty set', chkprice;
 412   
 413   
 414   
 415   
 416  Variables
 417     z                objective value
 418     q(cod,reg)       revised maximum entropy quanties in grams
 419     s(cod,reg)       derived maximum entropy shares
 420     povline(regq,reg)  estimated revealed preference matrix
 421  ;
 422   
 423   
 424  Equations
 425     obj              objective equation
 426     rev(regq,reg)    revealed preference tests
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         05/23/14 11:58:31 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427     deflin(regq,reg) define revealed preference matrix
 428     defshr(cod,regq) define the endogenous budget shares
 429     cals(regq)       ensure that each bundle hits the calorie
 430   
 431  ;
 432   
 433     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 434                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 435   
 436     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 437                            q(cod,rq)*price(cod,r,'price_uw5'));
 438   
 439     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 440   
 441     defshr(cod,rq)$posquan(cod,rq) ..
 442               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 443   
 444     cals(rq) .. sum(cod$posquan(cod,rq),
 445                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 446   
 447  *set bounds and starting values for variables
 448   
 449    q.lo(cod,reg)=.00001;
 450    q.up(cod,reg)=inf;
 451    q.l(cod,reg)=quan(cod,reg,'quan5');
 452    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 453   
 454    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 455                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 456   
 457   
 458    display povline.l;
 459   
 460  *print the revealed preference matrix prior to optimisation;
 461  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_rp_inout.csv"/;
 462  put povline_rp;
 463  povline_rp.pc=5;
 464  povline_rp.nd=0;
 465  put " ";
 466  loop(reg,
 467        put reg.tl;
 468  );
 469  put /;
 470  loop(regq,
 471       put regq.tl;
 472       loop(reg,
 473           put povline.l(regq,reg);
 474       );
 475       put /;
 476  );
 477  put /; put /; put /;
 478   
 479     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480     s.lo(cod,regq)=.0001;
 481     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 482   
 483   
 484     model revpref /obj, deflin, rev, defshr, cals/;
 485   
 486     revpref.holdfixed=1;
 487   
 488     option limrow=100;
 489   
 490     option nlp=conopt;
 491   
 492     solve revpref using nlp minimizing z;
 493   
 494     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 495     display "this is without adjustment for calorie target or 90%", povline.l;
 496   
 497  put /;
 498  loop(rq,
 499       put rq.tl;
 500       loop(r,
 501           put povline.l(rq,r);
 502       );
 503       put /;
 504  );
 505  put /;
 506   
 507   
 508  PARAMETERS
 509     qent(cod,reg)  entropy quantities with all adjustments accounted for
 510     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 511    ;
 512  *readjust quantities to hit regional calorie target and calculate line;
 513     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 514   
 515     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 516                                             qent(cod,r))/.9;
 517   
 518     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 519   
 520     display perc_chng, povline_ent, povline_ali;
 521   
 522     file res/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/qent.csv"/;
 523   
 524     put res;
 525     res.pc=5;
 526     res.nd=6;
 527   
 528  *recall that the basket reflects 90% of expenditure and 95% of calories";
 529     put "spdomain" ;
 530     put "product" ;
 531     put "quan5";
 532     put "qent";
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533     put "price";
 534     put "calperg";
 535   
 536     put /;
 537   
 538     loop(reg,
 539         loop(cod,
 540             put reg.tl;
 541             put cod.tl;
 542             put quan(cod,reg,'quan5');
 543             put qent(cod,reg);
 544             put price(cod,reg,'price_uw5')
 545             put quan(cod,reg,'calperg');
 546             put /;
 547         );
 548     );
 549   
 550     file lin/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_food_ent.csv"/;
 551   
 552     put lin;
 553     lin.pc=5;
 554  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 555   
 556     put "spdomain";
 557     put "flex";
 558     put "ent";
 559     put /;
 560   
 561     loop(reg,
 562           put reg.tl;
 563           put povline_ali(reg);
 564           put povline_ent(reg);
 565           put /;
 566     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/product_flex.inc
     3      104 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/price_unit_flex.inc
     4      266 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/quan_flex.inc


COMPILATION TIME     =        0.002 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    389 PARAMETER shrmiss  shares missing in each region pair

            1           2           3           4

1                               0.043
2       0.044                   0.038       0.032
3       0.094       0.012                   0.023
4       0.021       0.037       0.068


----    394 PARAMETER povline_ali  food poverty line

1 2507.425,    2 2019.099,    3 1332.925,    4 3304.009


----    411 should be an empty set

----    411 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    458 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1    2256.683    2295.571    1450.249    2612.511
2    2179.224    1817.189    1340.923    1960.434
3    2088.839    1814.819    1199.633    1967.563
4    3408.451    3138.532    2351.047    2973.609

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


---- obj  =E=  objective equation

obj..  z - (1)*s(100,1) - (1)*s(100,2) - (1)*s(100,3) - (1)*s(100,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3)
     
      - (1)*s(108,4) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (0.999999999999999)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4)
     
      - (1)*s(116,2) - (1)*s(116,3) - (1)*s(116,4) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(118,3) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,3) - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,3)
     
      - (1)*s(122,4) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(127,4) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(135,1)
     
      - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1)
     
      - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(142,2) - (1)*s(143,2) - (1)*s(144,1) - (1)*s(144,4) - (1)*s(146,3) - (1)*s(147,1) - (0.999999999999999)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3)
     
      - (1)*s(150,4) - (1)*s(153,1) - (1)*s(153,2) - (1)*s(153,3) - (1)*s(153,4) - (1)*s(156,3) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 3.289768*q(100,1) - 1.597749*q(105,1) - 0.5718387*q(107,1) - 1.212114*q(108,1) - 3.102665*q(110,1) - 1.685021*q(113,1) - 0.7688141*q(114,1) - 6.420054*q(117,1) - 6.314506*q(118,1) - 1.714545*q(122,1) - 1.261904*q(123,1)
     
      - 0.5316431*q(125,1) - 0.2508146*q(127,1) - 0.3292045*q(135,1) - 0.2578817*q(136,1) - 0.3767647*q(138,1) - 1.03814*q(140,1) - 1.527387*q(141,1) - 2.48791*q(144,1) - 3.285908*q(147,1) - 0.4488587*q(150,1) - 3.131876*q(153,1) + povline(1,1) =E= 0 ;
     
      (LHS = 0)
     
deflin(1,2)..  - 3.707505*q(100,1) - 1.934794*q(105,1) - 1.170979*q(107,1) - 1.64674*q(108,1) - 2.284077*q(110,1) - 1.163808*q(113,1) - 0.5051084*q(114,1) - 5.946953*q(117,1) - 4.710441*q(118,1) - 1.975732*q(122,1) - 1.718858*q(123,1) - 0.5022251*q(125,1)
     
      - 0.1913959*q(127,1) - 0.2761673*q(135,1) - 0.2953806*q(136,1) - 0.2613569*q(138,1) - 0.8573133*q(140,1) - 1.006697*q(141,1) - 1.113505*q(144,1) - 2.464945*q(147,1) - 0.4032243*q(150,1) - 1.141817*q(153,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 2.169405*q(100,1) - 0.9032983*q(105,1) - 0.5816865*q(107,1) - 2.144921*q(108,1) - 1.725595*q(110,1) - 0.8162216*q(113,1) - 0.2207504*q(114,1) - 4.52893*q(117,1) - 5.093335*q(118,1) - 1.365847*q(122,1) - 1.433544*q(123,1)
     
      - 0.3369513*q(125,1) - 0.3187507*q(127,1) - 0.1645685*q(135,1) - 0.2550986*q(136,1) - 0.1272397*q(138,1) - 0.4539905*q(140,1) - 0.537664*q(141,1) - 0.5182976*q(144,1) - 1.481472*q(147,1) - 0.3576977*q(150,1) - 0.7341298*q(153,1) + povline(1,3) =E= 0
      ; (LHS = 0)
     
deflin(1,4)..  - 3.968853*q(100,1) - 2.592357*q(105,1) - 1.25448*q(107,1) - 0.3671314*q(108,1) - 2.316366*q(110,1) - 1.219889*q(113,1) - 0.5335199*q(114,1) - 6.566392*q(117,1) - 5.935893*q(118,1) - 2.630431*q(122,1) - 1.861889*q(123,1)
     
      - 0.5556648*q(125,1) - 0.5545785*q(127,1) - 0.4640095*q(135,1) - 0.476799*q(136,1) - 0.1965766*q(138,1) - 0.7442514*q(140,1) - 0.9542834*q(141,1) - 1.787155*q(144,1) - 3.101775*q(147,1) - 0.4419486*q(150,1) - 0.7937964*q(153,1) + povline(1,4) =E= 0
      ; (LHS = 0)
     
deflin(2,1)..  - 3.289768*q(100,2) - 1.597749*q(105,2) - 1.743152*q(106,2) - 0.5718387*q(107,2) - 1.212114*q(108,2) - 3.102665*q(110,2) - 0.8627539*q(112,2) - 1.685021*q(113,2) - 1.005123*q(115,2) - 0.7613403*q(116,2) - 6.420054*q(117,2)
     
      - 9.480011*q(121,2) - 1.714545*q(122,2) - 1.261904*q(123,2) - 0.5316431*q(125,2) - 0.2508146*q(127,2) - 0.2584574*q(132,2) - 0.2578817*q(136,2) - 0.3767647*q(138,2) - 0.4152648*q(139,2) - 1.03814*q(140,2) - 1.527387*q(141,2) - 1.052376*q(143,2)
     
      - 3.285908*q(147,2) - 0.4488587*q(150,2) - 3.131876*q(153,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 3.707505*q(100,2) - 1.934794*q(105,2) - 2.676722*q(106,2) - 1.170979*q(107,2) - 1.64674*q(108,2) - 2.284077*q(110,2) - 0.1343535*q(112,2) - 1.163808*q(113,2) - 1.14875*q(115,2) - 0.462009*q(116,2) - 5.946953*q(117,2) - 11.60371*q(121,2)
     
      - 1.975732*q(122,2) - 1.718858*q(123,2) - 0.5022251*q(125,2) - 0.1913959*q(127,2) - 0.1447664*q(132,2) - 0.2953806*q(136,2) - 0.2613569*q(138,2) - 0.2365469*q(139,2) - 0.8573133*q(140,2) - 1.006697*q(141,2) - 3.660051*q(142,2) - 1.263392*q(143,2)
     
      - 2.464945*q(147,2) - 0.4032243*q(150,2) - 1.141817*q(153,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     deflin  =E=  define revealed preference matrix

deflin(2,3)..  - 2.169405*q(100,2) - 0.9032983*q(105,2) - 0.5816865*q(107,2) - 2.144921*q(108,2) - 1.725595*q(110,2) - 0.164282*q(112,2) - 0.8162216*q(113,2) - 0.442239*q(115,2) - 0.707445*q(116,2) - 4.52893*q(117,2) - 6.780999*q(121,2)
     
      - 1.365847*q(122,2) - 1.433544*q(123,2) - 0.3369513*q(125,2) - 0.3187507*q(127,2) - 0.1652532*q(132,2) - 0.2550986*q(136,2) - 0.1272397*q(138,2) - 0.168745*q(139,2) - 0.4539905*q(140,2) - 0.537664*q(141,2) - 0.6438032*q(142,2) - 0.8521379*q(143,2)
     
      - 1.481472*q(147,2) - 0.3576977*q(150,2) - 0.7341298*q(153,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 3.968853*q(100,2) - 2.592357*q(105,2) - 3.656943*q(106,2) - 1.25448*q(107,2) - 0.3671314*q(108,2) - 2.316366*q(110,2) - 0.3898685*q(112,2) - 1.219889*q(113,2) - 1.246666*q(115,2) - 0.8211272*q(116,2) - 6.566392*q(117,2)
     
      - 8.484477*q(121,2) - 2.630431*q(122,2) - 1.861889*q(123,2) - 0.5556648*q(125,2) - 0.5545785*q(127,2) - 0.1138085*q(132,2) - 0.476799*q(136,2) - 0.1965766*q(138,2) - 0.3207794*q(139,2) - 0.7442514*q(140,2) - 0.9542834*q(141,2) - 0.9456612*q(142,2)
     
      - 1.264308*q(143,2) - 3.101775*q(147,2) - 0.4419486*q(150,2) - 0.7937964*q(153,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 3.289768*q(100,3) - 1.597749*q(105,3) - 0.5718387*q(107,3) - 1.212114*q(108,3) - 1.685021*q(113,3) - 1.005123*q(115,3) - 0.7613403*q(116,3) - 6.420054*q(117,3) - 6.314506*q(118,3) - 9.480011*q(121,3) - 1.714545*q(122,3)
     
      - 1.261904*q(123,3) - 0.5316431*q(125,3) - 0.2508146*q(127,3) - 0.2584574*q(132,3) - 0.3292045*q(135,3) - 0.2578817*q(136,3) - 0.4152648*q(139,3) - 1.03814*q(140,3) - 1.527387*q(141,3) - 3.285908*q(147,3) - 0.4488587*q(150,3) - 3.131876*q(153,3)
     
      - 0.2201893*q(156,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 3.707505*q(100,3) - 1.934794*q(105,3) - 1.170979*q(107,3) - 1.64674*q(108,3) - 1.163808*q(113,3) - 1.14875*q(115,3) - 0.462009*q(116,3) - 5.946953*q(117,3) - 4.710441*q(118,3) - 11.60371*q(121,3) - 1.975732*q(122,3) - 1.718858*q(123,3)
     
      - 0.5022251*q(125,3) - 0.1913959*q(127,3) - 0.1447664*q(132,3) - 0.2761673*q(135,3) - 0.2953806*q(136,3) - 0.2365469*q(139,3) - 0.8573133*q(140,3) - 1.006697*q(141,3) - 0.9889356*q(146,3) - 2.464945*q(147,3) - 0.4032243*q(150,3) - 1.141817*q(153,3)
     
      - 0.1276986*q(156,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 2.169405*q(100,3) - 0.9032983*q(105,3) - 0.5816865*q(107,3) - 2.144921*q(108,3) - 0.8162216*q(113,3) - 0.442239*q(115,3) - 0.707445*q(116,3) - 4.52893*q(117,3) - 5.093335*q(118,3) - 6.780999*q(121,3) - 1.365847*q(122,3)
     
      - 1.433544*q(123,3) - 0.3369513*q(125,3) - 0.3187507*q(127,3) - 0.1652532*q(132,3) - 0.1645685*q(135,3) - 0.2550986*q(136,3) - 0.168745*q(139,3) - 0.4539905*q(140,3) - 0.537664*q(141,3) - 0.7772055*q(146,3) - 1.481472*q(147,3) - 0.3576977*q(150,3)
     
      - 0.7341298*q(153,3) - 0.1244536*q(156,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 3.968853*q(100,3) - 2.592357*q(105,3) - 1.25448*q(107,3) - 0.3671314*q(108,3) - 1.219889*q(113,3) - 1.246666*q(115,3) - 0.8211272*q(116,3) - 6.566392*q(117,3) - 5.935893*q(118,3) - 8.484477*q(121,3) - 2.630431*q(122,3) - 1.861889*q(123,3)
     
      - 0.5556648*q(125,3) - 0.5545785*q(127,3) - 0.1138085*q(132,3) - 0.4640095*q(135,3) - 0.476799*q(136,3) - 0.3207794*q(139,3) - 0.7442514*q(140,3) - 0.9542834*q(141,3) - 0.4169749*q(146,3) - 3.101775*q(147,3) - 0.4419486*q(150,3) - 0.7937964*q(153,3)
     
      - 0.32549*q(156,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 3.289768*q(100,4) - 1.597749*q(105,4) - 0.5718387*q(107,4) - 1.212114*q(108,4) - 2.09644*q(109,4) - 3.102665*q(110,4) - 0.8627539*q(112,4) - 1.685021*q(113,4) - 1.005123*q(115,4) - 0.7613403*q(116,4) - 6.420054*q(117,4)
     
      - 8.506178*q(119,4) - 9.480011*q(121,4) - 1.714545*q(122,4) - 1.261904*q(123,4) - 0.5316431*q(125,4) - 0.2508146*q(127,4) - 0.3292045*q(135,4) - 0.2578817*q(136,4) - 0.3767647*q(138,4) - 1.03814*q(140,4) - 1.527387*q(141,4) - 2.48791*q(144,4)
     
      - 3.285908*q(147,4) - 0.4488587*q(150,4) - 3.131876*q(153,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 3.707505*q(100,4) - 1.934794*q(105,4) - 1.170979*q(107,4) - 1.64674*q(108,4) - 1.129916*q(109,4) - 2.284077*q(110,4) - 0.1343535*q(112,4) - 1.163808*q(113,4) - 1.14875*q(115,4) - 0.462009*q(116,4) - 5.946953*q(117,4) - 6.120848*q(119,4)
     
      - 11.60371*q(121,4) - 1.975732*q(122,4) - 1.718858*q(123,4) - 0.5022251*q(125,4) - 0.1913959*q(127,4) - 0.2761673*q(135,4) - 0.2953806*q(136,4) - 0.2613569*q(138,4) - 0.8573133*q(140,4) - 1.006697*q(141,4) - 1.113505*q(144,4) - 2.464945*q(147,4)
     
      - 0.4032243*q(150,4) - 1.141817*q(153,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     deflin  =E=  define revealed preference matrix

deflin(4,3)..  - 2.169405*q(100,4) - 0.9032983*q(105,4) - 0.5816865*q(107,4) - 2.144921*q(108,4) - 0.9685303*q(109,4) - 1.725595*q(110,4) - 0.164282*q(112,4) - 0.8162216*q(113,4) - 0.442239*q(115,4) - 0.707445*q(116,4) - 4.52893*q(117,4)
     
      - 6.665213*q(119,4) - 6.780999*q(121,4) - 1.365847*q(122,4) - 1.433544*q(123,4) - 0.3369513*q(125,4) - 0.3187507*q(127,4) - 0.1645685*q(135,4) - 0.2550986*q(136,4) - 0.1272397*q(138,4) - 0.4539905*q(140,4) - 0.537664*q(141,4) - 0.5182976*q(144,4)
     
      - 1.481472*q(147,4) - 0.3576977*q(150,4) - 0.7341298*q(153,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 3.968853*q(100,4) - 2.592357*q(105,4) - 1.25448*q(107,4) - 0.3671314*q(108,4) - 3.047743*q(109,4) - 2.316366*q(110,4) - 0.3898685*q(112,4) - 1.219889*q(113,4) - 1.246666*q(115,4) - 0.8211272*q(116,4) - 6.566392*q(117,4)
     
      - 7.216222*q(119,4) - 8.484477*q(121,4) - 2.630431*q(122,4) - 1.861889*q(123,4) - 0.5556648*q(125,4) - 0.5545785*q(127,4) - 0.4640095*q(135,4) - 0.476799*q(136,4) - 0.1965766*q(138,4) - 0.7442514*q(140,4) - 0.9542834*q(141,4) - 1.787155*q(144,4)
     
      - 3.101775*q(147,4) - 0.4419486*q(150,4) - 0.7937964*q(153,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -77.45891901496, INFES = 77.45891901496 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -167.843130574073, INFES = 167.843130574073 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 1151.76804998089)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 478.381868496913)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -2.36988633813144, INFES = 2.36988633813144 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 1321.34292810962)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 250.616069948215)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 141.290556918012)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 1151.41407407071)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -361.097798162511, INFES = 361.097798162511 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -1013.17416090499, INFES = 1013.17416090499 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -1006.04567924617, INFES = 1006.04567924617 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(100,1)..  - 3.289768*q(100,1) + (2256.68260207118)*s(100,1) + (0.167557119447458)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(100,2)..  - 3.707505*q(100,2) + (1817.18899664107)*s(100,2) + (0.0439119045140362)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(100,3)..  - 2.169405*q(100,3) + (1199.63270295542)*s(100,3) + (0.0110182512105542)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     defshr  =E=  define the endogenous budget shares

defshr(100,4)..  - 3.968853*q(100,4) + (2973.60854974471)*s(100,4) + (0.196591995440771)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.597749*q(105,1) + (2256.68260207118)*s(105,1) + (0.131850362193006)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 1.934794*q(105,2) + (1817.18899664107)*s(105,2) + (0.131427629997791)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.9032983*q(105,3) + (1199.63270295542)*s(105,3) + (0.0415370128541608)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 2.592357*q(105,4) + (2973.60854974471)*s(105,4) + (0.120691734327742)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 2.676722*q(106,2) + (1817.18899664107)*s(106,2) + (0.0245953943274531)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.5718387*q(107,1) + (2256.68260207118)*s(107,1) + (0.093455404218434)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 1.170979*q(107,2) + (1817.18899664107)*s(107,2) + (0.0389724752731256)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.5816865*q(107,3) + (1199.63270295542)*s(107,3) + (0.166517278368001)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 1.25448*q(107,4) + (2973.60854974471)*s(107,4) + (0.0649396647242551)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 1.212114*q(108,1) + (2256.68260207118)*s(108,1) + (0.0294192917090217)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 1.64674*q(108,2) + (1817.18899664107)*s(108,2) + (0.128614589136632)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 2.144921*q(108,3) + (1199.63270295542)*s(108,3) + (0.0696666439567693)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3671314*q(108,4) + (2973.60854974471)*s(108,4) + (0.0471562766067849)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 3.047743*q(109,4) + (2973.60854974471)*s(109,4) + (0.0407173255849633)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 3.102665*q(110,1) + (2256.68260207118)*s(110,1) + (0.0206588294053102)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 2.284077*q(110,2) + (1817.18899664107)*s(110,2) + (0.0171066248699265)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 2.316366*q(110,4) + (2973.60854974471)*s(110,4) + (0.0107561091626616)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.1343535*q(112,2) + (1817.18899664107)*s(112,2) + (0.0206761388655031)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.3898685*q(112,4) + (2973.60854974471)*s(112,4) + (0.00765981824435263)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.685021*q(113,1) + (2256.68260207118)*s(113,1) + (0.104924842239229)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 1.163808*q(113,2) + (1817.18899664107)*s(113,2) + (0.139724463067939)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.8162216*q(113,3) + (1199.63270295542)*s(113,3) + (0.0775196830486671)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 1.219889*q(113,4) + (2973.60854974471)*s(113,4) + (0.0722521693859251)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     defshr  =E=  define the endogenous budget shares

defshr(114,1)..  - 0.7688141*q(114,1) + (2256.68260207118)*s(114,1) + (0.0125038161029252)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 1.14875*q(115,2) + (1817.18899664107)*s(115,2) + (0.0153466514092911)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.442239*q(115,3) + (1199.63270295542)*s(115,3) + (0.0214092017115162)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 1.246666*q(115,4) + (2973.60854974471)*s(115,4) + (0.0270706090148123)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.462009*q(116,2) + (1817.18899664107)*s(116,2) + (0.0134212016953046)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.707445*q(116,3) + (1199.63270295542)*s(116,3) + (0.0787847150567903)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(116,4)..  - 0.8211272*q(116,4) + (2973.60854974471)*s(116,4) + (0.0097981270939393)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 6.420054*q(117,1) + (2256.68260207118)*s(117,1) + (0.0156249083191591)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 5.946953*q(117,2) + (1817.18899664107)*s(117,2) + (0.0433488340481351)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 4.52893*q(117,3) + (1199.63270295542)*s(117,3) + (0.0159047019378372)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 6.566392*q(117,4) + (2973.60854974471)*s(117,4) + (0.0527559764284253)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 6.314506*q(118,1) + (2256.68260207118)*s(118,1) + (0.0187118801269987)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(118,3)..  - 5.093335*q(118,3) + (1199.63270295542)*s(118,3) + (0.0130558504436287)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 7.216222*q(119,4) + (2973.60854974471)*s(119,4) + (0.0135581714675496)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 11.60371*q(121,2) + (1817.18899664107)*s(121,2) + (0.0186372968564301)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 6.780999*q(121,3) + (1199.63270295542)*s(121,3) + (0.0152209567058003)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 8.484477*q(121,4) + (2973.60854974471)*s(121,4) + (0.00822537977657635)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 1.714545*q(122,1) + (2256.68260207118)*s(122,1) + (0.0170189098591361)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 1.975732*q(122,2) + (1817.18899664107)*s(122,2) + (0.0351005473318979)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,3)..  - 1.365847*q(122,3) + (1199.63270295542)*s(122,3) + (0.0201979707688958)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(122,4)..  - 2.630431*q(122,4) + (2973.60854974471)*s(122,4) + (0.0103511974426165)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 1.261904*q(123,1) + (2256.68260207118)*s(123,1) + (0.0187508832901231)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 1.718858*q(123,2) + (1817.18899664107)*s(123,2) + (0.0227453773969621)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 1.433544*q(123,3) + (1199.63270295542)*s(123,3) + (0.0268890689238427)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     defshr  =E=  define the endogenous budget shares

defshr(123,4)..  - 1.861889*q(123,4) + (2973.60854974471)*s(123,4) + (0.01239868242877)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.5316431*q(125,1) + (2256.68260207118)*s(125,1) + (0.0264390953037738)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.5022251*q(125,2) + (1817.18899664107)*s(125,2) + (0.0216463385497057)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.3369513*q(125,3) + (1199.63270295542)*s(125,3) + (0.0185002348522632)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.5556648*q(125,4) + (2973.60854974471)*s(125,4) + (0.0385826265635245)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.2508146*q(127,1) + (2256.68260207118)*s(127,1) + (0.0240197514893981)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.1913959*q(127,2) + (1817.18899664107)*s(127,2) + (0.0202443034837269)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.3187507*q(127,3) + (1199.63270295542)*s(127,3) + (0.0366781527854514)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 0.5545785*q(127,4) + (2973.60854974471)*s(127,4) + (0.0106154520384928)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1447664*q(132,2) + (1817.18899664107)*s(132,2) + (0.0106489715650233)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1652532*q(132,3) + (1199.63270295542)*s(132,3) + (0.0119190222270886)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.3292045*q(135,1) + (2256.68260207118)*s(135,1) + (0.0154606854878321)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.1645685*q(135,3) + (1199.63270295542)*s(135,3) + (0.0152633836082997)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.4640095*q(135,4) + (2973.60854974471)*s(135,4) + (0.0110554665807474)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.2578817*q(136,1) + (2256.68260207118)*s(136,1) + (0.0239693374761047)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.2953806*q(136,2) + (1817.18899664107)*s(136,2) + (0.023373279085508)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.2550986*q(136,3) + (1199.63270295542)*s(136,3) + (0.0111916908946295)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.476799*q(136,4) + (2973.60854974471)*s(136,4) + (0.0187833717266737)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.3767647*q(138,1) + (2256.68260207118)*s(138,1) + (0.0132237029728526)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.2613569*q(138,2) + (1817.18899664107)*s(138,2) + (0.0329199777920001)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1965766*q(138,4) + (2973.60854974471)*s(138,4) + (0.0133285036700532)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.2365469*q(139,2) + (1817.18899664107)*s(139,2) + (0.0233590879383144)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.168745*q(139,3) + (1199.63270295542)*s(139,3) + (0.0359000588161278)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 1.03814*q(140,1) + (2256.68260207118)*s(140,1) + (0.0237430382790579)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     defshr  =E=  define the endogenous budget shares

defshr(140,2)..  - 0.8573133*q(140,2) + (1817.18899664107)*s(140,2) + (0.0231196118605611)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 0.4539905*q(140,3) + (1199.63270295542)*s(140,3) + (0.00918791588363117)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.7442514*q(140,4) + (2973.60854974471)*s(140,4) + (0.0332011932607935)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.527387*q(141,1) + (2256.68260207118)*s(141,1) + (0.113857727468892)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 1.006697*q(141,2) + (1817.18899664107)*s(141,2) + (0.0391569079770422)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.537664*q(141,3) + (1199.63270295542)*s(141,3) + (0.182114847874365)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.9542834*q(141,4) + (2973.60854974471)*s(141,4) + (0.104867366623683)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(142,2)..  - 3.660051*q(142,2) + (1817.18899664107)*s(142,2) + (0.0109498178376468)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 1.263392*q(143,2) + (1817.18899664107)*s(143,2) + (0.0154931292822972)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 2.48791*q(144,1) + (2256.68260207118)*s(144,1) + (0.0265819219663918)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 1.787155*q(144,4) + (2973.60854974471)*s(144,4) + (0.0240002302458563)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.7772055*q(146,3) + (1199.63270295542)*s(146,3) + (0.0255114501825204)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 3.285908*q(147,1) + (2256.68260207118)*s(147,1) + (0.0654110015444114)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 2.464945*q(147,2) + (1817.18899664107)*s(147,2) + (0.0533912408838637)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 1.481472*q(147,3) + (1199.63270295542)*s(147,3) + (0.0176840922106575)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 3.101775*q(147,4) + (2973.60854974471)*s(147,4) + (0.0213105109184648)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.4488587*q(150,1) + (2256.68260207118)*s(150,1) + (0.011192985517825)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.4032243*q(150,2) + (1817.18899664107)*s(150,2) + (0.0109186483539634)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.3576977*q(150,3) + (1199.63270295542)*s(150,3) + (0.013229724791364)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(150,4)..  - 0.4419486*q(150,4) + (2973.60854974471)*s(150,4) + (0.0100743479529716)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(153,1)..  - 3.131876*q(153,1) + (2256.68260207118)*s(153,1) + (0.0256245055826598)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(153,2)..  - 1.141817*q(153,2) + (1817.18899664107)*s(153,2) + (0.0211495565999194)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(153,3)..  - 0.7341298*q(153,3) + (1199.63270295542)*s(153,3) + (0.0517564394044382)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(153,4)..  - 0.7937964*q(153,4) + (2973.60854974471)*s(153,4) + (0.0192576932885945)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 492


     defshr  =E=  define the endogenous budget shares

defshr(156,3)..  - 0.1244536*q(156,3) + (1199.63270295542)*s(156,3) + (0.0133416514826995)*povline(3,3) =E= 0 ; (LHS = 0)
     

---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(100,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 2.3534*q(118,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1) + 8.84*q(127,1) + 0.364*q(135,1)
     
      + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) + 1.53*q(153,1) =E= 2042.5 ; (LHS = 4756.34826158868, INFES = 2713.84826158868 ****)
     
cals(2)..  0.689*q(100,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.4835*q(121,2) + 0.6161*q(122,2) + 3.75*q(123,2)
     
      + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 3.059*q(142,2) + 5.67*q(143,2) + 3.87*q(147,2) + 1.53*q(153,2) =E= 2042.5 ;
     
      (LHS = 4782.4829978116, INFES = 2739.9829978116 ****)
     
cals(3)..  0.689*q(100,3) + 1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 2.3534*q(118,3) + 1.4835*q(121,3) + 0.6161*q(122,3) + 3.75*q(123,3) + 0.6*q(125,3) + 8.84*q(127,3)
     
      + 0.4331*q(132,3) + 0.364*q(135,3) + 0.1638*q(136,3) + 0.261*q(139,3) + 1.03*q(140,3) + 3.13*q(141,3) + 5.73*q(146,3) + 3.87*q(147,3) + 1.53*q(153,3) =E= 2042.5 ; (LHS = 4966.83580236925, INFES = 2924.33580236925 ****)
     
cals(4)..  0.689*q(100,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 3.39*q(116,4) + 1.7982*q(117,4) + 1.221*q(119,4) + 1.4835*q(121,4) + 0.6161*q(122,4)
     
      + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.88*q(144,4) + 3.87*q(147,4) + 1.53*q(153,4) =E= 2042.5 ; (LHS = 5218.29097083625, INFES = 3175.79097083625 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 492


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(100,1)
                (.LO, .L, .UP, .M = 1E-5, 114.93918, +INF, 0)
       -3.2898  deflin(1,1)
       -3.7075  deflin(1,2)
       -2.1694  deflin(1,3)
       -3.9689  deflin(1,4)
       -3.2898  defshr(100,1)
        0.689   cals(1)

q(100,2)
                (.LO, .L, .UP, .M = 1E-5, 21.522892, +INF, 0)
       -3.2898  deflin(2,1)
       -3.7075  deflin(2,2)
       -2.1694  deflin(2,3)
       -3.9689  deflin(2,4)
       -3.7075  defshr(100,2)
        0.689   cals(2)

q(100,3)
                (.LO, .L, .UP, .M = 1E-5, 6.0928478, +INF, 0)
       -3.2898  deflin(3,1)
       -3.7075  deflin(3,2)
       -2.1694  deflin(3,3)
       -3.9689  deflin(3,4)
       -2.1694  defshr(100,3)
        0.689   cals(3)

REMAINING 97 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(100,1)
                (.LO, .L, .UP, .M = 0.0001, 0.167557119447458, +INF, 0)
      (-1)      obj
    (2256.6826) defshr(100,1)

s(100,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0439119045140362, +INF, 0)
      (-1)      obj
    (1817.189)  defshr(100,2)

s(100,3)
                (.LO, .L, .UP, .M = 0.0001, 0.0110182512105542, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 492


     s  derived maximum entropy shares

    (1199.6327) defshr(100,3)

REMAINING 97 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 2256.68260207118, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1676) defshr(100,1)
       (0.1319) defshr(105,1)
       (0.0935) defshr(107,1)
       (0.0294) defshr(108,1)
       (0.0207) defshr(110,1)
       (0.1049) defshr(113,1)
       (0.0125) defshr(114,1)
       (0.0156) defshr(117,1)
       (0.0187) defshr(118,1)
       (0.017)  defshr(122,1)
       (0.0188) defshr(123,1)
       (0.0264) defshr(125,1)
       (0.024)  defshr(127,1)
       (0.0155) defshr(135,1)
       (0.024)  defshr(136,1)
       (0.0132) defshr(138,1)
       (0.0237) defshr(140,1)
       (0.1139) defshr(141,1)
       (0.0266) defshr(144,1)
       (0.0654) defshr(147,1)
       (0.0112) defshr(150,1)
       (0.0256) defshr(153,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 2295.57086513798, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 1450.24877290364, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 492


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          133
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          217
NON ZERO ELEMENTS           933     NON LINEAR N-Z            300
DERIVATIVE POOL              10     CONSTANT POOL             116
CODE LENGTH                 902


GENERATION TIME      =        0.004 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.005 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  492

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0211

 RESOURCE USAGE, LIMIT          0.052      1000.000
 ITERATION COUNT, LIMIT       100    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 217 variables and 133 constraints
    with 933 Jacobian elements, 300 of which are nonlinear.
    The Hessian of the Lagrangian has 100 elements on the diagonal,
    100 elements below the diagonal, and 104 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.052 seconds
   of which: Function evaluations             0.009 = 17.3%
             1st Derivative evaluations       0.001 =  1.9%
             2nd Derivative evaluations       0.002 =  3.8%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0010      
1.2          .              .              .             EPS         
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .             EPS         
2.2          .              .              .            -0.0011      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .       -7.047821E-5      
3.1          .              .              .             EPS         
3.2          .              .              .       -4.645606E-5      
3.3          .              .              .            -0.0018      
3.4          .              .              .       -5.771703E-5      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0009      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .            81.9314        +INF            EPS         
1.3          .            24.9464        +INF            EPS         
1.4          .           164.5724        +INF             .          
2.1          .           112.8705        +INF            EPS         
2.3          .              .            +INF      4.6456056E-5      
2.4          .           187.7336        +INF             .          
3.1          .            55.3923        +INF            EPS         
3.2          .            67.6044        +INF            EPS         
3.4          .           283.0739        +INF            EPS         
4.1          .           180.5891        +INF            EPS         
4.2          .              .            +INF      7.0478210E-5      
4.3          .              .            +INF      5.7717027E-5      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1          .              .              .             0.0010      
100.2          .              .              .             0.0012      
100.3          .              .              .             0.0019      
100.4          .              .              .             0.0010      
105.1          .              .              .             0.0010      
105.2          .              .              .             0.0012      
105.3          .              .              .             0.0020      
105.4          .              .              .             0.0010      
106.2          .              .              .             0.0012      
107.1          .              .              .             0.0010      
107.2          .              .              .             0.0012      
107.3          .              .              .             0.0019      
107.4          .              .              .             0.0010      
108.1          .              .              .             0.0010      
108.2          .              .              .             0.0011      
108.3          .              .              .             0.0018      
108.4          .              .              .             0.0015      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

109.4          .              .              .             0.0010      
110.1          .              .              .             0.0010      
110.2          .              .              .             0.0012      
110.4          .              .              .             0.0010      
112.2          .              .              .             0.0012      
112.4          .              .              .             0.0011      
113.1          .              .              .             0.0010      
113.2          .              .              .             0.0011      
113.3          .              .              .             0.0017      
113.4          .              .              .             0.0011      
114.1          .              .              .             0.0010      
115.2          .              .              .             0.0011      
115.3          .              .              .             0.0017      
115.4          .              .              .             0.0011      
116.2          .              .              .             0.0011      
116.3          .              .              .             0.0016      
116.4          .              .              .             0.0012      
117.1          .              .              .             0.0010      
117.2          .              .              .             0.0012      
117.3          .              .              .             0.0019      
117.4          .              .              .             0.0010      
118.1          .              .              .             0.0010      
118.3          .              .              .             0.0019      
119.4          .              .              .             0.0010      
121.2          .              .              .             0.0012      
121.3          .              .              .             0.0019      
121.4          .              .              .             0.0010      
122.1          .              .              .             0.0010      
122.2          .              .              .             0.0012      
122.3          .              .              .             0.0019      
122.4          .              .              .             0.0010      
123.1          .              .              .             0.0010      
123.2          .              .              .             0.0011      
123.3          .              .              .             0.0018      
123.4          .              .              .             0.0011      
125.1          .              .              .             0.0010      
125.2          .              .              .             0.0012      
125.3          .              .              .             0.0019      
125.4          .              .              .             0.0010      
127.1          .              .              .             0.0010      
127.2          .              .              .             0.0007      
127.3          .              .              .             0.0006      
127.4          .              .              .             0.0019      
132.2          .              .              .             0.0011      
132.3          .              .              .             0.0017      
135.1          .              .              .             0.0010      
135.3          .              .              .             0.0019      
135.4          .              .              .             0.0010      
136.1          .              .              .             0.0010      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

136.2          .              .              .             0.0012      
136.3          .              .              .             0.0019      
136.4          .              .              .             0.0010      
138.1          .              .              .             0.0010      
138.2          .              .              .             0.0011      
138.4          .              .              .             0.0010      
139.2          .              .              .             0.0012      
139.3          .              .              .             0.0019      
140.1          .              .              .             0.0010      
140.2          .              .              .             0.0011      
140.3          .              .              .             0.0019      
140.4          .              .              .             0.0010      
141.1          .              .              .             0.0010      
141.2          .              .              .             0.0011      
141.3          .              .              .             0.0017      
141.4          .              .              .             0.0011      
142.2          .              .              .             0.0011      
143.2          .              .              .             0.0011      
144.1          .              .              .             0.0010      
144.4          .              .              .             0.0011      
146.3          .              .              .             0.0015      
147.1          .              .              .             0.0010      
147.2          .              .              .             0.0012      
147.3          .              .              .             0.0019      
147.4          .              .              .             0.0010      
150.1          .              .              .             0.0010      
150.2          .              .              .             0.0012      
150.3          .              .              .             0.0019      
150.4          .              .              .             0.0009      
153.1          .              .              .             0.0010      
153.2          .              .              .             0.0011      
153.3          .              .              .             0.0018      
153.4          .              .              .             0.0011      
156.3          .              .              .             0.0020      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000         EPS         
2      2042.5000      2042.5000      2042.5000   -1.262604E-5      
3      2042.5000      2042.5000      2042.5000   -4.645306E-5      
4      2042.5000      2042.5000      2042.5000   5.9079093E-5      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0211        +INF             .          

  z  objective value
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

100.1   1.0000000E-5        49.3579        +INF             .          
100.2   1.0000000E-5        10.5982        +INF             .          
100.3   1.0000000E-5         3.1967        +INF             .          
100.4   1.0000000E-5        42.2460        +INF             .          
105.1   1.0000000E-5        79.9708        +INF             .          
105.2   1.0000000E-5        61.5679        +INF             .          
105.3   1.0000000E-5        29.6516        +INF             .          
105.4   1.0000000E-5        40.1924        +INF             .          
106.2   1.0000000E-5         8.2725        +INF             .          
107.1   1.0000000E-5       158.3761        +INF            EPS         
107.2   1.0000000E-5        29.4684        +INF            EPS         
107.3   1.0000000E-5       174.1919        +INF             .          
107.4   1.0000000E-5        46.4101        +INF             .          
108.1   1.0000000E-5        23.5206        +INF             .          
108.2   1.0000000E-5        65.0899        +INF             .          
108.3   1.0000000E-5        18.3260        +INF             .          
108.4   1.0000000E-5       174.5708        +INF             .          
109.4   1.0000000E-5        11.4187        +INF             .          
110.1   1.0000000E-5         6.4525        +INF             .          
110.2   1.0000000E-5         6.5766        +INF             .          
110.4   1.0000000E-5         4.2774        +INF             .          
112.2   1.0000000E-5       142.9116        +INF            EPS         
112.4   1.0000000E-5        18.9930        +INF             .          
113.1   1.0000000E-5        60.3437        +INF             .          
113.2   1.0000000E-5       103.8493        +INF            EPS         
113.3   1.0000000E-5        52.5998        +INF            EPS         
113.4   1.0000000E-5        59.0861        +INF            EPS         
114.1   1.0000000E-5        15.7609        +INF             .          
115.2   1.0000000E-5        11.5625        +INF             .          
115.3   1.0000000E-5        25.9371        +INF            EPS         
115.4   1.0000000E-5        21.7105        +INF             .          
116.2   1.0000000E-5        25.0914        +INF            EPS         
116.3   1.0000000E-5        59.2749        +INF             .          
116.4   1.0000000E-5        12.6804        +INF             .          
117.1   1.0000000E-5         2.3585        +INF             .          
117.2   1.0000000E-5         6.5276        +INF             .          
117.3   1.0000000E-5         2.1559        +INF             .          
117.4   1.0000000E-5         6.8905        +INF             .          
118.1   1.0000000E-5         2.8717        +INF             .          
118.3   1.0000000E-5         1.5405        +INF             .          
119.4   1.0000000E-5         1.6020        +INF             .          
121.2   1.0000000E-5         1.4084        +INF             .          
121.3   1.0000000E-5         1.3900        +INF             .          
121.4   1.0000000E-5         0.8269        +INF             .          
122.1   1.0000000E-5         9.6193        +INF             .          
122.2   1.0000000E-5        16.1318        +INF             .          
122.3   1.0000000E-5         9.2402        +INF             .          
122.4   1.0000000E-5         3.3675        +INF             .          
123.1   1.0000000E-5        14.3997        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

123.2   1.0000000E-5        11.5923        +INF             .          
123.3   1.0000000E-5        10.7748        +INF             .          
123.4   1.0000000E-5         6.2915        +INF             .          
125.1   1.0000000E-5        48.1931        +INF             .          
125.2   1.0000000E-5        38.2250        +INF             .          
125.3   1.0000000E-5        32.8649        +INF             .          
125.4   1.0000000E-5        62.2801        +INF             .          
127.1   1.0000000E-5        92.8057        +INF             .          
127.2   1.0000000E-5        63.7868        +INF             .          
127.3   1.0000000E-5        34.0497        +INF             .          
127.4   1.0000000E-5        39.2321        +INF             .          
132.2   1.0000000E-5        62.7109        +INF            EPS         
132.3   1.0000000E-5        40.2627        +INF            EPS         
135.1   1.0000000E-5        45.5116        +INF             .          
135.3   1.0000000E-5        57.3172        +INF             .          
135.4   1.0000000E-5        21.0227        +INF             .          
136.1   1.0000000E-5        90.0730        +INF             .          
136.2   1.0000000E-5        72.9172        +INF            EPS         
136.3   1.0000000E-5        27.0187        +INF             .          
136.4   1.0000000E-5        33.9177        +INF             .          
138.1   1.0000000E-5        34.0128        +INF             .          
138.2   1.0000000E-5       109.8114        +INF             .          
138.4   1.0000000E-5        60.6331        +INF             .          
139.2   1.0000000E-5        89.0242        +INF             .          
139.3   1.0000000E-5       128.8936        +INF            EPS         
140.1   1.0000000E-5        22.1635        +INF             .          
140.2   1.0000000E-5        23.5669        +INF             .          
140.3   1.0000000E-5        12.0815        +INF             .          
140.4   1.0000000E-5        40.6958        +INF             .          
141.1   1.0000000E-5        72.2391        +INF            EPS         
141.2   1.0000000E-5        33.4482        +INF             .          
141.3   1.0000000E-5       184.8687        +INF            EPS         
141.4   1.0000000E-5       111.3961        +INF            EPS         
142.2   1.0000000E-5         2.5284        +INF             .          
143.2   1.0000000E-5        10.4202        +INF             .          
144.1   1.0000000E-5        10.3541        +INF             .          
144.4   1.0000000E-5        13.6209        +INF             .          
146.3   1.0000000E-5        16.2553        +INF             .          
147.1   1.0000000E-5        19.2910        +INF             .          
147.2   1.0000000E-5        19.3102        +INF             .          
147.3   1.0000000E-5         7.1253        +INF             .          
147.4   1.0000000E-5         6.2203        +INF             .          
150.1   1.0000000E-5        24.1655        +INF             .          
150.2   1.0000000E-5        24.3178        +INF             .          
150.3   1.0000000E-5        22.6725        +INF             .          
150.4   1.0000000E-5        19.2547        +INF             .          
153.1   1.0000000E-5         7.9288        +INF             .          
153.2   1.0000000E-5        15.9913        +INF             .          
153.3   1.0000000E-5        41.1630        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

153.4   1.0000000E-5        22.8106        +INF             .          
156.3   1.0000000E-5        68.5698        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1         0.0001         0.1676        +INF            EPS         
100.2         0.0001         0.0450        +INF      3.7310957E-9      
100.3         0.0001         0.0122        +INF      1.9728474E-9      
100.4         0.0001         0.1781        +INF            EPS         
105.1         0.0001         0.1319        +INF      -3.015728E-9      
105.2         0.0001         0.1365        +INF      3.6072740E-9      
105.3         0.0001         0.0472        +INF      3.4826388E-9      
105.4         0.0001         0.1107        +INF            EPS         
106.2         0.0001         0.0254        +INF             .          
107.1         0.0001         0.0935        +INF             .          
107.2         0.0001         0.0395        +INF             .          
107.3         0.0001         0.1786        +INF             .          
107.4         0.0001         0.0619        +INF      1.5911571E-9      
108.1         0.0001         0.0294        +INF             .          
108.2         0.0001         0.1228        +INF             .          
108.3         0.0001         0.0693        +INF            EPS         
108.4         0.0001         0.0681        +INF             .          
109.4         0.0001         0.0370        +INF             .          
110.1         0.0001         0.0207        +INF      1.1895922E-8      
110.2         0.0001         0.0172        +INF      5.8622305E-9      
110.4         0.0001         0.0105        +INF            EPS         
112.2         0.0001         0.0220        +INF             .          
112.4         0.0001         0.0079        +INF      -1.072652E-9      
113.1         0.0001         0.1049        +INF             .          
113.2         0.0001         0.1385        +INF             .          
113.3         0.0001         0.0757        +INF             .          
113.4         0.0001         0.0766        +INF             .          
114.1         0.0001         0.0125        +INF      -1.086930E-8      
115.2         0.0001         0.0152        +INF      3.9716704E-9      
115.3         0.0001         0.0202        +INF             .          
115.4         0.0001         0.0288        +INF      -1.557402E-9      
116.2         0.0001         0.0133        +INF             .          
116.3         0.0001         0.0739        +INF      3.7224966E-9      
116.4         0.0001         0.0111        +INF      -2.268701E-9      
117.1         0.0001         0.0156        +INF      -3.963470E-9      
117.2         0.0001         0.0445        +INF            EPS         
117.3         0.0001         0.0172        +INF      4.4618769E-9      
117.4         0.0001         0.0481        +INF            EPS         
118.1         0.0001         0.0187        +INF            EPS         
118.3         0.0001         0.0138        +INF            EPS         
119.4         0.0001         0.0123        +INF            EPS         
121.2         0.0001         0.0187        +INF      -2.618484E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

121.3         0.0001         0.0166        +INF            EPS         
121.4         0.0001         0.0075        +INF            EPS         
122.1         0.0001         0.0170        +INF      -1.438841E-9      
122.2         0.0001         0.0365        +INF      -2.374203E-9      
122.3         0.0001         0.0222        +INF      2.9966598E-9      
122.4         0.0001         0.0094        +INF            EPS         
123.1         0.0001         0.0188        +INF      1.7071672E-9      
123.2         0.0001         0.0228        +INF            EPS         
123.3         0.0001         0.0272        +INF      2.7863478E-9      
123.4         0.0001         0.0124        +INF            EPS         
125.1         0.0001         0.0264        +INF      -1.637921E-9      
125.2         0.0001         0.0220        +INF            EPS         
125.3         0.0001         0.0195        +INF      1.2680159E-9      
125.4         0.0001         0.0368        +INF            EPS         
127.1         0.0001         0.0240        +INF             .          
127.2         0.0001         0.0140        +INF             .          
127.3         0.0001         0.0191        +INF             .          
127.4         0.0001         0.0231        +INF             .          
132.2         0.0001         0.0104        +INF             .          
132.3         0.0001         0.0117        +INF             .          
135.1         0.0001         0.0155        +INF      -4.803353E-9      
135.3         0.0001         0.0166        +INF             .          
135.4         0.0001         0.0104        +INF            EPS         
136.1         0.0001         0.0240        +INF             .          
136.2         0.0001         0.0247        +INF             .          
136.3         0.0001         0.0121        +INF      -2.031070E-9      
136.4         0.0001         0.0172        +INF            EPS         
138.1         0.0001         0.0132        +INF      4.4935189E-9      
138.2         0.0001         0.0329        +INF      5.5157922E-9      
138.4         0.0001         0.0127        +INF            EPS         
139.2         0.0001         0.0241        +INF      4.9524584E-9      
139.3         0.0001         0.0383        +INF             .          
140.1         0.0001         0.0237        +INF            EPS         
140.2         0.0001         0.0231        +INF            EPS         
140.3         0.0001         0.0097        +INF      3.3011420E-9      
140.4         0.0001         0.0322        +INF            EPS         
141.1         0.0001         0.1139        +INF             .          
141.2         0.0001         0.0386        +INF      5.1574854E-9      
141.3         0.0001         0.1752        +INF             .          
141.4         0.0001         0.1129        +INF             .          
142.2         0.0001         0.0106        +INF      4.7470602E-9      
143.2         0.0001         0.0151        +INF      1.1468140E-8      
144.1         0.0001         0.0266        +INF      -3.469814E-9      
144.4         0.0001         0.0259        +INF      -2.356303E-9      
146.3         0.0001         0.0223        +INF      -6.398107E-9      
147.1         0.0001         0.0654        +INF      -2.888788E-9      
147.2         0.0001         0.0545        +INF      2.8070986E-9      
147.3         0.0001         0.0186        +INF      5.4858005E-9      
147.4         0.0001         0.0205        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 492


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

150.1         0.0001         0.0112        +INF      5.4787774E-9      
150.2         0.0001         0.0112        +INF            EPS         
150.3         0.0001         0.0143        +INF            EPS         
150.4         0.0001         0.0090        +INF      4.7831855E-9      
153.1         0.0001         0.0256        +INF      -1.873529E-9      
153.2         0.0001         0.0209        +INF             .          
153.3         0.0001         0.0533        +INF             .          
153.4         0.0001         0.0192        +INF            EPS         
156.3         0.0001         0.0150        +INF      6.0226524E-9      

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          969.0784        +INF             .          
1.2        -INF          985.7780        +INF             .          
1.3        -INF          622.7747        +INF             .          
1.4        -INF         1121.8803        +INF             .          
2.1        -INF         1051.0098        +INF             .          
2.2        -INF          872.9076        +INF             .          
2.3        -INF          634.9867        +INF             .          
2.4        -INF          941.2912        +INF             .          
3.1        -INF          994.0248        +INF             .          
3.2        -INF          872.9076        +INF             .          
3.3        -INF          567.3824        +INF             .          
3.4        -INF          941.2912        +INF             .          
4.1        -INF         1133.6507        +INF             .          
4.2        -INF         1060.6411        +INF             .          
4.3        -INF          850.4562        +INF             .          
4.4        -INF          941.2912        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        05/23/14 11:58:31 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    495 this is without adjustment for calorie target or 90%

----    495 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     969.078     985.778     622.775    1121.880
2    1051.010     872.908     634.987     941.291
3     994.025     872.908     567.382     941.291
4    1133.651    1060.641     850.456     941.291


----    520 PARAMETER perc_chng  percent change in line

1 -5.17092E-6,    2      12.476,    3      15.013,    4     -19.126


----    520 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 2507.425,    2 2271.000,    3 1533.031,    4 2672.069


----    520 PARAMETER povline_ali  food poverty line

1 2507.425,    2 2019.099,    3 1332.925,    4 3304.009


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/new/list.lst
