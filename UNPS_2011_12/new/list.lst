GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/product_flex.inc
  20  100
  21  105
  22  106
  23  107
  24  108
  25  109
  26  110
  27  112
  28  113
  29  115
  30  116
  31  117
  32  118
  33  119
  34  122
  35  123
  36  125
  37  127
  38  132
  39  134
  40  135
  41  136
  42  137
  43  138
  44  139
  45  140
  46  141
  47  142
  48  143
  49  144
  50  146
  51  147
  52  148
  53  150
  54  /
  55   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56   reg        4 spatial domains /1*4/
  57   r(reg)     all included spatial regions /1*4/
  58   
  59   ptit       price table titles
  60  /
  61    count      number of observations making up the price average
  62    price_uw5  average price
  63  /
  64   
  65   qtit       quantity table titles
  66  /
  67    calperg          calories per gram
  68    quan5            quantities in grams
  69    calpp            calories per person by region
  70    povline_a_flex5    value of flexible food bundle
  71  /
  72   
  73   
  74    posquan(cod,reg)  mark positive quantities in each region
  75    posprice(cod,reg) mark the existence of acceptable price info in each region
  76    chkprice(cod,reg) ensure that prices exist once all estimated
  77  ;
  78   
  79  alias(reg,regq);
  80  alias(r,rq);
  81   
  82  SCALAR
  83     caltarg single level of calories to target across regions / 2150 /
  84   ;
  85   
  86  PARAMETERS
  87   
  88    shr(cod,reg)         shares in each basket by region
  89    chkshr(reg)          check that the calculated shares sum to .9
  90    shrmiss(regq,reg)    shares missing in each region pair
  91    povline_ali(reg)       food poverty line
  92    perc_chng(reg)       percent change in line
  93    finmiss(reg)         final missing shares post optimization procedure
  94   ;
  95   
  96  Table  price(cod,reg,ptit)  price and related information
  97                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/price_unit_flex.inc
  99  100     .       1       39      .184451
 100  100     .       2       94      .2443225
 101  100     .       3       8       .185782
 102  100     .       4       154     .2243727
 103  105     .       1       20      .3205703
 104  105     .       2       34      .3552346
 105  105     .       3       2       .4188979
 106  105     .       4       72      .385974
 107  106     .       1       4       .5516591
 108  106     .       2       35      .4903529
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  106     .       4       1       .2666667
 110  107     .       1       18      .065201
 111  107     .       2       48      .1119021
 112  107     .       3       34      .0711098
 113  107     .       4       61      .1152694
 114  108     .       1       17      1.204448
 115  108     .       2       155     1.417957
 116  108     .       3       28      1.319633
 117  108     .       4       76      .9569098
 118  109     .       1       3       1.737379
 119  109     .       2       8       1.812587
 120  109     .       4       41      1.139002
 121  110     .       1       16      2.8075
 122  110     .       2       77      2.339744
 123  110     .       3       2       4.294034
 124  110     .       4       16      1.194071
 125  112     .       1       1       1.708481
 126  112     .       2       11      .4225988
 127  112     .       3       3       .4897641
 128  112     .       4       15      .2658918
 129  113     .       1       52      1.548819
 130  113     .       2       262     1.244458
 131  113     .       3       57      1.416913
 132  113     .       4       110     1.598833
 133  115     .       1       2       1.814997
 134  115     .       2       62      1.248314
 135  115     .       3       17      .9234941
 136  115     .       4       45      1.543508
 137  116     .       1       2       .5379171
 138  116     .       2       81      .910435
 139  116     .       3       65      .7822396
 140  116     .       4       18      1.509001
 141  117     .       1       10      6.939266
 142  117     .       2       127     6.312726
 143  117     .       3       29      4.251558
 144  117     .       4       51      7.097387
 145  118     .       1       6       6.798818
 146  118     .       2       22      5.238848
 147  118     .       3       14      4.927975
 148  118     .       4       16      6.37563
 149  119     .       1       1       7.720392
 150  119     .       2       19      6.723498
 151  119     .       3       10      7.595388
 152  119     .       4       14      7.58696
 153  122     .       1       10      .5837645
 154  122     .       2       62      .7899095
 155  122     .       3       11      .8964362
 156  122     .       4       22      .9794543
 157  123     .       1       14      8.645905
 158  123     .       2       55      6.272806
 159  123     .       3       26      6.973719
 160  123     .       4       19      7.006596
 161  125     .       1       33      .8444898
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  125     .       2       134     .7745198
 163  125     .       3       23      .5571669
 164  125     .       4       56      .6298967
 165  127     .       1       2       .5158989
 166  127     .       2       13      .7566748
 167  127     .       3       18      2.993848
 168  127     .       4       28      1.705579
 169  132     .       1       1       .5144035
 170  132     .       2       15      .1554664
 171  132     .       3       11      .1819204
 172  132     .       4       14      .1978656
 173  134     .       1       8       1.696834
 174  134     .       2       1       2.125885
 175  135     .       1       1       .1768096
 176  135     .       2       17      .5777019
 177  135     .       3       5       .4518766
 178  135     .       4       5       .7864256
 179  136     .       1       4       .261889
 180  136     .       2       13      .1939339
 181  136     .       4       4       .3287688
 182  137     .       2       1       .704726
 183  137     .       4       6       .5952517
 184  138     .       2       2       .4270745
 185  138     .       3       6       .3340043
 186  138     .       4       1       .4558972
 187  139     .       1       13      1.191636
 188  139     .       2       132     .6332142
 189  139     .       3       119     .4357415
 190  139     .       4       15      .6812091
 191  140     .       1       11      4.953319
 192  140     .       2       66      5.397367
 193  140     .       3       11      4.871016
 194  140     .       4       50      5.292995
 195  141     .       1       64      1.638779
 196  141     .       2       218     1.677233
 197  141     .       3       108     1.294977
 198  141     .       4       178     1.675481
 199  142     .       2       17      .5654254
 200  142     .       3       7       1.063199
 201  142     .       4       1       .7312993
 202  143     .       1       3       2.823784
 203  143     .       2       51      1.748823
 204  143     .       3       6       1.575771
 205  143     .       4       12      2.992967
 206  144     .       1       27      3.557129
 207  144     .       2       50      3.449085
 208  144     .       3       2       2.762028
 209  144     .       4       75      3.422405
 210  146     .       2       10      2.993626
 211  146     .       3       28      2.426572
 212  146     .       4       1       1.305892
 213  147     .       1       54      3.199474
 214  147     .       2       273     3.396974
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  147     .       3       40      3.132966
 216  147     .       4       72      3.296395
 217  148     .       1       7       .6651075
 218  148     .       2       2       .5526024
 219  148     .       3       11      .3989407
 220  148     .       4       7       .4015221
 221  150     .       1       92      .9820964
 222  150     .       2       430     .8722823
 223  150     .       3       198     .7261103
 224  150     .       4       237     1.026664
 225  ;
 226   
 227  Table   quan(cod,reg,qtit)   quantity and related information
 228                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/quan_flex.inc
 230  100     .       1       3.8500000e-01   3.1825983e+02   2.4773413e+03   437.3022
 231  105     .       1       7.1400000e-01   2.1345488e+02   2.4773413e+03   437.3022
 232  107     .       1       2.2750000e+00   7.4792450e+02   2.4773413e+03   437.3022
 233  108     .       1       3.1700000e+00   1.3690042e+01   2.4773413e+03   437.3022
 234  110     .       1       3.6000000e+00   1.6339136e+00   2.4773413e+03   437.3022
 235  113     .       1       3.5400000e+00   3.0442776e+01   2.4773413e+03   437.3022
 236  117     .       1       1.8720000e+00   9.8747116e-01   2.4773413e+03   437.3022
 237  123     .       1       2.1030000e+00   9.8493344e-01   2.4773413e+03   437.3022
 238  125     .       1       6.4000000e-01   1.3958057e+01   2.4773413e+03   437.3022
 239  140     .       1       7.8000000e-01   8.5289127e-01   2.4773413e+03   437.3022
 240  141     .       1       4.0500000e+00   3.9853447e+01   2.4773413e+03   437.3022
 241  144     .       1       2.1850000e+00   4.8310542e+00   2.4773413e+03   437.3022
 242  147     .       1       3.7500000e+00   9.1950798e+00   2.4773413e+03   437.3022
 243  150     .       1       0.0000000e+00   6.2665067e+00   2.4773413e+03   437.3022
 244  100     .       2       3.8500000e-01   1.9272539e+02   2.3678511e+03   975.6429
 245  105     .       2       7.1400000e-01   3.1744424e+02   2.3678511e+03   975.6429
 246  106     .       2       7.1400000e-01   4.9825024e+01   2.3678511e+03   975.6429
 247  107     .       2       2.2750000e+00   2.4888596e+02   2.3678511e+03   975.6429
 248  108     .       2       3.1700000e+00   8.1182747e+01   2.3678511e+03   975.6429
 249  110     .       2       3.6000000e+00   9.5502996e+00   2.3678511e+03   975.6429
 250  112     .       2       8.1100000e-01   3.3623554e+01   2.3678511e+03   975.6429
 251  113     .       2       3.5400000e+00   1.1009316e+02   2.3678511e+03   975.6429
 252  115     .       2       2.1000000e+00   1.1875831e+01   2.3678511e+03   975.6429
 253  116     .       2       3.1050000e+00   1.7423277e+01   2.3678511e+03   975.6429
 254  117     .       2       1.8720000e+00   6.2037964e+00   2.3678511e+03   975.6429
 255  122     .       2       6.1800000e-01   3.9182442e+01   2.3678511e+03   975.6429
 256  123     .       2       2.1030000e+00   3.3059061e+00   2.3678511e+03   975.6429
 257  125     .       2       6.4000000e-01   3.3095894e+01   2.3678511e+03   975.6429
 258  127     .       2       8.5700000e+00   2.6806566e+01   2.3678511e+03   975.6429
 259  135     .       2       3.6400000e-01   1.9321928e+01   2.3678511e+03   975.6429
 260  136     .       2       1.9000000e-01   1.1774654e+02   2.3678511e+03   975.6429
 261  139     .       2       2.6100000e-01   3.6152431e+01   2.3678511e+03   975.6429
 262  140     .       2       7.8000000e-01   3.7075386e+00   2.3678511e+03   975.6429
 263  141     .       2       4.0500000e+00   2.4011389e+01   2.3678511e+03   975.6429
 264  142     .       2       2.1850000e+00   1.7124393e+01   2.3678511e+03   975.6429
 265  143     .       2       2.1850000e+00   9.9943399e+00   2.3678511e+03   975.6429
 266  144     .       2       2.1850000e+00   3.1824160e+00   2.3678511e+03   975.6429
 267  147     .       2       3.7500000e+00   1.6043983e+01   2.3678511e+03   975.6429
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  107     .       3       2.2750000e+00   7.6018280e+02   2.4028633e+03   321.2895
 269  108     .       3       3.1700000e+00   1.1162753e+01   2.4028633e+03   321.2895
 270  113     .       3       3.5400000e+00   2.6656788e+01   2.4028633e+03   321.2895
 271  115     .       3       2.1000000e+00   8.7606735e+00   2.4028633e+03   321.2895
 272  116     .       3       3.1050000e+00   4.0544125e+01   2.4028633e+03   321.2895
 273  117     .       3       1.8720000e+00   1.6160884e+00   2.4028633e+03   321.2895
 274  119     .       3       1.7550000e+00   5.7749254e-01   2.4028633e+03   321.2895
 275  122     .       3       6.1800000e-01   4.9189401e+00   2.4028633e+03   321.2895
 276  123     .       3       2.1030000e+00   1.1093946e+00   2.4028633e+03   321.2895
 277  125     .       3       6.4000000e-01   5.8546605e+00   2.4028633e+03   321.2895
 278  127     .       3       8.5700000e+00   3.7121921e+00   2.4028633e+03   321.2895
 279  132     .       3       4.3310000e-01   2.1104519e+01   2.4028633e+03   321.2895
 280  139     .       3       2.6100000e-01   4.1231808e+01   2.4028633e+03   321.2895
 281  140     .       3       7.8000000e-01   7.3495156e-01   2.4028633e+03   321.2895
 282  141     .       3       4.0500000e+00   4.5479893e+01   2.4028633e+03   321.2895
 283  146     .       3       5.9300000e+00   3.6289215e+00   2.4028633e+03   321.2895
 284  147     .       3       3.7500000e+00   2.1615858e+00   2.4028633e+03   321.2895
 285  150     .       3       0.0000000e+00   7.1052246e+00   2.4028633e+03   321.2895
 286  100     .       4       3.8500000e-01   6.1439990e+02   2.5112476e+03   796.7369
 287  105     .       4       7.1400000e-01   2.7637070e+02   2.5112476e+03   796.7369
 288  107     .       4       2.2750000e+00   5.6621411e+02   2.5112476e+03   796.7369
 289  108     .       4       3.1700000e+00   4.2706394e+01   2.5112476e+03   796.7369
 290  109     .       4       6.3700000e-01   3.4116028e+01   2.5112476e+03   796.7369
 291  112     .       4       8.1100000e-01   3.0164652e+01   2.5112476e+03   796.7369
 292  113     .       4       3.5400000e+00   3.4005165e+01   2.5112476e+03   796.7369
 293  115     .       4       2.1000000e+00   1.0245159e+01   2.5112476e+03   796.7369
 294  116     .       4       3.1050000e+00   5.8347893e+00   2.5112476e+03   796.7369
 295  117     .       4       1.8720000e+00   3.7570620e+00   2.5112476e+03   796.7369
 296  119     .       4       1.7550000e+00   1.5620316e+00   2.5112476e+03   796.7369
 297  122     .       4       6.1800000e-01   7.7553606e+00   2.5112476e+03   796.7369
 298  123     .       4       2.1030000e+00   1.6611590e+00   2.5112476e+03   796.7369
 299  125     .       4       6.4000000e-01   3.2019768e+01   2.5112476e+03   796.7369
 300  127     .       4       8.5700000e+00   4.8927159e+00   2.5112476e+03   796.7369
 301  140     .       4       7.8000000e-01   5.1631160e+00   2.5112476e+03   796.7369
 302  141     .       4       4.0500000e+00   5.2165867e+01   2.5112476e+03   796.7369
 303  144     .       4       2.1850000e+00   5.0898952e+00   2.5112476e+03   796.7369
 304  147     .       4       3.7500000e+00   4.0496807e+00   2.5112476e+03   796.7369
 305  150     .       4       0.0000000e+00   8.5442247e+00   2.5112476e+03   796.7369
 306  ;
 307   
 308    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 309                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 310                         quan(cod,reg,'povline_a_flex5');
 311   
 312    chkshr(reg)=sum(cod,shr(cod,reg));
 313   
 314  loop(reg,
 315    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 316  );
 317   
 318   
 319  *turn on dynamic sets to indicate positive quantities and existence of
 320  *price info for each region
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321   
 322   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 323                        AND price(cod,reg,'count') gt 4) = yes;
 324   
 325   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 326   
 327   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 328   display shrmiss;
 329   
 330    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 331                                             quan(cod,reg,'quan5'))/.9;
 332   
 333    display povline_ali;
 334   
 335   
 336  *boost values so shares sum to one;
 337  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 338   
 339  *fill out price matrix with maximum observed price outside of Maputo
 340   
 341  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 342           loop(r,
 343                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 344                                                price(cod,r,'price_uw5'));
 345           );
 346  );
 347   
 348  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 349   
 350  display 'should be an empty set', chkprice;
 351   
 352   
 353   
 354   
 355  Variables
 356     z                objective value
 357     q(cod,reg)       revised maximum entropy quanties in grams
 358     s(cod,reg)       derived maximum entropy shares
 359     povline(regq,reg)  estimated revealed preference matrix
 360  ;
 361   
 362   
 363  Equations
 364     obj              objective equation
 365     rev(regq,reg)    revealed preference tests
 366     deflin(regq,reg) define revealed preference matrix
 367     defshr(cod,regq) define the endogenous budget shares
 368     cals(regq)       ensure that each bundle hits the calorie
 369   
 370  ;
 371   
 372     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 373                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 376                            q(cod,rq)*price(cod,r,'price_uw5'));
 377   
 378     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 379   
 380     defshr(cod,rq)$posquan(cod,rq) ..
 381               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 382   
 383     cals(rq) .. sum(cod$posquan(cod,rq),
 384                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 385   
 386  *set bounds and starting values for variables
 387   
 388    q.lo(cod,reg)=.00001;
 389    q.up(cod,reg)=inf;
 390    q.l(cod,reg)=quan(cod,reg,'quan5');
 391    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 392   
 393    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 394                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 395   
 396   
 397    display povline.l;
 398   
 399  *print the revealed preference matrix prior to optimisation;
 400  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_rp_inout.csv"/;
 401  put povline_rp;
 402  povline_rp.pc=5;
 403  povline_rp.nd=0;
 404  put " ";
 405  loop(reg,
 406        put reg.tl;
 407  );
 408  put /;
 409  loop(regq,
 410       put regq.tl;
 411       loop(reg,
 412           put povline.l(regq,reg);
 413       );
 414       put /;
 415  );
 416  put /; put /; put /;
 417   
 418     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 419     s.lo(cod,regq)=.0001;
 420     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 421   
 422   
 423     model revpref /obj, deflin, rev, defshr, cals/;
 424   
 425     revpref.holdfixed=1;
 426   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:25:10 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427     option limrow=100;
 428   
 429     option nlp=conopt;
 430   
 431     solve revpref using nlp minimizing z;
 432   
 433     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 434     display "this is without adjustment for calorie target or 90%", povline.l;
 435   
 436  put /;
 437  loop(rq,
 438       put rq.tl;
 439       loop(r,
 440           put povline.l(rq,r);
 441       );
 442       put /;
 443  );
 444  put /;
 445   
 446   
 447  PARAMETERS
 448     qent(cod,reg)  entropy quantities with all adjustments accounted for
 449     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 450    ;
 451  *readjust quantities to hit regional calorie target and calculate line;
 452     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 453   
 454     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 455                                             qent(cod,r))/.9;
 456   
 457     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 458   
 459     display perc_chng, povline_ent, povline_ali;
 460   
 461     file res/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/qent.csv"/;
 462   
 463     put res;
 464     res.pc=5;
 465     res.nd=6;
 466   
 467  *recall that the basket reflects 90% of expenditure and 95% of calories";
 468     put "spdomain" ;
 469     put "product" ;
 470     put "quan5";
 471     put "qent";
 472     put "price";
 473     put "calperg";
 474   
 475     put /;
 476   
 477     loop(reg,
 478         loop(cod,
 479             put reg.tl;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480             put cod.tl;
 481             put quan(cod,reg,'quan5');
 482             put qent(cod,reg);
 483             put price(cod,reg,'price_uw5')
 484             put quan(cod,reg,'calperg');
 485             put /;
 486         );
 487     );
 488   
 489     file lin/"/home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_food_ent.csv"/;
 490   
 491     put lin;
 492     lin.pc=5;
 493  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 494   
 495     put "spdomain";
 496     put "flex";
 497     put "ent";
 498     put /;
 499   
 500     loop(reg,
 501           put reg.tl;
 502           put povline_ali(reg);
 503           put povline_ent(reg);
 504           put /;
 505     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/product_flex.inc
     3       98 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/price_unit_flex.inc
     4      229 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/quan_flex.inc


COMPILATION TIME     =        0.004 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    328 PARAMETER shrmiss  shares missing in each region pair

            1           3           4

1                   0.206
2       0.155       0.213       0.058
3       0.211                   0.027
4       0.115       0.215


----    333 PARAMETER povline_ali  food poverty line

1 437.302,    2 975.643,    3 321.290,    4 796.737


----    350 should be an empty set

----    350 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    397 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     393.572     446.432     391.253     451.001
2     926.711     878.079     881.575     943.157
3     329.057     348.230     289.161     385.605
4     712.589     740.604     608.033     717.063

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


---- obj  =E=  objective equation

obj..  z - (1)*s(100,1) - (1)*s(100,2) - (1)*s(100,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,4)
     
      - (1)*s(110,1) - (1)*s(110,2) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(116,4) - (1)*s(117,1) - (1)*s(117,2)
     
      - (1)*s(117,3) - (1)*s(117,4) - (1)*s(119,3) - (1)*s(119,4) - (1)*s(122,2) - (1)*s(122,3) - (1)*s(122,4) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4) - (1)*s(127,2)
     
      - (1)*s(127,3) - (1)*s(127,4) - (1)*s(132,3) - (1)*s(135,2) - (1)*s(136,2) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(142,2)
     
      - (1)*s(143,2) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,3) - (1)*s(150,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 0.184451*q(100,1) - 0.3205703*q(105,1) - 0.065201*q(107,1) - 1.204448*q(108,1) - 2.8075*q(110,1) - 1.548819*q(113,1) - 6.939266*q(117,1) - 8.645905*q(123,1) - 0.8444898*q(125,1) - 4.953319*q(140,1) - 1.638779*q(141,1) - 3.557129*q(144,1)
     
      - 3.199474*q(147,1) - 0.9820964*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 0.2443225*q(100,1) - 0.3552346*q(105,1) - 0.1119021*q(107,1) - 1.417957*q(108,1) - 2.339744*q(110,1) - 1.244458*q(113,1) - 6.312726*q(117,1) - 6.272806*q(123,1) - 0.7745198*q(125,1) - 5.397367*q(140,1) - 1.677233*q(141,1)
     
      - 3.449085*q(144,1) - 3.396974*q(147,1) - 0.8722823*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.185782*q(100,1) - 0.4188979*q(105,1) - 0.0711098*q(107,1) - 1.319633*q(108,1) - 4.294034*q(110,1) - 1.416913*q(113,1) - 4.251558*q(117,1) - 6.973719*q(123,1) - 0.5571669*q(125,1) - 4.871016*q(140,1) - 1.294977*q(141,1)
     
      - 2.762028*q(144,1) - 3.132966*q(147,1) - 0.7261103*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 0.2243727*q(100,1) - 0.385974*q(105,1) - 0.1152694*q(107,1) - 0.9569098*q(108,1) - 1.194071*q(110,1) - 1.598833*q(113,1) - 7.097387*q(117,1) - 7.006596*q(123,1) - 0.6298967*q(125,1) - 5.292995*q(140,1) - 1.675481*q(141,1)
     
      - 3.422405*q(144,1) - 3.296395*q(147,1) - 1.026664*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 0.184451*q(100,2) - 0.3205703*q(105,2) - 0.5516591*q(106,2) - 0.065201*q(107,2) - 1.204448*q(108,2) - 2.8075*q(110,2) - 1.708481*q(112,2) - 1.548819*q(113,2) - 1.814997*q(115,2) - 0.5379171*q(116,2) - 6.939266*q(117,2)
     
      - 0.5837645*q(122,2) - 8.645905*q(123,2) - 0.8444898*q(125,2) - 0.5158989*q(127,2) - 0.1768096*q(135,2) - 0.261889*q(136,2) - 1.191636*q(139,2) - 4.953319*q(140,2) - 1.638779*q(141,2) - 2.823784*q(143,2) - 3.557129*q(144,2) - 3.199474*q(147,2)
     
      + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 0.2443225*q(100,2) - 0.3552346*q(105,2) - 0.4903529*q(106,2) - 0.1119021*q(107,2) - 1.417957*q(108,2) - 2.339744*q(110,2) - 0.4225988*q(112,2) - 1.244458*q(113,2) - 1.248314*q(115,2) - 0.910435*q(116,2) - 6.312726*q(117,2)
     
      - 0.7899095*q(122,2) - 6.272806*q(123,2) - 0.7745198*q(125,2) - 0.7566748*q(127,2) - 0.5777019*q(135,2) - 0.1939339*q(136,2) - 0.6332142*q(139,2) - 5.397367*q(140,2) - 1.677233*q(141,2) - 0.5654254*q(142,2) - 1.748823*q(143,2) - 3.449085*q(144,2)
     
      - 3.396974*q(147,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 0.185782*q(100,2) - 0.4188979*q(105,2) - 0.0711098*q(107,2) - 1.319633*q(108,2) - 4.294034*q(110,2) - 0.4897641*q(112,2) - 1.416913*q(113,2) - 0.9234941*q(115,2) - 0.7822396*q(116,2) - 4.251558*q(117,2) - 0.8964362*q(122,2)
     
      - 6.973719*q(123,2) - 0.5571669*q(125,2) - 2.993848*q(127,2) - 0.4518766*q(135,2) - 0.4357415*q(139,2) - 4.871016*q(140,2) - 1.294977*q(141,2) - 1.063199*q(142,2) - 1.575771*q(143,2) - 2.762028*q(144,2) - 3.132966*q(147,2) + povline(2,3) =E= 0 ;
     
      (LHS = 0)
     
deflin(2,4)..  - 0.2243727*q(100,2) - 0.385974*q(105,2) - 0.2666667*q(106,2) - 0.1152694*q(107,2) - 0.9569098*q(108,2) - 1.194071*q(110,2) - 0.2658918*q(112,2) - 1.598833*q(113,2) - 1.543508*q(115,2) - 1.509001*q(116,2) - 7.097387*q(117,2)
     
      - 0.9794543*q(122,2) - 7.006596*q(123,2) - 0.6298967*q(125,2) - 1.705579*q(127,2) - 0.7864256*q(135,2) - 0.3287688*q(136,2) - 0.6812091*q(139,2) - 5.292995*q(140,2) - 1.675481*q(141,2) - 0.7312993*q(142,2) - 2.992967*q(143,2) - 3.422405*q(144,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     deflin  =E=  define revealed preference matrix     
     
      - 3.296395*q(147,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 0.065201*q(107,3) - 1.204448*q(108,3) - 1.548819*q(113,3) - 1.814997*q(115,3) - 0.5379171*q(116,3) - 6.939266*q(117,3) - 7.720392*q(119,3) - 0.5837645*q(122,3) - 8.645905*q(123,3) - 0.8444898*q(125,3) - 0.5158989*q(127,3)
     
      - 0.5144035*q(132,3) - 1.191636*q(139,3) - 4.953319*q(140,3) - 1.638779*q(141,3) - 3.199474*q(147,3) - 0.9820964*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 0.1119021*q(107,3) - 1.417957*q(108,3) - 1.244458*q(113,3) - 1.248314*q(115,3) - 0.910435*q(116,3) - 6.312726*q(117,3) - 6.723498*q(119,3) - 0.7899095*q(122,3) - 6.272806*q(123,3) - 0.7745198*q(125,3) - 0.7566748*q(127,3)
     
      - 0.1554664*q(132,3) - 0.6332142*q(139,3) - 5.397367*q(140,3) - 1.677233*q(141,3) - 2.993626*q(146,3) - 3.396974*q(147,3) - 0.8722823*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.0711098*q(107,3) - 1.319633*q(108,3) - 1.416913*q(113,3) - 0.9234941*q(115,3) - 0.7822396*q(116,3) - 4.251558*q(117,3) - 7.595388*q(119,3) - 0.8964362*q(122,3) - 6.973719*q(123,3) - 0.5571669*q(125,3) - 2.993848*q(127,3)
     
      - 0.1819204*q(132,3) - 0.4357415*q(139,3) - 4.871016*q(140,3) - 1.294977*q(141,3) - 2.426572*q(146,3) - 3.132966*q(147,3) - 0.7261103*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 0.1152694*q(107,3) - 0.9569098*q(108,3) - 1.598833*q(113,3) - 1.543508*q(115,3) - 1.509001*q(116,3) - 7.097387*q(117,3) - 7.58696*q(119,3) - 0.9794543*q(122,3) - 7.006596*q(123,3) - 0.6298967*q(125,3) - 1.705579*q(127,3)
     
      - 0.1978656*q(132,3) - 0.6812091*q(139,3) - 5.292995*q(140,3) - 1.675481*q(141,3) - 1.305892*q(146,3) - 3.296395*q(147,3) - 1.026664*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 0.184451*q(100,4) - 0.3205703*q(105,4) - 0.065201*q(107,4) - 1.204448*q(108,4) - 1.737379*q(109,4) - 1.708481*q(112,4) - 1.548819*q(113,4) - 1.814997*q(115,4) - 0.5379171*q(116,4) - 6.939266*q(117,4) - 7.720392*q(119,4)
     
      - 0.5837645*q(122,4) - 8.645905*q(123,4) - 0.8444898*q(125,4) - 0.5158989*q(127,4) - 4.953319*q(140,4) - 1.638779*q(141,4) - 3.557129*q(144,4) - 3.199474*q(147,4) - 0.9820964*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 0.2443225*q(100,4) - 0.3552346*q(105,4) - 0.1119021*q(107,4) - 1.417957*q(108,4) - 1.812587*q(109,4) - 0.4225988*q(112,4) - 1.244458*q(113,4) - 1.248314*q(115,4) - 0.910435*q(116,4) - 6.312726*q(117,4) - 6.723498*q(119,4)
     
      - 0.7899095*q(122,4) - 6.272806*q(123,4) - 0.7745198*q(125,4) - 0.7566748*q(127,4) - 5.397367*q(140,4) - 1.677233*q(141,4) - 3.449085*q(144,4) - 3.396974*q(147,4) - 0.8722823*q(150,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
deflin(4,3)..  - 0.185782*q(100,4) - 0.4188979*q(105,4) - 0.0711098*q(107,4) - 1.319633*q(108,4) - 0.4897641*q(112,4) - 1.416913*q(113,4) - 0.9234941*q(115,4) - 0.7822396*q(116,4) - 4.251558*q(117,4) - 7.595388*q(119,4) - 0.8964362*q(122,4)
     
      - 6.973719*q(123,4) - 0.5571669*q(125,4) - 2.993848*q(127,4) - 4.871016*q(140,4) - 1.294977*q(141,4) - 2.762028*q(144,4) - 3.132966*q(147,4) - 0.7261103*q(150,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 0.2243727*q(100,4) - 0.385974*q(105,4) - 0.1152694*q(107,4) - 0.9569098*q(108,4) - 1.139002*q(109,4) - 0.2658918*q(112,4) - 1.598833*q(113,4) - 1.543508*q(115,4) - 1.509001*q(116,4) - 7.097387*q(117,4) - 7.58696*q(119,4)
     
      - 0.9794543*q(122,4) - 7.006596*q(123,4) - 0.6298967*q(125,4) - 1.705579*q(127,4) - 5.292995*q(140,4) - 1.675481*q(141,4) - 3.422405*q(144,4) - 3.296395*q(147,4) - 1.026664*q(150,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = 533.138983921096)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -64.5149573778716, INFES = 64.5149573778716 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 319.017057541208)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = -431.646194413298, INFES = 431.646194413298 ****)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -529.848424669298, INFES = 529.848424669298 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = -137.474331048817, INFES = 137.474331048817 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     rev  =G=  revealed preference tests

rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 102.092832067696)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 592.414585527832)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 318.872457999643)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -266.061784693239, INFES = 266.061784693239 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = 226.093470669111)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -331.457727589829, INFES = 331.457727589829 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(100,1)..  - 0.184451*q(100,1) + (393.572022898605)*s(100,1) + (0.149155276513274)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(100,2)..  - 0.2443225*q(100,2) + (878.078632299145)*s(100,2) + (0.0536252077732297)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(100,4)..  - 0.2243727*q(100,4) + (717.063211483708)*s(100,4) + (0.192248831393105)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 0.3205703*q(105,1) + (393.572022898605)*s(105,1) + (0.173862192780132)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 0.3552346*q(105,2) + (878.078632299145)*s(105,2) + (0.128424919444215)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 0.385974*q(105,4) + (717.063211483708)*s(105,4) + (0.148762205135417)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 0.4903529*q(106,2) + (878.078632299145)*s(106,2) + (0.0278242108534149)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.065201*q(107,1) + (393.572022898605)*s(107,1) + (0.12390470482467)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.1119021*q(107,2) + (878.078632299145)*s(107,2) + (0.0317179584607267)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.0711098*q(107,3) + (289.160561044439)*s(107,3) + (0.186942668378391)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.1152694*q(107,4) + (717.063211483708)*s(107,4) + (0.0910200937462498)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 1.204448*q(108,1) + (393.572022898605)*s(108,1) + (0.0418956194736026)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 1.417957*q(108,2) + (878.078632299145)*s(108,2) + (0.131097193524078)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 1.319633*q(108,3) + (289.160561044439)*s(108,3) + (0.0509431064058046)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.9569098*q(108,4) + (717.063211483708)*s(108,4) + (0.0569910243431722)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.139002*q(109,4) + (717.063211483708)*s(109,4) + (0.0541907930873384)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 2.8075*q(110,1) + (393.572022898605)*s(110,1) + (0.0116553315914475)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     defshr  =E=  define the endogenous budget shares

defshr(110,2)..  - 2.339744*q(110,2) + (878.078632299145)*s(110,2) + (0.0254478988160707)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.4225988*q(112,2) + (878.078632299145)*s(112,2) + (0.0161822336285873)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(112,4)..  - 0.2658918*q(112,4) + (717.063211483708)*s(112,4) + (0.0111852532499303)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.548819*q(113,1) + (393.572022898605)*s(113,1) + (0.119801071057561)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 1.244458*q(113,2) + (878.078632299145)*s(113,2) + (0.156029663708528)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 1.416913*q(113,3) + (289.160561044439)*s(113,3) + (0.13062068118494)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 1.598833*q(113,4) + (717.063211483708)*s(113,4) + (0.0758211815942259)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 1.248314*q(115,2) + (878.078632299145)*s(115,2) + (0.0168831873975991)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.9234941*q(115,3) + (289.160561044439)*s(115,3) + (0.0279790240413629)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 1.543508*q(115,4) + (717.063211483708)*s(115,4) + (0.0220531253375161)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.910435*q(116,2) + (878.078632299145)*s(116,2) + (0.0180653082901701)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.7822396*q(116,3) + (289.160561044439)*s(116,3) + (0.109680310509136)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(116,4)..  - 1.509001*q(116,4) + (717.063211483708)*s(116,4) + (0.0122788378311462)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 6.939266*q(117,1) + (393.572022898605)*s(117,1) + (0.0174105999611001)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 6.312726*q(117,2) + (878.078632299145)*s(117,2) + (0.0446006375652748)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 4.251558*q(117,3) + (289.160561044439)*s(117,3) + (0.0237615169264776)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 7.097387*q(117,4) + (717.063211483708)*s(117,4) + (0.0371868512705032)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(119,3)..  - 7.595388*q(119,3) + (289.160561044439)*s(119,3) + (0.015169011612657)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 7.58696*q(119,4) + (717.063211483708)*s(119,4) + (0.0165272336917333)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.7899095*q(122,2) + (878.078632299145)*s(122,2) + (0.0352480769153425)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,3)..  - 0.8964362*q(122,3) + (289.160561044439)*s(122,3) + (0.0152493685699896)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(122,4)..  - 0.9794543*q(122,4) + (717.063211483708)*s(122,4) + (0.0105932380382523)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 8.645905*q(123,1) + (393.572022898605)*s(123,1) + (0.02163680459512)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 6.272806*q(123,2) + (878.078632299145)*s(123,2) + (0.0236166863156873)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     defshr  =E=  define the endogenous budget shares

defshr(123,3)..  - 6.973719*q(123,3) + (289.160561044439)*s(123,3) + (0.0267553990508699)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 7.006596*q(123,4) + (717.063211483708)*s(123,4) + (0.0162315815654258)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.8444898*q(125,1) + (393.572022898605)*s(125,1) + (0.0299498848457411)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.7745198*q(125,2) + (878.078632299145)*s(125,2) + (0.0291926306583536)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.5571669*q(125,3) + (289.160561044439)*s(125,3) + (0.0112810095178787)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.6298967*q(125,4) + (717.063211483708)*s(125,4) + (0.0281274312709931)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.7566748*q(127,2) + (878.078632299145)*s(127,2) + (0.0231002694071098)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 2.993848*q(127,3) + (289.160561044439)*s(127,3) + (0.0384344906997632)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 1.705579*q(127,4) + (717.063211483708)*s(127,4) + (0.01163762602566)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1819204*q(132,3) + (289.160561044439)*s(132,3) + (0.0132775456114071)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,2)..  - 0.5777019*q(135,2) + (878.078632299145)*s(135,2) + (0.0127122037898087)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1939339*q(136,2) + (878.078632299145)*s(136,2) + (0.0260056957016653)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.6332142*q(139,2) + (878.078632299145)*s(139,2) + (0.0260708230808209)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.4357415*q(139,3) + (289.160561044439)*s(139,3) + (0.0621329886784625)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 4.953319*q(140,1) + (393.572022898605)*s(140,1) + (0.010734102748237)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 5.397367*q(140,2) + (878.078632299145)*s(140,2) + (0.0227894698205671)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 4.871016*q(140,3) + (289.160561044439)*s(140,3) + (0.0123805293330953)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 5.292995*q(140,4) + (717.063211483708)*s(140,4) + (0.0381114896633362)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.638779*q(141,1) + (393.572022898605)*s(141,1) + (0.165944193746817)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 1.677233*q(141,2) + (878.078632299145)*s(141,2) + (0.045864564431078)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 1.294977*q(141,3) + (289.160561044439)*s(141,3) + (0.20367720682493)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 1.675481*q(141,4) + (717.063211483708)*s(141,4) + (0.121890117366609)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(142,2)..  - 0.5654254*q(142,2) + (878.078632299145)*s(142,2) + (0.0110269928063613)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 1.748823*q(143,2) + (878.078632299145)*s(143,2) + (0.0199052007918388)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     defshr  =E=  define the endogenous budget shares

defshr(144,1)..  - 3.557129*q(144,1) + (393.572022898605)*s(144,1) + (0.0436633754320973)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 3.449085*q(144,2) + (878.078632299145)*s(144,2) + (0.0125005015332392)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 3.422405*q(144,4) + (717.063211483708)*s(144,4) + (0.0242930923006246)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 2.426572*q(146,3) + (289.160561044439)*s(146,3) + (0.030453113212575)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 3.199474*q(147,1) + (393.572022898605)*s(147,1) + (0.0747497714175797)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 3.396974*q(147,2) + (878.078632299145)*s(147,2) + (0.0620684652862325)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 3.132966*q(147,3) + (289.160561044439)*s(147,3) + (0.0234201192341788)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 3.296395*q(147,4) + (717.063211483708)*s(147,4) + (0.0186166951494482)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.9820964*q(150,1) + (393.572022898605)*s(150,1) + (0.0156370710126197)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.7261103*q(150,3) + (289.160561044439)*s(150,3) + (0.0178419102080816)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(150,4)..  - 1.026664*q(150,4) + (717.063211483708)*s(150,4) + (0.012233297939313)*povline(4,4) =E= 0 ; (LHS = 0)
     

---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.385*q(100,1) + 0.714*q(105,1) + 2.275*q(107,1) + 3.17*q(108,1) + 3.6*q(110,1) + 3.54*q(113,1) + 1.872*q(117,1) + 2.103*q(123,1) + 0.64*q(125,1) + 0.78*q(140,1) + 4.05*q(141,1) + 2.185*q(144,1) + 3.75*q(147,1) =E= 2042.5 ;
     
      (LHS = 2353.47414124344, INFES = 310.97414124344 ****)
     
cals(2)..  0.385*q(100,2) + 0.714*q(105,2) + 0.714*q(106,2) + 2.275*q(107,2) + 3.17*q(108,2) + 3.6*q(110,2) + 0.811*q(112,2) + 3.54*q(113,2) + 2.1*q(115,2) + 3.105*q(116,2) + 1.872*q(117,2) + 0.618*q(122,2) + 2.103*q(123,2) + 0.64*q(125,2) + 8.57*q(127,2)
     
      + 0.364*q(135,2) + 0.19*q(136,2) + 0.261*q(139,2) + 0.78*q(140,2) + 4.05*q(141,2) + 2.185*q(142,2) + 2.185*q(143,2) + 2.185*q(144,2) + 3.75*q(147,2) =E= 2042.5 ; (LHS = 2249.4584644376, INFES = 206.9584644376 ****)
     
cals(3)..  2.275*q(107,3) + 3.17*q(108,3) + 3.54*q(113,3) + 2.1*q(115,3) + 3.105*q(116,3) + 1.872*q(117,3) + 1.755*q(119,3) + 0.618*q(122,3) + 2.103*q(123,3) + 0.64*q(125,3) + 8.57*q(127,3) + 0.4331*q(132,3) + 0.261*q(139,3) + 0.78*q(140,3)
     
      + 4.05*q(141,3) + 5.93*q(146,3) + 3.75*q(147,3) =E= 2042.5 ; (LHS = 2282.7201459188, INFES = 240.2201459188 ****)
     
cals(4)..  0.385*q(100,4) + 0.714*q(105,4) + 2.275*q(107,4) + 3.17*q(108,4) + 0.637*q(109,4) + 0.811*q(112,4) + 3.54*q(113,4) + 2.1*q(115,4) + 3.105*q(116,4) + 1.872*q(117,4) + 1.755*q(119,4) + 0.618*q(122,4) + 2.103*q(123,4) + 0.64*q(125,4)
     
      + 8.57*q(127,4) + 0.78*q(140,4) + 4.05*q(141,4) + 2.185*q(144,4) + 3.75*q(147,4) =E= 2042.5 ; (LHS = 2385.6853499143, INFES = 343.1853499143 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 431


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(100,1)
                (.LO, .L, .UP, .M = 1E-5, 318.25983, +INF, 0)
       -0.1845  deflin(1,1)
       -0.2443  deflin(1,2)
       -0.1858  deflin(1,3)
       -0.2244  deflin(1,4)
       -0.1845  defshr(100,1)
        0.385   cals(1)

q(100,2)
                (.LO, .L, .UP, .M = 1E-5, 192.72539, +INF, 0)
       -0.1845  deflin(2,1)
       -0.2443  deflin(2,2)
       -0.1858  deflin(2,3)
       -0.2244  deflin(2,4)
       -0.2443  defshr(100,2)
        0.385   cals(2)

q(100,4)
                (.LO, .L, .UP, .M = 1E-5, 614.3999, +INF, 0)
       -0.1845  deflin(4,1)
       -0.2443  deflin(4,2)
       -0.1858  deflin(4,3)
       -0.2244  deflin(4,4)
       -0.2244  defshr(100,4)
        0.385   cals(4)

REMAINING 73 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(100,1)
                (.LO, .L, .UP, .M = 0.0001, 0.149155276513274, +INF, 0)
      (-1)      obj
     (393.572)  defshr(100,1)

s(100,2)
                (.LO, .L, .UP, .M = 0.0001, 0.0536252077732297, +INF, 0)
      (-1)      obj
     (878.0786) defshr(100,2)

s(100,4)
                (.LO, .L, .UP, .M = 0.0001, 0.192248831393105, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 431


     s  derived maximum entropy shares

     (717.0632) defshr(100,4)

REMAINING 73 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 393.572022898605, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1492) defshr(100,1)
       (0.1739) defshr(105,1)
       (0.1239) defshr(107,1)
       (0.0419) defshr(108,1)
       (0.0117) defshr(110,1)
       (0.1198) defshr(113,1)
       (0.0174) defshr(117,1)
       (0.0216) defshr(123,1)
       (0.0299) defshr(125,1)
       (0.0107) defshr(140,1)
       (0.1659) defshr(141,1)
       (0.0437) defshr(144,1)
       (0.0747) defshr(147,1)
       (0.0156) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 446.432437885847, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 391.253393112135, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 431


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          109
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          169
NON ZERO ELEMENTS           717     NON LINEAR N-Z            228
DERIVATIVE POOL              10     CONSTANT POOL              92
CODE LENGTH                 686


GENERATION TIME      =        0.005 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.006 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  431

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.1179

 RESOURCE USAGE, LIMIT          0.019      1000.000
 ITERATION COUNT, LIMIT        43    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 169 variables and 109 constraints
    with 717 Jacobian elements, 228 of which are nonlinear.
    The Hessian of the Lagrangian has 76 elements on the diagonal,
    76 elements below the diagonal, and 80 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.019 seconds
   of which: Function evaluations             0.005 = 26.3%
             1st Derivative evaluations       0.000 =  0.0%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0020      
1.2          .              .              .             EPS         
1.3          .              .              .             EPS         
1.4          .              .              .            -0.0002      
2.1          .              .              .             EPS         
2.2          .              .              .            -0.0015      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .             EPS         
3.1          .              .              .             EPS         
3.2          .              .              .            -0.0004      
3.3          .              .              .            -0.0022      
3.4          .              .              .             EPS         
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .       -8.918948E-5      
4.4          .              .              .            -0.0017      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .            57.9875        +INF            EPS         
1.3          .            62.8130        +INF            EPS         
1.4          .            45.5532        +INF            EPS         
2.1          .             1.2924        +INF             .          
2.3          .              .            +INF            0.0004      
2.4          .            23.0287        +INF             .          
3.1          .            23.7800        +INF             .          
3.2          .            96.2877        +INF             .          
3.4          .              .            +INF      8.9189480E-5      
4.1          .              .            +INF            0.0002      
4.2          .            43.7747        +INF            EPS         
4.3          .            56.2988        +INF            EPS         

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1          .              .              .             0.0022      
100.2          .              .              .             0.0017      
100.4          .              .              .             0.0018      
105.1          .              .              .             0.0021      
105.2          .              .              .             0.0017      
105.4          .              .              .             0.0018      
106.2          .              .              .             0.0017      
107.1          .              .              .             0.0008      
107.2          .              .              .             0.0037      
107.3          .              .              .       4.1152211E-5      
107.4          .              .              .             0.0022      
108.1          .              .              .             0.0021      
108.2          .              .              .             0.0017      
108.3          .              .              .             0.0024      
108.4          .              .              .             0.0019      
109.4          .              .              .             0.0017      
110.1          .              .              .             0.0021      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

110.2          .              .              .             0.0017      
112.2          .              .              .             0.0017      
112.4          .              .              .             0.0019      
113.1          .              .              .             0.0021      
113.2          .              .              .             0.0018      
113.3          .              .              .             0.0023      
113.4          .              .              .             0.0018      
115.2          .              .              .             0.0017      
115.3          .              .              .             0.0025      
115.4          .              .              .             0.0017      
116.2          .              .              .             0.0019      
116.3          .              .              .             0.0023      
116.4          .              .              .             0.0018      
117.1          .              .              .             0.0022      
117.2          .              .              .             0.0015      
117.3          .              .              .             0.0027      
117.4          .              .              .             0.0017      
119.3          .              .              .             0.0025      
119.4          .              .              .             0.0018      
122.2          .              .              .             0.0016      
122.3          .              .              .             0.0025      
122.4          .              .              .             0.0018      
123.1          .              .              .             0.0022      
123.2          .              .              .             0.0015      
123.3          .              .              .             0.0025      
123.4          .              .              .             0.0018      
125.1          .              .              .             0.0021      
125.2          .              .              .             0.0016      
125.3          .              .              .             0.0026      
125.4          .              .              .             0.0018      
127.2          .              .              .             0.0027      
127.3          .              .              .             0.0020      
127.4          .              .              .             0.0019      
132.3          .              .              .             0.0023      
135.2          .              .              .             0.0016      
136.2          .              .              .             0.0016      
139.2          .              .              .             0.0016      
139.3          .              .              .             0.0027      
140.1          .              .              .             0.0022      
140.2          .              .              .             0.0015      
140.3          .              .              .             0.0026      
140.4          .              .              .             0.0017      
141.1          .              .              .             0.0021      
141.2          .              .              .             0.0018      
141.3          .              .              .             0.0024      
141.4          .              .              .             0.0018      
142.2          .              .              .             0.0019      
143.2          .              .              .             0.0016      
144.1          .              .              .             0.0022      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

144.2          .              .              .             0.0016      
144.4          .              .              .             0.0017      
146.3          .              .              .             0.0025      
147.1          .              .              .             0.0022      
147.2          .              .              .             0.0016      
147.3          .              .              .             0.0025      
147.4          .              .              .             0.0018      
150.1          .              .              .             0.0022      
150.3          .              .              .             0.0027      
150.4          .              .              .             0.0017      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   -4.436978E-5      
2      2042.5000      2042.5000      2042.5000         0.0001      
3      2042.5000      2042.5000      2042.5000   -8.651965E-5      
4      2042.5000      2042.5000      2042.5000   2.3976519E-5      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.1179        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

100.1   1.0000000E-5       431.3305        +INF      6.996916E-12      
100.2   1.0000000E-5       109.3979        +INF            EPS         
100.4   1.0000000E-5       459.7363        +INF             .          
105.1   1.0000000E-5       288.1061        +INF             .          
105.2   1.0000000E-5       184.8000        +INF            EPS         
105.4   1.0000000E-5       209.7965        +INF            EPS         
106.2   1.0000000E-5        28.0863        +INF             .          
107.1   1.0000000E-5       514.5047        +INF             .          
107.2   1.0000000E-5       420.4458        +INF             .          
107.3   1.0000000E-5       460.4326        +INF             .          
107.4   1.0000000E-5       531.7954        +INF             .          
108.1   1.0000000E-5        17.7098        +INF            EPS         
108.2   1.0000000E-5        47.8848        +INF             .          
108.3   1.0000000E-5        20.3534        +INF             .          
108.4   1.0000000E-5        33.5301        +INF             .          
109.4   1.0000000E-5        24.1408        +INF            EPS         
110.1   1.0000000E-5         2.1127        +INF             .          
110.2   1.0000000E-5         5.4094        +INF             .          
112.2   1.0000000E-5        19.4708        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

112.4   1.0000000E-5        24.1434        +INF             .          
113.1   1.0000000E-5        40.4637        +INF             .          
113.2   1.0000000E-5        67.2782        +INF             .          
113.3   1.0000000E-5        46.6668        +INF             .          
113.4   1.0000000E-5        25.6860        +INF             .          
115.2   1.0000000E-5         6.7830        +INF             .          
115.3   1.0000000E-5        16.9133        +INF             .          
115.4   1.0000000E-5         7.5448        +INF             .          
116.2   1.0000000E-5        11.0036        +INF             .          
116.3   1.0000000E-5        70.5619        +INF             .          
116.4   1.0000000E-5         4.3196        +INF             .          
117.1   1.0000000E-5         1.3711        +INF             .          
117.2   1.0000000E-5         3.2690        +INF             .          
117.3   1.0000000E-5         3.4448        +INF             .          
117.4   1.0000000E-5         2.7272        +INF             .          
119.3   1.0000000E-5         1.1094        +INF             .          
119.4   1.0000000E-5         1.1559        +INF             .          
122.2   1.0000000E-5        21.2385        +INF             .          
122.3   1.0000000E-5         9.2694        +INF             .          
122.4   1.0000000E-5         5.7452        +INF             .          
123.1   1.0000000E-5         1.3448        +INF             .          
123.2   1.0000000E-5         1.7459        +INF             .          
123.3   1.0000000E-5         2.1309        +INF             .          
123.4   1.0000000E-5         1.2301        +INF             .          
125.1   1.0000000E-5        18.7435        +INF             .          
125.2   1.0000000E-5        17.9853        +INF             .          
125.3   1.0000000E-5        11.9142        +INF            EPS         
125.4   1.0000000E-5        23.8052        +INF             .          
127.2   1.0000000E-5        26.8255        +INF            EPS         
127.3   1.0000000E-5         5.6951        +INF             .          
127.4   1.0000000E-5         4.0023        +INF             .          
132.3   1.0000000E-5        36.9581        +INF            EPS         
135.2   1.0000000E-5        10.3810        +INF             .          
136.2   1.0000000E-5        64.5602        +INF             .          
139.2   1.0000000E-5        19.1788        +INF             .          
139.3   1.0000000E-5        86.8116        +INF             .          
140.1   1.0000000E-5         1.1916        +INF             .          
140.2   1.0000000E-5         1.9365        +INF             .          
140.3   1.0000000E-5         1.4764        +INF             .          
140.4   1.0000000E-5         3.8015        +INF             .          
141.1   1.0000000E-5        52.7129        +INF      5.570616E-11      
141.2   1.0000000E-5        14.3111        +INF             .          
141.3   1.0000000E-5        83.9320        +INF             .          
141.4   1.0000000E-5        39.2904        +INF             .          
142.2   1.0000000E-5        11.1041        +INF             .          
143.2   1.0000000E-5         5.5665        +INF             .          
144.1   1.0000000E-5         6.6242        +INF             .          
144.2   1.0000000E-5         1.7101        +INF             .          
144.4   1.0000000E-5         3.7510        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

146.3   1.0000000E-5         6.8057        +INF             .          
147.1   1.0000000E-5        12.5236        +INF             .          
147.2   1.0000000E-5         8.8607        +INF             .          
147.3   1.0000000E-5         4.1456        +INF             .          
147.4   1.0000000E-5         3.0253        +INF             .          
150.1   1.0000000E-5         8.7691        +INF             .          
150.3   1.0000000E-5        14.6192        +INF             .          
150.4   1.0000000E-5         6.2134        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1         0.0001         0.1601        +INF             .          
100.2         0.0001         0.0491        +INF             .          
100.4         0.0001         0.1876        +INF             .          
105.1         0.0001         0.1859        +INF             .          
105.2         0.0001         0.1207        +INF             .          
105.4         0.0001         0.1472        +INF             .          
106.2         0.0001         0.0253        +INF      -2.663081E-9      
107.1         0.0001         0.0675        +INF             .          
107.2         0.0001         0.0865        +INF      2.0940437E-8      
107.3         0.0001         0.0701        +INF             .          
107.4         0.0001         0.1115        +INF             .          
108.1         0.0001         0.0429        +INF             .          
108.2         0.0001         0.1248        +INF             .          
108.3         0.0001         0.0575        +INF      -5.685704E-9      
108.4         0.0001         0.0583        +INF      1.4457474E-8      
109.4         0.0001         0.0500        +INF             .          
110.1         0.0001         0.0119        +INF      1.1670796E-8      
110.2         0.0001         0.0233        +INF      -1.816315E-9      
112.2         0.0001         0.0151        +INF             .          
112.4         0.0001         0.0117        +INF             .          
113.1         0.0001         0.1261        +INF      1.0113792E-8      
113.2         0.0001         0.1539        +INF             .          
113.3         0.0001         0.1416        +INF      -6.973001E-9      
113.4         0.0001         0.0747        +INF      2.5569751E-9      
115.2         0.0001         0.0156        +INF            EPS         
115.3         0.0001         0.0334        +INF      2.7204830E-9      
115.4         0.0001         0.0212        +INF      -5.038701E-9      
116.2         0.0001         0.0184        +INF      2.7522462E-9      
116.3         0.0001         0.1182        +INF             .          
116.4         0.0001         0.0119        +INF      -1.185028E-9      
117.1         0.0001         0.0191        +INF      9.0485495E-9      
117.2         0.0001         0.0379        +INF      -4.694626E-9      
117.3         0.0001         0.0314        +INF      3.7938208E-9      
117.4         0.0001         0.0352        +INF      -5.350171E-9      
119.3         0.0001         0.0180        +INF      -6.502603E-9      
119.4         0.0001         0.0159        +INF      4.5448831E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

122.2         0.0001         0.0308        +INF      -4.277268E-9      
122.3         0.0001         0.0178        +INF      -5.518884E-9      
122.4         0.0001         0.0102        +INF      5.4390055E-9      
123.1         0.0001         0.0234        +INF      8.1039173E-9      
123.2         0.0001         0.0201        +INF      -3.887535E-9      
123.3         0.0001         0.0318        +INF      -7.336641E-9      
123.4         0.0001         0.0157        +INF      4.8667746E-9      
125.1         0.0001         0.0319        +INF      7.5084257E-9      
125.2         0.0001         0.0256        +INF      -5.120597E-9      
125.3         0.0001         0.0142        +INF             .          
125.4         0.0001         0.0273        +INF            EPS         
127.2         0.0001         0.0373        +INF             .          
127.3         0.0001         0.0365        +INF      -0.999259E-8      
127.4         0.0001         0.0124        +INF      3.1666766E-8      
132.3         0.0001         0.0144        +INF             .          
135.2         0.0001         0.0110        +INF      -6.227768E-9      
136.2         0.0001         0.0230        +INF            EPS         
139.2         0.0001         0.0223        +INF      -1.825799E-9      
139.3         0.0001         0.0810        +INF             .          
140.1         0.0001         0.0119        +INF      1.0160695E-8      
140.2         0.0001         0.0192        +INF      -6.527208E-9      
140.3         0.0001         0.0154        +INF      -3.859253E-9      
140.4         0.0001         0.0366        +INF      2.3056114E-9      
141.1         0.0001         0.1738        +INF             .          
141.2         0.0001         0.0441        +INF      -1.750479E-9      
141.3         0.0001         0.2327        +INF             .          
141.4         0.0001         0.1197        +INF            EPS         
142.2         0.0001         0.0115        +INF      -1.609486E-9      
143.2         0.0001         0.0179        +INF      2.3196254E-9      
144.1         0.0001         0.0474        +INF      9.4766219E-9      
144.2         0.0001         0.0108        +INF      -7.274595E-9      
144.4         0.0001         0.0233        +INF            EPS         
146.3         0.0001         0.0354        +INF      -6.150026E-9      
147.1         0.0001         0.0806        +INF      9.6144013E-9      
147.2         0.0001         0.0553        +INF      -4.888386E-9      
147.3         0.0001         0.0278        +INF      -4.652267E-9      
147.4         0.0001         0.0181        +INF      3.5073094E-9      
150.1         0.0001         0.0173        +INF      8.8527334E-9      
150.3         0.0001         0.0227        +INF      -1.524001E-9      
150.4         0.0001         0.0116        +INF      -2.054589E-9      

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          496.8981        +INF             .          
1.2        -INF          545.2039        +INF             .          
1.3        -INF          490.7994        +INF             .          
1.4        -INF          549.9941        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.1        -INF          554.8856        +INF             .          
2.2        -INF          543.9115        +INF             .          
2.3        -INF          563.3071        +INF             .          
2.4        -INF          593.7687        +INF             .          
3.1        -INF          559.7111        +INF             .          
3.2        -INF          543.9115        +INF             .          
3.3        -INF          467.0194        +INF             .          
3.4        -INF          606.2929        +INF             .          
4.1        -INF          542.4513        +INF             .          
4.2        -INF          566.9402        +INF             .          
4.3        -INF          467.0194        +INF             .          
4.4        -INF          549.9941        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:25:10 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    434 this is without adjustment for calorie target or 90%

----    434 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     496.898     545.204     490.799     549.994
2     554.886     543.912     563.307     593.769
3     559.711     543.912     467.019     606.293
4     542.451     566.940     467.019     549.994


----    459 PARAMETER perc_chng  percent change in line

1  45.476,    2 -31.780,    3  80.504,    4 -10.412


----    459 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 636.169,    2 665.582,    3 579.940,    4 713.784


----    459 PARAMETER povline_ali  food poverty line

1 437.302,    2 975.643,    3 321.290,    4 796.737


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/work/povline_food_ent.csv


EXECUTION TIME       =        0.004 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNPS_2011_12/new/list.lst
