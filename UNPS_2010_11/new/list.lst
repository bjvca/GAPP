GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/product_flex.inc
  20  100
  21  105
  22  107
  23  108
  24  109
  25  110
  26  111
  27  112
  28  113
  29  114
  30  115
  31  116
  32  117
  33  118
  34  119
  35  122
  36  123
  37  125
  38  127
  39  132
  40  134
  41  135
  42  136
  43  137
  44  138
  45  139
  46  140
  47  141
  48  143
  49  144
  50  146
  51  147
  52  149
  53  150
  54  /
  55   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56   reg        4 spatial domains /1*4/
  57   r(reg)     all included spatial regions /1*4/
  58   
  59   ptit       price table titles
  60  /
  61    count      number of observations making up the price average
  62    price_uw5  average price
  63  /
  64   
  65   qtit       quantity table titles
  66  /
  67    calperg          calories per gram
  68    quan5            quantities in grams
  69    calpp            calories per person by region
  70    povline_a_flex5    value of flexible food bundle
  71  /
  72   
  73   
  74    posquan(cod,reg)  mark positive quantities in each region
  75    posprice(cod,reg) mark the existence of acceptable price info in each region
  76    chkprice(cod,reg) ensure that prices exist once all estimated
  77  ;
  78   
  79  alias(reg,regq);
  80  alias(r,rq);
  81   
  82  SCALAR
  83     caltarg single level of calories to target across regions / 2150 /
  84   ;
  85   
  86  PARAMETERS
  87   
  88    shr(cod,reg)         shares in each basket by region
  89    chkshr(reg)          check that the calculated shares sum to .9
  90    shrmiss(regq,reg)    shares missing in each region pair
  91    povline_ali(reg)       food poverty line
  92    perc_chng(reg)       percent change in line
  93    finmiss(reg)         final missing shares post optimization procedure
  94   ;
  95   
  96  Table  price(cod,reg,ptit)  price and related information
  97                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/price_unit_flex.inc
  99  100     .       1       67      .2383361
 100  100     .       2       64      .1988776
 101  100     .       3       15      .2434498
 102  100     .       4       151     .1971089
 103  105     .       1       15      .1869071
 104  105     .       2       19      .2238176
 105  105     .       3       4       .0899387
 106  105     .       4       73      .2626926
 107  107     .       1       37      .1640032
 108  107     .       2       42      .0835129
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  107     .       3       21      .0467452
 110  107     .       4       11      .1109958
 111  108     .       1       23      .9731961
 112  108     .       2       127     .6274172
 113  108     .       3       54      .7332013
 114  108     .       4       65      .6301419
 115  109     .       1       8       .6632515
 116  109     .       2       4       .7415315
 117  109     .       3       1       2.727732
 118  109     .       4       28      1.249544
 119  110     .       1       27      2.655421
 120  110     .       2       40      1.924786
 121  110     .       3       12      1.919231
 122  110     .       4       19      2.008728
 123  111     .       1       2       1.335931
 124  111     .       2       8       1.091516
 125  111     .       3       19      .8213361
 126  111     .       4       7       .6496983
 127  112     .       1       2       .2209285
 128  112     .       2       6       .577175
 129  112     .       4       8       .4429662
 130  113     .       1       101     1.762019
 131  113     .       2       127     1.126349
 132  113     .       3       53      1.075989
 133  113     .       4       103     1.199945
 134  114     .       1       8       3.057683
 135  114     .       2       29      2.455296
 136  114     .       3       18      3.883813
 137  114     .       4       3       2.827465
 138  115     .       1       9       1.716552
 139  115     .       2       38      1.00539
 140  115     .       3       25      .7277163
 141  115     .       4       68      1.227379
 142  116     .       1       3       1.235241
 143  116     .       2       67      .6961667
 144  116     .       3       55      1.006955
 145  116     .       4       17      1.275237
 146  117     .       1       26      6.337276
 147  117     .       2       63      4.785882
 148  117     .       3       28      5.317767
 149  117     .       4       55      5.323994
 150  118     .       1       15      5.106981
 151  118     .       2       18      3.803617
 152  118     .       3       18      4.22871
 153  118     .       4       7       5.356172
 154  119     .       1       5       7.279353
 155  119     .       2       21      5.020409
 156  119     .       3       16      5.4229
 157  119     .       4       9       5.663437
 158  122     .       1       18      .7068815
 159  122     .       2       46      .4657509
 160  122     .       3       19      .6947773
 161  122     .       4       9       .5710104
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  123     .       1       10      4.823324
 163  123     .       2       31      3.846579
 164  123     .       3       34      5.689362
 165  123     .       4       16      4.743877
 166  125     .       1       45      .797172
 167  125     .       2       93      .6315431
 168  125     .       3       24      .4959568
 169  125     .       4       53      .5250524
 170  127     .       1       5       2.267669
 171  127     .       2       12      2.118369
 172  127     .       3       36      2.471977
 173  127     .       4       11      2.041374
 174  132     .       1       3       .1894142
 175  132     .       2       7       .2097089
 176  132     .       3       5       .075761
 177  132     .       4       1       .1487203
 178  134     .       1       3       .9154663
 179  134     .       3       1       .2444915
 180  135     .       1       3       .4136949
 181  135     .       2       4       .2314551
 182  135     .       3       6       .4473542
 183  136     .       1       4       .2261763
 184  136     .       2       2       .0740888
 185  136     .       3       4       .1712752
 186  136     .       4       2       .2173485
 187  137     .       1       2       1.101322
 188  137     .       2       1       .1868297
 189  137     .       3       3       1.324984
 190  138     .       2       1       .8817118
 191  138     .       3       2       .2261873
 192  139     .       1       7       .8523581
 193  139     .       2       3       .200815
 194  139     .       3       4       .5430862
 195  139     .       4       2       .3286908
 196  140     .       1       25      6.540008
 197  140     .       2       40      4.081538
 198  140     .       3       15      5.596625
 199  140     .       4       54      4.681899
 200  141     .       1       83      2.061338
 201  141     .       2       100     1.668552
 202  141     .       3       131     1.527629
 203  141     .       4       175     1.536814
 204  143     .       1       7       4.036854
 205  143     .       2       39      2.359274
 206  143     .       3       16      1.14116
 207  143     .       4       3       3.724049
 208  144     .       1       42      3.8906
 209  144     .       2       30      3.454273
 210  144     .       3       3       1.9557
 211  144     .       4       62      2.985422
 212  146     .       1       3       2.707198
 213  146     .       2       8       3.451715
 214  146     .       3       43      2.574789
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  146     .       4       1       1.074819
 216  147     .       1       95      3.545033
 217  147     .       2       163     2.928206
 218  147     .       3       64      2.693475
 219  147     .       4       51      2.932077
 220  149     .       1       131     .8654959
 221  149     .       2       161     .6378701
 222  149     .       3       80      .7737492
 223  149     .       4       69      .8609887
 224  150     .       1       160     1.025473
 225  150     .       2       271     .6504223
 226  150     .       3       221     .802025
 227  150     .       4       251     .9094661
 228  ;
 229   
 230  Table   quan(cod,reg,qtit)   quantity and related information
 231                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/quan_flex.inc
 233  100     .       1       3.8500000e-01   6.2499622e+02   2.4773413e+03   1154.229
 234  105     .       1       7.1400000e-01   1.1920823e+02   2.4773413e+03   1154.229
 235  107     .       1       2.2750000e+00   3.8938318e+02   2.4773413e+03   1154.229
 236  108     .       1       3.1700000e+00   4.6115814e+01   2.4773413e+03   1154.229
 237  110     .       1       3.6000000e+00   8.6678419e+00   2.4773413e+03   1154.229
 238  113     .       1       3.5400000e+00   1.4126848e+02   2.4773413e+03   1154.229
 239  117     .       1       1.8720000e+00   5.4000397e+00   2.4773413e+03   1154.229
 240  118     .       1       1.7550000e+00   2.6318500e+00   2.4773413e+03   1154.229
 241  122     .       1       6.1800000e-01   5.1828560e+01   2.4773413e+03   1154.229
 242  125     .       1       6.4000000e-01   3.3552528e+01   2.4773413e+03   1154.229
 243  140     .       1       7.8000000e-01   7.3906279e+00   2.4773413e+03   1154.229
 244  141     .       1       4.0500000e+00   5.9323616e+01   2.4773413e+03   1154.229
 245  144     .       1       2.1850000e+00   1.2632796e+01   2.4773413e+03   1154.229
 246  147     .       1       3.7500000e+00   3.2679504e+01   2.4773413e+03   1154.229
 247  149     .       1       0.0000000e+00   1.8731382e+01   2.4773413e+03   1154.229
 248  150     .       1       0.0000000e+00   2.3417114e+01   2.4773413e+03   1154.229
 249  100     .       2       3.8500000e-01   4.1394479e+02   2.3678511e+03   834.7308
 250  105     .       2       7.1400000e-01   7.4535065e+01   2.3678511e+03   834.7308
 251  107     .       2       2.2750000e+00   2.1365828e+02   2.3678511e+03   834.7308
 252  108     .       2       3.1700000e+00   1.9001921e+02   2.3678511e+03   834.7308
 253  110     .       2       3.6000000e+00   1.1465423e+01   2.3678511e+03   834.7308
 254  113     .       2       3.5400000e+00   1.0320493e+02   2.3678511e+03   834.7308
 255  115     .       2       2.1000000e+00   2.5379299e+01   2.3678511e+03   834.7308
 256  116     .       2       3.1050000e+00   2.2669685e+01   2.3678511e+03   834.7308
 257  117     .       2       1.8720000e+00   9.2918119e+00   2.3678511e+03   834.7308
 258  119     .       2       1.7550000e+00   2.2018609e+00   2.3678511e+03   834.7308
 259  122     .       2       6.1800000e-01   6.2403099e+01   2.3678511e+03   834.7308
 260  123     .       2       2.1030000e+00   4.0808959e+00   2.3678511e+03   834.7308
 261  125     .       2       6.4000000e-01   6.3468811e+01   2.3678511e+03   834.7308
 262  127     .       2       8.5700000e+00   1.2823773e+01   2.3678511e+03   834.7308
 263  140     .       2       7.8000000e-01   5.9029450e+00   2.3678511e+03   834.7308
 264  141     .       2       4.0500000e+00   2.2055294e+01   2.3678511e+03   834.7308
 265  143     .       2       2.1850000e+00   7.9989657e+00   2.3678511e+03   834.7308
 266  144     .       2       2.1850000e+00   4.0055528e+00   2.3678511e+03   834.7308
 267  147     .       2       3.7500000e+00   2.1079420e+01   2.3678511e+03   834.7308
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  150     .       2       0.0000000e+00   1.9548260e+01   2.3678511e+03   834.7308
 269  100     .       3       3.8500000e-01   4.4763142e+01   2.4028633e+03   641.136
 270  107     .       3       2.2750000e+00   4.6264383e+02   2.4028633e+03   641.136
 271  108     .       3       3.1700000e+00   7.2267960e+01   2.4028633e+03   641.136
 272  111     .       3       3.1230000e+00   1.5188248e+01   2.4028633e+03   641.136
 273  113     .       3       3.5400000e+00   3.1981228e+01   2.4028633e+03   641.136
 274  115     .       3       2.1000000e+00   1.3580582e+01   2.4028633e+03   641.136
 275  116     .       3       3.1050000e+00   3.5241886e+01   2.4028633e+03   641.136
 276  117     .       3       1.8720000e+00   4.7921700e+00   2.4028633e+03   641.136
 277  118     .       3       1.7550000e+00   6.1871104e+00   2.4028633e+03   641.136
 278  119     .       3       1.7550000e+00   2.1388166e+00   2.4028633e+03   641.136
 279  122     .       3       6.1800000e-01   1.9839746e+01   2.4028633e+03   641.136
 280  123     .       3       2.1030000e+00   5.4526067e+00   2.4028633e+03   641.136
 281  125     .       3       6.4000000e-01   1.6563721e+01   2.4028633e+03   641.136
 282  127     .       3       8.5700000e+00   1.4690882e+01   2.4028633e+03   641.136
 283  140     .       3       7.8000000e-01   2.2265851e+00   2.4028633e+03   641.136
 284  141     .       3       4.0500000e+00   1.0064259e+02   2.4028633e+03   641.136
 285  146     .       3       5.9300000e+00   8.7008638e+00   2.4028633e+03   641.136
 286  147     .       3       3.7500000e+00   1.0811365e+01   2.4028633e+03   641.136
 287  149     .       3       0.0000000e+00   1.6455805e+01   2.4028633e+03   641.136
 288  150     .       3       0.0000000e+00   2.0213573e+01   2.4028633e+03   641.136
 289  100     .       4       3.8500000e-01   1.1005819e+03   2.5112476e+03   1150.279
 290  105     .       4       7.1400000e-01   3.6911719e+02   2.5112476e+03   1150.279
 291  107     .       4       2.2750000e+00   1.5951073e+02   2.5112476e+03   1150.279
 292  108     .       4       3.1700000e+00   7.9493141e+01   2.5112476e+03   1150.279
 293  109     .       4       6.3700000e-01   5.0146629e+01   2.5112476e+03   1150.279
 294  110     .       4       3.6000000e+00   6.0289879e+00   2.5112476e+03   1150.279
 295  113     .       4       3.5400000e+00   5.6002357e+01   2.5112476e+03   1150.279
 296  115     .       4       2.1000000e+00   3.7852711e+01   2.5112476e+03   1150.279
 297  116     .       4       3.1050000e+00   1.5020683e+01   2.5112476e+03   1150.279
 298  117     .       4       1.8720000e+00   8.3016844e+00   2.5112476e+03   1150.279
 299  123     .       4       2.1030000e+00   2.0154362e+00   2.5112476e+03   1150.279
 300  125     .       4       6.4000000e-01   7.1104080e+01   2.5112476e+03   1150.279
 301  140     .       4       7.8000000e-01   1.3824749e+01   2.5112476e+03   1150.279
 302  141     .       4       4.0500000e+00   1.4456209e+02   2.5112476e+03   1150.279
 303  144     .       4       2.1850000e+00   1.1238699e+01   2.5112476e+03   1150.279
 304  147     .       4       3.7500000e+00   5.1742010e+00   2.5112476e+03   1150.279
 305  150     .       4       0.0000000e+00   2.1180216e+01   2.5112476e+03   1150.279
 306  ;
 307   
 308    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 309                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 310                         quan(cod,reg,'povline_a_flex5');
 311   
 312    chkshr(reg)=sum(cod,shr(cod,reg));
 313   
 314  loop(reg,
 315    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 316  );
 317   
 318   
 319  *turn on dynamic sets to indicate positive quantities and existence of
 320  *price info for each region
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321   
 322   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 323                        AND price(cod,reg,'count') gt 4) = yes;
 324   
 325   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 326   
 327   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 328   display shrmiss;
 329   
 330    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 331                                             quan(cod,reg,'quan5'))/.9;
 332   
 333    display povline_ali;
 334   
 335   
 336  *boost values so shares sum to one;
 337  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 338   
 339  *fill out price matrix with maximum observed price outside of Maputo
 340   
 341  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 342           loop(r,
 343                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 344                                                price(cod,r,'price_uw5'));
 345           );
 346  );
 347   
 348  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 349   
 350  display 'should be an empty set', chkprice;
 351   
 352   
 353   
 354   
 355  Variables
 356     z                objective value
 357     q(cod,reg)       revised maximum entropy quanties in grams
 358     s(cod,reg)       derived maximum entropy shares
 359     povline(regq,reg)  estimated revealed preference matrix
 360  ;
 361   
 362   
 363  Equations
 364     obj              objective equation
 365     rev(regq,reg)    revealed preference tests
 366     deflin(regq,reg) define revealed preference matrix
 367     defshr(cod,regq) define the endogenous budget shares
 368     cals(regq)       ensure that each bundle hits the calorie
 369   
 370  ;
 371   
 372     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 373                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374   
 375     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 376                            q(cod,rq)*price(cod,r,'price_uw5'));
 377   
 378     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 379   
 380     defshr(cod,rq)$posquan(cod,rq) ..
 381               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 382   
 383     cals(rq) .. sum(cod$posquan(cod,rq),
 384                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 385   
 386  *set bounds and starting values for variables
 387   
 388    q.lo(cod,reg)=.00001;
 389    q.up(cod,reg)=inf;
 390    q.l(cod,reg)=quan(cod,reg,'quan5');
 391    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 392   
 393    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 394                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 395   
 396   
 397    display povline.l;
 398   
 399  *print the revealed preference matrix prior to optimisation;
 400  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/povline_rp_inout.csv"/;
 401  put povline_rp;
 402  povline_rp.pc=5;
 403  povline_rp.nd=0;
 404  put " ";
 405  loop(reg,
 406        put reg.tl;
 407  );
 408  put /;
 409  loop(regq,
 410       put regq.tl;
 411       loop(reg,
 412           put povline.l(regq,reg);
 413       );
 414       put /;
 415  );
 416  put /; put /; put /;
 417   
 418     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 419     s.lo(cod,regq)=.0001;
 420     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 421   
 422   
 423     model revpref /obj, deflin, rev, defshr, cals/;
 424   
 425     revpref.holdfixed=1;
 426   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         06/11/14 16:37:26 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427     option limrow=100;
 428   
 429     option nlp=conopt;
 430   
 431     solve revpref using nlp minimizing z;
 432   
 433     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 434     display "this is without adjustment for calorie target or 90%", povline.l;
 435   
 436  put /;
 437  loop(rq,
 438       put rq.tl;
 439       loop(r,
 440           put povline.l(rq,r);
 441       );
 442       put /;
 443  );
 444  put /;
 445   
 446   
 447  PARAMETERS
 448     qent(cod,reg)  entropy quantities with all adjustments accounted for
 449     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 450    ;
 451  *readjust quantities to hit regional calorie target and calculate line;
 452     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 453   
 454     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 455                                             qent(cod,r))/.9;
 456   
 457     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 458   
 459     display perc_chng, povline_ent, povline_ali;
 460   
 461     file res/"/home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/qent.csv"/;
 462   
 463     put res;
 464     res.pc=5;
 465     res.nd=6;
 466   
 467  *recall that the basket reflects 90% of expenditure and 95% of calories";
 468     put "spdomain" ;
 469     put "product" ;
 470     put "quan5";
 471     put "qent";
 472     put "price";
 473     put "calperg";
 474   
 475     put /;
 476   
 477     loop(reg,
 478         loop(cod,
 479             put reg.tl;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480             put cod.tl;
 481             put quan(cod,reg,'quan5');
 482             put qent(cod,reg);
 483             put price(cod,reg,'price_uw5')
 484             put quan(cod,reg,'calperg');
 485             put /;
 486         );
 487     );
 488   
 489     file lin/"/home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/povline_food_ent.csv"/;
 490   
 491     put lin;
 492     lin.pc=5;
 493  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 494   
 495     put "spdomain";
 496     put "flex";
 497     put "ent";
 498     put /;
 499   
 500     loop(reg,
 501           put reg.tl;
 502           put povline_ali(reg);
 503           put povline_ent(reg);
 504           put /;
 505     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/product_flex.inc
     3       98 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/price_unit_flex.inc
     4      232 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/quan_flex.inc


COMPILATION TIME     =        0.005 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    328 PARAMETER shrmiss  shares missing in each region pair

            1           2           3           4

1                               0.062
2       0.019                   0.037       0.023
3       0.110                               0.035
4       0.017       0.054       0.168


----    333 PARAMETER povline_ali  food poverty line

1 1154.229,    2  834.731,    3  641.136,    4 1150.279


----    350 should be an empty set

----    350 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    397 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1    1038.806     765.074     754.014     800.500
2    1061.518     751.258     778.386     810.855
3     783.612     575.021     577.022     600.912
4    1257.505     982.847    1060.152    1035.251

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


---- obj  =E=  objective equation

obj..  z - (1)*s(100,1) - (1)*s(100,2) - (1)*s(100,3) - (1)*s(100,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,4) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,4)
     
      - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(116,4) - (1)*s(117,1) - (1)*s(117,2)
     
      - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,1) - (1)*s(118,3) - (1)*s(119,2) - (1)*s(119,3) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,3) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4)
     
      - (1)*s(127,2) - (1)*s(127,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(143,2) - (1)*s(144,1) - (1)*s(144,2) - (1)*s(144,4) - (1)*s(146,3) - (1)*s(147,1)
     
      - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(149,1) - (1)*s(149,3) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 0.2383361*q(100,1) - 0.1869071*q(105,1) - 0.1640032*q(107,1) - 0.9731961*q(108,1) - 2.655421*q(110,1) - 1.762019*q(113,1) - 6.337276*q(117,1) - 5.106981*q(118,1) - 0.7068815*q(122,1) - 0.797172*q(125,1) - 6.540008*q(140,1)
     
      - 2.061338*q(141,1) - 3.8906*q(144,1) - 3.545033*q(147,1) - 0.8654959*q(149,1) - 1.025473*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 0.1988776*q(100,1) - 0.2238176*q(105,1) - 0.0835129*q(107,1) - 0.6274172*q(108,1) - 1.924786*q(110,1) - 1.126349*q(113,1) - 4.785882*q(117,1) - 3.803617*q(118,1) - 0.4657509*q(122,1) - 0.6315431*q(125,1) - 4.081538*q(140,1)
     
      - 1.668552*q(141,1) - 3.454273*q(144,1) - 2.928206*q(147,1) - 0.6378701*q(149,1) - 0.6504223*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 0.2434498*q(100,1) - 0.0899387*q(105,1) - 0.0467452*q(107,1) - 0.7332013*q(108,1) - 1.919231*q(110,1) - 1.075989*q(113,1) - 5.317767*q(117,1) - 4.22871*q(118,1) - 0.6947773*q(122,1) - 0.4959568*q(125,1) - 5.596625*q(140,1)
     
      - 1.527629*q(141,1) - 1.9557*q(144,1) - 2.693475*q(147,1) - 0.7737492*q(149,1) - 0.802025*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 0.1971089*q(100,1) - 0.2626926*q(105,1) - 0.1109958*q(107,1) - 0.6301419*q(108,1) - 2.008728*q(110,1) - 1.199945*q(113,1) - 5.323994*q(117,1) - 5.356172*q(118,1) - 0.5710104*q(122,1) - 0.5250524*q(125,1) - 4.681899*q(140,1)
     
      - 1.536814*q(141,1) - 2.985422*q(144,1) - 2.932077*q(147,1) - 0.8609887*q(149,1) - 0.9094661*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 0.2383361*q(100,2) - 0.1869071*q(105,2) - 0.1640032*q(107,2) - 0.9731961*q(108,2) - 2.655421*q(110,2) - 1.762019*q(113,2) - 1.716552*q(115,2) - 1.235241*q(116,2) - 6.337276*q(117,2) - 7.279353*q(119,2) - 0.7068815*q(122,2)
     
      - 4.823324*q(123,2) - 0.797172*q(125,2) - 2.267669*q(127,2) - 6.540008*q(140,2) - 2.061338*q(141,2) - 4.036854*q(143,2) - 3.8906*q(144,2) - 3.545033*q(147,2) - 1.025473*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 0.1988776*q(100,2) - 0.2238176*q(105,2) - 0.0835129*q(107,2) - 0.6274172*q(108,2) - 1.924786*q(110,2) - 1.126349*q(113,2) - 1.00539*q(115,2) - 0.6961667*q(116,2) - 4.785882*q(117,2) - 5.020409*q(119,2) - 0.4657509*q(122,2)
     
      - 3.846579*q(123,2) - 0.6315431*q(125,2) - 2.118369*q(127,2) - 4.081538*q(140,2) - 1.668552*q(141,2) - 2.359274*q(143,2) - 3.454273*q(144,2) - 2.928206*q(147,2) - 0.6504223*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 0.2434498*q(100,2) - 0.0899387*q(105,2) - 0.0467452*q(107,2) - 0.7332013*q(108,2) - 1.919231*q(110,2) - 1.075989*q(113,2) - 0.7277163*q(115,2) - 1.006955*q(116,2) - 5.317767*q(117,2) - 5.4229*q(119,2) - 0.6947773*q(122,2)
     
      - 5.689362*q(123,2) - 0.4959568*q(125,2) - 2.471977*q(127,2) - 5.596625*q(140,2) - 1.527629*q(141,2) - 1.14116*q(143,2) - 1.9557*q(144,2) - 2.693475*q(147,2) - 0.802025*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 0.1971089*q(100,2) - 0.2626926*q(105,2) - 0.1109958*q(107,2) - 0.6301419*q(108,2) - 2.008728*q(110,2) - 1.199945*q(113,2) - 1.227379*q(115,2) - 1.275237*q(116,2) - 5.323994*q(117,2) - 5.663437*q(119,2) - 0.5710104*q(122,2)
     
      - 4.743877*q(123,2) - 0.5250524*q(125,2) - 2.041374*q(127,2) - 4.681899*q(140,2) - 1.536814*q(141,2) - 3.724049*q(143,2) - 2.985422*q(144,2) - 2.932077*q(147,2) - 0.9094661*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 0.2383361*q(100,3) - 0.1640032*q(107,3) - 0.9731961*q(108,3) - 1.335931*q(111,3) - 1.762019*q(113,3) - 1.716552*q(115,3) - 1.235241*q(116,3) - 6.337276*q(117,3) - 5.106981*q(118,3) - 7.279353*q(119,3) - 0.7068815*q(122,3)
     
      - 4.823324*q(123,3) - 0.797172*q(125,3) - 2.267669*q(127,3) - 6.540008*q(140,3) - 2.061338*q(141,3) - 2.707198*q(146,3) - 3.545033*q(147,3) - 0.8654959*q(149,3) - 1.025473*q(150,3) + povline(3,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     deflin  =E=  define revealed preference matrix

deflin(3,2)..  - 0.1988776*q(100,3) - 0.0835129*q(107,3) - 0.6274172*q(108,3) - 1.091516*q(111,3) - 1.126349*q(113,3) - 1.00539*q(115,3) - 0.6961667*q(116,3) - 4.785882*q(117,3) - 3.803617*q(118,3) - 5.020409*q(119,3) - 0.4657509*q(122,3)
     
      - 3.846579*q(123,3) - 0.6315431*q(125,3) - 2.118369*q(127,3) - 4.081538*q(140,3) - 1.668552*q(141,3) - 3.451715*q(146,3) - 2.928206*q(147,3) - 0.6378701*q(149,3) - 0.6504223*q(150,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.2434498*q(100,3) - 0.0467452*q(107,3) - 0.7332013*q(108,3) - 0.8213361*q(111,3) - 1.075989*q(113,3) - 0.7277163*q(115,3) - 1.006955*q(116,3) - 5.317767*q(117,3) - 4.22871*q(118,3) - 5.4229*q(119,3) - 0.6947773*q(122,3)
     
      - 5.689362*q(123,3) - 0.4959568*q(125,3) - 2.471977*q(127,3) - 5.596625*q(140,3) - 1.527629*q(141,3) - 2.574789*q(146,3) - 2.693475*q(147,3) - 0.7737492*q(149,3) - 0.802025*q(150,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 0.1971089*q(100,3) - 0.1109958*q(107,3) - 0.6301419*q(108,3) - 0.6496983*q(111,3) - 1.199945*q(113,3) - 1.227379*q(115,3) - 1.275237*q(116,3) - 5.323994*q(117,3) - 5.356172*q(118,3) - 5.663437*q(119,3) - 0.5710104*q(122,3)
     
      - 4.743877*q(123,3) - 0.5250524*q(125,3) - 2.041374*q(127,3) - 4.681899*q(140,3) - 1.536814*q(141,3) - 1.074819*q(146,3) - 2.932077*q(147,3) - 0.8609887*q(149,3) - 0.9094661*q(150,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 0.2383361*q(100,4) - 0.1869071*q(105,4) - 0.1640032*q(107,4) - 0.9731961*q(108,4) - 0.6632515*q(109,4) - 2.655421*q(110,4) - 1.762019*q(113,4) - 1.716552*q(115,4) - 1.235241*q(116,4) - 6.337276*q(117,4) - 4.823324*q(123,4)
     
      - 0.797172*q(125,4) - 6.540008*q(140,4) - 2.061338*q(141,4) - 3.8906*q(144,4) - 3.545033*q(147,4) - 1.025473*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 0.1988776*q(100,4) - 0.2238176*q(105,4) - 0.0835129*q(107,4) - 0.6274172*q(108,4) - 0.7415315*q(109,4) - 1.924786*q(110,4) - 1.126349*q(113,4) - 1.00539*q(115,4) - 0.6961667*q(116,4) - 4.785882*q(117,4) - 3.846579*q(123,4)
     
      - 0.6315431*q(125,4) - 4.081538*q(140,4) - 1.668552*q(141,4) - 3.454273*q(144,4) - 2.928206*q(147,4) - 0.6504223*q(150,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
deflin(4,3)..  - 0.2434498*q(100,4) - 0.0899387*q(105,4) - 0.0467452*q(107,4) - 0.7332013*q(108,4) - 2.727732*q(109,4) - 1.919231*q(110,4) - 1.075989*q(113,4) - 0.7277163*q(115,4) - 1.006955*q(116,4) - 5.317767*q(117,4) - 5.689362*q(123,4)
     
      - 0.4959568*q(125,4) - 5.596625*q(140,4) - 1.527629*q(141,4) - 1.9557*q(144,4) - 2.693475*q(147,4) - 0.802025*q(150,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 0.1971089*q(100,4) - 0.2626926*q(105,4) - 0.1109958*q(107,4) - 0.6301419*q(108,4) - 1.249544*q(109,4) - 2.008728*q(110,4) - 1.199945*q(113,4) - 1.227379*q(115,4) - 1.275237*q(116,4) - 5.323994*q(117,4) - 4.743877*q(123,4)
     
      - 0.5250524*q(125,4) - 4.681899*q(140,4) - 1.536814*q(141,4) - 2.985422*q(144,4) - 2.932077*q(147,4) - 0.9094661*q(150,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = 22.712231320736)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -255.194312933342, INFES = 255.194312933342 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 218.69903059816)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 13.8165277122051)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -176.236519973048, INFES = 176.236519973048 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 231.589557628297)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 176.991446608213)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 201.363918842122)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 483.129341678295)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     rev  =G=  revealed preference tests

rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -234.751180163987, INFES = 234.751180163987 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -224.39623586289, INFES = 224.39623586289 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -434.338870216288, INFES = 434.338870216288 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(100,1)..  - 0.2383361*q(100,1) + (1038.80591356022)*s(100,1) + (0.143394603019755)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(100,2)..  - 0.1988776*q(100,2) + (751.257728295012)*s(100,2) + (0.109582029265163)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(100,3)..  - 0.2434498*q(100,3) + (577.022414843911)*s(100,3) + (0.0188858832636848)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(100,4)..  - 0.1971089*q(100,4) + (1035.25083272879)*s(100,4) + (0.209547754815224)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 0.1869071*q(105,1) + (1038.80591356022)*s(105,1) + (0.0214485345862843)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 0.2238176*q(105,2) + (751.257728295012)*s(105,2) + (0.0222057740450865)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 0.2626926*q(105,4) + (1035.25083272879)*s(105,4) + (0.09366266732692)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 0.1640032*q(107,1) + (1038.80591356022)*s(107,1) + (0.061474512911958)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.0835129*q(107,2) + (751.257728295012)*s(107,2) + (0.0237511334656183)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.0467452*q(107,3) + (577.022414843911)*s(107,3) + (0.0374792690990455)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.1109958*q(107,4) + (1035.25083272879)*s(107,4) + (0.0171021558497719)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.9731961*q(108,1) + (1038.80591356022)*s(108,1) + (0.0432031910362472)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.6274172*q(108,2) + (751.257728295012)*s(108,2) + (0.158695632928777)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.7332013*q(108,3) + (577.022414843911)*s(108,3) + (0.0918282563333027)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.6301419*q(108,4) + (1035.25083272879)*s(108,4) + (0.0483863014866374)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.249544*q(109,4) + (1035.25083272879)*s(109,4) + (0.0605267993091209)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 2.655421*q(110,1) + (1038.80591356022)*s(110,1) + (0.0221569487673172)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 1.924786*q(110,2) + (751.257728295012)*s(110,2) + (0.0293753858939497)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 2.008728*q(110,4) + (1035.25083272879)*s(110,4) + (0.0116982246461654)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.8213361*q(111,3) + (577.022414843911)*s(111,3) + (0.0216190152362232)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     defshr  =E=  define the endogenous budget shares

defshr(113,1)..  - 1.762019*q(113,1) + (1038.80591356022)*s(113,1) + (0.239619107488543)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 1.126349*q(113,2) + (751.257728295012)*s(113,2) + (0.154733542594482)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 1.075989*q(113,3) + (577.022414843911)*s(113,3) + (0.0596362440162755)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 1.199945*q(113,4) + (1035.25083272879)*s(113,4) + (0.0649115616678469)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 1.00539*q(115,2) + (751.257728295012)*s(115,2) + (0.0339645004112225)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.7277163*q(115,3) + (577.022414843911)*s(115,3) + (0.0171272564646557)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 1.227379*q(115,4) + (1035.25083272879)*s(115,4) + (0.0448776481077606)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.6961667*q(116,2) + (751.257728295012)*s(116,2) + (0.0210072777984017)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 1.006955*q(116,3) + (577.022414843911)*s(116,3) + (0.0615001989597397)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(116,4)..  - 1.275237*q(116,4) + (1035.25083272879)*s(116,4) + (0.0185026953094845)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 6.337276*q(117,1) + (1038.80591356022)*s(117,1) + (0.0329431528480353)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 4.785882*q(117,2) + (751.257728295012)*s(117,2) + (0.0591934214380994)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 5.317767*q(117,3) + (577.022414843911)*s(117,3) + (0.044164044288095)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 5.323994*q(117,4) + (1035.25083272879)*s(117,4) + (0.0426931488854665)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,1)..  - 5.106981*q(118,1) + (1038.80591356022)*s(118,1) + (0.0129387095023221)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(118,3)..  - 4.22871*q(118,3) + (577.022414843911)*s(118,3) + (0.0453422517852473)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(119,2)..  - 5.020409*q(119,2) + (751.257728295012)*s(119,2) + (0.0147143142263519)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(119,3)..  - 5.4229*q(119,3) + (577.022414843911)*s(119,3) + (0.0201007590723794)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 0.7068815*q(122,1) + (1038.80591356022)*s(122,1) + (0.0352680416595609)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.4657509*q(122,2) + (751.257728295012)*s(122,2) + (0.0386875215087649)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,3)..  - 0.6947773*q(122,3) + (577.022414843911)*s(122,3) + (0.0238885090144974)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 3.846579*q(123,2) + (751.257728295012)*s(123,2) + (0.020894944409759)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 5.689362*q(123,3) + (577.022414843911)*s(123,3) + (0.053761955449022)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 4.743877*q(123,4) + (1035.25083272879)*s(123,4) + (0.00923542501187449)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     defshr  =E=  define the endogenous budget shares

defshr(125,1)..  - 0.797172*q(125,1) + (1038.80591356022)*s(125,1) + (0.0257479626383216)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.6315431*q(125,2) + (751.257728295012)*s(125,2) + (0.053354911560409)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.4959568*q(125,3) + (577.022414843911)*s(125,3) + (0.0142366914212076)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.5250524*q(125,4) + (1035.25083272879)*s(125,4) + (0.0360621471372168)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 2.118369*q(127,2) + (751.257728295012)*s(127,2) + (0.0361600049664572)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 2.471977*q(127,3) + (577.022414843911)*s(127,3) + (0.0629360688241853)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 6.540008*q(140,1) + (1038.80591356022)*s(140,1) + (0.0465291590662679)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 4.081538*q(140,2) + (751.257728295012)*s(140,2) + (0.0320703447325455)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 5.596625*q(140,3) + (577.022414843911)*s(140,3) + (0.0215959753290665)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 4.681899*q(140,4) + (1035.25083272879)*s(140,4) + (0.0625221216656653)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 2.061338*q(141,1) + (1038.80591356022)*s(141,1) + (0.117717874303494)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 1.668552*q(141,2) + (751.257728295012)*s(141,2) + (0.04898506002435)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 1.527629*q(141,3) + (577.022414843911)*s(141,3) + (0.266444656505587)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 1.536814*q(141,4) + (1035.25083272879)*s(141,4) + (0.214600207754154)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(143,2)..  - 2.359274*q(143,2) + (751.257728295012)*s(143,2) + (0.0251202098722252)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 3.8906*q(144,1) + (1038.80591356022)*s(144,1) + (0.047313127000938)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,2)..  - 3.454273*q(144,2) + (751.257728295012)*s(144,2) + (0.0184174782714262)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 2.985422*q(144,4) + (1035.25083272879)*s(144,4) + (0.0324097872566191)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 2.574789*q(146,3) + (577.022414843911)*s(146,3) + (0.0388249881225123)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 3.545033*q(147,1) + (1038.80591356022)*s(147,1) + (0.111522199278389)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 2.928206*q(147,2) + (751.257728295012)*s(147,2) + (0.0821620620936644)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 2.693475*q(147,3) + (577.022414843911)*s(147,3) + (0.0504662220985856)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 2.932077*q(147,4) + (1035.25083272879)*s(147,4) + (0.0146545699514075)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(149,1)..  - 0.8654959*q(149,1) + (1038.80591356022)*s(149,1) + (0.01560631693631)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 431


     defshr  =E=  define the endogenous budget shares

defshr(149,3)..  - 0.7737492*q(149,3) + (577.022414843911)*s(149,3) + (0.0220661548434826)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 1.025473*q(150,1) + (1038.80591356022)*s(150,1) + (0.0231165589562558)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.6504223*q(150,2) + (751.257728295012)*s(150,2) + (0.0169244504932468)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.802025*q(150,3) + (577.022414843911)*s(150,3) + (0.028095599873205)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(150,4)..  - 0.9094661*q(150,4) + (1035.25083272879)*s(150,4) + (0.018606783818665)*povline(4,4) =E= 0 ; (LHS = 0)
     

---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.385*q(100,1) + 0.714*q(105,1) + 2.275*q(107,1) + 3.17*q(108,1) + 3.6*q(110,1) + 3.54*q(113,1) + 1.872*q(117,1) + 1.755*q(118,1) + 0.618*q(122,1) + 0.64*q(125,1) + 0.78*q(140,1) + 4.05*q(141,1) + 2.185*q(144,1) + 3.75*q(147,1) =E= 2042.5 ;
     
      (LHS = 2353.4743087304, INFES = 310.9743087304 ****)
     
cals(2)..  0.385*q(100,2) + 0.714*q(105,2) + 2.275*q(107,2) + 3.17*q(108,2) + 3.6*q(110,2) + 3.54*q(113,2) + 2.1*q(115,2) + 3.105*q(116,2) + 1.872*q(117,2) + 1.755*q(119,2) + 0.618*q(122,2) + 2.103*q(123,2) + 0.64*q(125,2) + 8.57*q(127,2) + 0.78*q(140,2)
     
      + 4.05*q(141,2) + 2.185*q(143,2) + 2.185*q(144,2) + 3.75*q(147,2) =E= 2042.5 ; (LHS = 2249.4586244735, INFES = 206.9586244735 ****)
     
cals(3)..  0.385*q(100,3) + 2.275*q(107,3) + 3.17*q(108,3) + 3.123*q(111,3) + 3.54*q(113,3) + 2.1*q(115,3) + 3.105*q(116,3) + 1.872*q(117,3) + 1.755*q(118,3) + 1.755*q(119,3) + 0.618*q(122,3) + 2.103*q(123,3) + 0.64*q(125,3) + 8.57*q(127,3)
     
      + 0.78*q(140,3) + 4.05*q(141,3) + 5.93*q(146,3) + 3.75*q(147,3) =E= 2042.5 ; (LHS = 2282.7200261591, INFES = 240.2200261591 ****)
     
cals(4)..  0.385*q(100,4) + 0.714*q(105,4) + 2.275*q(107,4) + 3.17*q(108,4) + 0.637*q(109,4) + 3.6*q(110,4) + 3.54*q(113,4) + 2.1*q(115,4) + 3.105*q(116,4) + 1.872*q(117,4) + 2.103*q(123,4) + 0.64*q(125,4) + 0.78*q(140,4) + 4.05*q(141,4) + 2.185*q(144,4)
     
      + 3.75*q(147,4) =E= 2042.5 ; (LHS = 2385.6852960984, INFES = 343.185296098401 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 431


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(100,1)
                (.LO, .L, .UP, .M = 1E-5, 624.99622, +INF, 0)
       -0.2383  deflin(1,1)
       -0.1989  deflin(1,2)
       -0.2434  deflin(1,3)
       -0.1971  deflin(1,4)
       -0.2383  defshr(100,1)
        0.385   cals(1)

q(100,2)
                (.LO, .L, .UP, .M = 1E-5, 413.94479, +INF, 0)
       -0.2383  deflin(2,1)
       -0.1989  deflin(2,2)
       -0.2434  deflin(2,3)
       -0.1971  deflin(2,4)
       -0.1989  defshr(100,2)
        0.385   cals(2)

q(100,3)
                (.LO, .L, .UP, .M = 1E-5, 44.763142, +INF, 0)
       -0.2383  deflin(3,1)
       -0.1989  deflin(3,2)
       -0.2434  deflin(3,3)
       -0.1971  deflin(3,4)
       -0.2434  defshr(100,3)
        0.385   cals(3)

REMAINING 70 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(100,1)
                (.LO, .L, .UP, .M = 0.0001, 0.143394603019755, +INF, 0)
      (-1)      obj
    (1038.8059) defshr(100,1)

s(100,2)
                (.LO, .L, .UP, .M = 0.0001, 0.109582029265163, +INF, 0)
      (-1)      obj
     (751.2577) defshr(100,2)

s(100,3)
                (.LO, .L, .UP, .M = 0.0001, 0.0188858832636848, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 431


     s  derived maximum entropy shares

     (577.0224) defshr(100,3)

REMAINING 70 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 1038.80591356022, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.1434) defshr(100,1)
       (0.0214) defshr(105,1)
       (0.0615) defshr(107,1)
       (0.0432) defshr(108,1)
       (0.0222) defshr(110,1)
       (0.2396) defshr(113,1)
       (0.0329) defshr(117,1)
       (0.0129) defshr(118,1)
       (0.0353) defshr(122,1)
       (0.0257) defshr(125,1)
       (0.0465) defshr(140,1)
       (0.1177) defshr(141,1)
       (0.0473) defshr(144,1)
       (0.1115) defshr(147,1)
       (0.0156) defshr(149,1)
       (0.0231) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 765.074256007217, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 754.013861452124, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 431


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          106
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          163
NON ZERO ELEMENTS           692     NON LINEAR N-Z            219
DERIVATIVE POOL              10     CONSTANT POOL              89
CODE LENGTH                 659


GENERATION TIME      =        0.004 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.005 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  431

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0682

 RESOURCE USAGE, LIMIT          0.051      1000.000
 ITERATION COUNT, LIMIT        99    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 163 variables and 106 constraints
    with 692 Jacobian elements, 219 of which are nonlinear.
    The Hessian of the Lagrangian has 73 elements on the diagonal,
    73 elements below the diagonal, and 77 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.051 seconds
   of which: Function evaluations             0.014 = 27.5%
             1st Derivative evaluations       0.002 =  3.9%
             2nd Derivative evaluations       0.003 =  5.9%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .             0.0002      
1.2          .              .              .             EPS         
1.3          .              .              .            -0.0009      
1.4          .              .              .            -0.0006      
2.1          .              .              .             EPS         
2.2          .              .              .            -0.0014      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .       -1.251767E-5      
3.1          .              .              .       -0.999887E-4      
3.2          .              .              .             EPS         
3.3          .              .              .            -0.0005      
3.4          .              .              .            -0.0009      
4.1          .              .              .            -0.0012      
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .             0.0002      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .            24.1844        +INF             .          
1.3          .              .            +INF      0.9998871E-4      
1.4          .              .            +INF            0.0012      
2.1          .            19.3499        +INF            EPS         
2.3          .             9.2578        +INF            EPS         
2.4          .            30.0204        +INF            EPS         
3.1          .              .            +INF            0.0009      
3.2          .             0.2749        +INF            EPS         
3.4          .            29.4207        +INF             .          
4.1          .              .            +INF            0.0006      
4.2          .              .            +INF      1.2517669E-5      
4.3          .              .            +INF            0.0009      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1          .              .              .             0.0013      
100.2          .              .              .             0.0014      
100.3          .              .              .             0.0012      
100.4          .              .              .             0.0013      
105.1          .              .              .             0.0013      
105.2          .              .              .             0.0014      
105.4          .              .              .             0.0007      
107.1          .              .              .             0.0009      
107.2          .              .              .             0.0013      
107.3          .              .              .             0.0001      
107.4          .              .              .             0.0023      
108.1          .              .              .             0.0010      
108.2          .              .              .             0.0014      
108.3          .              .              .             0.0012      
108.4          .              .              .             0.0018      
109.4          .              .              .             0.0004      
110.1          .              .              .             0.0010      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

110.2          .              .              .             0.0014      
110.4          .              .              .             0.0014      
111.3          .              .              .             0.0012      
113.1          .              .              .             0.0009      
113.2          .              .              .             0.0014      
113.3          .              .              .             0.0015      
113.4          .              .              .             0.0016      
115.2          .              .              .             0.0014      
115.3          .              .              .             0.0021      
115.4          .              .              .             0.0015      
116.2          .              .              .             0.0014      
116.3          .              .              .             0.0016      
116.4          .              .              .             0.0010      
117.1          .              .              .             0.0011      
117.2          .              .              .             0.0015      
117.3          .              .              .             0.0015      
117.4          .              .              .             0.0012      
118.1          .              .              .             0.0013      
118.3          .              .              .             0.0018      
119.2          .              .              .             0.0015      
119.3          .              .              .             0.0016      
122.1          .              .              .             0.0013      
122.2          .              .              .             0.0015      
122.3          .              .              .             0.0013      
123.2          .              .              .             0.0015      
123.3          .              .              .             0.0013      
123.4          .              .              .             0.0010      
125.1          .              .              .             0.0008      
125.2          .              .              .             0.0014      
125.3          .              .              .             0.0016      
125.4          .              .              .             0.0016      
127.2          .              .              .             0.0014      
127.3          .              .              .             0.0011      
140.1          .              .              .             0.0011      
140.2          .              .              .             0.0015      
140.3          .              .              .             0.0014      
140.4          .              .              .             0.0014      
141.1          .              .              .             0.0010      
141.2          .              .              .             0.0014      
141.3          .              .              .             0.0014      
141.4          .              .              .             0.0015      
143.2          .              .              .             0.0015      
144.1          .              .              .             0.0008      
144.2          .              .              .             0.0014      
144.4          .              .              .             0.0013      
146.3          .              .              .             0.0008      
147.1          .              .              .             0.0011      
147.2          .              .              .             0.0014      
147.3          .              .              .             0.0016      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

147.4          .              .              .             0.0012      
149.1          .              .              .             0.0013      
149.3          .              .              .             0.0016      
150.1          .              .              .             0.0011      
150.2          .              .              .             0.0015      
150.3          .              .              .             0.0017      
150.4          .              .              .             0.0011      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   2.7728583E-5      
2      2042.5000      2042.5000      2042.5000   -4.589393E-6      
3      2042.5000      2042.5000      2042.5000   -5.986793E-5      
4      2042.5000      2042.5000      2042.5000   3.6728740E-5      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0682        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

100.1   1.0000000E-5       752.2937        +INF             .          
100.2   1.0000000E-5       383.2913        +INF            EPS         
100.3   1.0000000E-5        50.1977        +INF             .          
100.4   1.0000000E-5       758.6794        +INF             .          
105.1   1.0000000E-5       133.9484        +INF      -1.02798E-11      
105.2   1.0000000E-5        68.8496        +INF            EPS         
105.4   1.0000000E-5       167.7223        +INF             .          
107.1   1.0000000E-5       304.9217        +INF             .          
107.2   1.0000000E-5       183.0560        +INF             .          
107.3   1.0000000E-5       235.6821        +INF             .          
107.4   1.0000000E-5       231.8853        +INF             .          
108.1   1.0000000E-5        40.7748        +INF            EPS         
108.2   1.0000000E-5       174.2303        +INF            EPS         
108.3   1.0000000E-5        76.3680        +INF            EPS         
108.4   1.0000000E-5        80.0971        +INF             .          
109.4   1.0000000E-5        18.2913        +INF             .          
110.1   1.0000000E-5         7.5844        +INF             .          
110.2   1.0000000E-5        10.6234        +INF             .          
110.4   1.0000000E-5         4.5693        +INF            EPS         
111.3   1.0000000E-5        16.0142        +INF             .          
113.1   1.0000000E-5       108.5284        +INF            EPS         
113.2   1.0000000E-5        95.2572        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

113.3   1.0000000E-5        42.9400        +INF             .          
113.4   1.0000000E-5        49.8434        +INF            EPS         
115.2   1.0000000E-5        23.5354        +INF             .          
115.3   1.0000000E-5        28.7409        +INF            EPS         
115.4   1.0000000E-5        30.6198        +INF            EPS         
116.2   1.0000000E-5        20.9755        +INF             .          
116.3   1.0000000E-5        51.3325        +INF             .          
116.4   1.0000000E-5         8.4914        +INF             .          
117.1   1.0000000E-5         5.3715        +INF            EPS         
117.2   1.0000000E-5         8.6553        +INF            EPS         
117.3   1.0000000E-5         6.5476        +INF            EPS         
117.4   1.0000000E-5         5.3861        +INF            EPS         
118.1   1.0000000E-5         2.9533        +INF             .          
118.3   1.0000000E-5        10.0968        +INF             .          
119.2   1.0000000E-5         2.0516        +INF             .          
119.3   1.0000000E-5         3.0452        +INF             .          
122.1   1.0000000E-5        58.3886        +INF             .          
122.2   1.0000000E-5        58.0124        +INF            EPS         
122.3   1.0000000E-5        23.1749        +INF             .          
123.2   1.0000000E-5         3.8034        +INF             .          
123.3   1.0000000E-5         6.4866        +INF             .          
123.4   1.0000000E-5         1.1253        +INF             .          
125.1   1.0000000E-5        24.8779        +INF             .          
125.2   1.0000000E-5        58.8600        +INF             .          
125.3   1.0000000E-5        23.2806        +INF             .          
125.4   1.0000000E-5        63.0471        +INF            EPS         
127.2   1.0000000E-5        11.7918        +INF            EPS         
127.3   1.0000000E-5        15.2886        +INF            EPS         
140.1   1.0000000E-5         6.8777        +INF            EPS         
140.2   1.0000000E-5         5.5037        +INF             .          
140.3   1.0000000E-5         2.7427        +INF             .          
140.4   1.0000000E-5        10.7022        +INF             .          
141.1   1.0000000E-5        53.2670        +INF             .          
141.2   1.0000000E-5        20.3777        +INF             .          
141.3   1.0000000E-5       126.3806        +INF             .          
141.4   1.0000000E-5       114.0587        +INF            EPS         
143.2   1.0000000E-5         7.4685        +INF             .          
144.1   1.0000000E-5         8.9418        +INF             .          
144.2   1.0000000E-5         3.7203        +INF             .          
144.4   1.0000000E-5         8.1376        +INF             .          
146.3   1.0000000E-5         7.2963        +INF             .          
147.1   1.0000000E-5        30.6406        +INF             .          
147.2   1.0000000E-5        19.5609        +INF             .          
147.3   1.0000000E-5        15.1179        +INF             .          
147.4   1.0000000E-5         3.5009        +INF            EPS         
149.1   1.0000000E-5        21.3735        +INF             .          
149.3   1.0000000E-5        24.4837        +INF             .          
150.1   1.0000000E-5        22.6029        +INF             .          
150.2   1.0000000E-5        18.2771        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

150.3   1.0000000E-5        30.8616        +INF             .          
150.4   1.0000000E-5        12.8782        +INF            EPS         

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

100.1         0.0001         0.1877        +INF             .          
100.2         0.0001         0.1099        +INF             .          
100.3         0.0001         0.0170        +INF      -9.088051E-9      
100.4         0.0001         0.1997        +INF      -2.651695E-9      
105.1         0.0001         0.0262        +INF             .          
105.2         0.0001         0.0222        +INF             .          
105.4         0.0001         0.0588        +INF      8.7356132E-9      
107.1         0.0001         0.0523        +INF             .          
107.2         0.0001         0.0220        +INF             .          
107.3         0.0001         0.0153        +INF             .          
107.4         0.0001         0.0344        +INF             .          
108.1         0.0001         0.0415        +INF             .          
108.2         0.0001         0.1575        +INF             .          
108.3         0.0001         0.0779        +INF             .          
108.4         0.0001         0.0674        +INF      8.3613991E-9      
109.4         0.0001         0.0305        +INF             .          
110.1         0.0001         0.0211        +INF      -6.322201E-9      
110.2         0.0001         0.0295        +INF      -4.850753E-9      
110.4         0.0001         0.0123        +INF             .          
111.3         0.0001         0.0183        +INF      -1.444554E-8      
113.1         0.0001         0.2001        +INF             .          
113.2         0.0001         0.1546        +INF             .          
113.3         0.0001         0.0642        +INF             .          
113.4         0.0001         0.0799        +INF             .          
115.2         0.0001         0.0341        +INF      1.2905087E-8      
115.3         0.0001         0.0291        +INF             .          
115.4         0.0001         0.0502        +INF             .          
116.2         0.0001         0.0210        +INF             .          
116.3         0.0001         0.0719        +INF      -3.017027E-9      
116.4         0.0001         0.0145        +INF             .          
117.1         0.0001         0.0356        +INF             .          
117.2         0.0001         0.0597        +INF             .          
117.3         0.0001         0.0484        +INF             .          
117.4         0.0001         0.0383        +INF             .          
118.1         0.0001         0.0158        +INF      -2.339955E-8      
118.3         0.0001         0.0594        +INF             .          
119.2         0.0001         0.0148        +INF      4.7323456E-9      
119.3         0.0001         0.0230        +INF      -1.695028E-8      
122.1         0.0001         0.0432        +INF      -1.490877E-9      
122.2         0.0001         0.0389        +INF             .          
122.3         0.0001         0.0224        +INF      -1.444581E-8      
123.2         0.0001         0.0211        +INF      -3.901898E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

123.3         0.0001         0.0513        +INF      -4.061725E-9      
123.4         0.0001         0.0071        +INF      -5.853128E-8      
125.1         0.0001         0.0208        +INF      -1.208718E-8      
125.2         0.0001         0.0536        +INF      8.3820120E-9      
125.3         0.0001         0.0161        +INF      -1.970338E-8      
125.4         0.0001         0.0442        +INF             .          
127.2         0.0001         0.0360        +INF             .          
127.3         0.0001         0.0526        +INF             .          
140.1         0.0001         0.0471        +INF             .          
140.2         0.0001         0.0324        +INF             .          
140.3         0.0001         0.0213        +INF      -1.056381E-8      
140.4         0.0001         0.0669        +INF            EPS         
141.1         0.0001         0.1149        +INF      -1.096537E-8      
141.2         0.0001         0.0490        +INF      3.6116270E-9      
141.3         0.0001         0.2684        +INF      -1.126170E-8      
141.4         0.0001         0.2341        +INF             .          
143.2         0.0001         0.0254        +INF             .          
144.1         0.0001         0.0364        +INF             .          
144.2         0.0001         0.0185        +INF      4.7181388E-9      
144.4         0.0001         0.0324        +INF      -2.494389E-8      
146.3         0.0001         0.0261        +INF             .          
147.1         0.0001         0.1137        +INF      -1.711092E-8      
147.2         0.0001         0.0825        +INF      5.5765139E-9      
147.3         0.0001         0.0566        +INF      -7.712971E-9      
147.4         0.0001         0.0137        +INF             .          
149.1         0.0001         0.0194        +INF      -1.920853E-8      
149.3         0.0001         0.0263        +INF      -7.364635E-9      
150.1         0.0001         0.0243        +INF      -1.190049E-8      
150.2         0.0001         0.0171        +INF      -1.544335E-9      
150.3         0.0001         0.0344        +INF      -8.415188E-9      
150.4         0.0001         0.0156        +INF             .          

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          955.4920        +INF             .          
1.2        -INF          713.2225        +INF             .          
1.3        -INF          719.1796        +INF             .          
1.4        -INF          748.8486        +INF             .          
2.1        -INF          979.6764        +INF             .          
2.2        -INF          693.8726        +INF             .          
2.3        -INF          719.4545        +INF             .          
2.4        -INF          748.8486        +INF             .          
3.1        -INF          955.4920        +INF             .          
3.2        -INF          703.1304        +INF             .          
3.3        -INF          719.1796        +INF             .          
3.4        -INF          748.8486        +INF             .          
4.1        -INF          955.4920        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 431


     VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

4.2        -INF          723.8930        +INF             .          
4.3        -INF          748.6003        +INF             .          
4.4        -INF          748.8486        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        06/11/14 16:37:26 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    434 this is without adjustment for calorie target or 90%

----    434 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     955.492     713.222     719.180     748.849
2     979.676     693.873     719.455     748.849
3     955.492     703.130     719.180     748.849
4     955.492     723.893     748.600     748.849


----    459 PARAMETER perc_chng  percent change in line

1   5.984,    2   1.720,    3  39.295,    4 -15.511


----    459 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 1223.297,    2  849.089,    3  893.070,    4  971.857


----    459 PARAMETER povline_ali  food poverty line

1 1154.229,    2  834.731,    3  641.136,    4 1150.279


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/work/povline_food_ent.csv


EXECUTION TIME       =        0.005 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/UNPS_2010_11/new/list.lst
