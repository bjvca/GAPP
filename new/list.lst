GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/product_flex.inc
  20  102
  21  103
  22  104
  23  105
  24  106
  25  107
  26  108
  27  109
  28  110
  29  111
  30  112
  31  113
  32  114
  33  115
  34  116
  35  117
  36  118
  37  119
  38  121
  39  122
  40  123
  41  125
  42  127
  43  131
  44  132
  45  134
  46  135
  47  136
  48  137
  49  138
  50  139
  51  140
  52  141
  53  144
  54  145
  55  146
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  147
  57  150
  58  154
  59  /
  60   
  61   reg        4 spatial domains /1*4/
  62   r(reg)     all included spatial regions /1*4/
  63   
  64   ptit       price table titles
  65  /
  66    count      number of observations making up the price average
  67    price_uw5  average price
  68  /
  69   
  70   qtit       quantity table titles
  71  /
  72    calperg          calories per gram
  73    quan5            quantities in grams
  74    calpp            calories per person by region
  75    povline_a_flex5    value of flexible food bundle
  76  /
  77   
  78   
  79    posquan(cod,reg)  mark positive quantities in each region
  80    posprice(cod,reg) mark the existence of acceptable price info in each region
  81    chkprice(cod,reg) ensure that prices exist once all estimated
  82  ;
  83   
  84  alias(reg,regq);
  85  alias(r,rq);
  86   
  87  SCALAR
  88     caltarg single level of calories to target across regions / 2150 /
  89   ;
  90   
  91  PARAMETERS
  92   
  93    shr(cod,reg)         shares in each basket by region
  94    chkshr(reg)          check that the calculated shares sum to .9
  95    shrmiss(regq,reg)    shares missing in each region pair
  96    povline_ali(reg)       food poverty line
  97    perc_chng(reg)       percent change in line
  98    finmiss(reg)         final missing shares post optimization procedure
  99   ;
 100   
 101  Table  price(cod,reg,ptit)  price and related information
 102                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/price_unit_flex.inc
 104  102     .       1       19      7.309246
 105  102     .       2       4       4.339776
 106  102     .       3       2       7.412128
 107  102     .       4       36      5.299717
 108  103     .       1       78      4.257269
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  103     .       2       26      3.431514
 110  103     .       3       3       3.575145
 111  103     .       4       227     3.39369
 112  104     .       1       168     1.552541
 113  104     .       2       16      1.23719
 114  104     .       3       7       2.209527
 115  104     .       4       432     1.487157
 116  105     .       1       295     1.395422
 117  105     .       2       200     1.133083
 118  105     .       3       113     .5524721
 119  105     .       4       512     1.327545
 120  106     .       1       4       1.782924
 121  106     .       2       19      1.917144
 122  106     .       3       6       .4704254
 123  106     .       4       17      1.163878
 124  107     .       1       257     1.082302
 125  107     .       2       177     .6232706
 126  107     .       3       154     .5778003
 127  107     .       4       511     .7191263
 128  108     .       1       65      .8309024
 129  108     .       2       248     .7919747
 130  108     .       3       118     .6046152
 131  108     .       4       298     .318514
 132  109     .       1       32      1.065982
 133  109     .       2       9       .3023046
 134  109     .       3       2       1.075913
 135  109     .       4       202     1.632668
 136  110     .       1       56      1.997956
 137  110     .       2       69      .9983948
 138  110     .       3       30      .7235945
 139  110     .       4       103     1.253973
 140  111     .       1       14      .2453515
 141  111     .       2       15      .1741527
 142  111     .       3       158     .6519603
 143  111     .       4       33      .2265895
 144  112     .       1       106     .1504636
 145  112     .       2       106     .1137796
 146  112     .       3       33      .238933
 147  112     .       4       157     .1168816
 148  113     .       1       310     1.04345
 149  113     .       2       209     .6679503
 150  113     .       3       262     .4821043
 151  113     .       4       458     .5945208
 152  114     .       1       56      .4243207
 153  114     .       2       58      .1572752
 154  114     .       3       38      .0984414
 155  114     .       4       116     .2275748
 156  115     .       1       22      .9055653
 157  115     .       2       82      .5659703
 158  115     .       3       30      .3890418
 159  115     .       4       218     .5475957
 160  116     .       1       6       .8059393
 161  116     .       2       113     .3119261
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  116     .       3       365     .3365889
 163  116     .       4       48      .4042243
 164  117     .       1       81      3.734283
 165  117     .       2       108     2.601174
 166  117     .       3       117     2.789694
 167  117     .       4       242     2.667556
 168  118     .       1       34      3.089235
 169  118     .       2       24      2.044174
 170  118     .       3       11      2.829708
 171  118     .       4       93      2.575729
 172  119     .       1       5       3.650977
 173  119     .       2       29      2.435558
 174  119     .       3       32      3.234999
 175  119     .       4       82      3.190729
 176  121     .       1       17      5.168846
 177  121     .       2       40      3.18531
 178  121     .       3       29      4.771276
 179  121     .       4       45      4.245824
 180  122     .       1       56      1.144253
 181  122     .       2       103     .9294304
 182  122     .       3       18      1.313654
 183  122     .       4       88      1.185222
 184  123     .       1       131     .6184897
 185  123     .       2       184     .5163727
 186  123     .       3       138     .4751926
 187  123     .       4       109     .8340826
 188  125     .       1       145     .3504188
 189  125     .       2       126     .1995326
 190  125     .       3       125     .1790961
 191  125     .       4       269     .2350909
 192  127     .       1       263     .1299295
 193  127     .       2       253     .0779858
 194  127     .       3       406     .221219
 195  127     .       4       219     .2224878
 196  131     .       1       85      .4427721
 197  131     .       2       19      .3576751
 198  131     .       3       13      .9803614
 199  131     .       4       243     .3165332
 200  132     .       1       79      .2230957
 201  132     .       2       138     .1485914
 202  132     .       3       65      .1520879
 203  132     .       4       119     .1609309
 204  134     .       1       120     .5435146
 205  134     .       2       93      .457413
 206  134     .       3       33      .1859234
 207  134     .       4       194     .1486499
 208  135     .       1       320     .2057541
 209  135     .       2       295     .0980572
 210  135     .       3       345     .1198929
 211  135     .       4       628     .192281
 212  136     .       1       373     .1480067
 213  136     .       2       311     .1050218
 214  136     .       3       192     .1809812
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  136     .       4       637     .1749316
 216  137     .       1       78      .3136126
 217  137     .       2       106     .313624
 218  137     .       3       90      .5892518
 219  137     .       4       196     .2819623
 220  138     .       1       187     .1861728
 221  138     .       2       225     .1100462
 222  138     .       3       195     .1104067
 223  138     .       4       570     .1043491
 224  139     .       1       122     .2100331
 225  139     .       2       202     .1218108
 226  139     .       3       543     .1268796
 227  139     .       4       134     .1245534
 228  140     .       1       87      .7341846
 229  140     .       2       83      .4817191
 230  140     .       3       41      .3103878
 231  140     .       4       283     .4571334
 232  141     .       1       262     1.008914
 233  141     .       2       172     .6931382
 234  141     .       3       458     .4718995
 235  141     .       4       664     .5393313
 236  144     .       1       182     1.123015
 237  144     .       2       84      .3387405
 238  144     .       3       2       .3261198
 239  144     .       4       267     .7739921
 240  145     .       1       5       1.809669
 241  145     .       2       33      .6292763
 242  145     .       3       55      .4289824
 243  145     .       4       31      .7193662
 244  146     .       2       16      .6008917
 245  146     .       3       126     .5331569
 246  146     .       4       8       .3532408
 247  147     .       1       306     1.988505
 248  147     .       2       304     1.354511
 249  147     .       3       144     .8500915
 250  147     .       4       418     1.417051
 251  150     .       1       434     .4016224
 252  150     .       2       420     .2229717
 253  150     .       3       668     .3125016
 254  150     .       4       882     .3350495
 255  154     .       1       6       .1435585
 256  154     .       2       4       .3424061
 257  154     .       3       132     .4733059
 258  154     .       4       48      .2844234
 259  ;
 260   
 261  Table   quan(cod,reg,qtit)   quantity and related information
 262                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/quan_flex.inc
 264  102     .       1       6.8900000e-01   1.3510383e+00   2.2565869e+03   716.8472
 265  103     .       1       6.8900000e-01   6.4545255e+00   2.2565869e+03   716.8472
 266  104     .       1       6.8900000e-01   2.8528957e+01   2.2565869e+03   716.8472
 267  105     .       1       1.0164000e+00   6.7467567e+01   2.2565869e+03   716.8472
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  107     .       1       1.3440000e+00   5.1260166e+01   2.2565869e+03   716.8472
 269  108     .       1       3.1400000e+00   2.1470318e+01   2.2565869e+03   716.8472
 270  110     .       1       3.6100000e+00   5.4515529e+00   2.2565869e+03   716.8472
 271  112     .       1       9.4600000e-01   1.1248901e+02   2.2565869e+03   716.8472
 272  113     .       1       3.6500000e+00   8.9836784e+01   2.2565869e+03   716.8472
 273  114     .       1       2.6600000e+00   2.7646683e+01   2.2565869e+03   716.8472
 274  117     .       1       1.7982000e+00   4.5903091e+00   2.2565869e+03   716.8472
 275  122     .       1       6.1610000e-01   7.3327570e+00   2.2565869e+03   716.8472
 276  123     .       1       3.7500000e+00   2.0904207e+01   2.2565869e+03   716.8472
 277  125     .       1       6.0000000e-01   5.2575661e+01   2.2565869e+03   716.8472
 278  127     .       1       8.8400000e+00   9.5718773e+01   2.2565869e+03   716.8472
 279  132     .       1       4.3310000e-01   4.0443386e+01   2.2565869e+03   716.8472
 280  134     .       1       4.9400000e-01   2.2887676e+01   2.2565869e+03   716.8472
 281  135     .       1       3.6400000e-01   3.3544338e+01   2.2565869e+03   716.8472
 282  136     .       1       1.6380000e-01   1.0006040e+02   2.2565869e+03   716.8472
 283  138     .       1       2.0160000e-01   8.0146652e+01   2.2565869e+03   716.8472
 284  139     .       1       2.6100000e-01   3.3417000e+01   2.2565869e+03   716.8472
 285  140     .       1       1.0300000e+00   2.3951990e+01   2.2565869e+03   716.8472
 286  141     .       1       3.1300000e+00   4.8501572e+01   2.2565869e+03   716.8472
 287  144     .       1       5.8800000e+00   1.3847234e+01   2.2565869e+03   716.8472
 288  147     .       1       3.8700000e+00   1.9956867e+01   2.2565869e+03   716.8472
 289  150     .       1       0.0000000e+00   1.6368645e+01   2.2565869e+03   716.8472
 290  103     .       2       6.8900000e-01   1.1909831e+00   2.1924021e+03   396.6254
 291  105     .       2       1.0164000e+00   3.1347450e+01   2.1924021e+03   396.6254
 292  106     .       2       3.4300000e+00   2.0813453e+00   2.1924021e+03   396.6254
 293  107     .       2       1.3440000e+00   2.7562273e+01   2.1924021e+03   396.6254
 294  108     .       2       3.1400000e+00   8.7095459e+01   2.1924021e+03   396.6254
 295  110     .       2       3.6100000e+00   6.0208240e+00   2.1924021e+03   396.6254
 296  112     .       2       9.4600000e-01   6.4608658e+01   2.1924021e+03   396.6254
 297  113     .       2       3.6500000e+00   6.2877048e+01   2.1924021e+03   396.6254
 298  115     .       2       3.7800000e+00   1.9221968e+01   2.1924021e+03   396.6254
 299  116     .       2       3.3900000e+00   4.4006393e+01   2.1924021e+03   396.6254
 300  117     .       2       1.7982000e+00   4.8619852e+00   2.1924021e+03   396.6254
 301  121     .       2       1.4835000e+00   1.8919559e+00   2.1924021e+03   396.6254
 302  122     .       2       6.1610000e-01   1.1715500e+01   2.1924021e+03   396.6254
 303  123     .       2       3.7500000e+00   2.4363062e+01   2.1924021e+03   396.6254
 304  125     .       2       6.0000000e-01   3.2608299e+01   2.1924021e+03   396.6254
 305  127     .       2       8.8400000e+00   9.5200562e+01   2.1924021e+03   396.6254
 306  132     .       2       4.3310000e-01   6.3099392e+01   2.1924021e+03   396.6254
 307  134     .       2       4.9400000e-01   8.9088278e+00   2.1924021e+03   396.6254
 308  136     .       2       1.6380000e-01   6.3523804e+01   2.1924021e+03   396.6254
 309  137     .       2       2.6400000e-01   1.1110449e+01   2.1924021e+03   396.6254
 310  138     .       2       2.0160000e-01   8.8717293e+01   2.1924021e+03   396.6254
 311  139     .       2       2.6100000e-01   8.2981377e+01   2.1924021e+03   396.6254
 312  140     .       2       1.0300000e+00   1.6820925e+01   2.1924021e+03   396.6254
 313  141     .       2       3.1300000e+00   2.2161905e+01   2.1924021e+03   396.6254
 314  147     .       2       3.8700000e+00   1.4385069e+01   2.1924021e+03   396.6254
 315  150     .       2       0.0000000e+00   2.1273281e+01   2.1924021e+03   396.6254
 316  105     .       3       1.0164000e+00   2.8897785e+01   2.1999929e+03   346.0399
 317  107     .       3       1.3440000e+00   3.6260937e+01   2.1999929e+03   346.0399
 318  108     .       3       3.1400000e+00   4.2026619e+01   2.1999929e+03   346.0399
 319  111     .       3       3.6500000e+00   1.9535154e+01   2.1999929e+03   346.0399
 320  113     .       3       3.6500000e+00   5.2004868e+01   2.1999929e+03   346.0399
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  115     .       3       3.7800000e+00   6.6650848e+00   2.1999929e+03   346.0399
 322  116     .       3       3.3900000e+00   1.5394203e+02   2.1999929e+03   346.0399
 323  117     .       3       1.7982000e+00   2.0329788e+00   2.1999929e+03   346.0399
 324  121     .       3       1.4835000e+00   7.5725049e-01   2.1999929e+03   346.0399
 325  123     .       3       3.7500000e+00   1.6107546e+01   2.1999929e+03   346.0399
 326  125     .       3       6.0000000e-01   3.6221333e+01   2.1999929e+03   346.0399
 327  127     .       3       8.8400000e+00   5.3591328e+01   2.1999929e+03   346.0399
 328  132     .       3       4.3310000e-01   2.3063633e+01   2.1999929e+03   346.0399
 329  135     .       3       3.6400000e-01   2.9253246e+01   2.1999929e+03   346.0399
 330  136     .       3       1.6380000e-01   2.3189194e+01   2.1999929e+03   346.0399
 331  138     .       3       2.0160000e-01   5.3910732e+01   2.1999929e+03   346.0399
 332  139     .       3       2.6100000e-01   2.3114047e+02   2.1999929e+03   346.0399
 333  140     .       3       1.0300000e+00   1.4038204e+01   2.1999929e+03   346.0399
 334  141     .       3       3.1300000e+00   8.3571548e+01   2.1999929e+03   346.0399
 335  145     .       3       8.1000000e-01   8.7470732e+00   2.1999929e+03   346.0399
 336  146     .       3       5.7300000e+00   1.6067245e+01   2.1999929e+03   346.0399
 337  147     .       3       3.8700000e+00   7.5654526e+00   2.1999929e+03   346.0399
 338  150     .       3       0.0000000e+00   1.9706547e+01   2.1999929e+03   346.0399
 339  154     .       3       8.1000000e-01   1.3560146e+01   2.1999929e+03   346.0399
 340  102     .       4       6.8900000e-01   1.8703772e+00   2.2343252e+03   859.3361
 341  103     .       4       6.8900000e-01   1.9087223e+01   2.2343252e+03   859.3361
 342  104     .       4       6.8900000e-01   6.2270313e+01   2.2343252e+03   859.3361
 343  105     .       4       1.0164000e+00   5.8645943e+01   2.2343252e+03   859.3361
 344  107     .       4       1.3440000e+00   7.6149071e+01   2.2343252e+03   859.3361
 345  108     .       4       3.1400000e+00   1.0343750e+02   2.2343252e+03   859.3361
 346  109     .       4       6.4680000e-01   1.8213964e+01   2.2343252e+03   859.3361
 347  110     .       4       3.6100000e+00   6.0552282e+00   2.2343252e+03   859.3361
 348  112     .       4       9.4600000e-01   1.0388213e+02   2.2343252e+03   859.3361
 349  113     .       4       3.6500000e+00   9.3904678e+01   2.2343252e+03   859.3361
 350  115     .       4       3.7800000e+00   4.2950455e+01   2.2343252e+03   859.3361
 351  117     .       4       1.7982000e+00   1.1128671e+01   2.2343252e+03   859.3361
 352  118     .       4       2.3534000e+00   3.9859512e+00   2.2343252e+03   859.3361
 353  119     .       4       1.2210000e+00   3.2758658e+00   2.2343252e+03   859.3361
 354  121     .       4       1.4835000e+00   1.8063889e+00   2.2343252e+03   859.3361
 355  122     .       4       6.1610000e-01   9.1474791e+00   2.2343252e+03   859.3361
 356  123     .       4       3.7500000e+00   9.6159887e+00   2.2343252e+03   859.3361
 357  125     .       4       6.0000000e-01   8.7798645e+01   2.2343252e+03   859.3361
 358  131     .       4       6.2080000e-01   2.5255384e+01   2.2343252e+03   859.3361
 359  134     .       4       4.9400000e-01   4.8190948e+01   2.2343252e+03   859.3361
 360  135     .       4       3.6400000e-01   3.8611115e+01   2.2343252e+03   859.3361
 361  136     .       4       1.6380000e-01   8.3285706e+01   2.2343252e+03   859.3361
 362  138     .       4       2.0160000e-01   1.2964221e+02   2.2343252e+03   859.3361
 363  140     .       4       1.0300000e+00   8.2374451e+01   2.2343252e+03   859.3361
 364  141     .       4       3.1300000e+00   1.4916742e+02   2.2343252e+03   859.3361
 365  144     .       4       5.8800000e+00   1.8858702e+01   2.2343252e+03   859.3361
 366  147     .       4       3.8700000e+00   1.4239975e+01   2.2343252e+03   859.3361
 367  150     .       4       0.0000000e+00   3.1596529e+01   2.2343252e+03   859.3361
 368  ;
 369   
 370    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 371                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 372                         quan(cod,reg,'povline_a_flex5');
 373   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374    chkshr(reg)=sum(cod,shr(cod,reg));
 375   
 376  loop(reg,
 377    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 378  );
 379   
 380   
 381  *turn on dynamic sets to indicate positive quantities and existence of
 382  *price info for each region
 383   
 384   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 385                        AND price(cod,reg,'count') gt 4) = yes;
 386   
 387   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 388   
 389   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 390   display shrmiss;
 391   
 392    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 393                                             quan(cod,reg,'quan5'))/.9;
 394   
 395    display povline_ali;
 396   
 397   
 398  *boost values so shares sum to one;
 399  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 400   
 401  *fill out price matrix with maximum observed price outside of Maputo
 402   
 403  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 404           loop(r,
 405                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 406                                                price(cod,r,'price_uw5'));
 407           );
 408  );
 409   
 410  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 411   
 412  display 'should be an empty set', chkprice;
 413   
 414   
 415   
 416   
 417  Variables
 418     z                objective value
 419     q(cod,reg)       revised maximum entropy quanties in grams
 420     s(cod,reg)       derived maximum entropy shares
 421     povline(regq,reg)  estimated revealed preference matrix
 422  ;
 423   
 424   
 425  Equations
 426     obj              objective equation
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/23/13 16:46:14 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427     rev(regq,reg)    revealed preference tests
 428     deflin(regq,reg) define revealed preference matrix
 429     defshr(cod,regq) define the endogenous budget shares
 430     cals(regq)       ensure that each bundle hits the calorie
 431   
 432  ;
 433   
 434     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 435                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 436   
 437     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 438                            q(cod,rq)*price(cod,r,'price_uw5'));
 439   
 440     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 441   
 442     defshr(cod,rq)$posquan(cod,rq) ..
 443               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 444   
 445     cals(rq) .. sum(cod$posquan(cod,rq),
 446                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 447   
 448  *set bounds and starting values for variables
 449   
 450    q.lo(cod,reg)=.00001;
 451    q.up(cod,reg)=inf;
 452    q.l(cod,reg)=quan(cod,reg,'quan5');
 453    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 454   
 455    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 456                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 457   
 458   
 459    display povline.l;
 460   
 461  *print the revealed preference matrix prior to optimisation;
 462  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/work/povline_rp_inout.csv" /;
 463  put povline_rp;
 464  povline_rp.pc=5;
 465  povline_rp.nd=0;
 466  put " ";
 467  loop(reg,
 468        put reg.tl;
 469  );
 470  put /;
 471  loop(regq,
 472       put regq.tl;
 473       loop(reg,
 474           put povline.l(regq,reg);
 475       );
 476       put /;
 477  );
 478  put /; put /; put /;
 479   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 481     s.lo(cod,regq)=.0001;
 482     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 483   
 484   
 485     model revpref /obj, deflin, rev, defshr, cals/;
 486   
 487     revpref.holdfixed=1;
 488   
 489     option limrow=100;
 490   
 491     option nlp=conopt;
 492   
 493     solve revpref using nlp minimizing z;
 494   
 495     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 496     display "this is without adjustment for calorie target or 90%", povline.l;
 497   
 498  put /;
 499  loop(rq,
 500       put rq.tl;
 501       loop(r,
 502           put povline.l(rq,r);
 503       );
 504       put /;
 505  );
 506  put /;
 507   
 508   
 509  PARAMETERS
 510     qent(cod,reg)  entropy quantities with all adjustments accounted for
 511     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 512    ;
 513  *readjust quantities to hit regional calorie target and calculate line;
 514     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 515   
 516     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 517                                             qent(cod,r))/.9;
 518   
 519     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 520   
 521     display perc_chng, povline_ent, povline_ali;
 522   
 523     file res/"/home/bjvca/data/data/GAP/Haruna/work/qent.csv" /;
 524   
 525     put res;
 526     res.pc=5;
 527     res.nd=6;
 528   
 529  *recall that the basket reflects 90% of expenditure and 95% of calories";
 530     put "spdomain" ;
 531     put "product" ;
 532     put "quan5";
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533     put "qent";
 534     put "price";
 535     put "calperg";
 536   
 537     put /;
 538   
 539     loop(reg,
 540         loop(cod,
 541             put reg.tl;
 542             put cod.tl;
 543             put quan(cod,reg,'quan5');
 544             put qent(cod,reg);
 545             put price(cod,reg,'price_uw5')
 546             put quan(cod,reg,'calperg');
 547             put /;
 548         );
 549     );
 550   
 551     file lin/ "/home/bjvca/data/data/GAP/Haruna/work/povline_food_ent.csv" /;
 552   
 553     put lin;
 554     lin.pc=5;
 555  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 556   
 557     put "spdomain";
 558     put "flex";
 559     put "ent";
 560     put /;
 561   
 562     loop(reg,
 563           put reg.tl;
 564           put povline_ali(reg);
 565           put povline_ent(reg);
 566           put /;
 567     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/work/product_flex.inc
     3      103 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/work/price_unit_flex.inc
     4      263 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/work/quan_flex.inc


COMPILATION TIME     =        0.004 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    390 PARAMETER shrmiss  shares missing in each region pair

            1           2           3

1                   0.014       0.074
2       0.010                   0.010
3       0.025       0.019
4                   0.012       0.139


----    395 PARAMETER povline_ali  food poverty line

1 716.847,    2 396.625,    3 346.040,    4 859.336


----    412 should be an empty set

----    412 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    459 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     645.162     442.504     418.360     484.452
2     512.769     356.963     324.171     352.966
3     553.313     347.934     311.436     354.005
4    1103.121     772.378     755.086     773.402

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


---- obj  =E=  objective equation

obj..  z - (0.999999999999999)*s(102,1) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,2) - (1)*s(103,4) - (1)*s(104,1) - (1)*s(104,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (0.999999999999999)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2)
     
      - (1)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2)
     
      - (1)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (0.999999999999999)*s(118,4) - (1)*s(119,4) - (1)*s(121,2)
     
      - (1)*s(121,3) - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,4) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3)
     
      - (1)*s(131,4) - (1)*s(132,1) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(134,1) - (1)*s(134,2) - (1)*s(134,4) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(137,2) - (1)*s(138,1)
     
      - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,1) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(144,1) - (1)*s(144,4)
     
      - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,3) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 7.309246*q(102,1) - 4.257269*q(103,1) - 1.552541*q(104,1) - 1.395422*q(105,1) - 1.082302*q(107,1) - 0.8309024*q(108,1) - 1.997956*q(110,1) - 0.1504636*q(112,1) - 1.04345*q(113,1) - 0.4243207*q(114,1) - 3.734283*q(117,1)
     
      - 1.144253*q(122,1) - 0.6184897*q(123,1) - 0.3504188*q(125,1) - 0.1299295*q(127,1) - 0.2230957*q(132,1) - 0.5435146*q(134,1) - 0.2057541*q(135,1) - 0.1480067*q(136,1) - 0.1861728*q(138,1) - 0.2100331*q(139,1) - 0.7341846*q(140,1) - 1.008914*q(141,1)
     
      - 1.123015*q(144,1) - 1.988505*q(147,1) - 0.4016224*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 4.339776*q(102,1) - 3.431514*q(103,1) - 1.23719*q(104,1) - 1.133083*q(105,1) - 0.6232706*q(107,1) - 0.7919747*q(108,1) - 0.9983948*q(110,1) - 0.1137796*q(112,1) - 0.6679503*q(113,1) - 0.1572752*q(114,1) - 2.601174*q(117,1)
     
      - 0.9294304*q(122,1) - 0.5163727*q(123,1) - 0.1995326*q(125,1) - 0.0779858*q(127,1) - 0.1485914*q(132,1) - 0.457413*q(134,1) - 0.0980572*q(135,1) - 0.1050218*q(136,1) - 0.1100462*q(138,1) - 0.1218108*q(139,1) - 0.4817191*q(140,1)
     
      - 0.6931382*q(141,1) - 0.3387405*q(144,1) - 1.354511*q(147,1) - 0.2229717*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 7.412128*q(102,1) - 3.575145*q(103,1) - 2.209527*q(104,1) - 0.5524721*q(105,1) - 0.5778003*q(107,1) - 0.6046152*q(108,1) - 0.7235945*q(110,1) - 0.238933*q(112,1) - 0.4821043*q(113,1) - 0.0984414*q(114,1) - 2.789694*q(117,1)
     
      - 1.313654*q(122,1) - 0.4751926*q(123,1) - 0.1790961*q(125,1) - 0.221219*q(127,1) - 0.1520879*q(132,1) - 0.1859234*q(134,1) - 0.1198929*q(135,1) - 0.1809812*q(136,1) - 0.1104067*q(138,1) - 0.1268796*q(139,1) - 0.3103878*q(140,1) - 0.4718995*q(141,1)
     
      - 0.3261198*q(144,1) - 0.8500915*q(147,1) - 0.3125016*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 5.299717*q(102,1) - 3.39369*q(103,1) - 1.487157*q(104,1) - 1.327545*q(105,1) - 0.7191263*q(107,1) - 0.318514*q(108,1) - 1.253973*q(110,1) - 0.1168816*q(112,1) - 0.5945208*q(113,1) - 0.2275748*q(114,1) - 2.667556*q(117,1)
     
      - 1.185222*q(122,1) - 0.8340826*q(123,1) - 0.2350909*q(125,1) - 0.2224878*q(127,1) - 0.1609309*q(132,1) - 0.1486499*q(134,1) - 0.192281*q(135,1) - 0.1749316*q(136,1) - 0.1043491*q(138,1) - 0.1245534*q(139,1) - 0.4571334*q(140,1) - 0.5393313*q(141,1)
     
      - 0.7739921*q(144,1) - 1.417051*q(147,1) - 0.3350495*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 4.257269*q(103,2) - 1.395422*q(105,2) - 1.782924*q(106,2) - 1.082302*q(107,2) - 0.8309024*q(108,2) - 1.997956*q(110,2) - 0.1504636*q(112,2) - 1.04345*q(113,2) - 0.9055653*q(115,2) - 0.8059393*q(116,2) - 3.734283*q(117,2)
     
      - 5.168846*q(121,2) - 1.144253*q(122,2) - 0.6184897*q(123,2) - 0.3504188*q(125,2) - 0.1299295*q(127,2) - 0.2230957*q(132,2) - 0.5435146*q(134,2) - 0.1480067*q(136,2) - 0.3136126*q(137,2) - 0.1861728*q(138,2) - 0.2100331*q(139,2) - 0.7341846*q(140,2)
     
      - 1.008914*q(141,2) - 1.988505*q(147,2) - 0.4016224*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 3.431514*q(103,2) - 1.133083*q(105,2) - 1.917144*q(106,2) - 0.6232706*q(107,2) - 0.7919747*q(108,2) - 0.9983948*q(110,2) - 0.1137796*q(112,2) - 0.6679503*q(113,2) - 0.5659703*q(115,2) - 0.3119261*q(116,2) - 2.601174*q(117,2)
     
      - 3.18531*q(121,2) - 0.9294304*q(122,2) - 0.5163727*q(123,2) - 0.1995326*q(125,2) - 0.0779858*q(127,2) - 0.1485914*q(132,2) - 0.457413*q(134,2) - 0.1050218*q(136,2) - 0.313624*q(137,2) - 0.1100462*q(138,2) - 0.1218108*q(139,2) - 0.4817191*q(140,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     deflin  =E=  define revealed preference matrix     
     
      - 0.6931382*q(141,2) - 1.354511*q(147,2) - 0.2229717*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 3.575145*q(103,2) - 0.5524721*q(105,2) - 0.4704254*q(106,2) - 0.5778003*q(107,2) - 0.6046152*q(108,2) - 0.7235945*q(110,2) - 0.238933*q(112,2) - 0.4821043*q(113,2) - 0.3890418*q(115,2) - 0.3365889*q(116,2) - 2.789694*q(117,2)
     
      - 4.771276*q(121,2) - 1.313654*q(122,2) - 0.4751926*q(123,2) - 0.1790961*q(125,2) - 0.221219*q(127,2) - 0.1520879*q(132,2) - 0.1859234*q(134,2) - 0.1809812*q(136,2) - 0.5892518*q(137,2) - 0.1104067*q(138,2) - 0.1268796*q(139,2) - 0.3103878*q(140,2)
     
      - 0.4718995*q(141,2) - 0.8500915*q(147,2) - 0.3125016*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 3.39369*q(103,2) - 1.327545*q(105,2) - 1.163878*q(106,2) - 0.7191263*q(107,2) - 0.318514*q(108,2) - 1.253973*q(110,2) - 0.1168816*q(112,2) - 0.5945208*q(113,2) - 0.5475957*q(115,2) - 0.4042243*q(116,2) - 2.667556*q(117,2)
     
      - 4.245824*q(121,2) - 1.185222*q(122,2) - 0.8340826*q(123,2) - 0.2350909*q(125,2) - 0.2224878*q(127,2) - 0.1609309*q(132,2) - 0.1486499*q(134,2) - 0.1749316*q(136,2) - 0.2819623*q(137,2) - 0.1043491*q(138,2) - 0.1245534*q(139,2) - 0.4571334*q(140,2)
     
      - 0.5393313*q(141,2) - 1.417051*q(147,2) - 0.3350495*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 1.395422*q(105,3) - 1.082302*q(107,3) - 0.8309024*q(108,3) - 0.2453515*q(111,3) - 1.04345*q(113,3) - 0.9055653*q(115,3) - 0.8059393*q(116,3) - 3.734283*q(117,3) - 5.168846*q(121,3) - 0.6184897*q(123,3) - 0.3504188*q(125,3)
     
      - 0.1299295*q(127,3) - 0.2230957*q(132,3) - 0.2057541*q(135,3) - 0.1480067*q(136,3) - 0.1861728*q(138,3) - 0.2100331*q(139,3) - 0.7341846*q(140,3) - 1.008914*q(141,3) - 1.809669*q(145,3) - 1.988505*q(147,3) - 0.4016224*q(150,3) - 0.1435585*q(154,3)
     
      + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 1.133083*q(105,3) - 0.6232706*q(107,3) - 0.7919747*q(108,3) - 0.1741527*q(111,3) - 0.6679503*q(113,3) - 0.5659703*q(115,3) - 0.3119261*q(116,3) - 2.601174*q(117,3) - 3.18531*q(121,3) - 0.5163727*q(123,3) - 0.1995326*q(125,3)
     
      - 0.0779858*q(127,3) - 0.1485914*q(132,3) - 0.0980572*q(135,3) - 0.1050218*q(136,3) - 0.1100462*q(138,3) - 0.1218108*q(139,3) - 0.4817191*q(140,3) - 0.6931382*q(141,3) - 0.6292763*q(145,3) - 0.6008917*q(146,3) - 1.354511*q(147,3)
     
      - 0.2229717*q(150,3) - 0.3424061*q(154,3) + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.5524721*q(105,3) - 0.5778003*q(107,3) - 0.6046152*q(108,3) - 0.6519603*q(111,3) - 0.4821043*q(113,3) - 0.3890418*q(115,3) - 0.3365889*q(116,3) - 2.789694*q(117,3) - 4.771276*q(121,3) - 0.4751926*q(123,3) - 0.1790961*q(125,3)
     
      - 0.221219*q(127,3) - 0.1520879*q(132,3) - 0.1198929*q(135,3) - 0.1809812*q(136,3) - 0.1104067*q(138,3) - 0.1268796*q(139,3) - 0.3103878*q(140,3) - 0.4718995*q(141,3) - 0.4289824*q(145,3) - 0.5331569*q(146,3) - 0.8500915*q(147,3)
     
      - 0.3125016*q(150,3) - 0.4733059*q(154,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.327545*q(105,3) - 0.7191263*q(107,3) - 0.318514*q(108,3) - 0.2265895*q(111,3) - 0.5945208*q(113,3) - 0.5475957*q(115,3) - 0.4042243*q(116,3) - 2.667556*q(117,3) - 4.245824*q(121,3) - 0.8340826*q(123,3) - 0.2350909*q(125,3)
     
      - 0.2224878*q(127,3) - 0.1609309*q(132,3) - 0.192281*q(135,3) - 0.1749316*q(136,3) - 0.1043491*q(138,3) - 0.1245534*q(139,3) - 0.4571334*q(140,3) - 0.5393313*q(141,3) - 0.7193662*q(145,3) - 0.3532408*q(146,3) - 1.417051*q(147,3) - 0.3350495*q(150,3)
     
      - 0.2844234*q(154,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 7.309246*q(102,4) - 4.257269*q(103,4) - 1.552541*q(104,4) - 1.395422*q(105,4) - 1.082302*q(107,4) - 0.8309024*q(108,4) - 1.065982*q(109,4) - 1.997956*q(110,4) - 0.1504636*q(112,4) - 1.04345*q(113,4) - 0.9055653*q(115,4)
     
      - 3.734283*q(117,4) - 3.089235*q(118,4) - 3.650977*q(119,4) - 5.168846*q(121,4) - 1.144253*q(122,4) - 0.6184897*q(123,4) - 0.3504188*q(125,4) - 0.4427721*q(131,4) - 0.5435146*q(134,4) - 0.2057541*q(135,4) - 0.1480067*q(136,4) - 0.1861728*q(138,4)
     
      - 0.7341846*q(140,4) - 1.008914*q(141,4) - 1.123015*q(144,4) - 1.988505*q(147,4) - 0.4016224*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 4.339776*q(102,4) - 3.431514*q(103,4) - 1.23719*q(104,4) - 1.133083*q(105,4) - 0.6232706*q(107,4) - 0.7919747*q(108,4) - 0.3023046*q(109,4) - 0.9983948*q(110,4) - 0.1137796*q(112,4) - 0.6679503*q(113,4) - 0.5659703*q(115,4)
     
      - 2.601174*q(117,4) - 2.044174*q(118,4) - 2.435558*q(119,4) - 3.18531*q(121,4) - 0.9294304*q(122,4) - 0.5163727*q(123,4) - 0.1995326*q(125,4) - 0.3576751*q(131,4) - 0.457413*q(134,4) - 0.0980572*q(135,4) - 0.1050218*q(136,4) - 0.1100462*q(138,4)
     
      - 0.4817191*q(140,4) - 0.6931382*q(141,4) - 0.3387405*q(144,4) - 1.354511*q(147,4) - 0.2229717*q(150,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     deflin  =E=  define revealed preference matrix

deflin(4,3)..  - 7.412128*q(102,4) - 3.575145*q(103,4) - 2.209527*q(104,4) - 0.5524721*q(105,4) - 0.5778003*q(107,4) - 0.6046152*q(108,4) - 1.075913*q(109,4) - 0.7235945*q(110,4) - 0.238933*q(112,4) - 0.4821043*q(113,4) - 0.3890418*q(115,4)
     
      - 2.789694*q(117,4) - 2.829708*q(118,4) - 3.234999*q(119,4) - 4.771276*q(121,4) - 1.313654*q(122,4) - 0.4751926*q(123,4) - 0.1790961*q(125,4) - 0.9803614*q(131,4) - 0.1859234*q(134,4) - 0.1198929*q(135,4) - 0.1809812*q(136,4) - 0.1104067*q(138,4)
     
      - 0.3103878*q(140,4) - 0.4718995*q(141,4) - 0.3261198*q(144,4) - 0.8500915*q(147,4) - 0.3125016*q(150,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 5.299717*q(102,4) - 3.39369*q(103,4) - 1.487157*q(104,4) - 1.327545*q(105,4) - 0.7191263*q(107,4) - 0.318514*q(108,4) - 1.632668*q(109,4) - 1.253973*q(110,4) - 0.1168816*q(112,4) - 0.5945208*q(113,4) - 0.5475957*q(115,4)
     
      - 2.667556*q(117,4) - 2.575729*q(118,4) - 3.190729*q(119,4) - 4.245824*q(121,4) - 1.185222*q(122,4) - 0.8340826*q(123,4) - 0.2350909*q(125,4) - 0.3165332*q(131,4) - 0.1486499*q(134,4) - 0.192281*q(135,4) - 0.1749316*q(136,4) - 0.1043491*q(138,4)
     
      - 0.4571334*q(140,4) - 0.5393313*q(141,4) - 0.7739921*q(144,4) - 1.417051*q(147,4) - 0.3350495*q(150,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -132.393014540635, INFES = 132.393014540635 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -91.8495340223091, INFES = 91.8495340223091 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 457.958208382543)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 85.5410677143954)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -9.02924808550227, INFES = 9.02924808550227 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 415.414797691375)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 106.924129701552)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 12.7355100136047)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 443.650311789033)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -288.95028647691, INFES = 288.95028647691 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -420.436773505731, INFES = 420.436773505731 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -419.397735785705, INFES = 419.397735785705 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(102,1)..  - 7.309246*q(102,1) + (645.162454113325)*s(102,1) + (0.0153063328889675)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 5.299717*q(102,4) + (773.402454500954)*s(102,4) + (0.0128167033677809)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 4.257269*q(103,1) + (645.162454113325)*s(103,1) + (0.0425918327169622)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     defshr  =E=  define the endogenous budget shares

defshr(103,2)..  - 3.431514*q(103,2) + (356.962849228657)*s(103,2) + (0.0114490210682835)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 3.39369*q(103,4) + (773.402454500954)*s(103,4) + (0.083754735255744)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(104,1)..  - 1.552541*q(104,1) + (645.162454113325)*s(104,1) + (0.0686530580745123)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(104,4)..  - 1.487157*q(104,4) + (773.402454500954)*s(104,4) + (0.119738088922792)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.395422*q(105,1) + (645.162454113325)*s(105,1) + (0.145925614049662)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 1.133083*q(105,2) + (356.962849228657)*s(105,2) + (0.0995040877926143)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.5524721*q(105,3) + (311.435963387726)*s(105,3) + (0.0512632510087552)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 1.327545*q(105,4) + (773.402454500954)*s(105,4) + (0.10066573741374)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 1.917144*q(106,2) + (356.962849228657)*s(106,2) + (0.0111783023427942)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 1.082302*q(107,1) + (645.162454113325)*s(107,1) + (0.0859922641629529)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.6232706*q(107,2) + (356.962849228657)*s(107,2) + (0.0481247683538904)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.5778003*q(107,3) + (311.435963387726)*s(107,3) + (0.067274119690529)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.7191263*q(107,4) + (773.402454500954)*s(107,4) + (0.070805050278774)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.8309024*q(108,1) + (645.162454113325)*s(108,1) + (0.0276515451902438)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.7919747*q(108,2) + (356.962849228657)*s(108,2) + (0.193234114311719)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.6046152*q(108,3) + (311.435963387726)*s(108,3) + (0.081589590282399)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.318514*q(108,4) + (773.402454500954)*s(108,4) + (0.0425991560839549)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.632668*q(109,4) + (773.402454500954)*s(109,4) + (0.0384500411175193)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 1.997956*q(110,1) + (645.162454113325)*s(110,1) + (0.01688251192615)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 0.9983948*q(110,2) + (356.962849228657)*s(110,2) + (0.0168397338443046)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.253973*q(110,4) + (773.402454500954)*s(110,4) + (0.00981777679583151)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.6519603*q(111,3) + (311.435963387726)*s(111,3) + (0.0408949073313353)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.1504636*q(112,1) + (645.162454113325)*s(112,1) + (0.0262344798540663)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.1137796*q(112,2) + (356.962849228657)*s(112,2) + (0.0205935919652746)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     defshr  =E=  define the endogenous budget shares

defshr(112,4)..  - 0.1168816*q(112,4) + (773.402454500954)*s(112,4) + (0.0156993419081437)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.04345*q(113,1) + (645.162454113325)*s(113,1) + (0.145297035912654)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.6679503*q(113,2) + (356.962849228657)*s(113,2) + (0.117655781730416)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.4821043*q(113,3) + (311.435963387726)*s(113,3) + (0.0805037742302066)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.5945208*q(113,4) + (773.402454500954)*s(113,4) + (0.0721852949436606)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.4243207*q(114,1) + (645.162454113325)*s(114,1) + (0.0181831100189496)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.5659703*q(115,2) + (356.962849228657)*s(115,2) + (0.030476737338517)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.3890418*q(115,3) + (311.435963387726)*s(115,3) + (0.00832593821066341)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.5475957*q(115,4) + (773.402454500954)*s(115,4) + (0.0304104083639348)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.3119261*q(116,2) + (356.962849228657)*s(116,2) + (0.0384542609216022)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.3365889*q(116,3) + (311.435963387726)*s(116,3) + (0.16637506464518)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 3.734283*q(117,1) + (645.162454113325)*s(117,1) + (0.0265692975894477)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.601174*q(117,2) + (356.962849228657)*s(117,2) + (0.0354290916210266)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 2.789694*q(117,3) + (311.435963387726)*s(117,3) + (0.018210449104192)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.667556*q(117,4) + (773.402454500954)*s(117,4) + (0.038384094755985)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,4)..  - 2.575729*q(118,4) + (773.402454500954)*s(118,4) + (0.0132747575840699)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 3.190729*q(119,4) + (773.402454500954)*s(119,4) + (0.0135148265270411)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.18531*q(121,2) + (356.962849228657)*s(121,2) + (0.0168826141455653)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 4.771276*q(121,3) + (311.435963387726)*s(121,3) + (0.0116012648302506)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 4.245824*q(121,4) + (773.402454500954)*s(121,4) + (0.00991671192704256)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 1.144253*q(122,1) + (645.162454113325)*s(122,1) + (0.0130052967931193)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.9294304*q(122,2) + (356.962849228657)*s(122,2) + (0.0305038518006256)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,4)..  - 1.185222*q(122,4) + (773.402454500954)*s(122,4) + (0.014018307558716)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.6184897*q(123,1) + (645.162454113325)*s(123,1) + (0.0200399707604449)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     defshr  =E=  define the endogenous budget shares

defshr(123,2)..  - 0.5163727*q(123,2) + (356.962849228657)*s(123,2) + (0.0352429395170724)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.4751926*q(123,3) + (311.435963387726)*s(123,3) + (0.0245770802450018)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 0.8340826*q(123,4) + (773.402454500954)*s(123,4) + (0.0103704466022699)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.3504188*q(125,1) + (645.162454113325)*s(125,1) + (0.0285563735449346)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.1995326*q(125,2) + (356.962849228657)*s(125,2) + (0.0182271591990786)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.1790961*q(125,3) + (311.435963387726)*s(125,3) + (0.0208296415305932)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.2350909*q(125,4) + (773.402454500954)*s(125,4) + (0.0266881264103941)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.1299295*q(127,1) + (645.162454113325)*s(127,1) + (0.0192768383175611)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0779858*q(127,2) + (356.962849228657)*s(127,2) + (0.0207985004715824)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.221219*q(127,3) + (311.435963387726)*s(127,3) + (0.0380669588055007)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.3165332*q(131,4) + (773.402454500954)*s(131,4) + (0.0103363617069293)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,1)..  - 0.2230957*q(132,1) + (645.162454113325)*s(132,1) + (0.0139852303129458)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1485914*q(132,2) + (356.962849228657)*s(132,2) + (0.0262661142936555)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1520879*q(132,3) + (311.435963387726)*s(132,3) + (0.0112629879708971)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.5435146*q(134,1) + (645.162454113325)*s(134,1) + (0.0192816336207384)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.457413*q(134,2) + (356.962849228657)*s(134,2) + (0.011415792033504)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,4)..  - 0.1486499*q(134,4) + (773.402454500954)*s(134,4) + (0.009262421601348)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.2057541*q(135,1) + (645.162454113325)*s(135,1) + (0.010697902569007)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.1198929*q(135,3) + (311.435963387726)*s(135,3) + (0.011261565489105)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.192281*q(135,4) + (773.402454500954)*s(135,4) + (0.00959937967627156)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1480067*q(136,1) + (645.162454113325)*s(136,1) + (0.0229548534795527)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1050218*q(136,2) + (356.962849228657)*s(136,2) + (0.0186892956881733)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1809812*q(136,3) + (311.435963387726)*s(136,3) + (0.0134756696416847)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.1749316*q(136,4) + (773.402454500954)*s(136,4) + (0.0188379306568281)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     defshr  =E=  define the endogenous budget shares

defshr(137,2)..  - 0.313624*q(137,2) + (356.962849228657)*s(137,2) + (0.00976152970737849)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.1861728*q(138,1) + (645.162454113325)*s(138,1) + (0.0231277045313686)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.1100462*q(138,2) + (356.962849228657)*s(138,2) + (0.0273501878137542)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.1104067*q(138,3) + (311.435963387726)*s(138,3) + (0.0191118133884051)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1043491*q(138,4) + (773.402454500954)*s(138,4) + (0.0174916020201153)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,1)..  - 0.2100331*q(139,1) + (645.162454113325)*s(139,1) + (0.010878928334951)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.1218108*q(139,2) + (356.962849228657)*s(139,2) + (0.028316750438634)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.1268796*q(139,3) + (311.435963387726)*s(139,3) + (0.0941670642606582)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.7341846*q(140,1) + (645.162454113325)*s(140,1) + (0.0272569832376902)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.4817191*q(140,2) + (356.962849228657)*s(140,2) + (0.0226997315537927)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 0.3103878*q(140,3) + (311.435963387726)*s(140,3) + (0.0139909572681127)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.4571334*q(140,4) + (773.402454500954)*s(140,4) + (0.0486888975327359)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.008914*q(141,1) + (645.162454113325)*s(141,1) + (0.0758474314505174)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.6931382*q(141,2) + (356.962849228657)*s(141,2) + (0.0430332259322347)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.4718995*q(141,3) + (311.435963387726)*s(141,3) + (0.126630756725831)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.5393313*q(141,4) + (773.402454500954)*s(141,4) + (0.104021726434987)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 1.123015*q(144,1) + (645.162454113325)*s(144,1) + (0.0241034663306344)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.7739921*q(144,4) + (773.402454500954)*s(144,4) + (0.0188730799589623)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.4289824*q(145,3) + (311.435963387726)*s(145,3) + (0.0120485136446498)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.5331569*q(146,3) + (311.435963387726)*s(146,3) + (0.0275060158196171)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 1.988505*q(147,1) + (645.162454113325)*s(147,1) + (0.06151060025397)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.354511*q(147,2) + (356.962849228657)*s(147,2) + (0.0545847676820224)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.8500915*q(147,3) + (311.435963387726)*s(147,3) + (0.0206505596815296)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.417051*q(147,4) + (773.402454500954)*s(147,4) + (0.0260909060946096)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 493


     defshr  =E=  define the endogenous budget shares

defshr(150,1)..  - 0.4016224*q(150,1) + (645.162454113325)*s(150,1) + (0.0101897040779953)*povline(1,1) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(102,1) + 0.689*q(103,1) + 0.689*q(104,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1)
     
      + 8.84*q(127,1) + 0.4331*q(132,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 0.261*q(139,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ;
     
      (LHS = 2143.75751923012, INFES = 101.257519230121 ****)
     
cals(2)..  0.689*q(103,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.4835*q(121,2) + 0.6161*q(122,2) + 3.75*q(123,2)
     
      + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.264*q(137,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 3.87*q(147,2) =E= 2042.5 ;
     
      (LHS = 2082.78211893459, INFES = 40.2821189345905 ****)
     
cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 1.4835*q(121,3) + 3.75*q(123,3) + 0.6*q(125,3) + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3)
     
      + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 1.03*q(140,3) + 3.13*q(141,3) + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) + 0.81*q(154,3) =E= 2042.5 ; (LHS = 2089.99335014477, INFES = 47.4933501447745 ****)
     
cals(4)..  0.689*q(102,4) + 0.689*q(103,4) + 0.689*q(104,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 2.3534*q(118,4) + 1.221*q(119,4)
     
      + 1.4835*q(121,4) + 0.6161*q(122,4) + 3.75*q(123,4) + 0.6*q(125,4) + 0.6208*q(131,4) + 0.494*q(134,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.88*q(144,4) + 3.87*q(147,4) =E= 2042.5 ;
     
      (LHS = 2122.60892057894, INFES = 80.1089205789399 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 493


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(102,1)
                (.LO, .L, .UP, .M = 1E-5, 1.3510383, +INF, 0)
       -7.3092  deflin(1,1)
       -4.3398  deflin(1,2)
       -7.4121  deflin(1,3)
       -5.2997  deflin(1,4)
       -7.3092  defshr(102,1)
        0.689   cals(1)

q(102,4)
                (.LO, .L, .UP, .M = 1E-5, 1.8703772, +INF, 0)
       -7.3092  deflin(4,1)
       -4.3398  deflin(4,2)
       -7.4121  deflin(4,3)
       -5.2997  deflin(4,4)
       -5.2997  defshr(102,4)
        0.689   cals(4)

q(103,1)
                (.LO, .L, .UP, .M = 1E-5, 6.4545255, +INF, 0)
       -4.2573  deflin(1,1)
       -3.4315  deflin(1,2)
       -3.5751  deflin(1,3)
       -3.3937  deflin(1,4)
       -4.2573  defshr(103,1)
        0.689   cals(1)

REMAINING 101 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(102,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0153063328889675, +INF, 0)
      (-1)      obj
     (645.1625) defshr(102,1)

s(102,4)
                (.LO, .L, .UP, .M = 0.0001, 0.0128167033677809, +INF, 0)
      (-1)      obj
     (773.4025) defshr(102,4)

s(103,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0425918327169622, +INF, 0)
      (-1)      obj
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 493


     s  derived maximum entropy shares

     (645.1625) defshr(103,1)

REMAINING 101 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 645.162454113325, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.0153) defshr(102,1)
       (0.0426) defshr(103,1)
       (0.0687) defshr(104,1)
       (0.1459) defshr(105,1)
       (0.086)  defshr(107,1)
       (0.0277) defshr(108,1)
       (0.0169) defshr(110,1)
       (0.0262) defshr(112,1)
       (0.1453) defshr(113,1)
       (0.0182) defshr(114,1)
       (0.0266) defshr(117,1)
       (0.013)  defshr(122,1)
       (0.02)   defshr(123,1)
       (0.0286) defshr(125,1)
       (0.0193) defshr(127,1)
       (0.014)  defshr(132,1)
       (0.0193) defshr(134,1)
       (0.0107) defshr(135,1)
       (0.023)  defshr(136,1)
       (0.0231) defshr(138,1)
       (0.0109) defshr(139,1)
       (0.0273) defshr(140,1)
       (0.0758) defshr(141,1)
       (0.0241) defshr(144,1)
       (0.0615) defshr(147,1)
       (0.0102) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 442.503916943052, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 418.360093089278, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 493


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          137
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          225
NON ZERO ELEMENTS           972     NON LINEAR N-Z            312
DERIVATIVE POOL              10     CONSTANT POOL             120
CODE LENGTH                 938


GENERATION TIME      =        0.006 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.007 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  493

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.1671

 RESOURCE USAGE, LIMIT          0.039      1000.000
 ITERATION COUNT, LIMIT        53    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 225 variables and 137 constraints
    with 972 Jacobian elements, 312 of which are nonlinear.
    The Hessian of the Lagrangian has 104 elements on the diagonal,
    104 elements below the diagonal, and 108 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.039 seconds
   of which: Function evaluations             0.003 =  7.7%
             1st Derivative evaluations       0.000 =  0.0%
             2nd Derivative evaluations       0.002 =  5.1%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0013      
1.2          .              .              .            -0.0001      
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .       -6.538038E-5      
2.2          .              .              .            -0.0012      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .            -0.0008      
3.1          .              .              .             EPS         
3.2          .              .              .            -0.0006      
3.3          .              .              .            -0.0024      
3.4          .              .              .            -0.0001      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0011      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF      6.5380383E-5      
1.3          .            50.9029        +INF            EPS         
1.4          .            62.3104        +INF             .          
2.1          .              .            +INF            0.0001      
2.3          .              .            +INF            0.0006      
2.4          .            62.9251        +INF             .          
3.1          .            47.2386        +INF            EPS         
3.2          .            27.8848        +INF            EPS         
3.4          .            94.5979        +INF             .          
4.1          .            38.3046        +INF            EPS         
4.2          .              .            +INF            0.0008      
4.3          .              .            +INF            0.0001      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

102.1          .              .              .             0.0013      
102.4          .              .              .             0.0012      
103.1          .              .              .             0.0014      
103.2          .              .              .             0.0021      
103.4          .              .              .             0.0012      
104.1          .              .              .             0.0014      
104.4          .              .              .             0.0012      
105.1          .              .              .             0.0014      
105.2          .              .              .             0.0022      
105.3          .              .              .             0.0036      
105.4          .              .              .             0.0013      
106.2          .              .              .             0.0017      
107.1          .              .              .             0.0013      
107.2          .              .              .             0.0022      
107.3          .              .              .             0.0028      
107.4          .              .              .             0.0016      
108.1          .              .              .             0.0013      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

108.2          .              .              .             0.0015      
108.3          .              .              .             0.0023      
108.4          .              .              .             0.0034      
109.4          .              .              .             0.0012      
110.1          .              .              .             0.0013      
110.2          .              .              .             0.0022      
110.4          .              .              .             0.0018      
111.3          .              .              .             0.0016      
112.1          .              .              .             0.0013      
112.2          .              .              .             0.0018      
112.4          .              .              .             0.0030      
113.1          .              .              .             0.0013      
113.2          .              .              .             0.0018      
113.3          .              .              .             0.0020      
113.4          .              .              .             0.0026      
114.1          .              .              .             0.0012      
115.2          .              .              .             0.0018      
115.3          .              .              .             0.0017      
115.4          .              .              .             0.0027      
116.2          .              .              .             0.0020      
116.3          .              .              .             0.0013      
117.1          .              .              .             0.0013      
117.2          .              .              .             0.0021      
117.3          .              .              .             0.0030      
117.4          .              .              .             0.0013      
118.4          .              .              .             0.0013      
119.4          .              .              .             0.0012      
121.2          .              .              .             0.0023      
121.3          .              .              .             0.0029      
121.4          .              .              .             0.0012      
122.1          .              .              .             0.0014      
122.2          .              .              .             0.0023      
122.4          .              .              .             0.0013      
123.1          .              .              .             0.0013      
123.2          .              .              .             0.0023      
123.3          .              .              .             0.0019      
123.4          .              .              .             0.0022      
125.1          .              .              .             0.0013      
125.2          .              .              .             0.0021      
125.3          .              .              .             0.0026      
125.4          .              .              .             0.0017      
127.1          .              .              .             0.0005      
127.2          .              .              .            -0.0010      
127.3          .              .              .            -0.0044      
131.4          .              .              .             0.0016      
132.1          .              .              .             0.0013      
132.2          .              .              .             0.0021      
132.3          .              .              .             0.0026      
134.1          .              .              .             0.0014      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

134.2          .              .              .             0.0015      
134.4          .              .              .             0.0019      
135.1          .              .              .             0.0013      
135.3          .              .              .             0.0026      
135.4          .              .              .             0.0016      
136.1          .              .              .             0.0013      
136.2          .              .              .             0.0025      
136.3          .              .              .             0.0027      
136.4          .              .              .             0.0013      
137.2          .              .              .             0.0020      
138.1          .              .              .             0.0013      
138.2          .              .              .             0.0020      
138.3          .              .              .             0.0028      
138.4          .              .              .             0.0016      
139.1          .              .              .             0.0013      
139.2          .              .              .             0.0021      
139.3          .              .              .             0.0027      
140.1          .              .              .             0.0013      
140.2          .              .              .             0.0020      
140.3          .              .              .             0.0029      
140.4          .              .              .             0.0017      
141.1          .              .              .             0.0013      
141.2          .              .              .             0.0018      
141.3          .              .              .             0.0022      
141.4          .              .              .             0.0025      
144.1          .              .              .             0.0012      
144.4          .              .              .             0.0029      
145.3          .              .              .             0.0032      
146.3          .              .              .             0.0012      
147.1          .              .              .             0.0013      
147.2          .              .              .             0.0020      
147.3          .              .              .             0.0027      
147.4          .              .              .             0.0018      
150.1          .              .              .             0.0013      
150.2          .              .              .             0.0025      
150.3          .              .              .             0.0030      
150.4          .              .              .             0.0011      
154.3          .              .              .             0.0026      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   -1.272576E-5      
2      2042.5000      2042.5000      2042.5000   -4.019867E-5      
3      2042.5000      2042.5000      2042.5000        -0.0002      
4      2042.5000      2042.5000      2042.5000         0.0002      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.1671        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

102.1   1.0000000E-5         1.6189        +INF             .          
102.4   1.0000000E-5         0.8638        +INF             .          
103.1   1.0000000E-5         7.9115        +INF             .          
103.2   1.0000000E-5         1.9007        +INF             .          
103.4   1.0000000E-5         8.8946        +INF            EPS         
104.1   1.0000000E-5        34.8385        +INF             .          
104.4   1.0000000E-5        29.9626        +INF            EPS         
105.1   1.0000000E-5        82.2991        +INF             .          
105.2   1.0000000E-5        53.0171        +INF             .          
105.3   1.0000000E-5        72.9447        +INF      -6.30258E-11      
105.4   1.0000000E-5        29.2885        +INF             .          
106.2   1.0000000E-5         2.7287        +INF            EPS         
107.1   1.0000000E-5        60.6268        +INF             .          
107.2   1.0000000E-5        45.8598        +INF             .          
107.3   1.0000000E-5        64.4150        +INF             .          
107.4   1.0000000E-5        43.5614        +INF             .          
108.1   1.0000000E-5        25.8263        +INF             .          
108.2   1.0000000E-5       100.9088        +INF             .          
108.3   1.0000000E-5        60.1739        +INF             .          
108.4   1.0000000E-5       158.1939        +INF             .          
109.4   1.0000000E-5         8.6919        +INF             .          
110.1   1.0000000E-5         6.3592        +INF             .          
110.2   1.0000000E-5        10.2119        +INF             .          
110.4   1.0000000E-5         3.9224        +INF             .          
111.3   1.0000000E-5        20.7011        +INF             .          
112.1   1.0000000E-5       129.2442        +INF             .          
112.2   1.0000000E-5        88.5166        +INF             .          
112.4   1.0000000E-5       127.8569        +INF             .          
113.1   1.0000000E-5       104.6962        +INF             .          
113.2   1.0000000E-5        87.3011        +INF             .          
113.3   1.0000000E-5        65.6474        +INF             .          
113.4   1.0000000E-5        90.8666        +INF             .          
114.1   1.0000000E-5        30.4534        +INF             .          
115.2   1.0000000E-5        26.8681        +INF             .          
115.3   1.0000000E-5         7.2969        +INF             .          
115.4   1.0000000E-5        45.6561        +INF             .          
116.2   1.0000000E-5        66.4175        +INF             .          
116.3   1.0000000E-5       141.9583        +INF            EPS         
117.1   1.0000000E-5         5.5421        +INF             .          
117.2   1.0000000E-5         7.8448        +INF             .          
117.3   1.0000000E-5         3.9099        +INF             .          
117.4   1.0000000E-5         5.4955        +INF             .          
118.4   1.0000000E-5         2.0272        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

119.4   1.0000000E-5         1.5607        +INF            EPS         
121.2   1.0000000E-5         3.4904        +INF             .          
121.3   1.0000000E-5         1.3950        +INF             .          
121.4   1.0000000E-5         0.8571        +INF             .          
122.1   1.0000000E-5         8.9614        +INF             .          
122.2   1.0000000E-5        20.7533        +INF             .          
122.4   1.0000000E-5         4.4322        +INF            EPS         
123.1   1.0000000E-5        24.2789        +INF             .          
123.2   1.0000000E-5        42.9810        +INF             .          
123.3   1.0000000E-5        19.0235        +INF             .          
123.4   1.0000000E-5         7.6008        +INF             .          
125.1   1.0000000E-5        61.8566        +INF             .          
125.2   1.0000000E-5        53.8520        +INF             .          
125.3   1.0000000E-5        60.0934        +INF             .          
125.4   1.0000000E-5        54.6323        +INF             .          
127.1   1.0000000E-5        59.5139        +INF             .          
127.2   1.0000000E-5        30.0266        +INF             .          
127.3   1.0000000E-5         3.9419        +INF             .          
131.4   1.0000000E-5        14.6126        +INF            EPS         
132.1   1.0000000E-5        47.9838        +INF             .          
132.2   1.0000000E-5        99.6414        +INF             .          
132.3   1.0000000E-5        37.8876        +INF             .          
134.1   1.0000000E-5        27.9611        +INF             .          
134.2   1.0000000E-5        10.6852        +INF             .          
134.4   1.0000000E-5        32.9719        +INF             .          
135.1   1.0000000E-5        39.0440        +INF             .          
135.3   1.0000000E-5        47.0998        +INF             .          
135.4   1.0000000E-5        22.1534        +INF             .          
136.1   1.0000000E-5       120.2512        +INF             .          
136.2   1.0000000E-5       129.8611        +INF             .          
136.3   1.0000000E-5        40.0718        +INF             .          
136.4   1.0000000E-5        42.4773        +INF             .          
137.2   1.0000000E-5        16.7380        +INF             .          
138.1   1.0000000E-5        95.0962        +INF             .          
138.2   1.0000000E-5       136.6938        +INF             .          
138.3   1.0000000E-5        95.8384        +INF             .          
138.4   1.0000000E-5        74.7401        +INF             .          
139.1   1.0000000E-5        39.5406        +INF             .          
139.2   1.0000000E-5       130.9957        +INF             .          
139.3   1.0000000E-5       400.7058        +INF            EPS         
140.1   1.0000000E-5        28.5349        +INF             .          
140.2   1.0000000E-5        25.6111        +INF             .          
140.3   1.0000000E-5        26.2782        +INF             .          
140.4   1.0000000E-5        49.4048        +INF             .          
141.1   1.0000000E-5        57.0334        +INF             .          
141.2   1.0000000E-5        29.9081        +INF             .          
141.3   1.0000000E-5       115.3685        +INF             .          
141.4   1.0000000E-5       138.4952        +INF            EPS         
144.1   1.0000000E-5        15.2898        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

144.4   1.0000000E-5        21.8346        +INF             .          
145.3   1.0000000E-5        18.1938        +INF             .          
146.3   1.0000000E-5        14.2650        +INF             .          
147.1   1.0000000E-5        23.7160        +INF             .          
147.2   1.0000000E-5        22.3851        +INF             .          
147.3   1.0000000E-5        13.1299        +INF             .          
147.4   1.0000000E-5         9.0580        +INF             .          
150.1   1.0000000E-5        19.5490        +INF             .          
150.2   1.0000000E-5        42.6739        +INF             .          
150.3   1.0000000E-5        38.0674        +INF             .          
150.4   1.0000000E-5        14.3606        +INF            EPS         
154.3   1.0000000E-5        22.2538        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

102.1         0.0001         0.0156        +INF      -3.824145E-9      
102.4         0.0001         0.0087        +INF      1.8900961E-9      
103.1         0.0001         0.0443        +INF      -4.575029E-9      
103.2         0.0001         0.0125        +INF      5.0910073E-8      
103.4         0.0001         0.0573        +INF             .          
104.1         0.0001         0.0712        +INF            EPS         
104.4         0.0001         0.0846        +INF             .          
105.1         0.0001         0.1512        +INF             .          
105.2         0.0001         0.1148        +INF      1.9416232E-8      
105.3         0.0001         0.0917        +INF             .          
105.4         0.0001         0.0738        +INF            EPS         
106.2         0.0001         0.0100        +INF             .          
107.1         0.0001         0.0864        +INF      -5.064538E-9      
107.2         0.0001         0.0546        +INF            EPS         
107.3         0.0001         0.0847        +INF      1.9851329E-9      
107.4         0.0001         0.0595        +INF             .          
108.1         0.0001         0.0282        +INF             .          
108.2         0.0001         0.1527        +INF             .          
108.3         0.0001         0.0828        +INF      7.3916386E-9      
108.4         0.0001         0.0957        +INF             .          
109.4         0.0001         0.0269        +INF            EPS         
110.1         0.0001         0.0167        +INF      -7.700351E-9      
110.2         0.0001         0.0195        +INF      1.3669096E-8      
110.4         0.0001         0.0093        +INF      -3.162735E-9      
111.3         0.0001         0.0307        +INF      2.8847725E-8      
112.1         0.0001         0.0256        +INF             .          
112.2         0.0001         0.0192        +INF      -4.979510E-8      
112.4         0.0001         0.0284        +INF            EPS         
113.1         0.0001         0.1438        +INF      -6.848866E-9      
113.2         0.0001         0.1114        +INF      7.4731913E-9      
113.3         0.0001         0.0720        +INF            EPS         
113.4         0.0001         0.1026        +INF      -2.620696E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

114.1         0.0001         0.0170        +INF      -1.221928E-8      
115.2         0.0001         0.0291        +INF      5.8375235E-9      
115.3         0.0001         0.0065        +INF      -1.561818E-8      
115.4         0.0001         0.0475        +INF            EPS         
116.2         0.0001         0.0396        +INF             .          
116.3         0.0001         0.1087        +INF             .          
117.1         0.0001         0.0272        +INF      -3.774162E-9      
117.2         0.0001         0.0390        +INF      1.6923676E-9      
117.3         0.0001         0.0248        +INF      8.1156293E-9      
117.4         0.0001         0.0278        +INF            EPS         
118.4         0.0001         0.0099        +INF            EPS         
119.4         0.0001         0.0095        +INF             .          
121.2         0.0001         0.0212        +INF      -2.138561E-8      
121.3         0.0001         0.0151        +INF      8.0505052E-9      
121.4         0.0001         0.0069        +INF      3.9322564E-9      
122.1         0.0001         0.0135        +INF      4.5835464E-9      
122.2         0.0001         0.0369        +INF      -2.054145E-8      
122.4         0.0001         0.0100        +INF             .          
123.1         0.0001         0.0198        +INF      5.0337089E-9      
123.2         0.0001         0.0424        +INF             .          
123.3         0.0001         0.0206        +INF      -1.186855E-8      
123.4         0.0001         0.0120        +INF            EPS         
125.1         0.0001         0.0285        +INF      -6.832232E-9      
125.2         0.0001         0.0205        +INF      1.7268944E-9      
125.3         0.0001         0.0245        +INF      -1.326076E-9      
125.4         0.0001         0.0244        +INF            EPS         
127.1         0.0001         0.0102        +INF             .          
127.2         0.0001         0.0045        +INF             .          
127.3         0.0001         0.0020        +INF      -6.621014E-8      
131.4         0.0001         0.0088        +INF             .          
132.1         0.0001         0.0141        +INF      -5.610528E-9      
132.2         0.0001         0.0283        +INF      -3.286019E-9      
132.3         0.0001         0.0131        +INF      8.9208847E-9      
134.1         0.0001         0.0200        +INF      -8.467872E-9      
134.2         0.0001         0.0093        +INF      1.1772002E-8      
134.4         0.0001         0.0093        +INF      1.3900263E-9      
135.1         0.0001         0.0106        +INF      -1.359518E-9      
135.3         0.0001         0.0128        +INF      -4.819504E-9      
135.4         0.0001         0.0081        +INF      -3.356228E-9      
136.1         0.0001         0.0234        +INF      3.8520047E-9      
136.2         0.0001         0.0261        +INF      -2.732676E-8      
136.3         0.0001         0.0165        +INF      1.1650633E-8      
136.4         0.0001         0.0141        +INF      -1.329361E-9      
137.2         0.0001         0.0100        +INF      -4.744275E-8      
138.1         0.0001         0.0233        +INF      -7.352239E-9      
138.2         0.0001         0.0287        +INF            EPS         
138.3         0.0001         0.0241        +INF      6.6319472E-9      
138.4         0.0001         0.0148        +INF            EPS         
139.1         0.0001         0.0109        +INF      -5.868511E-9      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

139.2         0.0001         0.0305        +INF      2.9654523E-9      
139.3         0.0001         0.1157        +INF             .          
140.1         0.0001         0.0276        +INF      -6.420257E-9      
140.2         0.0001         0.0236        +INF      6.9570083E-9      
140.3         0.0001         0.0186        +INF      1.5951129E-8      
140.4         0.0001         0.0429        +INF      -1.654408E-9      
141.1         0.0001         0.0757        +INF      -6.404193E-9      
141.2         0.0001         0.0396        +INF      6.1917873E-9      
141.3         0.0001         0.1238        +INF             .          
141.4         0.0001         0.1418        +INF             .          
144.1         0.0001         0.0226        +INF      -9.411543E-9      
144.4         0.0001         0.0321        +INF            EPS         
145.3         0.0001         0.0178        +INF             .          
146.3         0.0001         0.0173        +INF      -3.136000E-9      
147.1         0.0001         0.0621        +INF      -4.883820E-9      
147.2         0.0001         0.0579        +INF      1.3621921E-8      
147.3         0.0001         0.0254        +INF      2.1001835E-8      
147.4         0.0001         0.0244        +INF            EPS         
150.1         0.0001         0.0103        +INF      -6.660744E-9      
150.2         0.0001         0.0182        +INF      -1.940522E-8      
150.3         0.0001         0.0271        +INF      7.4235922E-9      
150.4         0.0001         0.0091        +INF             .          
154.3         0.0001         0.0240        +INF             .          

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          759.6295        +INF             .          
1.2        -INF          523.4078        +INF             .          
1.3        -INF          486.8264        +INF             .          
1.4        -INF          565.0777        +INF             .          
2.1        -INF          759.6295        +INF             .          
2.2        -INF          523.4078        +INF             .          
2.3        -INF          467.4726        +INF             .          
2.4        -INF          526.7731        +INF             .          
3.1        -INF          810.5324        +INF             .          
3.2        -INF          523.4078        +INF             .          
3.3        -INF          439.5877        +INF             .          
3.4        -INF          526.7731        +INF             .          
4.1        -INF          821.9399        +INF             .          
4.2        -INF          586.3329        +INF             .          
4.3        -INF          534.1856        +INF             .          
4.4        -INF          526.7731        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 493


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/23/13 16:46:14 Page 35
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    496 this is without adjustment for calorie target or 90%

----    496 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     759.629     523.408     486.826     565.078
2     759.629     523.408     467.473     526.773
3     810.532     523.408     439.588     526.773
4     821.940     586.333     534.186     526.773


----    521 PARAMETER perc_chng  percent change in line

1  23.579,    2  49.520,    3  44.431,    4 -29.217


----    521 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 885.876,    2 593.034,    3 499.788,    4 608.260


----    521 PARAMETER povline_ali  food poverty line

1 716.847,    2 396.625,    3 346.040,    4 859.336


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/new/list.lst
