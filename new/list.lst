GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/product_flex.inc
  20  102
  21  103
  22  104
  23  105
  24  106
  25  107
  26  108
  27  109
  28  110
  29  111
  30  112
  31  113
  32  114
  33  115
  34  116
  35  117
  36  118
  37  119
  38  121
  39  122
  40  123
  41  125
  42  127
  43  131
  44  132
  45  134
  46  135
  47  136
  48  137
  49  138
  50  139
  51  140
  52  141
  53  144
  54  145
  55  146
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  147
  57  150
  58  154
  59  /
  60   
  61   reg        4 spatial domains /1*4/
  62   r(reg)     all included spatial regions /1*4/
  63   
  64   ptit       price table titles
  65  /
  66    count      number of observations making up the price average
  67    price_uw5  average price
  68  /
  69   
  70   qtit       quantity table titles
  71  /
  72    calperg          calories per gram
  73    quan5            quantities in grams
  74    calpp            calories per person by region
  75    povline_a_flex5    value of flexible food bundle
  76  /
  77   
  78   
  79    posquan(cod,reg)  mark positive quantities in each region
  80    posprice(cod,reg) mark the existence of acceptable price info in each region
  81    chkprice(cod,reg) ensure that prices exist once all estimated
  82  ;
  83   
  84  alias(reg,regq);
  85  alias(r,rq);
  86   
  87  SCALAR
  88     caltarg single level of calories to target across regions / 2150 /
  89   ;
  90   
  91  PARAMETERS
  92   
  93    shr(cod,reg)         shares in each basket by region
  94    chkshr(reg)          check that the calculated shares sum to .9
  95    shrmiss(regq,reg)    shares missing in each region pair
  96    povline_ali(reg)       food poverty line
  97    perc_chng(reg)       percent change in line
  98    finmiss(reg)         final missing shares post optimization procedure
  99   ;
 100   
 101  Table  price(cod,reg,ptit)  price and related information
 102                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/price_unit_flex.inc
 104  102     .       1       22      7.660951
 105  102     .       2       3       4.037868
 106  102     .       4       39      5.059544
 107  103     .       1       85      4.644241
 108  103     .       2       20      2.993122
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  103     .       3       3       3.120475
 110  103     .       4       231     3.315051
 111  104     .       1       175     1.627938
 112  104     .       2       15      .8013899
 113  104     .       3       7       1.194767
 114  104     .       4       436     1.506052
 115  105     .       1       320     1.584668
 116  105     .       2       170     1.009426
 117  105     .       3       81      .4624116
 118  105     .       4       538     1.319354
 119  106     .       1       7       1.340431
 120  106     .       2       17      1.443094
 121  106     .       3       5       .4298794
 122  106     .       4       18      1.689926
 123  107     .       1       274     1.272568
 124  107     .       2       153     .5636851
 125  107     .       3       97      .5056051
 126  107     .       4       519     .7469651
 127  108     .       1       69      .9313743
 128  108     .       2       216     .7504846
 129  108     .       3       84      .4944305
 130  108     .       4       302     .3103162
 131  109     .       1       31      1.203765
 132  109     .       2       8       .2781274
 133  109     .       3       2       .9931867
 134  109     .       4       204     1.662723
 135  110     .       1       69      2.075978
 136  110     .       2       56      .9874935
 137  110     .       3       23      .5735559
 138  110     .       4       113     1.226626
 139  111     .       1       15      .2702927
 140  111     .       2       14      .2268845
 141  111     .       3       124     .6091897
 142  111     .       4       37      .2357657
 143  112     .       1       104     .1767325
 144  112     .       2       101     .0984358
 145  112     .       3       26      .1961787
 146  112     .       4       161     .1208305
 147  113     .       1       342     1.166705
 148  113     .       2       185     .5774712
 149  113     .       3       215     .3928061
 150  113     .       4       469     .5931473
 151  114     .       1       61      .5758854
 152  114     .       2       48      .1581762
 153  114     .       3       23      .0768246
 154  114     .       4       129     .2320708
 155  115     .       1       28      1.086899
 156  115     .       2       68      .5274432
 157  115     .       3       26      .3485716
 158  115     .       4       229     .5822448
 159  116     .       1       6       .8313476
 160  116     .       2       100     .295841
 161  116     .       3       296     .3251039
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  116     .       4       52      .3961543
 163  117     .       1       85      4.017495
 164  117     .       2       77      2.375206
 165  117     .       3       82      2.484348
 166  117     .       4       244     2.665768
 167  118     .       1       35      3.321849
 168  118     .       2       19      1.864212
 169  118     .       3       11      2.541726
 170  118     .       4       91      2.547064
 171  119     .       1       7       5.0374
 172  119     .       2       24      2.289003
 173  119     .       3       21      2.98687
 174  119     .       4       81      3.100364
 175  121     .       1       17      5.495509
 176  121     .       2       30      3.067413
 177  121     .       3       22      4.085305
 178  121     .       4       42      4.301744
 179  122     .       1       61      1.259263
 180  122     .       2       89      .8986972
 181  122     .       3       12      1.256158
 182  122     .       4       89      1.173955
 183  123     .       1       145     .6929173
 184  123     .       2       161     .4430631
 185  123     .       3       91      .3415304
 186  123     .       4       110     .843713
 187  125     .       1       161     .4155988
 188  125     .       2       115     .1833719
 189  125     .       3       97      .1678426
 190  125     .       4       284     .2264473
 191  127     .       1       277     .1424465
 192  127     .       2       217     .0752751
 193  127     .       3       298     .1820852
 194  127     .       4       220     .2269118
 195  131     .       1       89      .5394073
 196  131     .       2       15      .1731842
 197  131     .       3       9       1.305882
 198  131     .       4       256     .3246907
 199  132     .       1       77      .2812567
 200  132     .       2       127     .1343274
 201  132     .       3       46      .1582849
 202  132     .       4       119     .1771953
 203  134     .       1       128     .5751592
 204  134     .       2       74      .4093723
 205  134     .       3       25      .1737934
 206  134     .       4       204     .1458227
 207  135     .       1       358     .2384066
 208  135     .       2       250     .0822964
 209  135     .       3       257     .103948
 210  135     .       4       612     .2033506
 211  136     .       1       403     .1641229
 212  136     .       2       253     .1011874
 213  136     .       3       144     .1628502
 214  136     .       4       641     .1831118
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  137     .       1       88      .3638102
 216  137     .       2       90      .2749358
 217  137     .       3       65      .5288013
 218  137     .       4       201     .2618604
 219  138     .       1       208     .209787
 220  138     .       2       200     .0961377
 221  138     .       3       149     .1025157
 222  138     .       4       577     .1032386
 223  139     .       1       133     .2283175
 224  139     .       2       175     .113224
 225  139     .       3       417     .1135715
 226  139     .       4       135     .1243087
 227  140     .       1       90      .8520115
 228  140     .       2       75      .4601241
 229  140     .       3       32      .2057655
 230  140     .       4       288     .4715795
 231  141     .       1       296     1.131762
 232  141     .       2       154     .6394832
 233  141     .       3       348     .4060791
 234  141     .       4       681     .5397855
 235  144     .       1       200     1.348521
 236  144     .       2       71      .2901362
 237  144     .       3       2       .7681777
 238  144     .       4       276     .7835845
 239  145     .       1       6       1.923104
 240  145     .       2       28      .5072595
 241  145     .       3       36      .3432588
 242  145     .       4       32      .7306576
 243  146     .       1       2       2.749649
 244  146     .       2       10      .6431389
 245  146     .       3       96      .4610117
 246  146     .       4       8       .3507794
 247  147     .       1       335     2.179127
 248  147     .       2       265     1.203346
 249  147     .       3       98      .6951723
 250  147     .       4       428     1.386474
 251  150     .       1       470     .4534341
 252  150     .       2       370     .2083302
 253  150     .       3       534     .276273
 254  150     .       4       894     .3325452
 255  154     .       1       4       .1466214
 256  154     .       2       3       .5439646
 257  154     .       3       97      .4457587
 258  154     .       4       49      .2772215
 259  ;
 260   
 261  Table   quan(cod,reg,qtit)   quantity and related information
 262                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/quan_flex.inc
 264  102     .       1       6.8900000e-01   1.4401339e+00   2.2565869e+03   794.6747
 265  103     .       1       6.8900000e-01   6.3935204e+00   2.2565869e+03   794.6747
 266  104     .       1       6.8900000e-01   2.8280203e+01   2.2565869e+03   794.6747
 267  105     .       1       1.0164000e+00   6.3136463e+01   2.2565869e+03   794.6747
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  107     .       1       1.3440000e+00   4.6472363e+01   2.2565869e+03   794.6747
 269  108     .       1       3.1400000e+00   1.9085659e+01   2.2565869e+03   794.6747
 270  110     .       1       3.6100000e+00   7.0698419e+00   2.2565869e+03   794.6747
 271  112     .       1       9.4600000e-01   9.9244026e+01   2.2565869e+03   794.6747
 272  113     .       1       3.6500000e+00   9.5391884e+01   2.2565869e+03   794.6747
 273  114     .       1       2.6600000e+00   2.0676065e+01   2.2565869e+03   794.6747
 274  117     .       1       1.7982000e+00   4.5045781e+00   2.2565869e+03   794.6747
 275  122     .       1       6.1610000e-01   7.2877617e+00   2.2565869e+03   794.6747
 276  123     .       1       3.7500000e+00   1.9847010e+01   2.2565869e+03   794.6747
 277  125     .       1       6.0000000e-01   5.7221970e+01   2.2565869e+03   794.6747
 278  127     .       1       8.8400000e+00   9.8739502e+01   2.2565869e+03   794.6747
 279  132     .       1       4.3310000e-01   3.0739798e+01   2.2565869e+03   794.6747
 280  134     .       1       4.9400000e-01   2.4303255e+01   2.2565869e+03   794.6747
 281  135     .       1       3.6400000e-01   3.3447086e+01   2.2565869e+03   794.6747
 282  136     .       1       1.6380000e-01   9.8450356e+01   2.2565869e+03   794.6747
 283  138     .       1       2.0160000e-01   7.7151779e+01   2.2565869e+03   794.6747
 284  139     .       1       2.6100000e-01   3.2439926e+01   2.2565869e+03   794.6747
 285  140     .       1       1.0300000e+00   2.1347557e+01   2.2565869e+03   794.6747
 286  141     .       1       3.1300000e+00   4.9430382e+01   2.2565869e+03   794.6747
 287  144     .       1       5.8800000e+00   1.2976621e+01   2.2565869e+03   794.6747
 288  147     .       1       3.8700000e+00   2.1931389e+01   2.2565869e+03   794.6747
 289  150     .       1       0.0000000e+00   1.6355927e+01   2.2565869e+03   794.6747
 290  103     .       2       6.8900000e-01   1.2444478e+00   2.1924021e+03   377.0269
 291  105     .       2       1.0164000e+00   3.2869133e+01   2.1924021e+03   377.0269
 292  106     .       2       3.4300000e+00   2.6608095e+00   2.1924021e+03   377.0269
 293  107     .       2       1.3440000e+00   3.0360521e+01   2.1924021e+03   377.0269
 294  108     .       2       3.1400000e+00   9.1194244e+01   2.1924021e+03   377.0269
 295  110     .       2       3.6100000e+00   5.5270109e+00   2.1924021e+03   377.0269
 296  112     .       2       9.4600000e-01   7.0474380e+01   2.1924021e+03   377.0269
 297  113     .       2       3.6500000e+00   6.8643013e+01   2.1924021e+03   377.0269
 298  115     .       2       3.7800000e+00   1.8723595e+01   2.1924021e+03   377.0269
 299  116     .       2       3.3900000e+00   4.7864475e+01   2.1924021e+03   377.0269
 300  117     .       2       1.7982000e+00   3.9169073e+00   2.1924021e+03   377.0269
 301  121     .       2       1.4835000e+00   1.7068275e+00   2.1924021e+03   377.0269
 302  122     .       2       6.1610000e-01   1.1357417e+01   2.1924021e+03   377.0269
 303  123     .       2       3.7500000e+00   2.6407747e+01   2.1924021e+03   377.0269
 304  125     .       2       6.0000000e-01   3.5421417e+01   2.1924021e+03   377.0269
 305  127     .       2       8.8400000e+00   8.5836449e+01   2.1924021e+03   377.0269
 306  132     .       2       4.3310000e-01   7.1042397e+01   2.1924021e+03   377.0269
 307  134     .       2       4.9400000e-01   8.9968662e+00   2.1924021e+03   377.0269
 308  136     .       2       1.6380000e-01   6.0133751e+01   2.1924021e+03   377.0269
 309  138     .       2       2.0160000e-01   1.0665517e+02   2.1924021e+03   377.0269
 310  139     .       2       2.6100000e-01   8.6900925e+01   2.1924021e+03   377.0269
 311  140     .       2       1.0300000e+00   1.8752653e+01   2.1924021e+03   377.0269
 312  141     .       2       3.1300000e+00   2.4302420e+01   2.1924021e+03   377.0269
 313  147     .       2       3.8700000e+00   1.5957340e+01   2.1924021e+03   377.0269
 314  150     .       2       0.0000000e+00   2.2937033e+01   2.1924021e+03   377.0269
 315  105     .       3       1.0164000e+00   2.8554966e+01   2.1999929e+03   300.0268
 316  107     .       3       1.3440000e+00   2.9945246e+01   2.1999929e+03   300.0268
 317  108     .       3       3.1400000e+00   4.3777302e+01   2.1999929e+03   300.0268
 318  111     .       3       3.6500000e+00   1.8583496e+01   2.1999929e+03   300.0268
 319  113     .       3       3.6500000e+00   5.7671787e+01   2.1999929e+03   300.0268
 320  116     .       3       3.3900000e+00   1.5479637e+02   2.1999929e+03   300.0268
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  117     .       3       1.7982000e+00   1.6409191e+00   2.1999929e+03   300.0268
 322  121     .       3       1.4835000e+00   6.7548954e-01   2.1999929e+03   300.0268
 323  123     .       3       3.7500000e+00   1.7203434e+01   2.1999929e+03   300.0268
 324  125     .       3       6.0000000e-01   3.4199638e+01   2.1999929e+03   300.0268
 325  127     .       3       8.8400000e+00   5.4520683e+01   2.1999929e+03   300.0268
 326  132     .       3       4.3310000e-01   1.8763607e+01   2.1999929e+03   300.0268
 327  135     .       3       3.6400000e-01   2.8280123e+01   2.1999929e+03   300.0268
 328  136     .       3       1.6380000e-01   2.2068098e+01   2.1999929e+03   300.0268
 329  138     .       3       2.0160000e-01   5.7630447e+01   2.1999929e+03   300.0268
 330  139     .       3       2.6100000e-01   2.5379390e+02   2.1999929e+03   300.0268
 331  140     .       3       1.0300000e+00   1.8247984e+01   2.1999929e+03   300.0268
 332  141     .       3       3.1300000e+00   8.1040619e+01   2.1999929e+03   300.0268
 333  145     .       3       8.1000000e-01   8.9427166e+00   2.1999929e+03   300.0268
 334  146     .       3       5.7300000e+00   1.6385727e+01   2.1999929e+03   300.0268
 335  147     .       3       3.8700000e+00   6.7549601e+00   2.1999929e+03   300.0268
 336  150     .       3       0.0000000e+00   2.1187490e+01   2.1999929e+03   300.0268
 337  154     .       3       8.1000000e-01   1.1853395e+01   2.1999929e+03   300.0268
 338  102     .       4       6.8900000e-01   2.0571785e+00   2.2343252e+03   859.9846
 339  103     .       4       6.8900000e-01   1.9987005e+01   2.2343252e+03   859.9846
 340  104     .       4       6.8900000e-01   6.1541771e+01   2.2343252e+03   859.9846
 341  105     .       4       1.0164000e+00   5.7550152e+01   2.2343252e+03   859.9846
 342  107     .       4       1.3440000e+00   7.1942825e+01   2.2343252e+03   859.9846
 343  108     .       4       3.1400000e+00   1.0627628e+02   2.2343252e+03   859.9846
 344  109     .       4       6.4680000e-01   1.7656214e+01   2.2343252e+03   859.9846
 345  110     .       4       3.6100000e+00   6.8134332e+00   2.2343252e+03   859.9846
 346  112     .       4       9.4600000e-01   1.0802370e+02   2.2343252e+03   859.9846
 347  113     .       4       3.6500000e+00   9.4757195e+01   2.2343252e+03   859.9846
 348  115     .       4       3.7800000e+00   4.1569412e+01   2.2343252e+03   859.9846
 349  117     .       4       1.7982000e+00   1.1248504e+01   2.2343252e+03   859.9846
 350  118     .       4       2.3534000e+00   4.0094938e+00   2.2343252e+03   859.9846
 351  119     .       4       1.2210000e+00   3.1698422e+00   2.2343252e+03   859.9846
 352  121     .       4       1.4835000e+00   1.6820096e+00   2.2343252e+03   859.9846
 353  122     .       4       6.1610000e-01   9.1574278e+00   2.2343252e+03   859.9846
 354  123     .       4       3.7500000e+00   9.6027775e+00   2.2343252e+03   859.9846
 355  125     .       4       6.0000000e-01   9.7349663e+01   2.2343252e+03   859.9846
 356  131     .       4       6.2080000e-01   2.5659515e+01   2.2343252e+03   859.9846
 357  134     .       4       4.9400000e-01   4.8572674e+01   2.2343252e+03   859.9846
 358  135     .       4       3.6400000e-01   3.7268726e+01   2.2343252e+03   859.9846
 359  136     .       4       1.6380000e-01   8.0421432e+01   2.2343252e+03   859.9846
 360  138     .       4       2.0160000e-01   1.2927432e+02   2.2343252e+03   859.9846
 361  140     .       4       1.0300000e+00   7.8784081e+01   2.2343252e+03   859.9846
 362  141     .       4       3.1300000e+00   1.4688428e+02   2.2343252e+03   859.9846
 363  144     .       4       5.8800000e+00   1.8504295e+01   2.2343252e+03   859.9846
 364  147     .       4       3.8700000e+00   1.4575277e+01   2.2343252e+03   859.9846
 365  150     .       4       0.0000000e+00   3.1397173e+01   2.2343252e+03   859.9846
 366  ;
 367   
 368    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 369                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 370                         quan(cod,reg,'povline_a_flex5');
 371   
 372    chkshr(reg)=sum(cod,shr(cod,reg));
 373   
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374  loop(reg,
 375    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 376  );
 377   
 378   
 379  *turn on dynamic sets to indicate positive quantities and existence of
 380  *price info for each region
 381   
 382   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 383                        AND price(cod,reg,'count') gt 4) = yes;
 384   
 385   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 386   
 387   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 388   display shrmiss;
 389   
 390    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 391                                             quan(cod,reg,'quan5'))/.9;
 392   
 393    display povline_ali;
 394   
 395   
 396  *boost values so shares sum to one;
 397  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 398   
 399  *fill out price matrix with maximum observed price outside of Maputo
 400   
 401  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 402           loop(r,
 403                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 404                                                price(cod,r,'price_uw5'));
 405           );
 406  );
 407   
 408  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 409   
 410  display 'should be an empty set', chkprice;
 411   
 412   
 413   
 414   
 415  Variables
 416     z                objective value
 417     q(cod,reg)       revised maximum entropy quanties in grams
 418     s(cod,reg)       derived maximum entropy shares
 419     povline(regq,reg)  estimated revealed preference matrix
 420  ;
 421   
 422   
 423  Equations
 424     obj              objective equation
 425     rev(regq,reg)    revealed preference tests
 426     deflin(regq,reg) define revealed preference matrix
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         07/20/13 11:50:28 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427     defshr(cod,regq) define the endogenous budget shares
 428     cals(regq)       ensure that each bundle hits the calorie
 429   
 430  ;
 431   
 432     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
 433                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 434   
 435     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 436                            q(cod,rq)*price(cod,r,'price_uw5'));
 437   
 438     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 439   
 440     defshr(cod,rq)$posquan(cod,rq) ..
 441               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 442   
 443     cals(rq) .. sum(cod$posquan(cod,rq),
 444                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 445   
 446  *set bounds and starting values for variables
 447   
 448    q.lo(cod,reg)=.00001;
 449    q.up(cod,reg)=inf;
 450    q.l(cod,reg)=quan(cod,reg,'quan5');
 451    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 452   
 453    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 454                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 455   
 456   
 457    display povline.l;
 458   
 459  *print the revealed preference matrix prior to optimisation;
 460  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/work/povline_rp_inout.csv" /;
 461  put povline_rp;
 462  povline_rp.pc=5;
 463  povline_rp.nd=0;
 464  put " ";
 465  loop(reg,
 466        put reg.tl;
 467  );
 468  put /;
 469  loop(regq,
 470       put regq.tl;
 471       loop(reg,
 472           put povline.l(regq,reg);
 473       );
 474       put /;
 475  );
 476  put /; put /; put /;
 477   
 478     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 479     s.lo(cod,regq)=.0001;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 481   
 482   
 483     model revpref /obj, deflin, rev, defshr, cals/;
 484   
 485     revpref.holdfixed=1;
 486   
 487     option limrow=100;
 488   
 489     option nlp=conopt;
 490   
 491     solve revpref using nlp minimizing z;
 492   
 493     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 494     display "this is without adjustment for calorie target or 90%", povline.l;
 495   
 496  put /;
 497  loop(rq,
 498       put rq.tl;
 499       loop(r,
 500           put povline.l(rq,r);
 501       );
 502       put /;
 503  );
 504  put /;
 505   
 506   
 507  PARAMETERS
 508     qent(cod,reg)  entropy quantities with all adjustments accounted for
 509     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 510    ;
 511  *readjust quantities to hit regional calorie target and calculate line;
 512     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 513   
 514     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 515                                             qent(cod,r))/.9;
 516   
 517     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 518   
 519     display perc_chng, povline_ent, povline_ali;
 520   
 521     file res/"/home/bjvca/data/data/GAP/Haruna/work/qent.csv" /;
 522   
 523     put res;
 524     res.pc=5;
 525     res.nd=6;
 526   
 527  *recall that the basket reflects 90% of expenditure and 95% of calories";
 528     put "spdomain" ;
 529     put "product" ;
 530     put "quan5";
 531     put "qent";
 532     put "price";
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533     put "calperg";
 534   
 535     put /;
 536   
 537     loop(reg,
 538         loop(cod,
 539             put reg.tl;
 540             put cod.tl;
 541             put quan(cod,reg,'quan5');
 542             put qent(cod,reg);
 543             put price(cod,reg,'price_uw5')
 544             put quan(cod,reg,'calperg');
 545             put /;
 546         );
 547     );
 548   
 549     file lin/ "/home/bjvca/data/data/GAP/Haruna/work/povline_food_ent.csv" /;
 550   
 551     put lin;
 552     lin.pc=5;
 553  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 554   
 555     put "spdomain";
 556     put "flex";
 557     put "ent";
 558     put /;
 559   
 560     loop(reg,
 561           put reg.tl;
 562           put povline_ali(reg);
 563           put povline_ent(reg);
 564           put /;
 565     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/work/product_flex.inc
     3      103 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/work/price_unit_flex.inc
     4      263 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/work/quan_flex.inc


COMPILATION TIME     =        0.003 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    388 PARAMETER shrmiss  shares missing in each region pair

            1           2           3

1                   0.014       0.073
2                               0.010
3       0.043       0.018
4                   0.012       0.140


----    393 PARAMETER povline_ali  food poverty line

1 794.675,    2 377.027,    3 300.027,    4 859.985


----    410 should be an empty set

----    410 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    457 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     715.207     383.820     327.549     478.304
2     599.724     339.324     282.839     368.174
3     650.595     321.483     270.024     350.394
4    1238.390     679.304     612.427     773.986

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


---- obj  =E=  objective equation

obj..  z - (1)*s(102,1) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,2) - (1)*s(103,4) - (1)*s(104,1) - (1)*s(104,4) - (1)*s(105,1) - (1)*s(105,2) - (1)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2) - (1)*s(107,3) - (1)*s(107,4)
     
      - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1) - (1)*s(113,2) - (1)*s(113,3) - (1)*s(113,4)
     
      - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,4) - (1)*s(116,2) - (1)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,4) - (1)*s(119,4) - (1)*s(121,2) - (1)*s(121,3) - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2)
     
      - (1)*s(122,4) - (1)*s(123,1) - (1)*s(123,2) - (1)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3) - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(131,4) - (1)*s(132,1) - (1)*s(132,2) - (1)*s(132,3)
     
      - (1)*s(134,1) - (1)*s(134,2) - (1)*s(134,4) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2) - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,1) - (1)*s(139,2)
     
      - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (1)*s(141,3) - (1)*s(141,4) - (1)*s(144,1) - (1)*s(144,4) - (1)*s(145,3) - (1)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3)
     
      - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (1)*s(150,3) - (1)*s(150,4) - (1)*s(154,3) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 7.660951*q(102,1) - 4.644241*q(103,1) - 1.627938*q(104,1) - 1.584668*q(105,1) - 1.272568*q(107,1) - 0.9313743*q(108,1) - 2.075978*q(110,1) - 0.1767325*q(112,1) - 1.166705*q(113,1) - 0.5758854*q(114,1) - 4.017495*q(117,1)
     
      - 1.259263*q(122,1) - 0.6929173*q(123,1) - 0.4155988*q(125,1) - 0.1424465*q(127,1) - 0.2812567*q(132,1) - 0.5751592*q(134,1) - 0.2384066*q(135,1) - 0.1641229*q(136,1) - 0.209787*q(138,1) - 0.2283175*q(139,1) - 0.8520115*q(140,1) - 1.131762*q(141,1)
     
      - 1.348521*q(144,1) - 2.179127*q(147,1) - 0.4534341*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 4.037868*q(102,1) - 2.993122*q(103,1) - 0.8013899*q(104,1) - 1.009426*q(105,1) - 0.5636851*q(107,1) - 0.7504846*q(108,1) - 0.9874935*q(110,1) - 0.0984358*q(112,1) - 0.5774712*q(113,1) - 0.1581762*q(114,1) - 2.375206*q(117,1)
     
      - 0.8986972*q(122,1) - 0.4430631*q(123,1) - 0.1833719*q(125,1) - 0.0752751*q(127,1) - 0.1343274*q(132,1) - 0.4093723*q(134,1) - 0.0822964*q(135,1) - 0.1011874*q(136,1) - 0.0961377*q(138,1) - 0.113224*q(139,1) - 0.4601241*q(140,1)
     
      - 0.6394832*q(141,1) - 0.2901362*q(144,1) - 1.203346*q(147,1) - 0.2083302*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 3.120475*q(103,1) - 1.194767*q(104,1) - 0.4624116*q(105,1) - 0.5056051*q(107,1) - 0.4944305*q(108,1) - 0.5735559*q(110,1) - 0.1961787*q(112,1) - 0.3928061*q(113,1) - 0.0768246*q(114,1) - 2.484348*q(117,1) - 1.256158*q(122,1)
     
      - 0.3415304*q(123,1) - 0.1678426*q(125,1) - 0.1820852*q(127,1) - 0.1582849*q(132,1) - 0.1737934*q(134,1) - 0.103948*q(135,1) - 0.1628502*q(136,1) - 0.1025157*q(138,1) - 0.1135715*q(139,1) - 0.2057655*q(140,1) - 0.4060791*q(141,1)
     
      - 0.7681777*q(144,1) - 0.6951723*q(147,1) - 0.276273*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 5.059544*q(102,1) - 3.315051*q(103,1) - 1.506052*q(104,1) - 1.319354*q(105,1) - 0.7469651*q(107,1) - 0.3103162*q(108,1) - 1.226626*q(110,1) - 0.1208305*q(112,1) - 0.5931473*q(113,1) - 0.2320708*q(114,1) - 2.665768*q(117,1)
     
      - 1.173955*q(122,1) - 0.843713*q(123,1) - 0.2264473*q(125,1) - 0.2269118*q(127,1) - 0.1771953*q(132,1) - 0.1458227*q(134,1) - 0.2033506*q(135,1) - 0.1831118*q(136,1) - 0.1032386*q(138,1) - 0.1243087*q(139,1) - 0.4715795*q(140,1) - 0.5397855*q(141,1)
     
      - 0.7835845*q(144,1) - 1.386474*q(147,1) - 0.3325452*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 4.644241*q(103,2) - 1.584668*q(105,2) - 1.340431*q(106,2) - 1.272568*q(107,2) - 0.9313743*q(108,2) - 2.075978*q(110,2) - 0.1767325*q(112,2) - 1.166705*q(113,2) - 1.086899*q(115,2) - 0.8313476*q(116,2) - 4.017495*q(117,2)
     
      - 5.495509*q(121,2) - 1.259263*q(122,2) - 0.6929173*q(123,2) - 0.4155988*q(125,2) - 0.1424465*q(127,2) - 0.2812567*q(132,2) - 0.5751592*q(134,2) - 0.1641229*q(136,2) - 0.209787*q(138,2) - 0.2283175*q(139,2) - 0.8520115*q(140,2) - 1.131762*q(141,2)
     
      - 2.179127*q(147,2) - 0.4534341*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 2.993122*q(103,2) - 1.009426*q(105,2) - 1.443094*q(106,2) - 0.5636851*q(107,2) - 0.7504846*q(108,2) - 0.9874935*q(110,2) - 0.0984358*q(112,2) - 0.5774712*q(113,2) - 0.5274432*q(115,2) - 0.295841*q(116,2) - 2.375206*q(117,2)
     
      - 3.067413*q(121,2) - 0.8986972*q(122,2) - 0.4430631*q(123,2) - 0.1833719*q(125,2) - 0.0752751*q(127,2) - 0.1343274*q(132,2) - 0.4093723*q(134,2) - 0.1011874*q(136,2) - 0.0961377*q(138,2) - 0.113224*q(139,2) - 0.4601241*q(140,2) - 0.6394832*q(141,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     deflin  =E=  define revealed preference matrix     
     
      - 1.203346*q(147,2) - 0.2083302*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 3.120475*q(103,2) - 0.4624116*q(105,2) - 0.4298794*q(106,2) - 0.5056051*q(107,2) - 0.4944305*q(108,2) - 0.5735559*q(110,2) - 0.1961787*q(112,2) - 0.3928061*q(113,2) - 0.3485716*q(115,2) - 0.3251039*q(116,2) - 2.484348*q(117,2)
     
      - 4.085305*q(121,2) - 1.256158*q(122,2) - 0.3415304*q(123,2) - 0.1678426*q(125,2) - 0.1820852*q(127,2) - 0.1582849*q(132,2) - 0.1737934*q(134,2) - 0.1628502*q(136,2) - 0.1025157*q(138,2) - 0.1135715*q(139,2) - 0.2057655*q(140,2) - 0.4060791*q(141,2)
     
      - 0.6951723*q(147,2) - 0.276273*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 3.315051*q(103,2) - 1.319354*q(105,2) - 1.689926*q(106,2) - 0.7469651*q(107,2) - 0.3103162*q(108,2) - 1.226626*q(110,2) - 0.1208305*q(112,2) - 0.5931473*q(113,2) - 0.5822448*q(115,2) - 0.3961543*q(116,2) - 2.665768*q(117,2)
     
      - 4.301744*q(121,2) - 1.173955*q(122,2) - 0.843713*q(123,2) - 0.2264473*q(125,2) - 0.2269118*q(127,2) - 0.1771953*q(132,2) - 0.1458227*q(134,2) - 0.1831118*q(136,2) - 0.1032386*q(138,2) - 0.1243087*q(139,2) - 0.4715795*q(140,2) - 0.5397855*q(141,2)
     
      - 1.386474*q(147,2) - 0.3325452*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 1.584668*q(105,3) - 1.272568*q(107,3) - 0.9313743*q(108,3) - 0.2702927*q(111,3) - 1.166705*q(113,3) - 0.8313476*q(116,3) - 4.017495*q(117,3) - 5.495509*q(121,3) - 0.6929173*q(123,3) - 0.4155988*q(125,3) - 0.1424465*q(127,3)
     
      - 0.2812567*q(132,3) - 0.2384066*q(135,3) - 0.1641229*q(136,3) - 0.209787*q(138,3) - 0.2283175*q(139,3) - 0.8520115*q(140,3) - 1.131762*q(141,3) - 1.923104*q(145,3) - 2.749649*q(146,3) - 2.179127*q(147,3) - 0.4534341*q(150,3) - 0.1466214*q(154,3)
     
      + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 1.009426*q(105,3) - 0.5636851*q(107,3) - 0.7504846*q(108,3) - 0.2268845*q(111,3) - 0.5774712*q(113,3) - 0.295841*q(116,3) - 2.375206*q(117,3) - 3.067413*q(121,3) - 0.4430631*q(123,3) - 0.1833719*q(125,3) - 0.0752751*q(127,3)
     
      - 0.1343274*q(132,3) - 0.0822964*q(135,3) - 0.1011874*q(136,3) - 0.0961377*q(138,3) - 0.113224*q(139,3) - 0.4601241*q(140,3) - 0.6394832*q(141,3) - 0.5072595*q(145,3) - 0.6431389*q(146,3) - 1.203346*q(147,3) - 0.2083302*q(150,3) - 0.5439646*q(154,3)
     
      + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.4624116*q(105,3) - 0.5056051*q(107,3) - 0.4944305*q(108,3) - 0.6091897*q(111,3) - 0.3928061*q(113,3) - 0.3251039*q(116,3) - 2.484348*q(117,3) - 4.085305*q(121,3) - 0.3415304*q(123,3) - 0.1678426*q(125,3) - 0.1820852*q(127,3)
     
      - 0.1582849*q(132,3) - 0.103948*q(135,3) - 0.1628502*q(136,3) - 0.1025157*q(138,3) - 0.1135715*q(139,3) - 0.2057655*q(140,3) - 0.4060791*q(141,3) - 0.3432588*q(145,3) - 0.4610117*q(146,3) - 0.6951723*q(147,3) - 0.276273*q(150,3) - 0.4457587*q(154,3)
     
      + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.319354*q(105,3) - 0.7469651*q(107,3) - 0.3103162*q(108,3) - 0.2357657*q(111,3) - 0.5931473*q(113,3) - 0.3961543*q(116,3) - 2.665768*q(117,3) - 4.301744*q(121,3) - 0.843713*q(123,3) - 0.2264473*q(125,3) - 0.2269118*q(127,3)
     
      - 0.1771953*q(132,3) - 0.2033506*q(135,3) - 0.1831118*q(136,3) - 0.1032386*q(138,3) - 0.1243087*q(139,3) - 0.4715795*q(140,3) - 0.5397855*q(141,3) - 0.7306576*q(145,3) - 0.3507794*q(146,3) - 1.386474*q(147,3) - 0.3325452*q(150,3)
     
      - 0.2772215*q(154,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 7.660951*q(102,4) - 4.644241*q(103,4) - 1.627938*q(104,4) - 1.584668*q(105,4) - 1.272568*q(107,4) - 0.9313743*q(108,4) - 1.203765*q(109,4) - 2.075978*q(110,4) - 0.1767325*q(112,4) - 1.166705*q(113,4) - 1.086899*q(115,4)
     
      - 4.017495*q(117,4) - 3.321849*q(118,4) - 5.0374*q(119,4) - 5.495509*q(121,4) - 1.259263*q(122,4) - 0.6929173*q(123,4) - 0.4155988*q(125,4) - 0.5394073*q(131,4) - 0.5751592*q(134,4) - 0.2384066*q(135,4) - 0.1641229*q(136,4) - 0.209787*q(138,4)
     
      - 0.8520115*q(140,4) - 1.131762*q(141,4) - 1.348521*q(144,4) - 2.179127*q(147,4) - 0.4534341*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 4.037868*q(102,4) - 2.993122*q(103,4) - 0.8013899*q(104,4) - 1.009426*q(105,4) - 0.5636851*q(107,4) - 0.7504846*q(108,4) - 0.2781274*q(109,4) - 0.9874935*q(110,4) - 0.0984358*q(112,4) - 0.5774712*q(113,4) - 0.5274432*q(115,4)
     
      - 2.375206*q(117,4) - 1.864212*q(118,4) - 2.289003*q(119,4) - 3.067413*q(121,4) - 0.8986972*q(122,4) - 0.4430631*q(123,4) - 0.1833719*q(125,4) - 0.1731842*q(131,4) - 0.4093723*q(134,4) - 0.0822964*q(135,4) - 0.1011874*q(136,4) - 0.0961377*q(138,4)
     
      - 0.4601241*q(140,4) - 0.6394832*q(141,4) - 0.2901362*q(144,4) - 1.203346*q(147,4) - 0.2083302*q(150,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     deflin  =E=  define revealed preference matrix

deflin(4,3)..  - 3.120475*q(103,4) - 1.194767*q(104,4) - 0.4624116*q(105,4) - 0.5056051*q(107,4) - 0.4944305*q(108,4) - 0.9931867*q(109,4) - 0.5735559*q(110,4) - 0.1961787*q(112,4) - 0.3928061*q(113,4) - 0.3485716*q(115,4) - 2.484348*q(117,4)
     
      - 2.541726*q(118,4) - 2.98687*q(119,4) - 4.085305*q(121,4) - 1.256158*q(122,4) - 0.3415304*q(123,4) - 0.1678426*q(125,4) - 1.305882*q(131,4) - 0.1737934*q(134,4) - 0.103948*q(135,4) - 0.1628502*q(136,4) - 0.1025157*q(138,4) - 0.2057655*q(140,4)
     
      - 0.4060791*q(141,4) - 0.7681777*q(144,4) - 0.6951723*q(147,4) - 0.276273*q(150,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 5.059544*q(102,4) - 3.315051*q(103,4) - 1.506052*q(104,4) - 1.319354*q(105,4) - 0.7469651*q(107,4) - 0.3103162*q(108,4) - 1.662723*q(109,4) - 1.226626*q(110,4) - 0.1208305*q(112,4) - 0.5931473*q(113,4) - 0.5822448*q(115,4)
     
      - 2.665768*q(117,4) - 2.547064*q(118,4) - 3.100364*q(119,4) - 4.301744*q(121,4) - 1.173955*q(122,4) - 0.843713*q(123,4) - 0.2264473*q(125,4) - 0.3246907*q(131,4) - 0.1458227*q(134,4) - 0.2033506*q(135,4) - 0.1831118*q(136,4) - 0.1032386*q(138,4)
     
      - 0.4715795*q(140,4) - 0.5397855*q(141,4) - 0.7835845*q(144,4) - 1.386474*q(147,4) - 0.3325452*q(150,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -115.483651254291, INFES = 115.483651254291 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -64.6123497026557, INFES = 64.6123497026557 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 523.182994408519)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 44.4955257651314)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -17.8417140946792, INFES = 17.8417140946792 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 339.979823503376)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 57.5245568961279)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 12.8145572208905)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 342.402472212506)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -295.682035084461, INFES = 295.682035084461 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -405.812539518202, INFES = 405.812539518202 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -423.591910081872, INFES = 423.591910081872 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(102,1)..  - 7.660951*q(102,1) + (715.207262477219)*s(102,1) + (0.0154260112000615)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 5.059544*q(102,4) + (773.986161958804)*s(102,4) + (0.0134477664436047)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 4.644241*q(103,1) + (715.207262477219)*s(103,1) + (0.0415167059030839)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     defshr  =E=  define the endogenous budget shares

defshr(103,2)..  - 2.993122*q(103,2) + (339.32422582551)*s(103,2) + (0.0109770650149423)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 3.315051*q(103,4) + (773.986161958804)*s(103,4) + (0.0856061053398803)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(104,1)..  - 1.627938*q(104,1) + (715.207262477219)*s(104,1) + (0.0643707349278776)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(104,4)..  - 1.506052*q(104,4) + (773.986161958804)*s(104,4) + (0.119750341612729)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.584668*q(105,1) + (715.207262477219)*s(105,1) + (0.139889984062446)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 1.009426*q(105,2) + (339.32422582551)*s(105,2) + (0.0977795126974505)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.4624116*q(105,3) + (270.024077125211)*s(105,3) + (0.0488998894342403)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 1.319354*q(105,4) + (773.986161958804)*s(105,4) + (0.0981012671462328)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 1.443094*q(106,2) + (339.32422582551)*s(106,2) + (0.0113160155755208)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 1.272568*q(107,1) + (715.207262477219)*s(107,1) + (0.082688257154083)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.5636851*q(107,2) + (339.32422582551)*s(107,2) + (0.0504348702905094)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.5056051*q(107,3) + (270.024077125211)*s(107,3) + (0.0560708113866969)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.7469651*q(107,4) + (773.986161958804)*s(107,4) + (0.0694311889690708)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.9313743*q(108,1) + (715.207262477219)*s(108,1) + (0.0248541831490839)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.7504846*q(108,2) + (339.32422582551)*s(108,2) + (0.201694634575947)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.4944305*q(108,3) + (270.024077125211)*s(108,3) + (0.0801589011874457)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3103162*q(108,4) + (773.986161958804)*s(108,4) + (0.0426096136864671)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.662723*q(109,4) + (773.986161958804)*s(109,4) + (0.0379301266012616)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 2.075978*q(110,1) + (715.207262477219)*s(110,1) + (0.0205210950977245)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 0.9874935*q(110,2) + (339.32422582551)*s(110,2) + (0.0160845790626978)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.226626*q(110,4) + (773.986161958804)*s(110,4) + (0.0107980410027383)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.6091897*q(111,3) + (270.024077125211)*s(111,3) + (0.0419254255906286)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.1767325*q(112,1) + (715.207262477219)*s(112,1) + (0.0245238628650023)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.0984358*q(112,2) + (339.32422582551)*s(112,2) + (0.0204441694604243)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     defshr  =E=  define the endogenous budget shares

defshr(112,4)..  - 0.1208305*q(112,4) + (773.986161958804)*s(112,4) + (0.0168640711221717)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.166705*q(113,1) + (715.207262477219)*s(113,1) + (0.155611098853691)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.5774712*q(113,2) + (339.32422582551)*s(113,2) + (0.116818547194179)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.3928061*q(113,3) + (270.024077125211)*s(113,3) + (0.0838955917290148)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.5931473*q(113,4) + (773.986161958804)*s(113,4) + (0.0726175442563211)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.5758854*q(114,1) + (715.207262477219)*s(114,1) + (0.0166483823468309)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.5274432*q(115,2) + (339.32422582551)*s(115,2) + (0.0291038249281451)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.5822448*q(115,4) + (773.986161958804)*s(115,4) + (0.0312713264986589)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.295841*q(116,2) + (339.32422582551)*s(116,2) + (0.0417308080907746)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.3251039*q(116,3) + (270.024077125211)*s(116,3) + (0.186371912196212)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 4.017495*q(117,1) + (715.207262477219)*s(117,1) + (0.0253033224679202)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.375206*q(117,2) + (339.32422582551)*s(117,2) + (0.0274176171706287)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 2.484348*q(117,3) + (270.024077125211)*s(117,3) + (0.0150972243943878)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.665768*q(117,4) + (773.986161958804)*s(117,4) + (0.0387421681224684)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,4)..  - 2.547064*q(118,4) + (773.986161958804)*s(118,4) + (0.0131945993586727)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 3.100364*q(119,4) + (773.986161958804)*s(119,4) + (0.0126974681532922)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.067413*q(121,2) + (339.32422582551)*s(121,2) + (0.0154293282465183)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 4.085305*q(121,3) + (270.024077125211)*s(121,3) + (0.0102197582696675)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 4.301744*q(121,4) + (773.986161958804)*s(121,4) + (0.00934845486956848)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 1.259263*q(122,1) + (715.207262477219)*s(122,1) + (0.012831537294295)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.8986972*q(122,2) + (339.32422582551)*s(122,2) + (0.0300800181074636)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,4)..  - 1.173955*q(122,4) + (773.986161958804)*s(122,4) + (0.013889664546123)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.6929173*q(123,1) + (715.207262477219)*s(123,1) + (0.0192284632774)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(123,2)..  - 0.4430631*q(123,2) + (339.32422582551)*s(123,2) + (0.0344811756996458)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     defshr  =E=  define the endogenous budget shares

defshr(123,3)..  - 0.3415304*q(123,3) + (270.024077125211)*s(123,3) + (0.0217591548055513)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 0.843713*q(123,4) + (773.986161958804)*s(123,4) + (0.0104678721804961)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.4155988*q(125,1) + (715.207262477219)*s(125,1) + (0.0332510354876234)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.1833719*q(125,2) + (339.32422582551)*s(125,2) + (0.0191418473590576)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.1678426*q(125,3) + (270.024077125211)*s(125,3) + (0.021257941966105)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.2264473*q(125,4) + (773.986161958804)*s(125,4) + (0.0284818636633884)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.1424465*q(127,1) + (715.207262477219)*s(127,1) + (0.0196657629327289)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0752751*q(127,2) + (339.32422582551)*s(127,2) + (0.0190418095448408)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.1820852*q(127,3) + (270.024077125211)*s(127,3) + (0.0367649047221379)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.3246907*q(131,4) + (773.986161958804)*s(131,4) + (0.0107642827436674)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,1)..  - 0.2812567*q(132,1) + (715.207262477219)*s(132,1) + (0.0120884876283286)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.1343274*q(132,2) + (339.32422582551)*s(132,2) + (0.0281233691922871)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1582849*q(132,3) + (270.024077125211)*s(132,3) + (0.0109990030861474)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.5751592*q(134,1) + (715.207262477219)*s(134,1) + (0.0195443215366416)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.4093723*q(134,2) + (339.32422582551)*s(134,2) + (0.0108541257262905)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(134,4)..  - 0.1458227*q(134,4) + (773.986161958804)*s(134,4) + (0.00915132442545762)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.2384066*q(135,1) + (715.207262477219)*s(135,1) + (0.0111492241081956)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.103948*q(135,3) + (270.024077125211)*s(135,3) + (0.010886667059104)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.2033506*q(135,4) + (773.986161958804)*s(135,4) + (0.0097916709184511)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1641229*q(136,1) + (715.207262477219)*s(136,1) + (0.0225919936506057)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1011874*q(136,2) + (339.32422582551)*s(136,2) + (0.0179320468532252)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1628502*q(136,3) + (270.024077125211)*s(136,3) + (0.0133091619502254)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.1831118*q(136,4) + (773.986161958804)*s(136,4) + (0.0190263261746551)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(138,1)..  - 0.209787*q(138,1) + (715.207262477219)*s(138,1) + (0.022630419334687)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     defshr  =E=  define the endogenous budget shares

defshr(138,2)..  - 0.0961377*q(138,2) + (339.32422582551)*s(138,2) + (0.0302176560248949)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.1025157*q(138,3) + (270.024077125211)*s(138,3) + (0.0218796252483008)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1032386*q(138,4) + (773.986161958804)*s(138,4) + (0.0172433313006213)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,1)..  - 0.2283175*q(139,1) + (715.207262477219)*s(139,1) + (0.0103558831028242)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.113224*q(139,2) + (339.32422582551)*s(139,2) + (0.0289966633188744)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.1135715*q(139,3) + (270.024077125211)*s(139,3) + (0.106745125178168)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.8520115*q(140,1) + (715.207262477219)*s(140,1) + (0.025430899565963)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.4601241*q(140,2) + (339.32422582551)*s(140,2) + (0.0254286223249923)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 0.2057655*q(140,3) + (270.024077125211)*s(140,3) + (0.0139054472168824)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.4715795*q(140,4) + (773.986161958804)*s(140,4) + (0.0480020953241758)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.131762*q(141,1) + (715.207262477219)*s(141,1) + (0.078219882442631)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.6394832*q(141,2) + (339.32422582551)*s(141,2) + (0.045799822489938)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.4060791*q(141,3) + (270.024077125211)*s(141,3) + (0.121873952787191)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.5397855*q(141,4) + (773.986161958804)*s(141,4) + (0.102438529806893)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 1.348521*q(144,1) + (715.207262477219)*s(144,1) + (0.0244673772843552)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.7835845*q(144,4) + (773.986161958804)*s(144,4) + (0.0187337700053083)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(145,3)..  - 0.3432588*q(145,3) + (270.024077125211)*s(145,3) + (0.0113681202118605)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.4610117*q(146,3) + (270.024077125211)*s(146,3) + (0.0279753270168685)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 2.179127*q(147,1) + (715.207262477219)*s(147,1) + (0.0668215836509704)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.203346*q(147,2) + (339.32422582551)*s(147,2) + (0.0565895382592409)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.6951723*q(147,3) + (270.024077125211)*s(147,3) + (0.0173905275378378)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.386474*q(147,4) + (773.986161958804)*s(147,4) + (0.026109307370761)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.4534341*q(150,1) + (715.207262477219)*s(150,1) + (0.0103694906749453)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.2083302*q(150,2) + (339.32422582551)*s(150,2) + (0.0140823327915108)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 491


     defshr  =E=  define the endogenous budget shares

defshr(150,3)..  - 0.276273*q(150,3) + (270.024077125211)*s(150,3) + (0.0216778129087196)*povline(3,3) =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(102,1) + 0.689*q(103,1) + 0.689*q(104,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1)
     
      + 8.84*q(127,1) + 0.4331*q(132,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 0.261*q(139,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ;
     
      (LHS = 2143.75747837569, INFES = 101.25747837569 ****)
     
cals(2)..  0.689*q(103,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.4835*q(121,2) + 0.6161*q(122,2) + 3.75*q(123,2)
     
      + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 3.87*q(147,2) =E= 2042.5 ; (LHS = 2082.78191958451, INFES = 40.28191958451 ****)
     
cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 1.4835*q(121,3) + 3.75*q(123,3) + 0.6*q(125,3) + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3) + 0.1638*q(136,3)
     
      + 0.2016*q(138,3) + 0.261*q(139,3) + 1.03*q(140,3) + 3.13*q(141,3) + 0.81*q(145,3) + 5.73*q(146,3) + 3.87*q(147,3) + 0.81*q(154,3) =E= 2042.5 ; (LHS = 2089.99323718891, INFES = 47.4932371889095 ****)
     
cals(4)..  0.689*q(102,4) + 0.689*q(103,4) + 0.689*q(104,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 2.3534*q(118,4) + 1.221*q(119,4)
     
      + 1.4835*q(121,4) + 0.6161*q(122,4) + 3.75*q(123,4) + 0.6*q(125,4) + 0.6208*q(131,4) + 0.494*q(134,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.88*q(144,4) + 3.87*q(147,4) =E= 2042.5 ;
     
      (LHS = 2122.6090654082, INFES = 80.1090654081995 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 491


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(102,1)
                (.LO, .L, .UP, .M = 1E-5, 1.4401339, +INF, 0)
       -7.661   deflin(1,1)
       -4.0379  deflin(1,2)
       -5.0595  deflin(1,4)
       -7.661   defshr(102,1)
        0.689   cals(1)

q(102,4)
                (.LO, .L, .UP, .M = 1E-5, 2.0571785, +INF, 0)
       -7.661   deflin(4,1)
       -4.0379  deflin(4,2)
       -5.0595  deflin(4,4)
       -5.0595  defshr(102,4)
        0.689   cals(4)

q(103,1)
                (.LO, .L, .UP, .M = 1E-5, 6.3935204, +INF, 0)
       -4.6442  deflin(1,1)
       -2.9931  deflin(1,2)
       -3.1205  deflin(1,3)
       -3.3151  deflin(1,4)
       -4.6442  defshr(103,1)
        0.689   cals(1)

REMAINING 99 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(102,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0154260112000615, +INF, 0)
      (-1)      obj
     (715.2073) defshr(102,1)

s(102,4)
                (.LO, .L, .UP, .M = 0.0001, 0.0134477664436047, +INF, 0)
      (-1)      obj
     (773.9862) defshr(102,4)

s(103,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0415167059030839, +INF, 0)
      (-1)      obj
     (715.2073) defshr(103,1)

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 491


     s  derived maximum entropy shares

REMAINING 99 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 715.207262477219, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.0154) defshr(102,1)
       (0.0415) defshr(103,1)
       (0.0644) defshr(104,1)
       (0.1399) defshr(105,1)
       (0.0827) defshr(107,1)
       (0.0249) defshr(108,1)
       (0.0205) defshr(110,1)
       (0.0245) defshr(112,1)
       (0.1556) defshr(113,1)
       (0.0166) defshr(114,1)
       (0.0253) defshr(117,1)
       (0.0128) defshr(122,1)
       (0.0192) defshr(123,1)
       (0.0333) defshr(125,1)
       (0.0197) defshr(127,1)
       (0.0121) defshr(132,1)
       (0.0195) defshr(134,1)
       (0.0111) defshr(135,1)
       (0.0226) defshr(136,1)
       (0.0226) defshr(138,1)
       (0.0104) defshr(139,1)
       (0.0254) defshr(140,1)
       (0.0782) defshr(141,1)
       (0.0245) defshr(144,1)
       (0.0668) defshr(147,1)
       (0.0104) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 383.819751590641, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 327.548634021339, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 491


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          135
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          221
NON ZERO ELEMENTS           953     NON LINEAR N-Z            306
DERIVATIVE POOL              10     CONSTANT POOL             118
CODE LENGTH                 920


GENERATION TIME      =        0.005 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.006 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  491

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.1753

 RESOURCE USAGE, LIMIT          0.054      1000.000
 ITERATION COUNT, LIMIT        78    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 221 variables and 135 constraints
    with 953 Jacobian elements, 306 of which are nonlinear.
    The Hessian of the Lagrangian has 102 elements on the diagonal,
    102 elements below the diagonal, and 106 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.054 seconds
   of which: Function evaluations             0.012 = 22.2%
             1st Derivative evaluations       0.004 =  7.4%
             2nd Derivative evaluations       0.003 =  5.6%
             Directional 2nd Derivative       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0005      
1.2          .              .              .            -0.0012      
1.3          .              .              .             EPS         
1.4          .              .              .             EPS         
2.1          .              .              .            -0.0007      
2.2          .              .              .            -0.0007      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .            -0.0004      
3.1          .              .              .             EPS         
3.2          .              .              .            -0.0002      
3.3          .              .              .            -0.0028      
3.4          .              .              .            -0.0005      
4.1          .              .              .             EPS         
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0011      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF            0.0007      
1.3          .            65.1953        +INF            EPS         
1.4          .            57.0426        +INF             .          
2.1          .              .            +INF            0.0012      
2.3          .              .            +INF            0.0002      
2.4          .            48.8759        +INF             .          
3.1          .            14.5844        +INF            EPS         
3.2          .            15.9761        +INF             .          
3.4          .            66.9868        +INF             .          
4.1          .            51.0904        +INF             .          
4.2          .              .            +INF            0.0004      
4.3          .              .            +INF            0.0005      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

102.1          .              .              .             0.0012      
102.4          .              .              .             0.0012      
103.1          .              .              .             0.0013      
103.2          .              .              .             0.0021      
103.4          .              .              .             0.0012      
104.1          .              .              .             0.0011      
104.4          .              .              .             0.0012      
105.1          .              .              .             0.0013      
105.2          .              .              .             0.0022      
105.3          .              .              .             0.0043      
105.4          .              .              .             0.0013      
106.2          .              .              .             0.0017      
107.1          .              .              .             0.0010      
107.2          .              .              .             0.0026      
107.3          .              .              .             0.0033      
107.4          .              .              .             0.0016      
108.1          .              .              .             0.0015      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

108.2          .              .              .             0.0015      
108.3          .              .              .             0.0023      
108.4          .              .              .             0.0035      
109.4          .              .              .             0.0012      
110.1          .              .              .             0.0011      
110.2          .              .              .             0.0024      
110.4          .              .              .             0.0018      
111.3          .              .              .             0.0020      
112.1          .              .              .             0.0011      
112.2          .              .              .             0.0019      
112.4          .              .              .             0.0029      
113.1          .              .              .             0.0011      
113.2          .              .              .             0.0022      
113.3          .              .              .             0.0022      
113.4          .              .              .             0.0026      
114.1          .              .              .             0.0008      
115.2          .              .              .             0.0022      
115.4          .              .              .             0.0026      
116.2          .              .              .             0.0026      
116.3          .              .              .             0.0018      
117.1          .              .              .             0.0012      
117.2          .              .              .             0.0022      
117.3          .              .              .             0.0034      
117.4          .              .              .             0.0013      
118.4          .              .              .             0.0014      
119.4          .              .              .             0.0012      
121.2          .              .              .             0.0024      
121.3          .              .              .             0.0034      
121.4          .              .              .             0.0012      
122.1          .              .              .             0.0014      
122.2          .              .              .             0.0021      
122.4          .              .              .             0.0013      
123.1          .              .              .             0.0012      
123.2          .              .              .             0.0021      
123.3          .              .              .             0.0024      
123.4          .              .              .             0.0022      
125.1          .              .              .             0.0010      
125.2          .              .              .             0.0025      
125.3          .              .              .             0.0031      
125.4          .              .              .             0.0018      
127.1          .              .              .             0.0004      
127.2          .              .              .            -0.0019      
127.3          .              .              .            -0.0049      
131.4          .              .              .             0.0016      
132.1          .              .              .             0.0011      
132.2          .              .              .             0.0024      
132.3          .              .              .             0.0031      
134.1          .              .              .             0.0014      
134.2          .              .              .             0.0017      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

134.4          .              .              .             0.0019      
135.1          .              .              .             0.0009      
135.3          .              .              .             0.0033      
135.4          .              .              .             0.0016      
136.1          .              .              .             0.0013      
136.2          .              .              .             0.0024      
136.3          .              .              .             0.0033      
136.4          .              .              .             0.0013      
138.1          .              .              .             0.0011      
138.2          .              .              .             0.0025      
138.3          .              .              .             0.0032      
138.4          .              .              .             0.0016      
139.1          .              .              .             0.0011      
139.2          .              .              .             0.0024      
139.3          .              .              .             0.0032      
140.1          .              .              .             0.0012      
140.2          .              .              .             0.0022      
140.3          .              .              .             0.0035      
140.4          .              .              .             0.0016      
141.1          .              .              .             0.0012      
141.2          .              .              .             0.0020      
141.3          .              .              .             0.0024      
141.4          .              .              .             0.0025      
144.1          .              .              .             0.0007      
144.4          .              .              .             0.0029      
145.3          .              .              .             0.0038      
146.3          .              .              .             0.0013      
147.1          .              .              .             0.0012      
147.2          .              .              .             0.0022      
147.3          .              .              .             0.0032      
147.4          .              .              .             0.0018      
150.1          .              .              .             0.0011      
150.2          .              .              .             0.0027      
150.3          .              .              .             0.0036      
150.4          .              .              .             0.0011      
154.3          .              .              .             0.0030      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   -1.312350E-5      
2      2042.5000      2042.5000      2042.5000   -4.248813E-5      
3      2042.5000      2042.5000      2042.5000        -0.0002      
4      2042.5000      2042.5000      2042.5000         0.0002      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.1753        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

102.1   1.0000000E-5         1.7745        +INF            EPS         
102.4   1.0000000E-5         0.9570        +INF             .          
103.1   1.0000000E-5         8.9374        +INF             .          
103.2   1.0000000E-5         1.7939        +INF             .          
103.4   1.0000000E-5         9.3792        +INF             .          
104.1   1.0000000E-5        33.4329        +INF             .          
104.4   1.0000000E-5        29.7676        +INF            EPS         
105.1   1.0000000E-5        87.0545        +INF            EPS         
105.2   1.0000000E-5        48.6654        +INF            EPS         
105.3   1.0000000E-5        74.9956        +INF            EPS         
105.4   1.0000000E-5        28.9141        +INF             .          
106.2   1.0000000E-5         3.0616        +INF            EPS         
107.1   1.0000000E-5        51.7136        +INF            EPS         
107.2   1.0000000E-5        54.3089        +INF             .          
107.3   1.0000000E-5        54.3164        +INF             .          
107.4   1.0000000E-5        40.9520        +INF             .          
108.1   1.0000000E-5        30.6100        +INF             .          
108.2   1.0000000E-5        96.9062        +INF             .          
108.3   1.0000000E-5        54.4079        +INF             .          
108.4   1.0000000E-5       166.0196        +INF             .          
109.4   1.0000000E-5         8.4696        +INF             .          
110.1   1.0000000E-5         8.0870        +INF             .          
110.2   1.0000000E-5         9.0411        +INF             .          
110.4   1.0000000E-5         4.4558        +INF             .          
111.3   1.0000000E-5        20.8101        +INF             .          
112.1   1.0000000E-5       118.9303        +INF            EPS         
112.2   1.0000000E-5        92.6103        +INF             .          
112.4   1.0000000E-5       127.8150        +INF             .          
113.1   1.0000000E-5       109.6577        +INF             .          
113.2   1.0000000E-5        99.6628        +INF             .          
113.3   1.0000000E-5        69.6181        +INF             .          
113.4   1.0000000E-5        91.4900        +INF            EPS         
114.1   1.0000000E-5        18.4179        +INF             .          
115.2   1.0000000E-5        27.4450        +INF             .          
115.4   1.0000000E-5        41.8191        +INF             .          
116.2   1.0000000E-5        84.7706        +INF             .          
116.3   1.0000000E-5       157.4976        +INF            EPS         
117.1   1.0000000E-5         5.9244        +INF             .          
117.2   1.0000000E-5         5.8503        +INF             .          
117.3   1.0000000E-5         3.0955        +INF             .          
117.4   1.0000000E-5         5.5861        +INF             .          
118.4   1.0000000E-5         2.0523        +INF             .          
119.4   1.0000000E-5         1.5214        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

121.2   1.0000000E-5         2.7849        +INF             .          
121.3   1.0000000E-5         1.2811        +INF             .          
121.4   1.0000000E-5         0.8025        +INF             .          
122.1   1.0000000E-5        10.9354        +INF             .          
122.2   1.0000000E-5        16.0591        +INF             .          
122.4   1.0000000E-5         4.4658        +INF             .          
123.1   1.0000000E-5        25.9818        +INF             .          
123.2   1.0000000E-5        37.4533        +INF             .          
123.3   1.0000000E-5        22.0459        +INF             .          
123.4   1.0000000E-5         7.5352        +INF             .          
125.1   1.0000000E-5        63.2760        +INF             .          
125.2   1.0000000E-5        61.3701        +INF             .          
125.3   1.0000000E-5        56.8776        +INF             .          
125.4   1.0000000E-5        61.4377        +INF             .          
127.1   1.0000000E-5        60.0210        +INF             .          
127.2   1.0000000E-5        18.1052        +INF             .          
127.3   1.0000000E-5         4.3222        +INF             .          
131.4   1.0000000E-5        14.8073        +INF             .          
132.1   1.0000000E-5        35.3155        +INF             .          
132.2   1.0000000E-5       118.6002        +INF             .          
132.3   1.0000000E-5        31.0214        +INF             .          
134.1   1.0000000E-5        36.2387        +INF             .          
134.2   1.0000000E-5        10.5747        +INF             .          
134.4   1.0000000E-5        33.5265        +INF             .          
135.1   1.0000000E-5        33.3093        +INF             .          
135.3   1.0000000E-5        51.9529        +INF             .          
135.4   1.0000000E-5        21.1906        +INF             .          
136.1   1.0000000E-5       132.2387        +INF             .          
136.2   1.0000000E-5        98.0587        +INF            EPS         
136.3   1.0000000E-5        40.2878        +INF             .          
136.4   1.0000000E-5        41.0184        +INF             .          
138.1   1.0000000E-5        87.3801        +INF             .          
138.2   1.0000000E-5       178.9564        +INF             .          
138.3   1.0000000E-5        98.7499        +INF             .          
138.4   1.0000000E-5        74.9700        +INF             .          
139.1   1.0000000E-5        38.1860        +INF             .          
139.2   1.0000000E-5       138.5238        +INF             .          
139.3   1.0000000E-5       434.4588        +INF            EPS         
140.1   1.0000000E-5        26.3363        +INF             .          
140.2   1.0000000E-5        28.0576        +INF             .          
140.3   1.0000000E-5        35.8840        +INF             .          
140.4   1.0000000E-5        46.9903        +INF             .          
141.1   1.0000000E-5        61.5461        +INF             .          
141.2   1.0000000E-5        32.4837        +INF             .          
141.3   1.0000000E-5       105.7320        +INF             .          
141.4   1.0000000E-5       135.8399        +INF            EPS         
144.1   1.0000000E-5        10.8716        +INF             .          
144.4   1.0000000E-5        21.0474        +INF             .          
145.3   1.0000000E-5        19.2329        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

146.3   1.0000000E-5        13.8517        +INF             .          
147.1   1.0000000E-5        27.2376        +INF            EPS         
147.2   1.0000000E-5        23.6607        +INF             .          
147.3   1.0000000E-5        11.6620        +INF             .          
147.4   1.0000000E-5         9.3580        +INF             .          
150.1   1.0000000E-5        18.7528        +INF             .          
150.2   1.0000000E-5        44.1489        +INF             .          
150.3   1.0000000E-5        42.3738        +INF             .          
150.4   1.0000000E-5        14.3666        +INF            EPS         
154.3   1.0000000E-5        19.4441        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

102.1         0.0001         0.0156        +INF             .          
102.4         0.0001         0.0092        +INF            EPS         
103.1         0.0001         0.0477        +INF            EPS         
103.2         0.0001         0.0112        +INF            EPS         
103.4         0.0001         0.0590        +INF             .          
104.1         0.0001         0.0625        +INF            EPS         
104.4         0.0001         0.0850        +INF             .          
105.1         0.0001         0.1584        +INF             .          
105.2         0.0001         0.1028        +INF             .          
105.3         0.0001         0.0915        +INF             .          
105.4         0.0001         0.0723        +INF            EPS         
106.2         0.0001         0.0092        +INF      1.5184000E-8      
107.1         0.0001         0.0756        +INF             .          
107.2         0.0001         0.0641        +INF            EPS         
107.3         0.0001         0.0724        +INF             .          
107.4         0.0001         0.0580        +INF            EPS         
108.1         0.0001         0.0327        +INF            EPS         
108.2         0.0001         0.1522        +INF            EPS         
108.3         0.0001         0.0709        +INF            EPS         
108.4         0.0001         0.0977        +INF             .          
109.4         0.0001         0.0267        +INF            EPS         
110.1         0.0001         0.0193        +INF            EPS         
110.2         0.0001         0.0187        +INF            EPS         
110.4         0.0001         0.0104        +INF            EPS         
111.3         0.0001         0.0334        +INF            EPS         
112.1         0.0001         0.0241        +INF             .          
112.2         0.0001         0.0191        +INF      -1.115343E-9      
112.4         0.0001         0.0293        +INF            EPS         
113.1         0.0001         0.1469        +INF             .          
113.2         0.0001         0.1204        +INF             .          
113.3         0.0001         0.0721        +INF            EPS         
113.4         0.0001         0.1029        +INF             .          
114.1         0.0001         0.0122        +INF      -1.851062E-9      
115.2         0.0001         0.0303        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

115.4         0.0001         0.0462        +INF            EPS         
116.2         0.0001         0.0525        +INF             .          
116.3         0.0001         0.1350        +INF             .          
117.1         0.0001         0.0273        +INF            EPS         
117.2         0.0001         0.0291        +INF            EPS         
117.3         0.0001         0.0203        +INF            EPS         
117.4         0.0001         0.0282        +INF            EPS         
118.4         0.0001         0.0099        +INF            EPS         
119.4         0.0001         0.0089        +INF             .          
121.2         0.0001         0.0179        +INF            EPS         
121.3         0.0001         0.0138        +INF            EPS         
121.4         0.0001         0.0065        +INF            EPS         
122.1         0.0001         0.0158        +INF             .          
122.2         0.0001         0.0302        +INF            EPS         
122.4         0.0001         0.0099        +INF            EPS         
123.1         0.0001         0.0207        +INF            EPS         
123.2         0.0001         0.0347        +INF             .          
123.3         0.0001         0.0199        +INF            EPS         
123.4         0.0001         0.0121        +INF            EPS         
125.1         0.0001         0.0302        +INF            EPS         
125.2         0.0001         0.0235        +INF            EPS         
125.3         0.0001         0.0252        +INF            EPS         
125.4         0.0001         0.0264        +INF            EPS         
127.1         0.0001         0.0098        +INF             .          
127.2         0.0001         0.0029        +INF      -1.115628E-9      
127.3         0.0001         0.0021        +INF             .          
131.4         0.0001         0.0091        +INF            EPS         
132.1         0.0001         0.0114        +INF            EPS         
132.2         0.0001         0.0333        +INF            EPS         
132.3         0.0001         0.0129        +INF            EPS         
134.1         0.0001         0.0239        +INF            EPS         
134.2         0.0001         0.0091        +INF            EPS         
134.4         0.0001         0.0093        +INF            EPS         
135.1         0.0001         0.0091        +INF            EPS         
135.3         0.0001         0.0142        +INF      -2.133791E-9      
135.4         0.0001         0.0082        +INF      1.4591822E-9      
136.1         0.0001         0.0249        +INF            EPS         
136.2         0.0001         0.0208        +INF             .          
136.3         0.0001         0.0173        +INF            EPS         
136.4         0.0001         0.0142        +INF            EPS         
138.1         0.0001         0.0211        +INF            EPS         
138.2         0.0001         0.0360        +INF            EPS         
138.3         0.0001         0.0267        +INF            EPS         
138.4         0.0001         0.0147        +INF            EPS         
139.1         0.0001         0.0100        +INF            EPS         
139.2         0.0001         0.0328        +INF            EPS         
139.3         0.0001         0.1301        +INF             .          
140.1         0.0001         0.0258        +INF            EPS         
140.2         0.0001         0.0270        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 491


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

140.3         0.0001         0.0195        +INF            EPS         
140.4         0.0001         0.0420        +INF            EPS         
141.1         0.0001         0.0800        +INF            EPS         
141.2         0.0001         0.0435        +INF            EPS         
141.3         0.0001         0.1132        +INF             .          
141.4         0.0001         0.1390        +INF             .          
144.1         0.0001         0.0168        +INF            EPS         
144.4         0.0001         0.0313        +INF            EPS         
145.3         0.0001         0.0174        +INF             .          
146.3         0.0001         0.0168        +INF            EPS         
147.1         0.0001         0.0682        +INF             .          
147.2         0.0001         0.0596        +INF            EPS         
147.3         0.0001         0.0214        +INF            EPS         
147.4         0.0001         0.0246        +INF            EPS         
150.1         0.0001         0.0098        +INF            EPS         
150.2         0.0001         0.0192        +INF             .          
150.3         0.0001         0.0309        +INF            EPS         
150.4         0.0001         0.0091        +INF             .          
154.3         0.0001         0.0229        +INF            EPS         

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          870.6561        +INF             .          
1.2        -INF          477.9067        +INF             .          
1.3        -INF          393.7655        +INF             .          
1.4        -INF          578.5067        +INF             .          
2.1        -INF          870.6561        +INF             .          
2.2        -INF          477.9067        +INF             .          
2.3        -INF          395.1572        +INF             .          
2.4        -INF          527.4163        +INF             .          
3.1        -INF          935.8514        +INF             .          
3.2        -INF          477.9067        +INF             .          
3.3        -INF          379.1811        +INF             .          
3.4        -INF          527.4163        +INF             .          
4.1        -INF          927.6987        +INF             .          
4.2        -INF          526.7826        +INF             .          
4.3        -INF          446.1679        +INF             .          
4.4        -INF          527.4163        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        07/20/13 11:50:28 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    494 this is without adjustment for calorie target or 90%

----    494 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     870.656     477.907     393.765     578.507
2     870.656     477.907     395.157     527.416
3     935.851     477.907     379.181     527.416
4     927.699     526.783     446.168     527.416


----    519 PARAMETER perc_chng  percent change in line

1  27.770,    2  43.618,    3  43.690,    4 -29.185


----    519 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 1015.355,    2  541.480,    3  431.109,    4  609.002


----    519 PARAMETER povline_ali  food poverty line

1 794.675,    2 377.027,    3 300.027,    4 859.985


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/new/list.lst
