GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *File to estimate quantities consistent with revealed preferences
   2   
      This file uses:
               work\product_flex.inc
               work\price_unit_flex.inc
               work\quan_flex.inc
       
      This file creates:
               work\qent.csv
               work\povline_ali_ent.csv
               work\povline_rp_inout.csv
       
  15   
  16  SETS
  17   cod        200910 codes for products used in basket
  18  /
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/product_flex.inc
  20  102
  21  103
  22  104
  23  105
  24  106
  25  107
  26  108
  27  109
  28  110
  29  111
  30  112
  31  113
  32  114
  33  115
  34  116
  35  117
  36  118
  37  119
  38  121
  39  122
  40  123
  41  125
  42  127
  43  131
  44  132
  45  134
  46  135
  47  136
  48  137
  49  138
  50  139
  51  140
  52  141
  53  144
  54  146
  55  147
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56  150
  57  154
  58  /
  59   
  60   reg        4 spatial domains /1*4/
  61   r(reg)     all included spatial regions /1*4/
  62   
  63   ptit       price table titles
  64  /
  65    count      number of observations making up the price average
  66    price_uw5  average price
  67  /
  68   
  69   qtit       quantity table titles
  70  /
  71    calperg          calories per gram
  72    quan5            quantities in grams
  73    calpp            calories per person by region
  74    povline_a_flex5    value of flexible food bundle
  75  /
  76   
  77   
  78    posquan(cod,reg)  mark positive quantities in each region
  79    posprice(cod,reg) mark the existence of acceptable price info in each region
  80    chkprice(cod,reg) ensure that prices exist once all estimated
  81  ;
  82   
  83  alias(reg,regq);
  84  alias(r,rq);
  85   
  86  SCALAR
  87     caltarg single level of calories to target across regions / 2150 /
  88   ;
  89   
  90  PARAMETERS
  91   
  92    shr(cod,reg)         shares in each basket by region
  93    chkshr(reg)          check that the calculated shares sum to .9
  94    shrmiss(regq,reg)    shares missing in each region pair
  95    povline_ali(reg)       food poverty line
  96    perc_chng(reg)       percent change in line
  97    finmiss(reg)         final missing shares post optimization procedure
  98   ;
  99   
 100  Table  price(cod,reg,ptit)  price and related information
 101                          count   price_uw5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/price_unit_flex.inc
 103  102     .       1       22      7.790125
 104  102     .       2       3       4.109427
 105  102     .       4       36      5.056595
 106  103     .       1       80      4.663099
 107  103     .       2       19      3.054938
 108  103     .       3       3       3.035833
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 109  103     .       4       225     3.312153
 110  104     .       1       170     1.625997
 111  104     .       2       17      .8058956
 112  104     .       3       7       1.169878
 113  104     .       4       429     1.473116
 114  105     .       1       311     1.547903
 115  105     .       2       179     1.028875
 116  105     .       3       75      .4574819
 117  105     .       4       523     1.316428
 118  106     .       1       7       1.376459
 119  106     .       2       15      1.616832
 120  106     .       3       5       .42983
 121  106     .       4       18      1.670233
 122  107     .       1       265     1.284305
 123  107     .       2       160     .5820085
 124  107     .       3       97      .5019661
 125  107     .       4       496     .7421389
 126  108     .       1       67      .936701
 127  108     .       2       228     .7537656
 128  108     .       3       84      .5227625
 129  108     .       4       293     .3082825
 130  109     .       1       30      1.222786
 131  109     .       2       8       .2820362
 132  109     .       3       2       .978248
 133  109     .       4       199     1.649956
 134  110     .       1       69      2.080988
 135  110     .       2       62      .9887432
 136  110     .       3       20      .5662268
 137  110     .       4       111     1.212502
 138  111     .       1       14      .2732994
 139  111     .       2       14      .214634
 140  111     .       3       124     .7147254
 141  111     .       4       35      .2362791
 142  112     .       1       99      .1801571
 143  112     .       2       100     .1085121
 144  112     .       3       25      .2068157
 145  112     .       4       160     .1685875
 146  113     .       1       333     1.172197
 147  113     .       2       191     .5899292
 148  113     .       3       214     .3856063
 149  113     .       4       463     .5881042
 150  114     .       1       58      .5669262
 151  114     .       2       50      .1585889
 152  114     .       3       22      .0744221
 153  114     .       4       122     .2272928
 154  115     .       1       25      1.024828
 155  115     .       2       75      .5441473
 156  115     .       3       26      .3404754
 157  115     .       4       224     .5671217
 158  116     .       1       6       .8324447
 159  116     .       2       104     .29945
 160  116     .       3       287     .3395327
 161  116     .       4       51      .4015032
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 162  117     .       1       85      4.051328
 163  117     .       2       87      2.422319
 164  117     .       3       83      2.429741
 165  117     .       4       241     2.65015
 166  118     .       1       33      3.326667
 167  118     .       2       18      1.880907
 168  118     .       3       11      2.495807
 169  118     .       4       90      2.537674
 170  119     .       1       6       5.069503
 171  119     .       2       26      2.322145
 172  119     .       3       20      2.974117
 173  119     .       4       80      3.099347
 174  121     .       1       17      5.512494
 175  121     .       2       33      3.169358
 176  121     .       3       22      3.991582
 177  121     .       4       41      4.230608
 178  122     .       1       59      1.264924
 179  122     .       2       97      .8689364
 180  122     .       3       10      1.281637
 181  122     .       4       89      1.162382
 182  123     .       1       142     .7030212
 183  123     .       2       165     .4626496
 184  123     .       3       91      .3393449
 185  123     .       4       109     .8414907
 186  125     .       1       157     .4129545
 187  125     .       2       116     .1797553
 188  125     .       3       99      .1586624
 189  125     .       4       271     .228617
 190  127     .       1       271     .1447394
 191  127     .       2       228     .0761291
 192  127     .       3       294     .1777257
 193  127     .       4       218     .2208603
 194  131     .       1       85      .5219761
 195  131     .       2       19      .2006138
 196  131     .       3       9       1.287573
 197  131     .       4       250     .3165819
 198  132     .       1       76      .2795797
 199  132     .       2       130     .144153
 200  132     .       3       47      .1539056
 201  132     .       4       116     .1649679
 202  134     .       1       123     .565348
 203  134     .       2       79      .4185723
 204  134     .       3       25      .1701746
 205  134     .       4       196     .1430282
 206  135     .       1       333     .2460255
 207  135     .       2       264     .0868142
 208  135     .       3       252     .1019781
 209  135     .       4       624     .1932575
 210  136     .       1       374     .1654239
 211  136     .       2       265     .1034754
 212  136     .       3       138     .1577837
 213  136     .       4       627     .1808198
 214  137     .       1       86      .3694848
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 215  137     .       2       94      .2839745
 216  137     .       3       65      .5226991
 217  137     .       4       199     .258933
 218  138     .       1       193     .2129289
 219  138     .       2       213     .0983763
 220  138     .       3       148     .1009125
 221  138     .       4       566     .1033338
 222  139     .       1       123     .2343946
 223  139     .       2       186     .1142941
 224  139     .       3       405     .1113316
 225  139     .       4       132     .1217569
 226  140     .       1       87      .8396118
 227  140     .       2       77      .4671004
 228  140     .       3       33      .1967048
 229  140     .       4       284     .4678989
 230  141     .       1       289     1.137751
 231  141     .       2       160     .6478444
 232  141     .       3       343     .3972606
 233  141     .       4       657     .5422996
 234  144     .       1       190     1.366515
 235  144     .       2       74      .3715973
 236  144     .       3       2       .7582902
 237  144     .       4       268     .7747303
 238  146     .       1       2       2.754251
 239  146     .       2       10      .652114
 240  146     .       3       90      .4590875
 241  146     .       4       8       .3477479
 242  147     .       1       324     2.187969
 243  147     .       2       276     1.230062
 244  147     .       3       93      .6840752
 245  147     .       4       419     1.378143
 246  150     .       1       455     .453861
 247  150     .       2       386     .2109521
 248  150     .       3       525     .2691178
 249  150     .       4       878     .3307912
 250  154     .       1       4       .1471094
 251  154     .       2       3       .5452006
 252  154     .       3       100     .4366103
 253  154     .       4       49      .2756385
 254  ;
 255   
 256  Table   quan(cod,reg,qtit)   quantity and related information
 257                             calperg          quan5           calpp      povline_a_flex5
INCLUDE    /home/bjvca/data/data/GAP/Haruna/work/quan_flex.inc
 259  102     .       1       6.8900000e-01   1.4781208e+00   2.2565869e+03   795.8202
 260  103     .       1       6.8900000e-01   6.2910714e+00   2.2565869e+03   795.8202
 261  104     .       1       6.8900000e-01   2.8539766e+01   2.2565869e+03   795.8202
 262  105     .       1       1.0164000e+00   6.6104073e+01   2.2565869e+03   795.8202
 263  107     .       1       1.3440000e+00   4.6914932e+01   2.2565869e+03   795.8202
 264  108     .       1       3.1400000e+00   1.9199862e+01   2.2565869e+03   795.8202
 265  110     .       1       3.6100000e+00   7.3299522e+00   2.2565869e+03   795.8202
 266  112     .       1       9.4600000e-01   9.8219810e+01   2.2565869e+03   795.8202
 267  113     .       1       3.6500000e+00   9.5148331e+01   2.2565869e+03   795.8202
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 268  114     .       1       2.6600000e+00   2.1279854e+01   2.2565869e+03   795.8202
 269  117     .       1       1.7982000e+00   4.5728188e+00   2.2565869e+03   795.8202
 270  122     .       1       6.1610000e-01   7.4880953e+00   2.2565869e+03   795.8202
 271  123     .       1       3.7500000e+00   1.9934444e+01   2.2565869e+03   795.8202
 272  125     .       1       6.0000000e-01   5.7465996e+01   2.2565869e+03   795.8202
 273  127     .       1       8.8400000e+00   9.8887390e+01   2.2565869e+03   795.8202
 274  132     .       1       4.3310000e-01   3.1470758e+01   2.2565869e+03   795.8202
 275  134     .       1       4.9400000e-01   2.3552385e+01   2.2565869e+03   795.8202
 276  135     .       1       3.6400000e-01   3.2675041e+01   2.2565869e+03   795.8202
 277  136     .       1       1.6380000e-01   9.9807526e+01   2.2565869e+03   795.8202
 278  138     .       1       2.0160000e-01   7.6528076e+01   2.2565869e+03   795.8202
 279  140     .       1       1.0300000e+00   2.2032639e+01   2.2565869e+03   795.8202
 280  141     .       1       3.1300000e+00   4.9897053e+01   2.2565869e+03   795.8202
 281  144     .       1       5.8800000e+00   1.2693565e+01   2.2565869e+03   795.8202
 282  147     .       1       3.8700000e+00   2.2289194e+01   2.2565869e+03   795.8202
 283  150     .       1       0.0000000e+00   1.6478117e+01   2.2565869e+03   795.8202
 284  103     .       2       6.8900000e-01   1.1485285e+00   2.1924021e+03   383.8522
 285  105     .       2       1.0164000e+00   3.3117283e+01   2.1924021e+03   383.8522
 286  106     .       2       3.4300000e+00   2.0719759e+00   2.1924021e+03   383.8522
 287  107     .       2       1.3440000e+00   2.9598036e+01   2.1924021e+03   383.8522
 288  108     .       2       3.1400000e+00   9.1206627e+01   2.1924021e+03   383.8522
 289  110     .       2       3.6100000e+00   6.1796184e+00   2.1924021e+03   383.8522
 290  112     .       2       9.4600000e-01   6.4855507e+01   2.1924021e+03   383.8522
 291  113     .       2       3.6500000e+00   7.0497116e+01   2.1924021e+03   383.8522
 292  115     .       2       3.7800000e+00   1.9549711e+01   2.1924021e+03   383.8522
 293  116     .       2       3.3900000e+00   4.6676270e+01   2.1924021e+03   383.8522
 294  117     .       2       1.7982000e+00   4.2901807e+00   2.1924021e+03   383.8522
 295  121     .       2       1.4835000e+00   1.7145662e+00   2.1924021e+03   383.8522
 296  122     .       2       6.1610000e-01   1.2031351e+01   2.1924021e+03   383.8522
 297  123     .       2       3.7500000e+00   2.5775015e+01   2.1924021e+03   383.8522
 298  125     .       2       6.0000000e-01   3.5371719e+01   2.1924021e+03   383.8522
 299  127     .       2       8.8400000e+00   8.6485428e+01   2.1924021e+03   383.8522
 300  132     .       2       4.3310000e-01   6.7475723e+01   2.1924021e+03   383.8522
 301  134     .       2       4.9400000e-01   9.0005388e+00   2.1924021e+03   383.8522
 302  136     .       2       1.6380000e-01   6.1411953e+01   2.1924021e+03   383.8522
 303  138     .       2       2.0160000e-01   1.0263886e+02   2.1924021e+03   383.8522
 304  139     .       2       2.6100000e-01   8.8681381e+01   2.1924021e+03   383.8522
 305  140     .       2       1.0300000e+00   1.7873491e+01   2.1924021e+03   383.8522
 306  141     .       2       3.1300000e+00   2.4246658e+01   2.1924021e+03   383.8522
 307  147     .       2       3.8700000e+00   1.5503375e+01   2.1924021e+03   383.8522
 308  150     .       2       0.0000000e+00   2.3002020e+01   2.1924021e+03   383.8522
 309  105     .       3       1.0164000e+00   2.6578653e+01   2.1999929e+03   298.3196
 310  107     .       3       1.3440000e+00   3.0643911e+01   2.1999929e+03   298.3196
 311  108     .       3       3.1400000e+00   4.2940285e+01   2.1999929e+03   298.3196
 312  111     .       3       3.6500000e+00   1.6220087e+01   2.1999929e+03   298.3196
 313  113     .       3       3.6500000e+00   6.0068829e+01   2.1999929e+03   298.3196
 314  115     .       3       3.7800000e+00   7.5186300e+00   2.1999929e+03   298.3196
 315  116     .       3       3.3900000e+00   1.4532420e+02   2.1999929e+03   298.3196
 316  117     .       3       1.7982000e+00   1.7616657e+00   2.1999929e+03   298.3196
 317  121     .       3       1.4835000e+00   7.1855396e-01   2.1999929e+03   298.3196
 318  123     .       3       3.7500000e+00   1.7886616e+01   2.1999929e+03   298.3196
 319  125     .       3       6.0000000e-01   3.6521744e+01   2.1999929e+03   298.3196
 320  127     .       3       8.8400000e+00   5.5689312e+01   2.1999929e+03   298.3196
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 321  132     .       3       4.3310000e-01   2.0164009e+01   2.1999929e+03   298.3196
 322  135     .       3       3.6400000e-01   2.8675394e+01   2.1999929e+03   298.3196
 323  136     .       3       1.6380000e-01   2.1460329e+01   2.1999929e+03   298.3196
 324  138     .       3       2.0160000e-01   6.0678768e+01   2.1999929e+03   298.3196
 325  139     .       3       2.6100000e-01   2.5185263e+02   2.1999929e+03   298.3196
 326  140     .       3       1.0300000e+00   2.0057650e+01   2.1999929e+03   298.3196
 327  141     .       3       3.1300000e+00   8.2154991e+01   2.1999929e+03   298.3196
 328  146     .       3       5.7300000e+00   1.5341786e+01   2.1999929e+03   298.3196
 329  147     .       3       3.8700000e+00   6.5438657e+00   2.1999929e+03   298.3196
 330  150     .       3       0.0000000e+00   2.1317863e+01   2.1999929e+03   298.3196
 331  154     .       3       8.1000000e-01   1.2631431e+01   2.1999929e+03   298.3196
 332  102     .       4       6.8900000e-01   1.7554762e+00   2.2343252e+03   769.162
 333  103     .       4       6.8900000e-01   1.7602705e+01   2.2343252e+03   769.162
 334  104     .       4       6.8900000e-01   5.5657734e+01   2.2343252e+03   769.162
 335  105     .       4       1.0164000e+00   5.1988110e+01   2.2343252e+03   769.162
 336  107     .       4       1.3440000e+00   6.5020393e+01   2.2343252e+03   769.162
 337  108     .       4       3.1400000e+00   9.7301468e+01   2.2343252e+03   769.162
 338  109     .       4       6.4680000e-01   1.6091963e+01   2.2343252e+03   769.162
 339  110     .       4       3.6100000e+00   6.2034359e+00   2.2343252e+03   769.162
 340  112     .       4       9.4600000e-01   6.8907600e+01   2.2343252e+03   769.162
 341  113     .       4       3.6500000e+00   8.5660721e+01   2.2343252e+03   769.162
 342  115     .       4       3.7800000e+00   3.7814323e+01   2.2343252e+03   769.162
 343  117     .       4       1.7982000e+00   1.0233885e+01   2.2343252e+03   769.162
 344  118     .       4       2.3534000e+00   3.5577440e+00   2.2343252e+03   769.162
 345  119     .       4       1.2210000e+00   2.8856332e+00   2.2343252e+03   769.162
 346  121     .       4       1.4835000e+00   1.5369493e+00   2.2343252e+03   769.162
 347  122     .       4       6.1610000e-01   8.4166059e+00   2.2343252e+03   769.162
 348  123     .       4       3.7500000e+00   8.7829409e+00   2.2343252e+03   769.162
 349  125     .       4       6.0000000e-01   8.3882759e+01   2.2343252e+03   769.162
 350  127     .       4       8.8400000e+00   2.8775925e+01   2.2343252e+03   769.162
 351  131     .       4       6.2080000e-01   2.3494631e+01   2.2343252e+03   769.162
 352  135     .       4       3.6400000e-01   3.5133961e+01   2.2343252e+03   769.162
 353  136     .       4       1.6380000e-01   7.3299744e+01   2.2343252e+03   769.162
 354  138     .       4       2.0160000e-01   1.1588090e+02   2.2343252e+03   769.162
 355  140     .       4       1.0300000e+00   7.1591980e+01   2.2343252e+03   769.162
 356  141     .       4       3.1300000e+00   1.3137198e+02   2.2343252e+03   769.162
 357  144     .       4       5.8800000e+00   1.6599054e+01   2.2343252e+03   769.162
 358  147     .       4       3.8700000e+00   1.3150244e+01   2.2343252e+03   769.162
 359  150     .       4       0.0000000e+00   2.8393904e+01   2.2343252e+03   769.162
 360  ;
 361   
 362    shr(cod,reg)$quan(cod,reg,'povline_a_flex5')
 363                        =price(cod,reg,'price_uw5')*quan(cod,reg,'quan5')/
 364                         quan(cod,reg,'povline_a_flex5');
 365   
 366    chkshr(reg)=sum(cod,shr(cod,reg));
 367   
 368  loop(reg,
 369    abort$(abs(chkshr(reg)-.9) gt .0001) "share does not sum to .9", chkshr ;
 370  );
 371   
 372   
 373  *turn on dynamic sets to indicate positive quantities and existence of
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 374  *price info for each region
 375   
 376   posprice(cod,reg)$(price(cod,reg,'price_uw5')
 377                        AND price(cod,reg,'count') gt 4) = yes;
 378   
 379   posquan(cod,reg)$quan(cod,reg,'quan5')=yes;
 380   
 381   shrmiss(regq,reg)=sum(cod$(NOT posprice(cod,reg)), shr(cod,regq));
 382   display shrmiss;
 383   
 384    povline_ali(reg)=sum(cod$posquan(cod,reg),price(cod,reg,'price_uw5')*
 385                                             quan(cod,reg,'quan5'))/.9;
 386   
 387    display povline_ali;
 388   
 389   
 390  *boost values so shares sum to one;
 391  shr(cod,reg)=shr(cod,reg)/chkshr(reg);
 392   
 393  *fill out price matrix with maximum observed price outside of Maputo
 394   
 395  loop((cod,reg)$(NOT posprice(cod,reg) AND posquan(cod,reg)),
 396           loop(r,
 397                   price(cod,reg,'price_uw5')=max(price(cod,reg,'price_uw5'),
 398                                                price(cod,r,'price_uw5'));
 399           );
 400  );
 401   
 402  chkprice(cod,reg)$(NOT price(cod,reg,'price_uw5') AND posquan(cod,reg))=yes;
 403   
 404  display 'should be an empty set', chkprice;
 405   
 406   
 407   
 408   
 409  Variables
 410     z                objective value
 411     q(cod,reg)       revised maximum entropy quanties in grams
 412     s(cod,reg)       derived maximum entropy shares
 413     povline(regq,reg)  estimated revealed preference matrix
 414  ;
 415   
 416   
 417  Equations
 418     obj              objective equation
 419     rev(regq,reg)    revealed preference tests
 420     deflin(regq,reg) define revealed preference matrix
 421     defshr(cod,regq) define the endogenous budget shares
 422     cals(regq)       ensure that each bundle hits the calorie
 423   
 424  ;
 425   
 426     obj ..  z=e= sum((cod,rq)$posquan(cod,rq),
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                         10/28/13 10:27:25 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 427                     s(cod,rq)*log(s(cod,rq)/shr(cod,rq)));
 428   
 429     deflin(rq,r) .. povline(rq,r) =e= sum(cod$posquan(cod,rq),
 430                            q(cod,rq)*price(cod,r,'price_uw5'));
 431   
 432     rev(rq,r) ..    povline(r,rq)=g=povline(rq,rq);
 433   
 434     defshr(cod,rq)$posquan(cod,rq) ..
 435               povline(rq,rq)*s(cod,rq)=e= q(cod,rq)*price(cod,rq,'price_uw5');
 436   
 437     cals(rq) .. sum(cod$posquan(cod,rq),
 438                      q(cod,rq)*quan(cod,rq,'calperg'))=e=.95*caltarg;
 439   
 440  *set bounds and starting values for variables
 441   
 442    q.lo(cod,reg)=.00001;
 443    q.up(cod,reg)=inf;
 444    q.l(cod,reg)=quan(cod,reg,'quan5');
 445    q.fx(cod,reg)$(NOT posquan(cod,reg))=0;
 446   
 447    povline.l(regq,reg)= sum(cod$posquan(cod,regq),
 448                            q.l(cod,regq)*price(cod,reg,'price_uw5'));
 449   
 450   
 451    display povline.l;
 452   
 453  *print the revealed preference matrix prior to optimisation;
 454  file povline_rp/"/home/bjvca/data/data/GAP/Haruna/work/povline_rp_inout.csv" /;
 455  put povline_rp;
 456  povline_rp.pc=5;
 457  povline_rp.nd=0;
 458  put " ";
 459  loop(reg,
 460        put reg.tl;
 461  );
 462  put /;
 463  loop(regq,
 464       put regq.tl;
 465       loop(reg,
 466           put povline.l(regq,reg);
 467       );
 468       put /;
 469  );
 470  put /; put /; put /;
 471   
 472     s.l(cod,regq)= q.l(cod,regq)*price(cod,regq,'price_uw5')/povline.l(regq,regq);
 473     s.lo(cod,regq)=.0001;
 474     s.fx(cod,regq)$(NOT posquan(cod,regq))=0;
 475   
 476   
 477     model revpref /obj, deflin, rev, defshr, cals/;
 478   
 479     revpref.holdfixed=1;
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 480   
 481     option limrow=100;
 482   
 483     option nlp=conopt;
 484   
 485     solve revpref using nlp minimizing z;
 486   
 487     povline.l(regq,reg)$(NOT rq(regq) OR NOT r(reg))=0;
 488     display "this is without adjustment for calorie target or 90%", povline.l;
 489   
 490  put /;
 491  loop(rq,
 492       put rq.tl;
 493       loop(r,
 494           put povline.l(rq,r);
 495       );
 496       put /;
 497  );
 498  put /;
 499   
 500   
 501  PARAMETERS
 502     qent(cod,reg)  entropy quantities with all adjustments accounted for
 503     povline_ent(reg) entropy line that hits calorie targets (100% food expen)
 504    ;
 505  *readjust quantities to hit regional calorie target and calculate line;
 506     qent(cod,r)=q.l(cod,r)*quan(cod,r,'calpp')/caltarg;
 507   
 508     povline_ent(r)=sum(cod$posquan(cod,r),price(cod,r,'price_uw5')*
 509                                             qent(cod,r))/.9;
 510   
 511     perc_chng(r)=100*(povline_ent(r)/povline_ali(r)-1);
 512   
 513     display perc_chng, povline_ent, povline_ali;
 514   
 515     file res/"/home/bjvca/data/data/GAP/Haruna/work/qent.csv" /;
 516   
 517     put res;
 518     res.pc=5;
 519     res.nd=6;
 520   
 521  *recall that the basket reflects 90% of expenditure and 95% of calories";
 522     put "spdomain" ;
 523     put "product" ;
 524     put "quan5";
 525     put "qent";
 526     put "price";
 527     put "calperg";
 528   
 529     put /;
 530   
 531     loop(reg,
 532         loop(cod,
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 533             put reg.tl;
 534             put cod.tl;
 535             put quan(cod,reg,'quan5');
 536             put qent(cod,reg);
 537             put price(cod,reg,'price_uw5')
 538             put quan(cod,reg,'calperg');
 539             put /;
 540         );
 541     );
 542   
 543     file lin/ "/home/bjvca/data/data/GAP/Haruna/work/povline_food_ent.csv" /;
 544   
 545     put lin;
 546     lin.pc=5;
 547  *Flexible, entropy, and fixed food pov lines at 100% expenditure
 548   
 549     put "spdomain";
 550     put "flex";
 551     put "ent";
 552     put /;
 553   
 554     loop(reg,
 555           put reg.tl;
 556           put povline_ali(reg);
 557           put povline_ent(reg);
 558           put /;
 559     );
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/bjvca/data/data/GAP/Haruna/new/190a_revpref13_r_bjorn.gms
     2       19 INCLUDE        1      19  ./home/bjvca/data/data/GAP/Haruna/work/product_flex.inc
     3      102 INCLUDE        1      64  ./home/bjvca/data/data/GAP/Haruna/work/price_unit_flex.inc
     4      258 INCLUDE        1      69  ./home/bjvca/data/data/GAP/Haruna/work/quan_flex.inc


COMPILATION TIME     =        0.006 SECONDS      3 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    382 PARAMETER shrmiss  shares missing in each region pair

            1           2           3

1                   0.014       0.073
2                               0.009
3       0.042       0.018
4                   0.012       0.139


----    387 PARAMETER povline_ali  food poverty line

1 795.820,    2 383.852,    3 298.320,    4 769.162


----    404 should be an empty set

----    404 SET chkprice  ensure that prices exist once all estimated

                                                      ( EMPTY )


----    451 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     716.238     393.473     322.335     481.128
2     599.991     345.467     282.863     367.558
3     637.674     324.100     268.488     344.657
4    1089.194     605.108     538.492     692.246

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


---- obj  =E=  objective equation

obj..  z - (1)*s(102,1) - (1)*s(102,4) - (1)*s(103,1) - (1)*s(103,2) - (1)*s(103,4) - (1)*s(104,1) - (1)*s(104,4) - (1)*s(105,1) - (1)*s(105,2) - (0.999999999999999)*s(105,3) - (1)*s(105,4) - (1)*s(106,2) - (1)*s(107,1) - (1)*s(107,2)
     
      - (0.999999999999999)*s(107,3) - (1)*s(107,4) - (1)*s(108,1) - (1)*s(108,2) - (1)*s(108,3) - (1)*s(108,4) - (1)*s(109,4) - (1)*s(110,1) - (1)*s(110,2) - (1)*s(110,4) - (1)*s(111,3) - (1)*s(112,1) - (1)*s(112,2) - (1)*s(112,4) - (1)*s(113,1)
     
      - (1)*s(113,2) - (0.999999999999999)*s(113,3) - (1)*s(113,4) - (1)*s(114,1) - (1)*s(115,2) - (1)*s(115,3) - (1)*s(115,4) - (1)*s(116,2) - (0.999999999999999)*s(116,3) - (1)*s(117,1) - (1)*s(117,2) - (1)*s(117,3) - (1)*s(117,4) - (1)*s(118,4)
     
      - (1)*s(119,4) - (1)*s(121,2) - (0.999999999999999)*s(121,3) - (1)*s(121,4) - (1)*s(122,1) - (1)*s(122,2) - (1)*s(122,4) - (1)*s(123,1) - (1)*s(123,2) - (0.999999999999999)*s(123,3) - (1)*s(123,4) - (1)*s(125,1) - (1)*s(125,2) - (1)*s(125,3)
     
      - (1)*s(125,4) - (1)*s(127,1) - (1)*s(127,2) - (1)*s(127,3) - (1)*s(127,4) - (1)*s(131,4) - (1)*s(132,1) - (1)*s(132,2) - (1)*s(132,3) - (1)*s(134,1) - (1)*s(134,2) - (1)*s(135,1) - (1)*s(135,3) - (1)*s(135,4) - (1)*s(136,1) - (1)*s(136,2)
     
      - (1)*s(136,3) - (1)*s(136,4) - (1)*s(138,1) - (1)*s(138,2) - (1)*s(138,3) - (1)*s(138,4) - (1)*s(139,2) - (1)*s(139,3) - (1)*s(140,1) - (1)*s(140,2) - (1)*s(140,3) - (1)*s(140,4) - (1)*s(141,1) - (1)*s(141,2) - (0.999999999999999)*s(141,3)
     
      - (1)*s(141,4) - (1)*s(144,1) - (1)*s(144,4) - (0.999999999999999)*s(146,3) - (1)*s(147,1) - (1)*s(147,2) - (1)*s(147,3) - (1)*s(147,4) - (1)*s(150,1) - (1)*s(150,2) - (0.999999999999999)*s(150,3) - (1)*s(150,4) - (1)*s(154,3) =E= 0 ; (LHS = 0)
     

---- deflin  =E=  define revealed preference matrix

deflin(1,1)..  - 7.790125*q(102,1) - 4.663099*q(103,1) - 1.625997*q(104,1) - 1.547903*q(105,1) - 1.284305*q(107,1) - 0.936701*q(108,1) - 2.080988*q(110,1) - 0.1801571*q(112,1) - 1.172197*q(113,1) - 0.5669262*q(114,1) - 4.051328*q(117,1)
     
      - 1.264924*q(122,1) - 0.7030212*q(123,1) - 0.4129545*q(125,1) - 0.1447394*q(127,1) - 0.2795797*q(132,1) - 0.565348*q(134,1) - 0.2460255*q(135,1) - 0.1654239*q(136,1) - 0.2129289*q(138,1) - 0.8396118*q(140,1) - 1.137751*q(141,1) - 1.366515*q(144,1)
     
      - 2.187969*q(147,1) - 0.453861*q(150,1) + povline(1,1) =E= 0 ; (LHS = 0)
     
deflin(1,2)..  - 4.109427*q(102,1) - 3.054938*q(103,1) - 0.8058956*q(104,1) - 1.028875*q(105,1) - 0.5820085*q(107,1) - 0.7537656*q(108,1) - 0.9887432*q(110,1) - 0.1085121*q(112,1) - 0.5899292*q(113,1) - 0.1585889*q(114,1) - 2.422319*q(117,1)
     
      - 0.8689364*q(122,1) - 0.4626496*q(123,1) - 0.1797553*q(125,1) - 0.0761291*q(127,1) - 0.144153*q(132,1) - 0.4185723*q(134,1) - 0.0868142*q(135,1) - 0.1034754*q(136,1) - 0.0983763*q(138,1) - 0.4671004*q(140,1) - 0.6478444*q(141,1)
     
      - 0.3715973*q(144,1) - 1.230062*q(147,1) - 0.2109521*q(150,1) + povline(1,2) =E= 0 ; (LHS = 0)
     
deflin(1,3)..  - 3.035833*q(103,1) - 1.169878*q(104,1) - 0.4574819*q(105,1) - 0.5019661*q(107,1) - 0.5227625*q(108,1) - 0.5662268*q(110,1) - 0.2068157*q(112,1) - 0.3856063*q(113,1) - 0.0744221*q(114,1) - 2.429741*q(117,1) - 1.281637*q(122,1)
     
      - 0.3393449*q(123,1) - 0.1586624*q(125,1) - 0.1777257*q(127,1) - 0.1539056*q(132,1) - 0.1701746*q(134,1) - 0.1019781*q(135,1) - 0.1577837*q(136,1) - 0.1009125*q(138,1) - 0.1967048*q(140,1) - 0.3972606*q(141,1) - 0.7582902*q(144,1)
     
      - 0.6840752*q(147,1) - 0.2691178*q(150,1) + povline(1,3) =E= 0 ; (LHS = 0)
     
deflin(1,4)..  - 5.056595*q(102,1) - 3.312153*q(103,1) - 1.473116*q(104,1) - 1.316428*q(105,1) - 0.7421389*q(107,1) - 0.3082825*q(108,1) - 1.212502*q(110,1) - 0.1685875*q(112,1) - 0.5881042*q(113,1) - 0.2272928*q(114,1) - 2.65015*q(117,1)
     
      - 1.162382*q(122,1) - 0.8414907*q(123,1) - 0.228617*q(125,1) - 0.2208603*q(127,1) - 0.1649679*q(132,1) - 0.1430282*q(134,1) - 0.1932575*q(135,1) - 0.1808198*q(136,1) - 0.1033338*q(138,1) - 0.4678989*q(140,1) - 0.5422996*q(141,1) - 0.7747303*q(144,1)
     
      - 1.378143*q(147,1) - 0.3307912*q(150,1) + povline(1,4) =E= 0 ; (LHS = 0)
     
deflin(2,1)..  - 4.663099*q(103,2) - 1.547903*q(105,2) - 1.376459*q(106,2) - 1.284305*q(107,2) - 0.936701*q(108,2) - 2.080988*q(110,2) - 0.1801571*q(112,2) - 1.172197*q(113,2) - 1.024828*q(115,2) - 0.8324447*q(116,2) - 4.051328*q(117,2)
     
      - 5.512494*q(121,2) - 1.264924*q(122,2) - 0.7030212*q(123,2) - 0.4129545*q(125,2) - 0.1447394*q(127,2) - 0.2795797*q(132,2) - 0.565348*q(134,2) - 0.1654239*q(136,2) - 0.2129289*q(138,2) - 0.2343946*q(139,2) - 0.8396118*q(140,2) - 1.137751*q(141,2)
     
      - 2.187969*q(147,2) - 0.453861*q(150,2) + povline(2,1) =E= 0 ; (LHS = 0)
     
deflin(2,2)..  - 3.054938*q(103,2) - 1.028875*q(105,2) - 1.616832*q(106,2) - 0.5820085*q(107,2) - 0.7537656*q(108,2) - 0.9887432*q(110,2) - 0.1085121*q(112,2) - 0.5899292*q(113,2) - 0.5441473*q(115,2) - 0.29945*q(116,2) - 2.422319*q(117,2)
     
      - 3.169358*q(121,2) - 0.8689364*q(122,2) - 0.4626496*q(123,2) - 0.1797553*q(125,2) - 0.0761291*q(127,2) - 0.144153*q(132,2) - 0.4185723*q(134,2) - 0.1034754*q(136,2) - 0.0983763*q(138,2) - 0.1142941*q(139,2) - 0.4671004*q(140,2) - 0.6478444*q(141,2)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     deflin  =E=  define revealed preference matrix     
     
      - 1.230062*q(147,2) - 0.2109521*q(150,2) + povline(2,2) =E= 0 ; (LHS = 0)
     
deflin(2,3)..  - 3.035833*q(103,2) - 0.4574819*q(105,2) - 0.42983*q(106,2) - 0.5019661*q(107,2) - 0.5227625*q(108,2) - 0.5662268*q(110,2) - 0.2068157*q(112,2) - 0.3856063*q(113,2) - 0.3404754*q(115,2) - 0.3395327*q(116,2) - 2.429741*q(117,2)
     
      - 3.991582*q(121,2) - 1.281637*q(122,2) - 0.3393449*q(123,2) - 0.1586624*q(125,2) - 0.1777257*q(127,2) - 0.1539056*q(132,2) - 0.1701746*q(134,2) - 0.1577837*q(136,2) - 0.1009125*q(138,2) - 0.1113316*q(139,2) - 0.1967048*q(140,2) - 0.3972606*q(141,2)
     
      - 0.6840752*q(147,2) - 0.2691178*q(150,2) + povline(2,3) =E= 0 ; (LHS = 0)
     
deflin(2,4)..  - 3.312153*q(103,2) - 1.316428*q(105,2) - 1.670233*q(106,2) - 0.7421389*q(107,2) - 0.3082825*q(108,2) - 1.212502*q(110,2) - 0.1685875*q(112,2) - 0.5881042*q(113,2) - 0.5671217*q(115,2) - 0.4015032*q(116,2) - 2.65015*q(117,2)
     
      - 4.230608*q(121,2) - 1.162382*q(122,2) - 0.8414907*q(123,2) - 0.228617*q(125,2) - 0.2208603*q(127,2) - 0.1649679*q(132,2) - 0.1430282*q(134,2) - 0.1808198*q(136,2) - 0.1033338*q(138,2) - 0.1217569*q(139,2) - 0.4678989*q(140,2) - 0.5422996*q(141,2)
     
      - 1.378143*q(147,2) - 0.3307912*q(150,2) + povline(2,4) =E= 0 ; (LHS = 0)
     
deflin(3,1)..  - 1.547903*q(105,3) - 1.284305*q(107,3) - 0.936701*q(108,3) - 0.2732994*q(111,3) - 1.172197*q(113,3) - 1.024828*q(115,3) - 0.8324447*q(116,3) - 4.051328*q(117,3) - 5.512494*q(121,3) - 0.7030212*q(123,3) - 0.4129545*q(125,3)
     
      - 0.1447394*q(127,3) - 0.2795797*q(132,3) - 0.2460255*q(135,3) - 0.1654239*q(136,3) - 0.2129289*q(138,3) - 0.2343946*q(139,3) - 0.8396118*q(140,3) - 1.137751*q(141,3) - 2.754251*q(146,3) - 2.187969*q(147,3) - 0.453861*q(150,3) - 0.1471094*q(154,3)
     
      + povline(3,1) =E= 0 ; (LHS = 0)
     
deflin(3,2)..  - 1.028875*q(105,3) - 0.5820085*q(107,3) - 0.7537656*q(108,3) - 0.214634*q(111,3) - 0.5899292*q(113,3) - 0.5441473*q(115,3) - 0.29945*q(116,3) - 2.422319*q(117,3) - 3.169358*q(121,3) - 0.4626496*q(123,3) - 0.1797553*q(125,3)
     
      - 0.0761291*q(127,3) - 0.144153*q(132,3) - 0.0868142*q(135,3) - 0.1034754*q(136,3) - 0.0983763*q(138,3) - 0.1142941*q(139,3) - 0.4671004*q(140,3) - 0.6478444*q(141,3) - 0.652114*q(146,3) - 1.230062*q(147,3) - 0.2109521*q(150,3) - 0.5452006*q(154,3)
     
      + povline(3,2) =E= 0 ; (LHS = 0)
     
deflin(3,3)..  - 0.4574819*q(105,3) - 0.5019661*q(107,3) - 0.5227625*q(108,3) - 0.7147254*q(111,3) - 0.3856063*q(113,3) - 0.3404754*q(115,3) - 0.3395327*q(116,3) - 2.429741*q(117,3) - 3.991582*q(121,3) - 0.3393449*q(123,3) - 0.1586624*q(125,3)
     
      - 0.1777257*q(127,3) - 0.1539056*q(132,3) - 0.1019781*q(135,3) - 0.1577837*q(136,3) - 0.1009125*q(138,3) - 0.1113316*q(139,3) - 0.1967048*q(140,3) - 0.3972606*q(141,3) - 0.4590875*q(146,3) - 0.6840752*q(147,3) - 0.2691178*q(150,3)
     
      - 0.4366103*q(154,3) + povline(3,3) =E= 0 ; (LHS = 0)
     
deflin(3,4)..  - 1.316428*q(105,3) - 0.7421389*q(107,3) - 0.3082825*q(108,3) - 0.2362791*q(111,3) - 0.5881042*q(113,3) - 0.5671217*q(115,3) - 0.4015032*q(116,3) - 2.65015*q(117,3) - 4.230608*q(121,3) - 0.8414907*q(123,3) - 0.228617*q(125,3)
     
      - 0.2208603*q(127,3) - 0.1649679*q(132,3) - 0.1932575*q(135,3) - 0.1808198*q(136,3) - 0.1033338*q(138,3) - 0.1217569*q(139,3) - 0.4678989*q(140,3) - 0.5422996*q(141,3) - 0.3477479*q(146,3) - 1.378143*q(147,3) - 0.3307912*q(150,3)
     
      - 0.2756385*q(154,3) + povline(3,4) =E= 0 ; (LHS = 0)
     
deflin(4,1)..  - 7.790125*q(102,4) - 4.663099*q(103,4) - 1.625997*q(104,4) - 1.547903*q(105,4) - 1.284305*q(107,4) - 0.936701*q(108,4) - 1.222786*q(109,4) - 2.080988*q(110,4) - 0.1801571*q(112,4) - 1.172197*q(113,4) - 1.024828*q(115,4) - 4.051328*q(117,4)
     
      - 3.326667*q(118,4) - 5.069503*q(119,4) - 5.512494*q(121,4) - 1.264924*q(122,4) - 0.7030212*q(123,4) - 0.4129545*q(125,4) - 0.1447394*q(127,4) - 0.5219761*q(131,4) - 0.2460255*q(135,4) - 0.1654239*q(136,4) - 0.2129289*q(138,4) - 0.8396118*q(140,4)
     
      - 1.137751*q(141,4) - 1.366515*q(144,4) - 2.187969*q(147,4) - 0.453861*q(150,4) + povline(4,1) =E= 0 ; (LHS = 0)
     
deflin(4,2)..  - 4.109427*q(102,4) - 3.054938*q(103,4) - 0.8058956*q(104,4) - 1.028875*q(105,4) - 0.5820085*q(107,4) - 0.7537656*q(108,4) - 0.2820362*q(109,4) - 0.9887432*q(110,4) - 0.1085121*q(112,4) - 0.5899292*q(113,4) - 0.5441473*q(115,4)
     
      - 2.422319*q(117,4) - 1.880907*q(118,4) - 2.322145*q(119,4) - 3.169358*q(121,4) - 0.8689364*q(122,4) - 0.4626496*q(123,4) - 0.1797553*q(125,4) - 0.0761291*q(127,4) - 0.2006138*q(131,4) - 0.0868142*q(135,4) - 0.1034754*q(136,4) - 0.0983763*q(138,4)
     
      - 0.4671004*q(140,4) - 0.6478444*q(141,4) - 0.3715973*q(144,4) - 1.230062*q(147,4) - 0.2109521*q(150,4) + povline(4,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     deflin  =E=  define revealed preference matrix

deflin(4,3)..  - 3.035833*q(103,4) - 1.169878*q(104,4) - 0.4574819*q(105,4) - 0.5019661*q(107,4) - 0.5227625*q(108,4) - 0.978248*q(109,4) - 0.5662268*q(110,4) - 0.2068157*q(112,4) - 0.3856063*q(113,4) - 0.3404754*q(115,4) - 2.429741*q(117,4)
     
      - 2.495807*q(118,4) - 2.974117*q(119,4) - 3.991582*q(121,4) - 1.281637*q(122,4) - 0.3393449*q(123,4) - 0.1586624*q(125,4) - 0.1777257*q(127,4) - 1.287573*q(131,4) - 0.1019781*q(135,4) - 0.1577837*q(136,4) - 0.1009125*q(138,4) - 0.1967048*q(140,4)
     
      - 0.3972606*q(141,4) - 0.7582902*q(144,4) - 0.6840752*q(147,4) - 0.2691178*q(150,4) + povline(4,3) =E= 0 ; (LHS = 0)
     
deflin(4,4)..  - 5.056595*q(102,4) - 3.312153*q(103,4) - 1.473116*q(104,4) - 1.316428*q(105,4) - 0.7421389*q(107,4) - 0.3082825*q(108,4) - 1.649956*q(109,4) - 1.212502*q(110,4) - 0.1685875*q(112,4) - 0.5881042*q(113,4) - 0.5671217*q(115,4)
     
      - 2.65015*q(117,4) - 2.537674*q(118,4) - 3.099347*q(119,4) - 4.230608*q(121,4) - 1.162382*q(122,4) - 0.8414907*q(123,4) - 0.228617*q(125,4) - 0.2208603*q(127,4) - 0.3165819*q(131,4) - 0.1932575*q(135,4) - 0.1808198*q(136,4) - 0.1033338*q(138,4)
     
      - 0.4678989*q(140,4) - 0.5422996*q(141,4) - 0.7747303*q(144,4) - 1.378143*q(147,4) - 0.3307912*q(150,4) + povline(4,4) =E= 0 ; (LHS = 0)
     

---- rev  =G=  revealed preference tests

rev(1,2)..  - povline(1,1) + povline(2,1) =G= 0 ; (LHS = -116.247010115967, INFES = 116.247010115967 ****)
     
rev(1,3)..  - povline(1,1) + povline(3,1) =G= 0 ; (LHS = -78.5639148956084, INFES = 78.5639148956084 ****)
     
rev(1,4)..  - povline(1,1) + povline(4,1) =G= 0 ; (LHS = 372.956272553801)
     
rev(2,1)..  povline(1,2) - povline(2,2) =G= 0 ; (LHS = 48.0061368504606)
     
rev(2,3)..  - povline(2,2) + povline(3,2) =G= 0 ; (LHS = -21.3665415527853, INFES = 21.3665415527853 ****)
     
rev(2,4)..  - povline(2,2) + povline(4,2) =G= 0 ; (LHS = 259.640859334184)
     
rev(3,1)..  povline(1,3) - povline(3,3) =G= 0 ; (LHS = 53.8472109167674)
     
rev(3,2)..  povline(2,3) - povline(3,3) =G= 0 ; (LHS = 14.3753699966302)
     
rev(3,4)..  - povline(3,3) + povline(4,3) =G= 0 ; (LHS = 270.004588809324)
     
rev(4,1)..  povline(1,4) - povline(4,4) =G= 0 ; (LHS = -211.118143270729, INFES = 211.118143270729 ****)
     
rev(4,2)..  povline(2,4) - povline(4,4) =G= 0 ; (LHS = -324.688223177685, INFES = 324.688223177685 ****)
     
rev(4,3)..  povline(3,4) - povline(4,4) =G= 0 ; (LHS = -347.588680421716, INFES = 347.588680421716 ****)
     

---- defshr  =E=  define the endogenous budget shares

defshr(102,1)..  - 7.790125*q(102,1) + (716.238120996649)*s(102,1) + (0.0160767005546663)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(102,4)..  - 5.056595*q(102,4) + (692.245779813338)*s(102,4) + (0.012823093234216)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(103,1)..  - 4.663099*q(103,1) + (716.238120996649)*s(103,1) + (0.0409582901192798)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     defshr  =E=  define the endogenous budget shares

defshr(103,2)..  - 3.054938*q(103,2) + (345.466977994974)*s(103,2) + (0.0101563494696273)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(103,4)..  - 3.312153*q(103,4) + (692.245779813338)*s(103,4) + (0.0842227628886176)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(104,1)..  - 1.625997*q(104,1) + (716.238120996649)*s(104,1) + (0.0647907065210776)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(104,4)..  - 1.473116*q(104,4) + (692.245779813338)*s(104,4) + (0.118441023217581)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(105,1)..  - 1.547903*q(105,1) + (716.238120996649)*s(105,1) + (0.142861277428987)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(105,2)..  - 1.028875*q(105,2) + (345.466977994974)*s(105,2) + (0.0986303951375657)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(105,3)..  - 0.4574819*q(105,3) + (268.487654778854)*s(105,3) + (0.0452879395288992)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(105,4)..  - 1.316428*q(105,4) + (692.245779813338)*s(105,4) + (0.0988646022364112)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(106,2)..  - 1.616832*q(106,2) + (345.466977994974)*s(106,2) + (0.00969712635862273)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,1)..  - 1.284305*q(107,1) + (716.238120996649)*s(107,1) + (0.0841243714568243)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(107,2)..  - 0.5820085*q(107,2) + (345.466977994974)*s(107,2) + (0.0498638354243994)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(107,3)..  - 0.5019661*q(107,3) + (268.487654778854)*s(107,3) + (0.0572920364107133)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(107,4)..  - 0.7421389*q(107,4) + (692.245779813338)*s(107,4) + (0.0697066913887135)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(108,1)..  - 0.936701*q(108,1) + (716.238120996649)*s(108,1) + (0.0251097078025342)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(108,2)..  - 0.7537656*q(108,2) + (345.466977994974)*s(108,2) + (0.199001416354276)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(108,3)..  - 0.5227625*q(108,3) + (268.487654778854)*s(108,3) + (0.0836074595526635)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(108,4)..  - 0.3082825*q(108,4) + (692.245779813338)*s(108,4) + (0.0433319215276378)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(109,4)..  - 1.649956*q(109,4) + (692.245779813338)*s(109,4) + (0.0383549191311609)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(110,1)..  - 2.080988*q(110,1) + (716.238120996649)*s(110,1) + (0.0212967477178514)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(110,2)..  - 0.9887432*q(110,2) + (345.466977994974)*s(110,2) + (0.0176863667464153)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(110,4)..  - 1.212502*q(110,4) + (692.245779813338)*s(110,4) + (0.0108656183323357)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(111,3)..  - 0.7147254*q(111,3) + (268.487654778854)*s(111,3) + (0.0431785520219117)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(112,1)..  - 0.1801571*q(112,1) + (716.238120996649)*s(112,1) + (0.0247054654219302)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(112,2)..  - 0.1085121*q(112,2) + (345.466977994974)*s(112,2) + (0.0203712878781632)*povline(2,2) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     defshr  =E=  define the endogenous budget shares

defshr(112,4)..  - 0.1685875*q(112,4) + (692.245779813338)*s(112,4) + (0.016781554115263)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(113,1)..  - 1.172197*q(113,1) + (716.238120996649)*s(113,1) + (0.155719983178232)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(113,2)..  - 0.5899292*q(113,2) + (345.466977994974)*s(113,2) + (0.120382872729423)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(113,3)..  - 0.3856063*q(113,3) + (268.487654778854)*s(113,3) + (0.0862718210083119)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(113,4)..  - 0.5881042*q(113,4) + (692.245779813338)*s(113,4) + (0.0727739067022009)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(114,1)..  - 0.5669262*q(114,1) + (716.238120996649)*s(114,1) + (0.0168437093909321)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(115,2)..  - 0.5441473*q(115,2) + (345.466977994974)*s(115,2) + (0.0307928778552753)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(115,3)..  - 0.3404754*q(115,3) + (268.487654778854)*s(115,3) + (0.00953454846484666)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(115,4)..  - 0.5671217*q(115,4) + (692.245779813338)*s(115,4) + (0.0309793483318768)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(116,2)..  - 0.29945*q(116,2) + (345.466977994974)*s(116,2) + (0.0404588859190569)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(116,3)..  - 0.3395327*q(116,3) + (268.487654778854)*s(116,3) + (0.18377872175159)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,1)..  - 4.051328*q(117,1) + (716.238120996649)*s(117,1) + (0.0258656839119194)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(117,2)..  - 2.422319*q(117,2) + (345.466977994974)*s(117,2) + (0.0300815617265581)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(117,3)..  - 2.429741*q(117,3) + (268.487654778854)*s(117,3) + (0.0159426003519951)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(117,4)..  - 2.65015*q(117,4) + (692.245779813338)*s(117,4) + (0.0391787586485008)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(118,4)..  - 2.537674*q(118,4) + (692.245779813338)*s(118,4) + (0.0130421805531129)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(119,4)..  - 3.099347*q(119,4) + (692.245779813338)*s(119,4) + (0.0129196578185453)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(121,2)..  - 3.169358*q(121,2) + (345.466977994974)*s(121,2) + (0.0157296484139756)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(121,3)..  - 3.991582*q(121,3) + (268.487654778854)*s(121,3) + (0.0106826775895046)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(121,4)..  - 4.230608*q(121,4) + (692.245779813338)*s(121,4) + (0.00939295000964499)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(122,1)..  - 1.264924*q(122,1) + (716.238120996649)*s(122,1) + (0.0132244726740836)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(122,2)..  - 0.8689364*q(122,2) + (345.466977994974)*s(122,2) + (0.0302618759273383)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(122,4)..  - 1.162382*q(122,4) + (692.245779813338)*s(122,4) + (0.0141327133866989)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(123,1)..  - 0.7030212*q(123,1) + (716.238120996649)*s(123,1) + (0.0195665887243083)*povline(1,1) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     defshr  =E=  define the endogenous budget shares

defshr(123,2)..  - 0.4626496*q(123,2) + (345.466977994974)*s(123,2) + (0.0345179167310095)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(123,3)..  - 0.3393449*q(123,3) + (268.487654778854)*s(123,3) + (0.0226071173471938)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(123,4)..  - 0.8414907*q(123,4) + (692.245779813338)*s(123,4) + (0.0106765014703196)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(125,1)..  - 0.4129545*q(125,1) + (716.238120996649)*s(125,1) + (0.0331326146284428)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(125,2)..  - 0.1797553*q(125,2) + (345.466977994974)*s(125,2) + (0.0184048096210608)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(125,3)..  - 0.1586624*q(125,3) + (268.487654778854)*s(125,3) + (0.0215824729818527)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(125,4)..  - 0.228617*q(125,4) + (692.245779813338)*s(125,4) + (0.0277026242319224)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(127,1)..  - 0.1447394*q(127,1) + (716.238120996649)*s(127,1) + (0.0199834399714016)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(127,2)..  - 0.0761291*q(127,2) + (345.466977994974)*s(127,2) + (0.0190584287823034)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(127,3)..  - 0.1777257*q(127,3) + (268.487654778854)*s(127,3) + (0.0368636016649281)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(127,4)..  - 0.2208603*q(127,4) + (692.245779813338)*s(127,4) + (0.00918092910583179)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(131,4)..  - 0.3165819*q(131,4) + (692.245779813338)*s(131,4) + (0.0107447024433786)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(132,1)..  - 0.2795797*q(132,1) + (716.238120996649)*s(132,1) + (0.0122844411969714)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(132,2)..  - 0.144153*q(132,2) + (345.466977994974)*s(132,2) + (0.0281555937822819)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(132,3)..  - 0.1539056*q(132,3) + (268.487654778854)*s(132,3) + (0.0115586465459894)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(134,1)..  - 0.565348*q(134,1) + (716.238120996649)*s(134,1) + (0.0185905962900323)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(134,2)..  - 0.4185723*q(134,2) + (345.466977994974)*s(134,2) + (0.0109051702962187)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(135,1)..  - 0.2460255*q(135,1) + (716.238120996649)*s(135,1) + (0.0112237719047394)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(135,3)..  - 0.1019781*q(135,3) + (268.487654778854)*s(135,3) + (0.0108916076580133)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(135,4)..  - 0.1932575*q(135,4) + (692.245779813338)*s(135,4) + (0.00980851262074631)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(136,1)..  - 0.1654239*q(136,1) + (716.238120996649)*s(136,1) + (0.0230517613015304)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(136,2)..  - 0.1034754*q(136,2) + (345.466977994974)*s(136,2) + (0.0183943091705531)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(136,3)..  - 0.1577837*q(136,3) + (268.487654778854)*s(136,3) + (0.0126117162281682)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(136,4)..  - 0.1808198*q(136,4) + (692.245779813338)*s(136,4) + (0.0191464439894529)*povline(4,4) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     defshr  =E=  define the endogenous budget shares

defshr(138,1)..  - 0.2129289*q(138,1) + (716.238120996649)*s(138,1) + (0.0227508681318467)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(138,2)..  - 0.0983763*q(138,2) + (345.466977994974)*s(138,2) + (0.0292277755217603)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(138,3)..  - 0.1009125*q(138,3) + (268.487654778854)*s(138,3) + (0.0228064347347499)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(138,4)..  - 0.1033338*q(138,4) + (692.245779813338)*s(138,4) + (0.0172979223472462)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(139,2)..  - 0.1142941*q(139,2) + (345.466977994974)*s(139,2) + (0.0293392980335723)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(139,3)..  - 0.1113316*q(139,3) + (268.487654778854)*s(139,3) + (0.104433689084152)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,1)..  - 0.8396118*q(140,1) + (716.238120996649)*s(140,1) + (0.025827812213903)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(140,2)..  - 0.4671004*q(140,2) + (345.466977994974)*s(140,2) + (0.0241664625775545)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(140,3)..  - 0.1967048*q(140,3) + (268.487654778854)*s(140,3) + (0.0146950370398585)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(140,4)..  - 0.4678989*q(140,4) + (692.245779813338)*s(140,4) + (0.048390051146075)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(141,1)..  - 1.137751*q(141,1) + (716.238120996649)*s(141,1) + (0.0792619385698246)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(141,2)..  - 0.6478444*q(141,2) + (345.466977994974)*s(141,2) + (0.0454690682599589)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(141,3)..  - 0.3972606*q(141,3) + (268.487654778854)*s(141,3) + (0.121558442024222)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(141,4)..  - 0.5422996*q(141,4) + (692.245779813338)*s(141,4) + (0.102915719073677)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(144,1)..  - 1.366515*q(144,1) + (716.238120996649)*s(144,1) + (0.0242181286746341)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(144,4)..  - 0.7747303*q(144,4) + (692.245779813338)*s(144,4) + (0.0185769136629534)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(146,3)..  - 0.4590875*q(146,3) + (268.487654778854)*s(146,3) + (0.0262329461146969)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,1)..  - 2.187969*q(147,1) + (716.238120996649)*s(147,1) + (0.0680891788322087)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(147,2)..  - 1.230062*q(147,2) + (345.466977994974)*s(147,2) + (0.0552009704948629)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(147,3)..  - 0.6840752*q(147,3) + (268.487654778854)*s(147,3) + (0.0166730058452327)*povline(3,3) =E= 0 ; (LHS = 0)
     
defshr(147,4)..  - 1.378143*q(147,4) + (692.245779813338)*s(147,4) + (0.0261798876141633)*povline(4,4) =E= 0 ; (LHS = 0)
     
defshr(150,1)..  - 0.453861*q(150,1) + (716.238120996649)*s(150,1) + (0.0104417433818382)*povline(1,1) =E= 0 ; (LHS = 0)
     
defshr(150,2)..  - 0.2109521*q(150,2) + (345.466977994974)*s(150,2) + (0.0140456967881677)*povline(2,2) =E= 0 ; (LHS = 0)
     
defshr(150,3)..  - 0.2691178*q(150,3) + (268.487654778854)*s(150,3) + (0.0213678963972732)*povline(3,3) =E= 0 ; (LHS = 0)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE revpref Using NLP From line 485


     defshr  =E=  define the endogenous budget shares

defshr(150,4)..  - 0.3307912*q(150,4) + (692.245779813338)*s(150,4) + (0.0135680907717161)*povline(4,4) =E= 0 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED


---- cals  =E=  ensure that each bundle hits the calorie

cals(1)..  0.689*q(102,1) + 0.689*q(103,1) + 0.689*q(104,1) + 1.0164*q(105,1) + 1.344*q(107,1) + 3.14*q(108,1) + 3.61*q(110,1) + 0.946*q(112,1) + 3.65*q(113,1) + 2.66*q(114,1) + 1.7982*q(117,1) + 0.6161*q(122,1) + 3.75*q(123,1) + 0.6*q(125,1)
     
      + 8.84*q(127,1) + 0.4331*q(132,1) + 0.494*q(134,1) + 0.364*q(135,1) + 0.1638*q(136,1) + 0.2016*q(138,1) + 1.03*q(140,1) + 3.13*q(141,1) + 5.88*q(144,1) + 3.87*q(147,1) =E= 2042.5 ; (LHS = 2143.75757158169, INFES = 101.25757158169 ****)
     
cals(2)..  0.689*q(103,2) + 1.0164*q(105,2) + 3.43*q(106,2) + 1.344*q(107,2) + 3.14*q(108,2) + 3.61*q(110,2) + 0.946*q(112,2) + 3.65*q(113,2) + 3.78*q(115,2) + 3.39*q(116,2) + 1.7982*q(117,2) + 1.4835*q(121,2) + 0.6161*q(122,2) + 3.75*q(123,2)
     
      + 0.6*q(125,2) + 8.84*q(127,2) + 0.4331*q(132,2) + 0.494*q(134,2) + 0.1638*q(136,2) + 0.2016*q(138,2) + 0.261*q(139,2) + 1.03*q(140,2) + 3.13*q(141,2) + 3.87*q(147,2) =E= 2042.5 ; (LHS = 2082.78196665514, INFES = 40.2819666551404 ****)
     
cals(3)..  1.0164*q(105,3) + 1.344*q(107,3) + 3.14*q(108,3) + 3.65*q(111,3) + 3.65*q(113,3) + 3.78*q(115,3) + 3.39*q(116,3) + 1.7982*q(117,3) + 1.4835*q(121,3) + 3.75*q(123,3) + 0.6*q(125,3) + 8.84*q(127,3) + 0.4331*q(132,3) + 0.364*q(135,3)
     
      + 0.1638*q(136,3) + 0.2016*q(138,3) + 0.261*q(139,3) + 1.03*q(140,3) + 3.13*q(141,3) + 5.73*q(146,3) + 3.87*q(147,3) + 0.81*q(154,3) =E= 2042.5 ; (LHS = 2089.9932416765, INFES = 47.4932416765 ****)
     
cals(4)..  0.689*q(102,4) + 0.689*q(103,4) + 0.689*q(104,4) + 1.0164*q(105,4) + 1.344*q(107,4) + 3.14*q(108,4) + 0.6468*q(109,4) + 3.61*q(110,4) + 0.946*q(112,4) + 3.65*q(113,4) + 3.78*q(115,4) + 1.7982*q(117,4) + 2.3534*q(118,4) + 1.221*q(119,4)
     
      + 1.4835*q(121,4) + 0.6161*q(122,4) + 3.75*q(123,4) + 0.6*q(125,4) + 8.84*q(127,4) + 0.6208*q(131,4) + 0.364*q(135,4) + 0.1638*q(136,4) + 0.2016*q(138,4) + 1.03*q(140,4) + 3.13*q(141,4) + 5.88*q(144,4) + 3.87*q(147,4) =E= 2042.5 ;
     
      (LHS = 2122.60910141254, INFES = 80.10910141254 ****)
     
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 22
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 485


---- z  objective value

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- q  revised maximum entropy quanties in grams

q(102,1)
                (.LO, .L, .UP, .M = 1E-5, 1.4781208, +INF, 0)
       -7.7901  deflin(1,1)
       -4.1094  deflin(1,2)
       -5.0566  deflin(1,4)
       -7.7901  defshr(102,1)
        0.689   cals(1)

q(102,4)
                (.LO, .L, .UP, .M = 1E-5, 1.7554762, +INF, 0)
       -7.7901  deflin(4,1)
       -4.1094  deflin(4,2)
       -5.0566  deflin(4,4)
       -5.0566  defshr(102,4)
        0.689   cals(4)

q(103,1)
                (.LO, .L, .UP, .M = 1E-5, 6.2910714, +INF, 0)
       -4.6631  deflin(1,1)
       -3.0549  deflin(1,2)
       -3.0358  deflin(1,3)
       -3.3122  deflin(1,4)
       -4.6631  defshr(103,1)
        0.689   cals(1)

REMAINING 98 ENTRIES SKIPPED

---- s  derived maximum entropy shares

s(102,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0160767005546663, +INF, 0)
      (-1)      obj
     (716.2381) defshr(102,1)

s(102,4)
                (.LO, .L, .UP, .M = 0.0001, 0.012823093234216, +INF, 0)
      (-1)      obj
     (692.2458) defshr(102,4)

s(103,1)
                (.LO, .L, .UP, .M = 0.0001, 0.0409582901192798, +INF, 0)
      (-1)      obj
     (716.2381) defshr(103,1)

GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 23
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE revpref Using NLP From line 485


     s  derived maximum entropy shares

REMAINING 98 ENTRIES SKIPPED

---- povline  estimated revealed preference matrix

povline(1,1)
                (.LO, .L, .UP, .M = -INF, 716.238120996649, +INF, 0)
        1       deflin(1,1)
       -1       rev(1,2)
       -1       rev(1,3)
       -1       rev(1,4)
       (0.0161) defshr(102,1)
       (0.041)  defshr(103,1)
       (0.0648) defshr(104,1)
       (0.1429) defshr(105,1)
       (0.0841) defshr(107,1)
       (0.0251) defshr(108,1)
       (0.0213) defshr(110,1)
       (0.0247) defshr(112,1)
       (0.1557) defshr(113,1)
       (0.0168) defshr(114,1)
       (0.0259) defshr(117,1)
       (0.0132) defshr(122,1)
       (0.0196) defshr(123,1)
       (0.0331) defshr(125,1)
       (0.02)   defshr(127,1)
       (0.0123) defshr(132,1)
       (0.0186) defshr(134,1)
       (0.0112) defshr(135,1)
       (0.0231) defshr(136,1)
       (0.0228) defshr(138,1)
       (0.0258) defshr(140,1)
       (0.0793) defshr(141,1)
       (0.0242) defshr(144,1)
       (0.0681) defshr(147,1)
       (0.0104) defshr(150,1)

povline(1,2)
                (.LO, .L, .UP, .M = -INF, 393.473114845435, +INF, 0)
        1       deflin(1,2)
        1       rev(2,1)

povline(1,3)
                (.LO, .L, .UP, .M = -INF, 322.334865695621, +INF, 0)
        1       deflin(1,3)
        1       rev(3,1)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 24
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE revpref Using NLP From line 485


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS          134
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          219
NON ZERO ELEMENTS           944     NON LINEAR N-Z            303
DERIVATIVE POOL              10     CONSTANT POOL             117
CODE LENGTH                 911


GENERATION TIME      =        0.006 SECONDS      4 MB  24.1.2 r40979 LEX-LEG


EXECUTION TIME       =        0.008 SECONDS      4 MB  24.1.2 r40979 LEX-LEG
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 25
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


               S O L V E      S U M M A R Y

     MODEL   revpref             OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  485

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0856

 RESOURCE USAGE, LIMIT          0.023      1000.000
 ITERATION COUNT, LIMIT        42    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.1.2 r40979 Released Jun 16, 2013 LEG x86_64/Linux         
 
 
    C O N O P T 3   version 3.15K
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 219 variables and 134 constraints
    with 944 Jacobian elements, 303 of which are nonlinear.
    The Hessian of the Lagrangian has 101 elements on the diagonal,
    101 elements below the diagonal, and 105 nonlinear variables.
 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                            0.024 seconds
   of which: Function evaluations             0.003 = 12.5%
             1st Derivative evaluations       0.000 =  0.0%
             2nd Derivative evaluations       0.000 =  0.0%
             Directional 2nd Derivative       0.001 =  4.2%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

  obj  objective equation

---- EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1          .              .              .            -0.0005      
1.2          .              .              .            -0.0015      
1.3          .              .              .            -0.0002      
1.4          .              .              .             EPS         
2.1          .              .              .            -0.0006      
2.2          .              .              .            -0.0011      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 26
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     EQU deflin  define revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

2.3          .              .              .             EPS         
2.4          .              .              .            -0.0005      
3.1          .              .              .             EPS         
3.2          .              .              .             EPS         
3.3          .              .              .            -0.0030      
3.4          .              .              .            -0.0005      
4.1          .              .              .            -0.0003      
4.2          .              .              .             EPS         
4.3          .              .              .             EPS         
4.4          .              .              .            -0.0014      

---- EQU rev  revealed preference tests

           LOWER          LEVEL          UPPER         MARGINAL

1.2          .              .            +INF            0.0006      
1.3          .            76.5042        +INF             .          
1.4          .              .            +INF            0.0003      
2.1          .              .            +INF            0.0015      
2.3          .             8.4495        +INF            EPS         
2.4          .             3.2777        +INF            EPS         
3.1          .              .            +INF            0.0002      
3.2          .             2.8104        +INF            EPS         
3.4          .            24.9661        +INF             .          
4.1          .            46.0675        +INF            EPS         
4.2          .              .            +INF            0.0005      
4.3          .              .            +INF            0.0005      

---- EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

102.1          .              .              .             0.0013      
102.4          .              .              .             0.0019      
103.1          .              .              .             0.0016      
103.2          .              .              .             0.0025      
103.4          .              .              .             0.0019      
104.1          .              .              .             0.0014      
104.4          .              .              .             0.0018      
105.1          .              .              .             0.0016      
105.2          .              .              .             0.0026      
105.3          .              .              .             0.0043      
105.4          .              .              .             0.0019      
106.2          .              .              .             0.0021      
107.1          .              .              .             0.0013      
107.2          .              .              .             0.0030      
107.3          .              .              .             0.0036      
107.4          .              .              .             0.0022      
108.1          .              .              .             0.0018      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 27
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

108.2          .              .              .             0.0019      
108.3          .              .              .             0.0028      
108.4          .              .              .             0.0034      
109.4          .              .              .             0.0017      
110.1          .              .              .             0.0013      
110.2          .              .              .             0.0029      
110.4          .              .              .             0.0023      
111.3          .              .              .             0.0028      
112.1          .              .              .             0.0016      
112.2          .              .              .             0.0027      
112.4          .              .              .             0.0024      
113.1          .              .              .             0.0013      
113.2          .              .              .             0.0026      
113.3          .              .              .             0.0030      
113.4          .              .              .             0.0027      
114.1          .              .              .             0.0010      
115.2          .              .              .             0.0026      
115.3          .              .              .             0.0030      
115.4          .              .              .             0.0027      
116.2          .              .              .             0.0032      
116.3          .              .              .             0.0028      
117.1          .              .              .             0.0015      
117.2          .              .              .             0.0026      
117.3          .              .              .             0.0035      
117.4          .              .              .             0.0020      
118.4          .              .              .             0.0019      
119.4          .              .              .             0.0020      
121.2          .              .              .             0.0028      
121.3          .              .              .             0.0035      
121.4          .              .              .             0.0019      
122.1          .              .              .             0.0017      
122.2          .              .              .             0.0026      
122.4          .              .              .             0.0018      
123.1          .              .              .             0.0016      
123.2          .              .              .             0.0027      
123.3          .              .              .             0.0034      
123.4          .              .              .             0.0022      
125.1          .              .              .             0.0012      
125.2          .              .              .             0.0030      
125.3          .              .              .             0.0034      
125.4          .              .              .             0.0023      
127.1          .              .              .             0.0014      
127.2          .              .              .             0.0012      
127.3          .              .              .            -0.0004      
127.4          .              .              .             0.0058      
131.4          .              .              .             0.0022      
132.1          .              .              .             0.0014      
132.2          .              .              .             0.0027      
132.3          .              .              .             0.0033      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 28
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     EQU defshr  define the endogenous budget shares

             LOWER          LEVEL          UPPER         MARGINAL

134.1          .              .              .             0.0017      
134.2          .              .              .             0.0020      
135.1          .              .              .             0.0011      
135.3          .              .              .             0.0037      
135.4          .              .              .             0.0020      
136.1          .              .              .             0.0016      
136.2          .              .              .             0.0029      
136.3          .              .              .             0.0035      
136.4          .              .              .             0.0018      
138.1          .              .              .             0.0013      
138.2          .              .              .             0.0029      
138.3          .              .              .             0.0034      
138.4          .              .              .             0.0023      
139.2          .              .              .             0.0028      
139.3          .              .              .             0.0034      
140.1          .              .              .             0.0014      
140.2          .              .              .             0.0026      
140.3          .              .              .             0.0038      
140.4          .              .              .             0.0022      
141.1          .              .              .             0.0014      
141.2          .              .              .             0.0024      
141.3          .              .              .             0.0031      
141.4          .              .              .             0.0027      
144.1          .              .              .             0.0010      
144.4          .              .              .             0.0028      
146.3          .              .              .             0.0024      
147.1          .              .              .             0.0014      
147.2          .              .              .             0.0026      
147.3          .              .              .             0.0036      
147.4          .              .              .             0.0022      
150.1          .              .              .             0.0013      
150.2          .              .              .             0.0031      
150.3          .              .              .             0.0036      
150.4          .              .              .             0.0019      
154.3          .              .              .             0.0032      

---- EQU cals  ensure that each bundle hits the calorie

         LOWER          LEVEL          UPPER         MARGINAL

1      2042.5000      2042.5000      2042.5000   -2.235224E-6      
2      2042.5000      2042.5000      2042.5000   -2.076565E-5      
3      2042.5000      2042.5000      2042.5000   -8.072972E-5      
4      2042.5000      2042.5000      2042.5000         0.0001      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 29
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF            0.0856        +INF             .          

  z  objective value

---- VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

102.1   1.0000000E-5         1.3374        +INF             .          
102.4   1.0000000E-5         0.9168        +INF             .          
103.1   1.0000000E-5         7.0028        +INF             .          
103.2   1.0000000E-5         1.2921        +INF             .          
103.4   1.0000000E-5         9.0620        +INF             .          
104.1   1.0000000E-5        27.0855        +INF             .          
104.4   1.0000000E-5        27.8426        +INF             .          
105.1   1.0000000E-5        71.3270        +INF             .          
105.2   1.0000000E-5        38.2505        +INF            EPS         
105.3   1.0000000E-5        46.2296        +INF             .          
105.4   1.0000000E-5        26.6138        +INF             .          
106.2   1.0000000E-5         1.9394        +INF            EPS         
107.1   1.0000000E-5        40.9917        +INF             .          
107.2   1.0000000E-5        39.8515        +INF             .          
107.3   1.0000000E-5        41.9926        +INF             .          
107.4   1.0000000E-5        37.5138        +INF             .          
108.1   1.0000000E-5        24.6051        +INF             .          
108.2   1.0000000E-5        81.5960        +INF             .          
108.3   1.0000000E-5        46.7497        +INF             .          
108.4   1.0000000E-5        96.8605        +INF             .          
109.4   1.0000000E-5         7.6470        +INF             .          
110.1   1.0000000E-5         6.4587        +INF             .          
110.2   1.0000000E-5         7.9596        +INF             .          
110.4   1.0000000E-5         3.7625        +INF             .          
111.3   1.0000000E-5        17.3315        +INF             .          
112.1   1.0000000E-5       108.5876        +INF             .          
112.2   1.0000000E-5        76.9215        +INF             .          
112.4   1.0000000E-5        43.1284        +INF             .          
113.1   1.0000000E-5        86.7137        +INF            EPS         
113.2   1.0000000E-5        82.7729        +INF             .          
113.3   1.0000000E-5        69.5889        +INF             .          
113.4   1.0000000E-5        62.2155        +INF             .          
114.1   1.0000000E-5        14.9732        +INF             .          
115.2   1.0000000E-5        22.4592        +INF             .          
115.3   1.0000000E-5         8.5416        +INF             .          
115.4   1.0000000E-5        27.3489        +INF             .          
116.2   1.0000000E-5        67.6656        +INF             .          
116.3   1.0000000E-5       157.1436        +INF             .          
117.1   1.0000000E-5         4.7644        +INF             .          
117.2   1.0000000E-5         4.9834        +INF             .          
117.3   1.0000000E-5         2.3835        +INF             .          
117.4   1.0000000E-5         5.4666        +INF             .          
118.4   1.0000000E-5         1.8670        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 30
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

119.4   1.0000000E-5         1.5437        +INF             .          
121.2   1.0000000E-5         2.1241        +INF             .          
121.3   1.0000000E-5         0.9766        +INF             .          
121.4   1.0000000E-5         0.7853        +INF             .          
122.1   1.0000000E-5         8.9740        +INF            EPS         
122.2   1.0000000E-5        13.9249        +INF             .          
122.4   1.0000000E-5         4.2134        +INF             .          
123.1   1.0000000E-5        21.6610        +INF             .          
123.2   1.0000000E-5        31.2861        +INF             .          
123.3   1.0000000E-5        23.2160        +INF             .          
123.4   1.0000000E-5         5.0633        +INF             .          
125.1   1.0000000E-5        49.2122        +INF             .          
125.2   1.0000000E-5        48.2132        +INF             .          
125.3   1.0000000E-5        48.3436        +INF             .          
125.4   1.0000000E-5        50.6849        +INF             .          
127.1   1.0000000E-5        93.3445        +INF             .          
127.2   1.0000000E-5        58.6753        +INF             .          
127.3   1.0000000E-5        21.7552        +INF             .          
127.4   1.0000000E-5        78.7721        +INF             .          
131.4   1.0000000E-5        13.4992        +INF             .          
132.1   1.0000000E-5        29.8659        +INF             .          
132.2   1.0000000E-5        82.7266        +INF             .          
132.3   1.0000000E-5        25.7789        +INF             .          
134.1   1.0000000E-5        27.5145        +INF             .          
134.2   1.0000000E-5         8.3532        +INF             .          
135.1   1.0000000E-5        25.7582        +INF             .          
135.3   1.0000000E-5        41.0806        +INF             .          
135.4   1.0000000E-5        19.1416        +INF             .          
136.1   1.0000000E-5       111.3284        +INF             .          
136.2   1.0000000E-5        78.9914        +INF             .          
136.3   1.0000000E-5        29.0723        +INF             .          
136.4   1.0000000E-5        36.4662        +INF             .          
138.1   1.0000000E-5        68.1372        +INF             .          
138.2   1.0000000E-5       131.2986        +INF             .          
138.3   1.0000000E-5        78.6177        +INF             .          
138.4   1.0000000E-5        70.2786        +INF             .          
139.2   1.0000000E-5       110.5626        +INF             .          
139.3   1.0000000E-5       327.0688        +INF             .          
140.1   1.0000000E-5        21.0605        +INF             .          
140.2   1.0000000E-5        20.7534        +INF             .          
140.3   1.0000000E-5        29.7657        +INF             .          
140.4   1.0000000E-5        42.3853        +INF             .          
141.1   1.0000000E-5        48.8702        +INF             .          
141.2   1.0000000E-5        26.4375        +INF             .          
141.3   1.0000000E-5        96.6228        +INF             .          
141.4   1.0000000E-5        94.8965        +INF             .          
144.1   1.0000000E-5         9.3009        +INF             .          
144.4   1.0000000E-5        12.4376        +INF             .          
146.3   1.0000000E-5        14.5175        +INF             .          
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 31
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     VAR q  revised maximum entropy quanties in grams

             LOWER          LEVEL          UPPER         MARGINAL

147.1   1.0000000E-5        21.6100        +INF             .          
147.2   1.0000000E-5        18.1975        +INF             .          
147.3   1.0000000E-5         9.0558        +INF             .          
147.4   1.0000000E-5         7.7825        +INF             .          
150.1   1.0000000E-5        14.9362        +INF             .          
150.2   1.0000000E-5        32.9650        +INF             .          
150.3   1.0000000E-5        30.0674        +INF             .          
150.4   1.0000000E-5        14.4143        +INF             .          
154.3   1.0000000E-5        15.4137        +INF             .          

---- VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

102.1         0.0001         0.0149        +INF      4.1125674E-9      
102.4         0.0001         0.0108        +INF      3.8490052E-9      
103.1         0.0001         0.0467        +INF      3.3210130E-9      
103.2         0.0001         0.0101        +INF            EPS         
103.4         0.0001         0.0700        +INF      3.0418992E-9      
104.1         0.0001         0.0630        +INF      3.0236453E-9      
104.4         0.0001         0.0957        +INF      3.4231743E-9      
105.1         0.0001         0.1579        +INF             .          
105.2         0.0001         0.1003        +INF             .          
105.3         0.0001         0.0660        +INF      -1.563375E-8      
105.4         0.0001         0.0817        +INF      3.5928792E-9      
106.2         0.0001         0.0080        +INF             .          
107.1         0.0001         0.0753        +INF      5.1130502E-9      
107.2         0.0001         0.0591        +INF      3.1133567E-9      
107.3         0.0001         0.0658        +INF      -3.655034E-9      
107.4         0.0001         0.0649        +INF            EPS         
108.1         0.0001         0.0330        +INF             .          
108.2         0.0001         0.1567        +INF      1.2544483E-9      
108.3         0.0001         0.0763        +INF             .          
108.4         0.0001         0.0697        +INF             .          
109.4         0.0001         0.0294        +INF      2.4054072E-9      
110.1         0.0001         0.0192        +INF            EPS         
110.2         0.0001         0.0201        +INF      -1.269636E-9      
110.4         0.0001         0.0106        +INF            EPS         
111.3         0.0001         0.0387        +INF      7.2552298E-9      
112.1         0.0001         0.0280        +INF             .          
112.2         0.0001         0.0213        +INF      -9.667845E-9      
112.4         0.0001         0.0170        +INF      1.0605454E-8      
113.1         0.0001         0.1454        +INF             .          
113.2         0.0001         0.1244        +INF      1.4848864E-9      
113.3         0.0001         0.0838        +INF            EPS         
113.4         0.0001         0.0854        +INF            EPS         
114.1         0.0001         0.0121        +INF      1.6367055E-8      
115.2         0.0001         0.0311        +INF      5.1495581E-9      
115.3         0.0001         0.0091        +INF            EPS         
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 32
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

115.4         0.0001         0.0362        +INF            EPS         
116.2         0.0001         0.0516        +INF             .          
116.3         0.0001         0.1666        +INF             .          
117.1         0.0001         0.0276        +INF      7.2640887E-9      
117.2         0.0001         0.0308        +INF      -5.827308E-9      
117.3         0.0001         0.0181        +INF      -8.742594E-9      
117.4         0.0001         0.0338        +INF      1.8064173E-9      
118.4         0.0001         0.0111        +INF      3.0763414E-9      
119.4         0.0001         0.0112        +INF            EPS         
121.2         0.0001         0.0172        +INF      5.8614846E-9      
121.3         0.0001         0.0122        +INF      -2.041085E-9      
121.4         0.0001         0.0077        +INF      2.5205776E-9      
122.1         0.0001         0.0162        +INF             .          
122.2         0.0001         0.0308        +INF             .          
122.4         0.0001         0.0114        +INF      4.7480067E-9      
123.1         0.0001         0.0218        +INF            EPS         
123.2         0.0001         0.0369        +INF             .          
123.3         0.0001         0.0246        +INF      -1.808758E-8      
123.4         0.0001         0.0099        +INF      3.8673285E-9      
125.1         0.0001         0.0291        +INF      5.5660173E-9      
125.2         0.0001         0.0221        +INF      -2.973040E-9      
125.3         0.0001         0.0239        +INF      -3.077415E-9      
125.4         0.0001         0.0270        +INF      -2.680273E-9      
127.1         0.0001         0.0193        +INF             .          
127.2         0.0001         0.0114        +INF             .          
127.3         0.0001         0.0121        +INF      1.4542897E-8      
127.4         0.0001         0.0406        +INF             .          
131.4         0.0001         0.0100        +INF            EPS         
132.1         0.0001         0.0119        +INF      3.3589908E-9      
132.2         0.0001         0.0304        +INF      1.0549889E-8      
132.3         0.0001         0.0124        +INF            EPS         
134.1         0.0001         0.0222        +INF      5.4338298E-9      
134.2         0.0001         0.0089        +INF      3.1736205E-9      
135.1         0.0001         0.0091        +INF      8.0387098E-9      
135.3         0.0001         0.0131        +INF      -1.001244E-8      
135.4         0.0001         0.0086        +INF      2.6581810E-9      
136.1         0.0001         0.0263        +INF      2.0581923E-9      
136.2         0.0001         0.0208        +INF      -5.371748E-9      
136.3         0.0001         0.0143        +INF      6.0787129E-9      
136.4         0.0001         0.0154        +INF      7.5963417E-9      
138.1         0.0001         0.0207        +INF      3.6327539E-9      
138.2         0.0001         0.0329        +INF      -5.840522E-9      
138.3         0.0001         0.0248        +INF      -4.090280E-9      
138.4         0.0001         0.0169        +INF      -8.476988E-9      
139.2         0.0001         0.0322        +INF            EPS         
139.3         0.0001         0.1137        +INF      -2.149057E-9      
140.1         0.0001         0.0253        +INF            EPS         
140.2         0.0001         0.0247        +INF      -1.232045E-9      
140.3         0.0001         0.0183        +INF      -1.777133E-8      
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 33
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE revpref Using NLP From line 485


     VAR s  derived maximum entropy shares

             LOWER          LEVEL          UPPER         MARGINAL

140.4         0.0001         0.0463        +INF            EPS         
141.1         0.0001         0.0795        +INF      3.6845207E-9      
141.2         0.0001         0.0436        +INF      1.2410444E-9      
141.3         0.0001         0.1199        +INF      -1.986008E-9      
141.4         0.0001         0.1200        +INF             .          
144.1         0.0001         0.0182        +INF             .          
144.4         0.0001         0.0225        +INF      2.1361688E-9      
146.3         0.0001         0.0208        +INF      -9.850997E-9      
147.1         0.0001         0.0676        +INF      3.9265634E-9      
147.2         0.0001         0.0570        +INF      3.4557615E-9      
147.3         0.0001         0.0193        +INF            EPS         
147.4         0.0001         0.0250        +INF      -2.135299E-9      
150.1         0.0001         0.0097        +INF      5.7381395E-9      
150.2         0.0001         0.0177        +INF      9.2569694E-9      
150.3         0.0001         0.0253        +INF      -2.874067E-9      
150.4         0.0001         0.0111        +INF      2.3831386E-9      
154.3         0.0001         0.0210        +INF      1.7848377E-8      

---- VAR povline  estimated revealed preference matrix

           LOWER          LEVEL          UPPER         MARGINAL

1.1        -INF          699.2897        +INF             .          
1.2        -INF          392.4861        +INF             .          
1.3        -INF          320.2678        +INF             .          
1.4        -INF          474.7464        +INF             .          
2.1        -INF          699.2897        +INF             .          
2.2        -INF          392.4861        +INF             .          
2.3        -INF          323.0781        +INF             .          
2.4        -INF          428.6789        +INF             .          
3.1        -INF          775.7938        +INF             .          
3.2        -INF          400.9356        +INF             .          
3.3        -INF          320.2678        +INF             .          
3.4        -INF          428.6789        +INF             .          
4.1        -INF          699.2897        +INF             .          
4.2        -INF          395.7638        +INF             .          
4.3        -INF          345.2339        +INF             .          
4.4        -INF          428.6789        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.1.2  r40979 Released Jun 16, 2013 LEX-LEG x86_64/Linux                                                                                                                                                                        10/28/13 10:27:25 Page 34
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    488 this is without adjustment for calorie target or 90%

----    488 VARIABLE povline.L  estimated revealed preference matrix

            1           2           3           4

1     699.290     392.486     320.268     474.746
2     699.290     392.486     323.078     428.679
3     775.794     400.936     320.268     428.679
4     699.290     395.764     345.234     428.679


----    513 PARAMETER perc_chng  percent change in line

1   2.474,    2  15.851,    3  22.060,    4 -35.645


----    513 PARAMETER povline_ent  entropy line that hits calorie targets (100% food expen)

1 815.508,    2 444.696,    3 364.128,    4 494.991


----    513 PARAMETER povline_ali  food poverty line

1 795.820,    2 383.852,    3 298.320,    4 769.162


**** REPORT FILE SUMMARY

povline_rp /home/bjvca/data/data/GAP/Haruna/work/povline_rp_inout.csv
res /home/bjvca/data/data/GAP/Haruna/work/qent.csv
lin /home/bjvca/data/data/GAP/Haruna/work/povline_food_ent.csv


EXECUTION TIME       =        0.007 SECONDS      3 MB  24.1.2 r40979 LEX-LEG


USER: Computer Services                              G130401:1333CP-GEN
      International Food Policy Research Institute               DC2119


**** FILE SUMMARY

Input      /home/bjvca/data/data/GAP/Haruna/new/190a_revpref13_r_bjorn.gms
Output     /home/bjvca/data/data/GAP/Haruna/new/list.lst
